(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();var Sd={exports:{}},cl={};var b_;function nS(){if(b_)return cl;b_=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(a,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var p in l)p!=="key"&&(c[p]=l[p])}else c=l;return l=c.ref,{$$typeof:s,type:a,key:d,ref:l!==void 0?l:null,props:c}}return cl.Fragment=t,cl.jsx=i,cl.jsxs=i,cl}var A_;function iS(){return A_||(A_=1,Sd.exports=nS()),Sd.exports}var R=iS(),bd={exports:{}},bt={};var w_;function rS(){if(w_)return bt;w_=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),A=Symbol.for("react.activity"),V=Symbol.iterator;function Y(O){return O===null||typeof O!="object"?null:(O=V&&O[V]||O["@@iterator"],typeof O=="function"?O:null)}var et={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},rt=Object.assign,st={};function ft(O,X,it){this.props=O,this.context=X,this.refs=st,this.updater=it||et}ft.prototype.isReactComponent={},ft.prototype.setState=function(O,X){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,X,"setState")},ft.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function Tt(){}Tt.prototype=ft.prototype;function mt(O,X,it){this.props=O,this.context=X,this.refs=st,this.updater=it||et}var Bt=mt.prototype=new Tt;Bt.constructor=mt,rt(Bt,ft.prototype),Bt.isPureReactComponent=!0;var Xt=Array.isArray;function wt(){}var I={H:null,A:null,T:null,S:null},b=Object.prototype.hasOwnProperty;function x(O,X,it){var at=it.ref;return{$$typeof:s,type:O,key:X,ref:at!==void 0?at:null,props:it}}function N(O,X){return x(O.type,X,O.props)}function M(O){return typeof O=="object"&&O!==null&&O.$$typeof===s}function L(O){var X={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(it){return X[it]})}var w=/\/+/g;function ee(O,X){return typeof O=="object"&&O!==null&&O.key!=null?L(""+O.key):X.toString(36)}function he(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(wt,wt):(O.status="pending",O.then(function(X){O.status==="pending"&&(O.status="fulfilled",O.value=X)},function(X){O.status==="pending"&&(O.status="rejected",O.reason=X)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function G(O,X,it,at,pt){var Et=typeof O;(Et==="undefined"||Et==="boolean")&&(O=null);var Mt=!1;if(O===null)Mt=!0;else switch(Et){case"bigint":case"string":case"number":Mt=!0;break;case"object":switch(O.$$typeof){case s:case t:Mt=!0;break;case S:return Mt=O._init,G(Mt(O._payload),X,it,at,pt)}}if(Mt)return pt=pt(O),Mt=at===""?"."+ee(O,0):at,Xt(pt)?(it="",Mt!=null&&(it=Mt.replace(w,"$&/")+"/"),G(pt,X,it,"",function(ai){return ai})):pt!=null&&(M(pt)&&(pt=N(pt,it+(pt.key==null||O&&O.key===pt.key?"":(""+pt.key).replace(w,"$&/")+"/")+Mt)),X.push(pt)),1;Mt=0;var me=at===""?".":at+":";if(Xt(O))for(var Wt=0;Wt<O.length;Wt++)at=O[Wt],Et=me+ee(at,Wt),Mt+=G(at,X,it,Et,pt);else if(Wt=Y(O),typeof Wt=="function")for(O=Wt.call(O),Wt=0;!(at=O.next()).done;)at=at.value,Et=me+ee(at,Wt++),Mt+=G(at,X,it,Et,pt);else if(Et==="object"){if(typeof O.then=="function")return G(he(O),X,it,at,pt);throw X=String(O),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return Mt}function nt(O,X,it){if(O==null)return O;var at=[],pt=0;return G(O,at,"","",function(Et){return X.call(it,Et,pt++)}),at}function ct(O){if(O._status===-1){var X=O._result;X=X(),X.then(function(it){(O._status===0||O._status===-1)&&(O._status=1,O._result=it)},function(it){(O._status===0||O._status===-1)&&(O._status=2,O._result=it)}),O._status===-1&&(O._status=0,O._result=X)}if(O._status===1)return O._result.default;throw O._result}var Dt=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},Vt={map:nt,forEach:function(O,X,it){nt(O,function(){X.apply(this,arguments)},it)},count:function(O){var X=0;return nt(O,function(){X++}),X},toArray:function(O){return nt(O,function(X){return X})||[]},only:function(O){if(!M(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return bt.Activity=A,bt.Children=Vt,bt.Component=ft,bt.Fragment=i,bt.Profiler=l,bt.PureComponent=mt,bt.StrictMode=a,bt.Suspense=v,bt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,bt.__COMPILER_RUNTIME={__proto__:null,c:function(O){return I.H.useMemoCache(O)}},bt.cache=function(O){return function(){return O.apply(null,arguments)}},bt.cacheSignal=function(){return null},bt.cloneElement=function(O,X,it){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var at=rt({},O.props),pt=O.key;if(X!=null)for(Et in X.key!==void 0&&(pt=""+X.key),X)!b.call(X,Et)||Et==="key"||Et==="__self"||Et==="__source"||Et==="ref"&&X.ref===void 0||(at[Et]=X[Et]);var Et=arguments.length-2;if(Et===1)at.children=it;else if(1<Et){for(var Mt=Array(Et),me=0;me<Et;me++)Mt[me]=arguments[me+2];at.children=Mt}return x(O.type,pt,at)},bt.createContext=function(O){return O={$$typeof:d,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:c,_context:O},O},bt.createElement=function(O,X,it){var at,pt={},Et=null;if(X!=null)for(at in X.key!==void 0&&(Et=""+X.key),X)b.call(X,at)&&at!=="key"&&at!=="__self"&&at!=="__source"&&(pt[at]=X[at]);var Mt=arguments.length-2;if(Mt===1)pt.children=it;else if(1<Mt){for(var me=Array(Mt),Wt=0;Wt<Mt;Wt++)me[Wt]=arguments[Wt+2];pt.children=me}if(O&&O.defaultProps)for(at in Mt=O.defaultProps,Mt)pt[at]===void 0&&(pt[at]=Mt[at]);return x(O,Et,pt)},bt.createRef=function(){return{current:null}},bt.forwardRef=function(O){return{$$typeof:p,render:O}},bt.isValidElement=M,bt.lazy=function(O){return{$$typeof:S,_payload:{_status:-1,_result:O},_init:ct}},bt.memo=function(O,X){return{$$typeof:_,type:O,compare:X===void 0?null:X}},bt.startTransition=function(O){var X=I.T,it={};I.T=it;try{var at=O(),pt=I.S;pt!==null&&pt(it,at),typeof at=="object"&&at!==null&&typeof at.then=="function"&&at.then(wt,Dt)}catch(Et){Dt(Et)}finally{X!==null&&it.types!==null&&(X.types=it.types),I.T=X}},bt.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},bt.use=function(O){return I.H.use(O)},bt.useActionState=function(O,X,it){return I.H.useActionState(O,X,it)},bt.useCallback=function(O,X){return I.H.useCallback(O,X)},bt.useContext=function(O){return I.H.useContext(O)},bt.useDebugValue=function(){},bt.useDeferredValue=function(O,X){return I.H.useDeferredValue(O,X)},bt.useEffect=function(O,X){return I.H.useEffect(O,X)},bt.useEffectEvent=function(O){return I.H.useEffectEvent(O)},bt.useId=function(){return I.H.useId()},bt.useImperativeHandle=function(O,X,it){return I.H.useImperativeHandle(O,X,it)},bt.useInsertionEffect=function(O,X){return I.H.useInsertionEffect(O,X)},bt.useLayoutEffect=function(O,X){return I.H.useLayoutEffect(O,X)},bt.useMemo=function(O,X){return I.H.useMemo(O,X)},bt.useOptimistic=function(O,X){return I.H.useOptimistic(O,X)},bt.useReducer=function(O,X,it){return I.H.useReducer(O,X,it)},bt.useRef=function(O){return I.H.useRef(O)},bt.useState=function(O){return I.H.useState(O)},bt.useSyncExternalStore=function(O,X,it){return I.H.useSyncExternalStore(O,X,it)},bt.useTransition=function(){return I.H.useTransition()},bt.version="19.2.4",bt}var R_;function hm(){return R_||(R_=1,bd.exports=rS()),bd.exports}var oe=hm(),Ad={exports:{}},hl={},wd={exports:{}},Rd={};var C_;function sS(){return C_||(C_=1,(function(s){function t(G,nt){var ct=G.length;G.push(nt);t:for(;0<ct;){var Dt=ct-1>>>1,Vt=G[Dt];if(0<l(Vt,nt))G[Dt]=nt,G[ct]=Vt,ct=Dt;else break t}}function i(G){return G.length===0?null:G[0]}function a(G){if(G.length===0)return null;var nt=G[0],ct=G.pop();if(ct!==nt){G[0]=ct;t:for(var Dt=0,Vt=G.length,O=Vt>>>1;Dt<O;){var X=2*(Dt+1)-1,it=G[X],at=X+1,pt=G[at];if(0>l(it,ct))at<Vt&&0>l(pt,it)?(G[Dt]=pt,G[at]=ct,Dt=at):(G[Dt]=it,G[X]=ct,Dt=X);else if(at<Vt&&0>l(pt,ct))G[Dt]=pt,G[at]=ct,Dt=at;else break t}}return nt}function l(G,nt){var ct=G.sortIndex-nt.sortIndex;return ct!==0?ct:G.id-nt.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var d=Date,p=d.now();s.unstable_now=function(){return d.now()-p}}var v=[],_=[],S=1,A=null,V=3,Y=!1,et=!1,rt=!1,st=!1,ft=typeof setTimeout=="function"?setTimeout:null,Tt=typeof clearTimeout=="function"?clearTimeout:null,mt=typeof setImmediate<"u"?setImmediate:null;function Bt(G){for(var nt=i(_);nt!==null;){if(nt.callback===null)a(_);else if(nt.startTime<=G)a(_),nt.sortIndex=nt.expirationTime,t(v,nt);else break;nt=i(_)}}function Xt(G){if(rt=!1,Bt(G),!et)if(i(v)!==null)et=!0,wt||(wt=!0,L());else{var nt=i(_);nt!==null&&he(Xt,nt.startTime-G)}}var wt=!1,I=-1,b=5,x=-1;function N(){return st?!0:!(s.unstable_now()-x<b)}function M(){if(st=!1,wt){var G=s.unstable_now();x=G;var nt=!0;try{t:{et=!1,rt&&(rt=!1,Tt(I),I=-1),Y=!0;var ct=V;try{e:{for(Bt(G),A=i(v);A!==null&&!(A.expirationTime>G&&N());){var Dt=A.callback;if(typeof Dt=="function"){A.callback=null,V=A.priorityLevel;var Vt=Dt(A.expirationTime<=G);if(G=s.unstable_now(),typeof Vt=="function"){A.callback=Vt,Bt(G),nt=!0;break e}A===i(v)&&a(v),Bt(G)}else a(v);A=i(v)}if(A!==null)nt=!0;else{var O=i(_);O!==null&&he(Xt,O.startTime-G),nt=!1}}break t}finally{A=null,V=ct,Y=!1}nt=void 0}}finally{nt?L():wt=!1}}}var L;if(typeof mt=="function")L=function(){mt(M)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,ee=w.port2;w.port1.onmessage=M,L=function(){ee.postMessage(null)}}else L=function(){ft(M,0)};function he(G,nt){I=ft(function(){G(s.unstable_now())},nt)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(G){G.callback=null},s.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<G?Math.floor(1e3/G):5},s.unstable_getCurrentPriorityLevel=function(){return V},s.unstable_next=function(G){switch(V){case 1:case 2:case 3:var nt=3;break;default:nt=V}var ct=V;V=nt;try{return G()}finally{V=ct}},s.unstable_requestPaint=function(){st=!0},s.unstable_runWithPriority=function(G,nt){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var ct=V;V=G;try{return nt()}finally{V=ct}},s.unstable_scheduleCallback=function(G,nt,ct){var Dt=s.unstable_now();switch(typeof ct=="object"&&ct!==null?(ct=ct.delay,ct=typeof ct=="number"&&0<ct?Dt+ct:Dt):ct=Dt,G){case 1:var Vt=-1;break;case 2:Vt=250;break;case 5:Vt=1073741823;break;case 4:Vt=1e4;break;default:Vt=5e3}return Vt=ct+Vt,G={id:S++,callback:nt,priorityLevel:G,startTime:ct,expirationTime:Vt,sortIndex:-1},ct>Dt?(G.sortIndex=ct,t(_,G),i(v)===null&&G===i(_)&&(rt?(Tt(I),I=-1):rt=!0,he(Xt,ct-Dt))):(G.sortIndex=Vt,t(v,G),et||Y||(et=!0,wt||(wt=!0,L()))),G},s.unstable_shouldYield=N,s.unstable_wrapCallback=function(G){var nt=V;return function(){var ct=V;V=nt;try{return G.apply(this,arguments)}finally{V=ct}}}})(Rd)),Rd}var I_;function aS(){return I_||(I_=1,wd.exports=sS()),wd.exports}var Cd={exports:{}},$e={};var x_;function oS(){if(x_)return $e;x_=1;var s=hm();function t(v){var _="https://react.dev/errors/"+v;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var S=2;S<arguments.length;S++)_+="&args[]="+encodeURIComponent(arguments[S])}return"Minified React error #"+v+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(v,_,S){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:A==null?null:""+A,children:v,containerInfo:_,implementation:S}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(v,_){if(v==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return $e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,$e.createPortal=function(v,_){var S=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(t(299));return c(v,_,null,S)},$e.flushSync=function(v){var _=d.T,S=a.p;try{if(d.T=null,a.p=2,v)return v()}finally{d.T=_,a.p=S,a.d.f()}},$e.preconnect=function(v,_){typeof v=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,a.d.C(v,_))},$e.prefetchDNS=function(v){typeof v=="string"&&a.d.D(v)},$e.preinit=function(v,_){if(typeof v=="string"&&_&&typeof _.as=="string"){var S=_.as,A=p(S,_.crossOrigin),V=typeof _.integrity=="string"?_.integrity:void 0,Y=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;S==="style"?a.d.S(v,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:A,integrity:V,fetchPriority:Y}):S==="script"&&a.d.X(v,{crossOrigin:A,integrity:V,fetchPriority:Y,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},$e.preinitModule=function(v,_){if(typeof v=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var S=p(_.as,_.crossOrigin);a.d.M(v,{crossOrigin:S,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&a.d.M(v)},$e.preload=function(v,_){if(typeof v=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var S=_.as,A=p(S,_.crossOrigin);a.d.L(v,S,{crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},$e.preloadModule=function(v,_){if(typeof v=="string")if(_){var S=p(_.as,_.crossOrigin);a.d.m(v,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:S,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else a.d.m(v)},$e.requestFormReset=function(v){a.d.r(v)},$e.unstable_batchedUpdates=function(v,_){return v(_)},$e.useFormState=function(v,_,S){return d.H.useFormState(v,_,S)},$e.useFormStatus=function(){return d.H.useHostTransitionStatus()},$e.version="19.2.4",$e}var D_;function lS(){if(D_)return Cd.exports;D_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Cd.exports=oS(),Cd.exports}var M_;function uS(){if(M_)return hl;M_=1;var s=aS(),t=hm(),i=lS();function a(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,r=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(r=n.return),e=n.return;while(e)}return n.tag===3?r:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function p(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function v(e){if(c(e)!==e)throw Error(a(188))}function _(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(a(188));return n!==e?null:e}for(var r=e,o=n;;){var h=r.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){r=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===r)return v(h),e;if(f===o)return v(h),n;f=f.sibling}throw Error(a(188))}if(r.return!==o.return)r=h,o=f;else{for(var g=!1,T=h.child;T;){if(T===r){g=!0,r=h,o=f;break}if(T===o){g=!0,o=h,r=f;break}T=T.sibling}if(!g){for(T=f.child;T;){if(T===r){g=!0,r=f,o=h;break}if(T===o){g=!0,o=f,r=h;break}T=T.sibling}if(!g)throw Error(a(189))}}if(r.alternate!==o)throw Error(a(190))}if(r.tag!==3)throw Error(a(188));return r.stateNode.current===r?e:n}function S(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=S(e),n!==null)return n;e=e.sibling}return null}var A=Object.assign,V=Symbol.for("react.element"),Y=Symbol.for("react.transitional.element"),et=Symbol.for("react.portal"),rt=Symbol.for("react.fragment"),st=Symbol.for("react.strict_mode"),ft=Symbol.for("react.profiler"),Tt=Symbol.for("react.consumer"),mt=Symbol.for("react.context"),Bt=Symbol.for("react.forward_ref"),Xt=Symbol.for("react.suspense"),wt=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),N=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function L(e){return e===null||typeof e!="object"?null:(e=M&&e[M]||e["@@iterator"],typeof e=="function"?e:null)}var w=Symbol.for("react.client.reference");function ee(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===w?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case rt:return"Fragment";case ft:return"Profiler";case st:return"StrictMode";case Xt:return"Suspense";case wt:return"SuspenseList";case x:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case et:return"Portal";case mt:return e.displayName||"Context";case Tt:return(e._context.displayName||"Context")+".Consumer";case Bt:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case I:return n=e.displayName||null,n!==null?n:ee(e.type)||"Memo";case b:n=e._payload,e=e._init;try{return ee(e(n))}catch{}}return null}var he=Array.isArray,G=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,nt=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ct={pending:!1,data:null,method:null,action:null},Dt=[],Vt=-1;function O(e){return{current:e}}function X(e){0>Vt||(e.current=Dt[Vt],Dt[Vt]=null,Vt--)}function it(e,n){Vt++,Dt[Vt]=e.current,e.current=n}var at=O(null),pt=O(null),Et=O(null),Mt=O(null);function me(e,n){switch(it(Et,n),it(pt,e),it(at,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?Ky(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=Ky(n),e=Qy(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}X(at),it(at,e)}function Wt(){X(at),X(pt),X(Et)}function ai(e){e.memoizedState!==null&&it(Mt,e);var n=at.current,r=Qy(n,e.type);n!==r&&(it(pt,e),it(at,r))}function An(e){pt.current===e&&(X(at),X(pt)),Mt.current===e&&(X(Mt),al._currentValue=ct)}var Hn,fr;function wn(e){if(Hn===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);Hn=n&&n[1]||"",fr=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Hn+e+fr}var os=!1;function Pi(e,n){if(!e||os)return"";os=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var W=function(){throw Error()};if(Object.defineProperty(W.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(W,[])}catch(F){var B=F}Reflect.construct(e,[],W)}else{try{W.call()}catch(F){B=F}e.call(W.prototype)}}else{try{throw Error()}catch(F){B=F}(W=e())&&typeof W.catch=="function"&&W.catch(function(){})}}catch(F){if(F&&B&&typeof F.stack=="string")return[F.stack,B.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),g=f[0],T=f[1];if(g&&T){var C=g.split(`
`),j=T.split(`
`);for(h=o=0;o<C.length&&!C[o].includes("DetermineComponentFrameRoot");)o++;for(;h<j.length&&!j[h].includes("DetermineComponentFrameRoot");)h++;if(o===C.length||h===j.length)for(o=C.length-1,h=j.length-1;1<=o&&0<=h&&C[o]!==j[h];)h--;for(;1<=o&&0<=h;o--,h--)if(C[o]!==j[h]){if(o!==1||h!==1)do if(o--,h--,0>h||C[o]!==j[h]){var K=`
`+C[o].replace(" at new "," at ");return e.displayName&&K.includes("<anonymous>")&&(K=K.replace("<anonymous>",e.displayName)),K}while(1<=o&&0<=h);break}}}finally{os=!1,Error.prepareStackTrace=r}return(r=e?e.displayName||e.name:"")?wn(r):""}function ls(e,n){switch(e.tag){case 26:case 27:case 5:return wn(e.type);case 16:return wn("Lazy");case 13:return e.child!==n&&n!==null?wn("Suspense Fallback"):wn("Suspense");case 19:return wn("SuspenseList");case 0:case 15:return Pi(e.type,!1);case 11:return Pi(e.type.render,!1);case 1:return Pi(e.type,!0);case 31:return wn("Activity");default:return""}}function P(e){try{var n="",r=null;do n+=ls(e,r),r=e,e=e.return;while(e);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var J=Object.prototype.hasOwnProperty,H=s.unstable_scheduleCallback,Rt=s.unstable_cancelCallback,Qt=s.unstable_shouldYield,ke=s.unstable_requestPaint,Jt=s.unstable_now,oi=s.unstable_getCurrentPriorityLevel,lo=s.unstable_ImmediatePriority,uo=s.unstable_UserBlockingPriority,dr=s.unstable_NormalPriority,Ah=s.unstable_LowPriority,Kl=s.unstable_IdlePriority,Ql=s.log,Yl=s.unstable_setDisableYieldValue,qn=null,Fe=null;function Rn(e){if(typeof Ql=="function"&&Yl(e),Fe&&typeof Fe.setStrictMode=="function")try{Fe.setStrictMode(qn,e)}catch{}}var ve=Math.clz32?Math.clz32:Wl,Xl=Math.log,Js=Math.LN2;function Wl(e){return e>>>=0,e===0?32:31-(Xl(e)/Js|0)|0}var li=256,us=262144,we=4194304;function ui(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ci(e,n,r){var o=e.pendingLanes;if(o===0)return 0;var h=0,f=e.suspendedLanes,g=e.pingedLanes;e=e.warmLanes;var T=o&134217727;return T!==0?(o=T&~f,o!==0?h=ui(o):(g&=T,g!==0?h=ui(g):r||(r=T&~e,r!==0&&(h=ui(r))))):(T=o&~f,T!==0?h=ui(T):g!==0?h=ui(g):r||(r=o&~e,r!==0&&(h=ui(r)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,r=n&-n,f>=r||f===32&&(r&4194048)!==0)?n:h}function Fn(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function wh(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Jl(){var e=we;return we<<=1,(we&62914560)===0&&(we=4194304),e}function hi(e){for(var n=[],r=0;31>r;r++)n.push(e);return n}function cs(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Rh(e,n,r,o,h,f){var g=e.pendingLanes;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=r,e.entangledLanes&=r,e.errorRecoveryDisabledLanes&=r,e.shellSuspendCounter=0;var T=e.entanglements,C=e.expirationTimes,j=e.hiddenUpdates;for(r=g&~r;0<r;){var K=31-ve(r),W=1<<K;T[K]=0,C[K]=-1;var B=j[K];if(B!==null)for(j[K]=null,K=0;K<B.length;K++){var F=B[K];F!==null&&(F.lane&=-536870913)}r&=~W}o!==0&&hs(e,o,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(g&~n))}function hs(e,n,r){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-ve(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|r&261930}function co(e,n){var r=e.entangledLanes|=n;for(e=e.entanglements;r;){var o=31-ve(r),h=1<<o;h&n|e[o]&n&&(e[o]|=n),r&=~h}}function ho(e,n){var r=n&-n;return r=(r&42)!==0?1:fs(r),(r&(e.suspendedLanes|n))!==0?0:r}function fs(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ui(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Zl(){var e=nt.p;return e!==0?e:(e=window.event,e===void 0?32:p_(e.type))}function Gn(e,n){var r=nt.p;try{return nt.p=e,n()}finally{nt.p=r}}var Kn=Math.random().toString(36).slice(2),Re="__reactFiber$"+Kn,ze="__reactProps$"+Kn,fi="__reactContainer$"+Kn,Zs="__reactEvents$"+Kn,Ch="__reactListeners$"+Kn,$l="__reactHandles$"+Kn,tu="__reactResources$"+Kn,di="__reactMarker$"+Kn;function $s(e){delete e[Re],delete e[ze],delete e[Zs],delete e[Ch],delete e[$l]}function mi(e){var n=e[Re];if(n)return n;for(var r=e.parentNode;r;){if(n=r[fi]||r[Re]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(e=t_(e);e!==null;){if(r=e[Re])return r;e=t_(e)}return n}e=r,r=e.parentNode}return null}function Cn(e){if(e=e[Re]||e[fi]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function gn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(a(33))}function gi(e){var n=e[tu];return n||(n=e[tu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Ce(e){e[di]=!0}var fo=new Set,mo={};function pi(e,n){yi(e,n),yi(e+"Capture",n)}function yi(e,n){for(mo[e]=n,e=0;e<n.length;e++)fo.add(n[e])}var go=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),po={},yo={};function eu(e){return J.call(yo,e)?!0:J.call(po,e)?!1:go.test(e)?yo[e]=!0:(po[e]=!0,!1)}function ta(e,n,r){if(eu(n))if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+r)}}function pn(e,n,r){if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+r)}}function Ie(e,n,r,o){if(o===null)e.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(r);return}e.setAttributeNS(n,r,""+o)}}function je(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function mr(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function _o(e,n,r){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(g){r=""+g,f.call(this,g)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return r},setValue:function(g){r=""+g},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Zt(e){if(!e._valueTracker){var n=mr(e)?"checked":"value";e._valueTracker=_o(e,n,""+e[n])}}function ds(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var r=n.getValue(),o="";return e&&(o=mr(e)?e.checked?"true":"false":e.value),e=o,e!==r?(n.setValue(e),!0):!1}function _i(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var ms=/[\n"\\]/g;function on(e){return e.replace(ms,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function ea(e,n,r,o,h,f,g,T){e.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?e.type=g:e.removeAttribute("type"),n!=null?g==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+je(n)):e.value!==""+je(n)&&(e.value=""+je(n)):g!=="submit"&&g!=="reset"||e.removeAttribute("value"),n!=null?vo(e,g,je(n)):r!=null?vo(e,g,je(r)):o!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?e.name=""+je(T):e.removeAttribute("name")}function nu(e,n,r,o,h,f,g,T){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Zt(e);return}r=r!=null?""+je(r):"",n=n!=null?""+je(n):r,T||n===e.value||(e.value=n),e.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=T?e.checked:!!o,e.defaultChecked=!!o,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.name=g),Zt(e)}function vo(e,n,r){n==="number"&&_i(e.ownerDocument)===e||e.defaultValue===""+r||(e.defaultValue=""+r)}function gr(e,n,r,o){if(e=e.options,n){n={};for(var h=0;h<r.length;h++)n["$"+r[h]]=!0;for(r=0;r<e.length;r++)h=n.hasOwnProperty("$"+e[r].value),e[r].selected!==h&&(e[r].selected=h),h&&o&&(e[r].defaultSelected=!0)}else{for(r=""+je(r),n=null,h=0;h<e.length;h++){if(e[h].value===r){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function iu(e,n,r){if(n!=null&&(n=""+je(n),n!==e.value&&(e.value=n),r==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=r!=null?""+je(r):""}function pr(e,n,r,o){if(n==null){if(o!=null){if(r!=null)throw Error(a(92));if(he(o)){if(1<o.length)throw Error(a(93));o=o[0]}r=o}r==null&&(r=""),n=r}r=je(n),e.defaultValue=r,o=e.textContent,o===r&&o!==""&&o!==null&&(e.value=o),Zt(e)}function ln(e,n){if(n){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=n;return}}e.textContent=n}var ru=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function To(e,n,r){var o=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,r):typeof r!="number"||r===0||ru.has(n)?n==="float"?e.cssFloat=r:e[n]=(""+r).trim():e[n]=r+"px"}function Eo(e,n,r){if(n!=null&&typeof n!="object")throw Error(a(62));if(e=e.style,r!=null){for(var o in r)!r.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&r[h]!==o&&To(e,h,o)}else for(var f in n)n.hasOwnProperty(f)&&To(e,f,n[f])}function na(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var su=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),yr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ia(e){return yr.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Qn(){}var So=null;function In(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var _r=null,vi=null;function gs(e){var n=Cn(e);if(n&&(e=n.stateNode)){var r=e[ze]||null;t:switch(e=n.stateNode,n.type){case"input":if(ea(e,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+on(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var o=r[n];if(o!==e&&o.form===e.form){var h=o[ze]||null;if(!h)throw Error(a(90));ea(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<r.length;n++)o=r[n],o.form===e.form&&ds(o)}break t;case"textarea":iu(e,r.value,r.defaultValue);break t;case"select":n=r.value,n!=null&&gr(e,!!r.multiple,n,!1)}}}var ra=!1;function vr(e,n,r){if(ra)return e(n,r);ra=!0;try{var o=e(n);return o}finally{if(ra=!1,(_r!==null||vi!==null)&&(Zu(),_r&&(n=_r,e=vi,vi=_r=null,gs(n),e)))for(n=0;n<e.length;n++)gs(e[n])}}function Yn(e,n){var r=e.stateNode;if(r===null)return null;var o=r[ze]||null;if(o===null)return null;r=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(a(231,n,typeof r));return r}var xn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ps=!1;if(xn)try{var ne={};Object.defineProperty(ne,"passive",{get:function(){ps=!0}}),window.addEventListener("test",ne,ne),window.removeEventListener("test",ne,ne)}catch{ps=!1}var Ti=null,bo=null,ys=null;function Ao(){if(ys)return ys;var e,n=bo,r=n.length,o,h="value"in Ti?Ti.value:Ti.textContent,f=h.length;for(e=0;e<r&&n[e]===h[e];e++);var g=r-e;for(o=1;o<=g&&n[r-o]===h[f-o];o++);return ys=h.slice(e,1<o?1-o:void 0)}function _s(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function zi(){return!0}function Xn(){return!1}function Ge(e){function n(r,o,h,f,g){this._reactName=r,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var T in e)e.hasOwnProperty(T)&&(r=e[T],this[T]=r?r(f):f[T]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?zi:Xn,this.isPropagationStopped=Xn,this}return A(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=zi)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=zi)},persist:function(){},isPersistent:zi}),n}var ji={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ei=Ge(ji),Tr=A({},ji,{view:0,detail:0}),wo=Ge(Tr),Er,sa,Si,aa=A({},Tr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sr,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Si&&(Si&&e.type==="mousemove"?(Er=e.screenX-Si.screenX,sa=e.screenY-Si.screenY):sa=Er=0,Si=e),Er)},movementY:function(e){return"movementY"in e?e.movementY:sa}}),Ro=Ge(aa),vs=A({},aa,{dataTransfer:0}),au=Ge(vs),ou=A({},Tr,{relatedTarget:0}),Ts=Ge(ou),Co=A({},ji,{animationName:0,elapsedTime:0,pseudoElement:0}),lu=Ge(Co),oa=A({},ji,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),uu=Ge(oa),cu=A({},ji,{data:0}),bi=Ge(cu),hu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},du={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function mu(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=du[e])?!!n[e]:!1}function Sr(){return mu}var sn=A({},Tr,{key:function(e){if(e.key){var n=hu[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=_s(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?fu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sr,charCode:function(e){return e.type==="keypress"?_s(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?_s(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),gu=Ge(sn),pu=A({},aa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Bi=Ge(pu),u=A({},Tr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sr}),m=Ge(u),y=A({},ji,{propertyName:0,elapsedTime:0,pseudoElement:0}),E=Ge(y),U=A({},aa,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),q=Ge(U),tt=A({},ji,{newState:0,oldState:0}),Ct=Ge(tt),Te=[9,13,27,32],Gt=xn&&"CompositionEvent"in window,fe=null;xn&&"documentMode"in document&&(fe=document.documentMode);var Dn=xn&&"TextEvent"in window&&!fe,Ai=xn&&(!Gt||fe&&8<fe&&11>=fe),Wn=" ",Jn=!1;function Es(e,n){switch(e){case"keyup":return Te.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function la(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ua=!1;function R1(e,n){switch(e){case"compositionend":return la(n);case"keypress":return n.which!==32?null:(Jn=!0,Wn);case"textInput":return e=n.data,e===Wn&&Jn?null:e;default:return null}}function C1(e,n){if(ua)return e==="compositionend"||!Gt&&Es(e,n)?(e=Ao(),ys=bo=Ti=null,ua=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Ai&&n.locale!=="ko"?null:n.data;default:return null}}var I1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ig(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!I1[e.type]:n==="textarea"}function rg(e,n,r,o){_r?vi?vi.push(o):vi=[o]:_r=o,n=sc(n,"onChange"),0<n.length&&(r=new Ei("onChange","change",null,r,o),e.push({event:r,listeners:n}))}var Io=null,xo=null;function x1(e){jy(e,0)}function yu(e){var n=gn(e);if(ds(n))return e}function sg(e,n){if(e==="change")return n}var ag=!1;if(xn){var Ih;if(xn){var xh="oninput"in document;if(!xh){var og=document.createElement("div");og.setAttribute("oninput","return;"),xh=typeof og.oninput=="function"}Ih=xh}else Ih=!1;ag=Ih&&(!document.documentMode||9<document.documentMode)}function lg(){Io&&(Io.detachEvent("onpropertychange",ug),xo=Io=null)}function ug(e){if(e.propertyName==="value"&&yu(xo)){var n=[];rg(n,xo,e,In(e)),vr(x1,n)}}function D1(e,n,r){e==="focusin"?(lg(),Io=n,xo=r,Io.attachEvent("onpropertychange",ug)):e==="focusout"&&lg()}function M1(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return yu(xo)}function O1(e,n){if(e==="click")return yu(n)}function N1(e,n){if(e==="input"||e==="change")return yu(n)}function V1(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var yn=typeof Object.is=="function"?Object.is:V1;function Do(e,n){if(yn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var r=Object.keys(e),o=Object.keys(n);if(r.length!==o.length)return!1;for(o=0;o<r.length;o++){var h=r[o];if(!J.call(n,h)||!yn(e[h],n[h]))return!1}return!0}function cg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function hg(e,n){var r=cg(e);e=0;for(var o;r;){if(r.nodeType===3){if(o=e+r.textContent.length,e<=n&&o>=n)return{node:r,offset:n-e};e=o}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=cg(r)}}function fg(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?fg(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function dg(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=_i(e.document);n instanceof e.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)e=n.contentWindow;else break;n=_i(e.document)}return n}function Dh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var k1=xn&&"documentMode"in document&&11>=document.documentMode,ca=null,Mh=null,Mo=null,Oh=!1;function mg(e,n,r){var o=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Oh||ca==null||ca!==_i(o)||(o=ca,"selectionStart"in o&&Dh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Mo&&Do(Mo,o)||(Mo=o,o=sc(Mh,"onSelect"),0<o.length&&(n=new Ei("onSelect","select",null,n,r),e.push({event:n,listeners:o}),n.target=ca)))}function Ss(e,n){var r={};return r[e.toLowerCase()]=n.toLowerCase(),r["Webkit"+e]="webkit"+n,r["Moz"+e]="moz"+n,r}var ha={animationend:Ss("Animation","AnimationEnd"),animationiteration:Ss("Animation","AnimationIteration"),animationstart:Ss("Animation","AnimationStart"),transitionrun:Ss("Transition","TransitionRun"),transitionstart:Ss("Transition","TransitionStart"),transitioncancel:Ss("Transition","TransitionCancel"),transitionend:Ss("Transition","TransitionEnd")},Nh={},gg={};xn&&(gg=document.createElement("div").style,"AnimationEvent"in window||(delete ha.animationend.animation,delete ha.animationiteration.animation,delete ha.animationstart.animation),"TransitionEvent"in window||delete ha.transitionend.transition);function bs(e){if(Nh[e])return Nh[e];if(!ha[e])return e;var n=ha[e],r;for(r in n)if(n.hasOwnProperty(r)&&r in gg)return Nh[e]=n[r];return e}var pg=bs("animationend"),yg=bs("animationiteration"),_g=bs("animationstart"),L1=bs("transitionrun"),P1=bs("transitionstart"),U1=bs("transitioncancel"),vg=bs("transitionend"),Tg=new Map,Vh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Vh.push("scrollEnd");function Zn(e,n){Tg.set(e,n),pi(n,[e])}var _u=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Mn=[],fa=0,kh=0;function vu(){for(var e=fa,n=kh=fa=0;n<e;){var r=Mn[n];Mn[n++]=null;var o=Mn[n];Mn[n++]=null;var h=Mn[n];Mn[n++]=null;var f=Mn[n];if(Mn[n++]=null,o!==null&&h!==null){var g=o.pending;g===null?h.next=h:(h.next=g.next,g.next=h),o.pending=h}f!==0&&Eg(r,h,f)}}function Tu(e,n,r,o){Mn[fa++]=e,Mn[fa++]=n,Mn[fa++]=r,Mn[fa++]=o,kh|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function Lh(e,n,r,o){return Tu(e,n,r,o),Eu(e)}function As(e,n){return Tu(e,null,null,n),Eu(e)}function Eg(e,n,r){e.lanes|=r;var o=e.alternate;o!==null&&(o.lanes|=r);for(var h=!1,f=e.return;f!==null;)f.childLanes|=r,o=f.alternate,o!==null&&(o.childLanes|=r),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&n!==null&&(h=31-ve(r),e=f.hiddenUpdates,o=e[h],o===null?e[h]=[n]:o.push(n),n.lane=r|536870912),f):null}function Eu(e){if(50<$o)throw $o=0,Kf=null,Error(a(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var da={};function z1(e,n,r,o){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _n(e,n,r,o){return new z1(e,n,r,o)}function Ph(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Hi(e,n){var r=e.alternate;return r===null?(r=_n(e.tag,n,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=n,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&65011712,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,n=e.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r.refCleanup=e.refCleanup,r}function Sg(e,n){e.flags&=65011714;var r=e.alternate;return r===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=r.childLanes,e.lanes=r.lanes,e.child=r.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=r.memoizedProps,e.memoizedState=r.memoizedState,e.updateQueue=r.updateQueue,e.type=r.type,n=r.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Su(e,n,r,o,h,f){var g=0;if(o=e,typeof e=="function")Ph(e)&&(g=1);else if(typeof e=="string")g=FE(e,r,at.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case x:return e=_n(31,r,n,h),e.elementType=x,e.lanes=f,e;case rt:return ws(r.children,h,f,n);case st:g=8,h|=24;break;case ft:return e=_n(12,r,n,h|2),e.elementType=ft,e.lanes=f,e;case Xt:return e=_n(13,r,n,h),e.elementType=Xt,e.lanes=f,e;case wt:return e=_n(19,r,n,h),e.elementType=wt,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case mt:g=10;break t;case Tt:g=9;break t;case Bt:g=11;break t;case I:g=14;break t;case b:g=16,o=null;break t}g=29,r=Error(a(130,e===null?"null":typeof e,"")),o=null}return n=_n(g,r,n,h),n.elementType=e,n.type=o,n.lanes=f,n}function ws(e,n,r,o){return e=_n(7,e,o,n),e.lanes=r,e}function Uh(e,n,r){return e=_n(6,e,null,n),e.lanes=r,e}function bg(e){var n=_n(18,null,null,0);return n.stateNode=e,n}function zh(e,n,r){return n=_n(4,e.children!==null?e.children:[],e.key,n),n.lanes=r,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Ag=new WeakMap;function On(e,n){if(typeof e=="object"&&e!==null){var r=Ag.get(e);return r!==void 0?r:(n={value:e,source:n,stack:P(n)},Ag.set(e,n),n)}return{value:e,source:n,stack:P(n)}}var ma=[],ga=0,bu=null,Oo=0,Nn=[],Vn=0,br=null,wi=1,Ri="";function qi(e,n){ma[ga++]=Oo,ma[ga++]=bu,bu=e,Oo=n}function wg(e,n,r){Nn[Vn++]=wi,Nn[Vn++]=Ri,Nn[Vn++]=br,br=e;var o=wi;e=Ri;var h=32-ve(o)-1;o&=~(1<<h),r+=1;var f=32-ve(n)+h;if(30<f){var g=h-h%5;f=(o&(1<<g)-1).toString(32),o>>=g,h-=g,wi=1<<32-ve(n)+h|r<<h|o,Ri=f+e}else wi=1<<f|r<<h|o,Ri=e}function jh(e){e.return!==null&&(qi(e,1),wg(e,1,0))}function Bh(e){for(;e===bu;)bu=ma[--ga],ma[ga]=null,Oo=ma[--ga],ma[ga]=null;for(;e===br;)br=Nn[--Vn],Nn[Vn]=null,Ri=Nn[--Vn],Nn[Vn]=null,wi=Nn[--Vn],Nn[Vn]=null}function Rg(e,n){Nn[Vn++]=wi,Nn[Vn++]=Ri,Nn[Vn++]=br,wi=n.id,Ri=n.overflow,br=e}var Ke=null,le=null,jt=!1,Ar=null,kn=!1,Hh=Error(a(519));function wr(e){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw No(On(n,e)),Hh}function Cg(e){var n=e.stateNode,r=e.type,o=e.memoizedProps;switch(n[Re]=e,n[ze]=o,r){case"dialog":Nt("cancel",n),Nt("close",n);break;case"iframe":case"object":case"embed":Nt("load",n);break;case"video":case"audio":for(r=0;r<el.length;r++)Nt(el[r],n);break;case"source":Nt("error",n);break;case"img":case"image":case"link":Nt("error",n),Nt("load",n);break;case"details":Nt("toggle",n);break;case"input":Nt("invalid",n),nu(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Nt("invalid",n);break;case"textarea":Nt("invalid",n),pr(n,o.value,o.defaultValue,o.children)}r=o.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||o.suppressHydrationWarning===!0||Fy(n.textContent,r)?(o.popover!=null&&(Nt("beforetoggle",n),Nt("toggle",n)),o.onScroll!=null&&Nt("scroll",n),o.onScrollEnd!=null&&Nt("scrollend",n),o.onClick!=null&&(n.onclick=Qn),n=!0):n=!1,n||wr(e,!0)}function Ig(e){for(Ke=e.return;Ke;)switch(Ke.tag){case 5:case 31:case 13:kn=!1;return;case 27:case 3:kn=!0;return;default:Ke=Ke.return}}function pa(e){if(e!==Ke)return!1;if(!jt)return Ig(e),jt=!0,!1;var n=e.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=e.type,r=!(r!=="form"&&r!=="button")||od(e.type,e.memoizedProps)),r=!r),r&&le&&wr(e),Ig(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));le=$y(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));le=$y(e)}else n===27?(n=le,zr(e.type)?(e=fd,fd=null,le=e):le=n):le=Ke?Pn(e.stateNode.nextSibling):null;return!0}function Rs(){le=Ke=null,jt=!1}function qh(){var e=Ar;return e!==null&&(fn===null?fn=e:fn.push.apply(fn,e),Ar=null),e}function No(e){Ar===null?Ar=[e]:Ar.push(e)}var Fh=O(null),Cs=null,Fi=null;function Rr(e,n,r){it(Fh,n._currentValue),n._currentValue=r}function Gi(e){e._currentValue=Fh.current,X(Fh)}function Gh(e,n,r){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===r)break;e=e.return}}function Kh(e,n,r,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var g=h.child;f=f.firstContext;t:for(;f!==null;){var T=f;f=h;for(var C=0;C<n.length;C++)if(T.context===n[C]){f.lanes|=r,T=f.alternate,T!==null&&(T.lanes|=r),Gh(f.return,r,e),o||(g=null);break t}f=T.next}}else if(h.tag===18){if(g=h.return,g===null)throw Error(a(341));g.lanes|=r,f=g.alternate,f!==null&&(f.lanes|=r),Gh(g,r,e),g=null}else g=h.child;if(g!==null)g.return=h;else for(g=h;g!==null;){if(g===e){g=null;break}if(h=g.sibling,h!==null){h.return=g.return,g=h;break}g=g.return}h=g}}function ya(e,n,r,o){e=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var g=h.alternate;if(g===null)throw Error(a(387));if(g=g.memoizedProps,g!==null){var T=h.type;yn(h.pendingProps.value,g.value)||(e!==null?e.push(T):e=[T])}}else if(h===Mt.current){if(g=h.alternate,g===null)throw Error(a(387));g.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(al):e=[al])}h=h.return}e!==null&&Kh(n,e,r,o),n.flags|=262144}function Au(e){for(e=e.firstContext;e!==null;){if(!yn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Is(e){Cs=e,Fi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Qe(e){return xg(Cs,e)}function wu(e,n){return Cs===null&&Is(e),xg(e,n)}function xg(e,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},Fi===null){if(e===null)throw Error(a(308));Fi=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Fi=Fi.next=n;return r}var j1=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(r,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(r){return r()})}},B1=s.unstable_scheduleCallback,H1=s.unstable_NormalPriority,xe={$$typeof:mt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Qh(){return{controller:new j1,data:new Map,refCount:0}}function Vo(e){e.refCount--,e.refCount===0&&B1(H1,function(){e.controller.abort()})}var ko=null,Yh=0,_a=0,va=null;function q1(e,n){if(ko===null){var r=ko=[];Yh=0,_a=Zf(),va={status:"pending",value:void 0,then:function(o){r.push(o)}}}return Yh++,n.then(Dg,Dg),n}function Dg(){if(--Yh===0&&ko!==null){va!==null&&(va.status="fulfilled");var e=ko;ko=null,_a=0,va=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function F1(e,n){var r=[],o={status:"pending",value:null,reason:null,then:function(h){r.push(h)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<r.length;h++)(0,r[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<r.length;h++)(0,r[h])(void 0)}),o}var Mg=G.S;G.S=function(e,n){my=Jt(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&q1(e,n),Mg!==null&&Mg(e,n)};var xs=O(null);function Xh(){var e=xs.current;return e!==null?e:ae.pooledCache}function Ru(e,n){n===null?it(xs,xs.current):it(xs,n.pool)}function Og(){var e=Xh();return e===null?null:{parent:xe._currentValue,pool:e}}var Ta=Error(a(460)),Wh=Error(a(474)),Cu=Error(a(542)),Iu={then:function(){}};function Ng(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Vg(e,n,r){switch(r=e[r],r===void 0?e.push(n):r!==n&&(n.then(Qn,Qn),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Lg(e),e;default:if(typeof n.status=="string")n.then(Qn,Qn);else{if(e=ae,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Lg(e),e}throw Ms=n,Ta}}function Ds(e){try{var n=e._init;return n(e._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(Ms=r,Ta):r}}var Ms=null;function kg(){if(Ms===null)throw Error(a(459));var e=Ms;return Ms=null,e}function Lg(e){if(e===Ta||e===Cu)throw Error(a(483))}var Ea=null,Lo=0;function xu(e){var n=Lo;return Lo+=1,Ea===null&&(Ea=[]),Vg(Ea,e,n)}function Po(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Du(e,n){throw n.$$typeof===V?Error(a(525)):(e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Pg(e){function n(k,D){if(e){var z=k.deletions;z===null?(k.deletions=[D],k.flags|=16):z.push(D)}}function r(k,D){if(!e)return null;for(;D!==null;)n(k,D),D=D.sibling;return null}function o(k){for(var D=new Map;k!==null;)k.key!==null?D.set(k.key,k):D.set(k.index,k),k=k.sibling;return D}function h(k,D){return k=Hi(k,D),k.index=0,k.sibling=null,k}function f(k,D,z){return k.index=z,e?(z=k.alternate,z!==null?(z=z.index,z<D?(k.flags|=67108866,D):z):(k.flags|=67108866,D)):(k.flags|=1048576,D)}function g(k){return e&&k.alternate===null&&(k.flags|=67108866),k}function T(k,D,z,Q){return D===null||D.tag!==6?(D=Uh(z,k.mode,Q),D.return=k,D):(D=h(D,z),D.return=k,D)}function C(k,D,z,Q){var dt=z.type;return dt===rt?K(k,D,z.props.children,Q,z.key):D!==null&&(D.elementType===dt||typeof dt=="object"&&dt!==null&&dt.$$typeof===b&&Ds(dt)===D.type)?(D=h(D,z.props),Po(D,z),D.return=k,D):(D=Su(z.type,z.key,z.props,null,k.mode,Q),Po(D,z),D.return=k,D)}function j(k,D,z,Q){return D===null||D.tag!==4||D.stateNode.containerInfo!==z.containerInfo||D.stateNode.implementation!==z.implementation?(D=zh(z,k.mode,Q),D.return=k,D):(D=h(D,z.children||[]),D.return=k,D)}function K(k,D,z,Q,dt){return D===null||D.tag!==7?(D=ws(z,k.mode,Q,dt),D.return=k,D):(D=h(D,z),D.return=k,D)}function W(k,D,z){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=Uh(""+D,k.mode,z),D.return=k,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case Y:return z=Su(D.type,D.key,D.props,null,k.mode,z),Po(z,D),z.return=k,z;case et:return D=zh(D,k.mode,z),D.return=k,D;case b:return D=Ds(D),W(k,D,z)}if(he(D)||L(D))return D=ws(D,k.mode,z,null),D.return=k,D;if(typeof D.then=="function")return W(k,xu(D),z);if(D.$$typeof===mt)return W(k,wu(k,D),z);Du(k,D)}return null}function B(k,D,z,Q){var dt=D!==null?D.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return dt!==null?null:T(k,D,""+z,Q);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case Y:return z.key===dt?C(k,D,z,Q):null;case et:return z.key===dt?j(k,D,z,Q):null;case b:return z=Ds(z),B(k,D,z,Q)}if(he(z)||L(z))return dt!==null?null:K(k,D,z,Q,null);if(typeof z.then=="function")return B(k,D,xu(z),Q);if(z.$$typeof===mt)return B(k,D,wu(k,z),Q);Du(k,z)}return null}function F(k,D,z,Q,dt){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return k=k.get(z)||null,T(D,k,""+Q,dt);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case Y:return k=k.get(Q.key===null?z:Q.key)||null,C(D,k,Q,dt);case et:return k=k.get(Q.key===null?z:Q.key)||null,j(D,k,Q,dt);case b:return Q=Ds(Q),F(k,D,z,Q,dt)}if(he(Q)||L(Q))return k=k.get(z)||null,K(D,k,Q,dt,null);if(typeof Q.then=="function")return F(k,D,z,xu(Q),dt);if(Q.$$typeof===mt)return F(k,D,z,wu(D,Q),dt);Du(D,Q)}return null}function lt(k,D,z,Q){for(var dt=null,qt=null,ut=D,xt=D=0,Lt=null;ut!==null&&xt<z.length;xt++){ut.index>xt?(Lt=ut,ut=null):Lt=ut.sibling;var Ft=B(k,ut,z[xt],Q);if(Ft===null){ut===null&&(ut=Lt);break}e&&ut&&Ft.alternate===null&&n(k,ut),D=f(Ft,D,xt),qt===null?dt=Ft:qt.sibling=Ft,qt=Ft,ut=Lt}if(xt===z.length)return r(k,ut),jt&&qi(k,xt),dt;if(ut===null){for(;xt<z.length;xt++)ut=W(k,z[xt],Q),ut!==null&&(D=f(ut,D,xt),qt===null?dt=ut:qt.sibling=ut,qt=ut);return jt&&qi(k,xt),dt}for(ut=o(ut);xt<z.length;xt++)Lt=F(ut,k,xt,z[xt],Q),Lt!==null&&(e&&Lt.alternate!==null&&ut.delete(Lt.key===null?xt:Lt.key),D=f(Lt,D,xt),qt===null?dt=Lt:qt.sibling=Lt,qt=Lt);return e&&ut.forEach(function(Fr){return n(k,Fr)}),jt&&qi(k,xt),dt}function yt(k,D,z,Q){if(z==null)throw Error(a(151));for(var dt=null,qt=null,ut=D,xt=D=0,Lt=null,Ft=z.next();ut!==null&&!Ft.done;xt++,Ft=z.next()){ut.index>xt?(Lt=ut,ut=null):Lt=ut.sibling;var Fr=B(k,ut,Ft.value,Q);if(Fr===null){ut===null&&(ut=Lt);break}e&&ut&&Fr.alternate===null&&n(k,ut),D=f(Fr,D,xt),qt===null?dt=Fr:qt.sibling=Fr,qt=Fr,ut=Lt}if(Ft.done)return r(k,ut),jt&&qi(k,xt),dt;if(ut===null){for(;!Ft.done;xt++,Ft=z.next())Ft=W(k,Ft.value,Q),Ft!==null&&(D=f(Ft,D,xt),qt===null?dt=Ft:qt.sibling=Ft,qt=Ft);return jt&&qi(k,xt),dt}for(ut=o(ut);!Ft.done;xt++,Ft=z.next())Ft=F(ut,k,xt,Ft.value,Q),Ft!==null&&(e&&Ft.alternate!==null&&ut.delete(Ft.key===null?xt:Ft.key),D=f(Ft,D,xt),qt===null?dt=Ft:qt.sibling=Ft,qt=Ft);return e&&ut.forEach(function(eS){return n(k,eS)}),jt&&qi(k,xt),dt}function se(k,D,z,Q){if(typeof z=="object"&&z!==null&&z.type===rt&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case Y:t:{for(var dt=z.key;D!==null;){if(D.key===dt){if(dt=z.type,dt===rt){if(D.tag===7){r(k,D.sibling),Q=h(D,z.props.children),Q.return=k,k=Q;break t}}else if(D.elementType===dt||typeof dt=="object"&&dt!==null&&dt.$$typeof===b&&Ds(dt)===D.type){r(k,D.sibling),Q=h(D,z.props),Po(Q,z),Q.return=k,k=Q;break t}r(k,D);break}else n(k,D);D=D.sibling}z.type===rt?(Q=ws(z.props.children,k.mode,Q,z.key),Q.return=k,k=Q):(Q=Su(z.type,z.key,z.props,null,k.mode,Q),Po(Q,z),Q.return=k,k=Q)}return g(k);case et:t:{for(dt=z.key;D!==null;){if(D.key===dt)if(D.tag===4&&D.stateNode.containerInfo===z.containerInfo&&D.stateNode.implementation===z.implementation){r(k,D.sibling),Q=h(D,z.children||[]),Q.return=k,k=Q;break t}else{r(k,D);break}else n(k,D);D=D.sibling}Q=zh(z,k.mode,Q),Q.return=k,k=Q}return g(k);case b:return z=Ds(z),se(k,D,z,Q)}if(he(z))return lt(k,D,z,Q);if(L(z)){if(dt=L(z),typeof dt!="function")throw Error(a(150));return z=dt.call(z),yt(k,D,z,Q)}if(typeof z.then=="function")return se(k,D,xu(z),Q);if(z.$$typeof===mt)return se(k,D,wu(k,z),Q);Du(k,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,D!==null&&D.tag===6?(r(k,D.sibling),Q=h(D,z),Q.return=k,k=Q):(r(k,D),Q=Uh(z,k.mode,Q),Q.return=k,k=Q),g(k)):r(k,D)}return function(k,D,z,Q){try{Lo=0;var dt=se(k,D,z,Q);return Ea=null,dt}catch(ut){if(ut===Ta||ut===Cu)throw ut;var qt=_n(29,ut,null,k.mode);return qt.lanes=Q,qt.return=k,qt}}}var Os=Pg(!0),Ug=Pg(!1),Cr=!1;function Jh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Zh(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ir(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function xr(e,n,r){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Kt&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=Eu(e),Eg(e,null,r),n}return Tu(e,o,n,r),Eu(e)}function Uo(e,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,r|=o,n.lanes=r,co(e,r)}}function $h(e,n){var r=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,r===o)){var h=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var g={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?h=f=g:f=f.next=g,r=r.next}while(r!==null);f===null?h=f=n:f=f.next=n}else h=f=n;r={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=n:e.next=n,r.lastBaseUpdate=n}var tf=!1;function zo(){if(tf){var e=va;if(e!==null)throw e}}function jo(e,n,r,o){tf=!1;var h=e.updateQueue;Cr=!1;var f=h.firstBaseUpdate,g=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var C=T,j=C.next;C.next=null,g===null?f=j:g.next=j,g=C;var K=e.alternate;K!==null&&(K=K.updateQueue,T=K.lastBaseUpdate,T!==g&&(T===null?K.firstBaseUpdate=j:T.next=j,K.lastBaseUpdate=C))}if(f!==null){var W=h.baseState;g=0,K=j=C=null,T=f;do{var B=T.lane&-536870913,F=B!==T.lane;if(F?(kt&B)===B:(o&B)===B){B!==0&&B===_a&&(tf=!0),K!==null&&(K=K.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});t:{var lt=e,yt=T;B=n;var se=r;switch(yt.tag){case 1:if(lt=yt.payload,typeof lt=="function"){W=lt.call(se,W,B);break t}W=lt;break t;case 3:lt.flags=lt.flags&-65537|128;case 0:if(lt=yt.payload,B=typeof lt=="function"?lt.call(se,W,B):lt,B==null)break t;W=A({},W,B);break t;case 2:Cr=!0}}B=T.callback,B!==null&&(e.flags|=64,F&&(e.flags|=8192),F=h.callbacks,F===null?h.callbacks=[B]:F.push(B))}else F={lane:B,tag:T.tag,payload:T.payload,callback:T.callback,next:null},K===null?(j=K=F,C=W):K=K.next=F,g|=B;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;F=T,T=F.next,F.next=null,h.lastBaseUpdate=F,h.shared.pending=null}}while(!0);K===null&&(C=W),h.baseState=C,h.firstBaseUpdate=j,h.lastBaseUpdate=K,f===null&&(h.shared.lanes=0),Vr|=g,e.lanes=g,e.memoizedState=W}}function zg(e,n){if(typeof e!="function")throw Error(a(191,e));e.call(n)}function jg(e,n){var r=e.callbacks;if(r!==null)for(e.callbacks=null,e=0;e<r.length;e++)zg(r[e],n)}var Sa=O(null),Mu=O(0);function Bg(e,n){e=tr,it(Mu,e),it(Sa,n),tr=e|n.baseLanes}function ef(){it(Mu,tr),it(Sa,Sa.current)}function nf(){tr=Mu.current,X(Sa),X(Mu)}var vn=O(null),Ln=null;function Dr(e){var n=e.alternate;it(Ee,Ee.current&1),it(vn,e),Ln===null&&(n===null||Sa.current!==null||n.memoizedState!==null)&&(Ln=e)}function rf(e){it(Ee,Ee.current),it(vn,e),Ln===null&&(Ln=e)}function Hg(e){e.tag===22?(it(Ee,Ee.current),it(vn,e),Ln===null&&(Ln=e)):Mr()}function Mr(){it(Ee,Ee.current),it(vn,vn.current)}function Tn(e){X(vn),Ln===e&&(Ln=null),X(Ee)}var Ee=O(0);function Ou(e){for(var n=e;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||cd(r)||hd(r)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Ki=0,It=null,ie=null,De=null,Nu=!1,ba=!1,Ns=!1,Vu=0,Bo=0,Aa=null,G1=0;function ye(){throw Error(a(321))}function sf(e,n){if(n===null)return!1;for(var r=0;r<n.length&&r<e.length;r++)if(!yn(e[r],n[r]))return!1;return!0}function af(e,n,r,o,h,f){return Ki=f,It=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,G.H=e===null||e.memoizedState===null?wp:Ef,Ns=!1,f=r(o,h),Ns=!1,ba&&(f=Fg(n,r,o,h)),qg(e),f}function qg(e){G.H=Fo;var n=ie!==null&&ie.next!==null;if(Ki=0,De=ie=It=null,Nu=!1,Bo=0,Aa=null,n)throw Error(a(300));e===null||Me||(e=e.dependencies,e!==null&&Au(e)&&(Me=!0))}function Fg(e,n,r,o){It=e;var h=0;do{if(ba&&(Aa=null),Bo=0,ba=!1,25<=h)throw Error(a(301));if(h+=1,De=ie=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}G.H=Rp,f=n(r,o)}while(ba);return f}function K1(){var e=G.H,n=e.useState()[0];return n=typeof n.then=="function"?Ho(n):n,e=e.useState()[0],(ie!==null?ie.memoizedState:null)!==e&&(It.flags|=1024),n}function of(){var e=Vu!==0;return Vu=0,e}function lf(e,n,r){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~r}function uf(e){if(Nu){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Nu=!1}Ki=0,De=ie=It=null,ba=!1,Bo=Vu=0,Aa=null}function an(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return De===null?It.memoizedState=De=e:De=De.next=e,De}function Se(){if(ie===null){var e=It.alternate;e=e!==null?e.memoizedState:null}else e=ie.next;var n=De===null?It.memoizedState:De.next;if(n!==null)De=n,ie=e;else{if(e===null)throw It.alternate===null?Error(a(467)):Error(a(310));ie=e,e={memoizedState:ie.memoizedState,baseState:ie.baseState,baseQueue:ie.baseQueue,queue:ie.queue,next:null},De===null?It.memoizedState=De=e:De=De.next=e}return De}function ku(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ho(e){var n=Bo;return Bo+=1,Aa===null&&(Aa=[]),e=Vg(Aa,e,n),n=It,(De===null?n.memoizedState:De.next)===null&&(n=n.alternate,G.H=n===null||n.memoizedState===null?wp:Ef),e}function Lu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Ho(e);if(e.$$typeof===mt)return Qe(e)}throw Error(a(438,String(e)))}function cf(e){var n=null,r=It.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var o=It.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=ku(),It.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(e),o=0;o<e;o++)r[o]=N;return n.index++,r}function Qi(e,n){return typeof n=="function"?n(e):n}function Pu(e){var n=Se();return hf(n,ie,e)}function hf(e,n,r){var o=e.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=r;var h=e.baseQueue,f=o.pending;if(f!==null){if(h!==null){var g=h.next;h.next=f.next,f.next=g}n.baseQueue=h=f,o.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{n=h.next;var T=g=null,C=null,j=n,K=!1;do{var W=j.lane&-536870913;if(W!==j.lane?(kt&W)===W:(Ki&W)===W){var B=j.revertLane;if(B===0)C!==null&&(C=C.next={lane:0,revertLane:0,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),W===_a&&(K=!0);else if((Ki&B)===B){j=j.next,B===_a&&(K=!0);continue}else W={lane:0,revertLane:j.revertLane,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},C===null?(T=C=W,g=f):C=C.next=W,It.lanes|=B,Vr|=B;W=j.action,Ns&&r(f,W),f=j.hasEagerState?j.eagerState:r(f,W)}else B={lane:W,revertLane:j.revertLane,gesture:j.gesture,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},C===null?(T=C=B,g=f):C=C.next=B,It.lanes|=W,Vr|=W;j=j.next}while(j!==null&&j!==n);if(C===null?g=f:C.next=T,!yn(f,e.memoizedState)&&(Me=!0,K&&(r=va,r!==null)))throw r;e.memoizedState=f,e.baseState=g,e.baseQueue=C,o.lastRenderedState=f}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function ff(e){var n=Se(),r=n.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=e;var o=r.dispatch,h=r.pending,f=n.memoizedState;if(h!==null){r.pending=null;var g=h=h.next;do f=e(f,g.action),g=g.next;while(g!==h);yn(f,n.memoizedState)||(Me=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,o]}function Gg(e,n,r){var o=It,h=Se(),f=jt;if(f){if(r===void 0)throw Error(a(407));r=r()}else r=n();var g=!yn((ie||h).memoizedState,r);if(g&&(h.memoizedState=r,Me=!0),h=h.queue,gf(Yg.bind(null,o,h,e),[e]),h.getSnapshot!==n||g||De!==null&&De.memoizedState.tag&1){if(o.flags|=2048,wa(9,{destroy:void 0},Qg.bind(null,o,h,r,n),null),ae===null)throw Error(a(349));f||(Ki&127)!==0||Kg(o,n,r)}return r}function Kg(e,n,r){e.flags|=16384,e={getSnapshot:n,value:r},n=It.updateQueue,n===null?(n=ku(),It.updateQueue=n,n.stores=[e]):(r=n.stores,r===null?n.stores=[e]:r.push(e))}function Qg(e,n,r,o){n.value=r,n.getSnapshot=o,Xg(n)&&Wg(e)}function Yg(e,n,r){return r(function(){Xg(n)&&Wg(e)})}function Xg(e){var n=e.getSnapshot;e=e.value;try{var r=n();return!yn(e,r)}catch{return!0}}function Wg(e){var n=As(e,2);n!==null&&dn(n,e,2)}function df(e){var n=an();if(typeof e=="function"){var r=e;if(e=r(),Ns){Rn(!0);try{r()}finally{Rn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qi,lastRenderedState:e},n}function Jg(e,n,r,o){return e.baseState=r,hf(e,ie,typeof o=="function"?o:Qi)}function Q1(e,n,r,o,h){if(ju(e))throw Error(a(485));if(e=n.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};G.T!==null?r(!0):f.isTransition=!1,o(f),r=n.pending,r===null?(f.next=n.pending=f,Zg(n,f)):(f.next=r.next,n.pending=r.next=f)}}function Zg(e,n){var r=n.action,o=n.payload,h=e.state;if(n.isTransition){var f=G.T,g={};G.T=g;try{var T=r(h,o),C=G.S;C!==null&&C(g,T),$g(e,n,T)}catch(j){mf(e,n,j)}finally{f!==null&&g.types!==null&&(f.types=g.types),G.T=f}}else try{f=r(h,o),$g(e,n,f)}catch(j){mf(e,n,j)}}function $g(e,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(o){tp(e,n,o)},function(o){return mf(e,n,o)}):tp(e,n,r)}function tp(e,n,r){n.status="fulfilled",n.value=r,ep(n),e.state=r,n=e.pending,n!==null&&(r=n.next,r===n?e.pending=null:(r=r.next,n.next=r,Zg(e,r)))}function mf(e,n,r){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=r,ep(n),n=n.next;while(n!==o)}e.action=null}function ep(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function np(e,n){return n}function ip(e,n){if(jt){var r=ae.formState;if(r!==null){t:{var o=It;if(jt){if(le){e:{for(var h=le,f=kn;h.nodeType!==8;){if(!f){h=null;break e}if(h=Pn(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){le=Pn(h.nextSibling),o=h.data==="F!";break t}}wr(o)}o=!1}o&&(n=r[0])}}return r=an(),r.memoizedState=r.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:np,lastRenderedState:n},r.queue=o,r=Sp.bind(null,It,o),o.dispatch=r,o=df(!1),f=Tf.bind(null,It,!1,o.queue),o=an(),h={state:n,dispatch:null,action:e,pending:null},o.queue=h,r=Q1.bind(null,It,h,f,r),h.dispatch=r,o.memoizedState=e,[n,r,!1]}function rp(e){var n=Se();return sp(n,ie,e)}function sp(e,n,r){if(n=hf(e,n,np)[0],e=Pu(Qi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=Ho(n)}catch(g){throw g===Ta?Cu:g}else o=n;n=Se();var h=n.queue,f=h.dispatch;return r!==n.memoizedState&&(It.flags|=2048,wa(9,{destroy:void 0},Y1.bind(null,h,r),null)),[o,f,e]}function Y1(e,n){e.action=n}function ap(e){var n=Se(),r=ie;if(r!==null)return sp(n,r,e);Se(),n=n.memoizedState,r=Se();var o=r.queue.dispatch;return r.memoizedState=e,[n,o,!1]}function wa(e,n,r,o){return e={tag:e,create:r,deps:o,inst:n,next:null},n=It.updateQueue,n===null&&(n=ku(),It.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=e.next=e:(o=r.next,r.next=e,e.next=o,n.lastEffect=e),e}function op(){return Se().memoizedState}function Uu(e,n,r,o){var h=an();It.flags|=e,h.memoizedState=wa(1|n,{destroy:void 0},r,o===void 0?null:o)}function zu(e,n,r,o){var h=Se();o=o===void 0?null:o;var f=h.memoizedState.inst;ie!==null&&o!==null&&sf(o,ie.memoizedState.deps)?h.memoizedState=wa(n,f,r,o):(It.flags|=e,h.memoizedState=wa(1|n,f,r,o))}function lp(e,n){Uu(8390656,8,e,n)}function gf(e,n){zu(2048,8,e,n)}function X1(e){It.flags|=4;var n=It.updateQueue;if(n===null)n=ku(),It.updateQueue=n,n.events=[e];else{var r=n.events;r===null?n.events=[e]:r.push(e)}}function up(e){var n=Se().memoizedState;return X1({ref:n,nextImpl:e}),function(){if((Kt&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function cp(e,n){return zu(4,2,e,n)}function hp(e,n){return zu(4,4,e,n)}function fp(e,n){if(typeof n=="function"){e=e();var r=n(e);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function dp(e,n,r){r=r!=null?r.concat([e]):null,zu(4,4,fp.bind(null,n,e),r)}function pf(){}function mp(e,n){var r=Se();n=n===void 0?null:n;var o=r.memoizedState;return n!==null&&sf(n,o[1])?o[0]:(r.memoizedState=[e,n],e)}function gp(e,n){var r=Se();n=n===void 0?null:n;var o=r.memoizedState;if(n!==null&&sf(n,o[1]))return o[0];if(o=e(),Ns){Rn(!0);try{e()}finally{Rn(!1)}}return r.memoizedState=[o,n],o}function yf(e,n,r){return r===void 0||(Ki&1073741824)!==0&&(kt&261930)===0?e.memoizedState=n:(e.memoizedState=r,e=py(),It.lanes|=e,Vr|=e,r)}function pp(e,n,r,o){return yn(r,n)?r:Sa.current!==null?(e=yf(e,r,o),yn(e,n)||(Me=!0),e):(Ki&42)===0||(Ki&1073741824)!==0&&(kt&261930)===0?(Me=!0,e.memoizedState=r):(e=py(),It.lanes|=e,Vr|=e,n)}function yp(e,n,r,o,h){var f=nt.p;nt.p=f!==0&&8>f?f:8;var g=G.T,T={};G.T=T,Tf(e,!1,n,r);try{var C=h(),j=G.S;if(j!==null&&j(T,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var K=F1(C,o);qo(e,n,K,bn(e))}else qo(e,n,o,bn(e))}catch(W){qo(e,n,{then:function(){},status:"rejected",reason:W},bn())}finally{nt.p=f,g!==null&&T.types!==null&&(g.types=T.types),G.T=g}}function W1(){}function _f(e,n,r,o){if(e.tag!==5)throw Error(a(476));var h=_p(e).queue;yp(e,h,n,ct,r===null?W1:function(){return vp(e),r(o)})}function _p(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:ct,baseState:ct,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qi,lastRenderedState:ct},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qi,lastRenderedState:r},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function vp(e){var n=_p(e);n.next===null&&(n=e.alternate.memoizedState),qo(e,n.next.queue,{},bn())}function vf(){return Qe(al)}function Tp(){return Se().memoizedState}function Ep(){return Se().memoizedState}function J1(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var r=bn();e=Ir(r);var o=xr(n,e,r);o!==null&&(dn(o,n,r),Uo(o,n,r)),n={cache:Qh()},e.payload=n;return}n=n.return}}function Z1(e,n,r){var o=bn();r={lane:o,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},ju(e)?bp(n,r):(r=Lh(e,n,r,o),r!==null&&(dn(r,e,o),Ap(r,n,o)))}function Sp(e,n,r){var o=bn();qo(e,n,r,o)}function qo(e,n,r,o){var h={lane:o,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(ju(e))bp(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,T=f(g,r);if(h.hasEagerState=!0,h.eagerState=T,yn(T,g))return Tu(e,n,h,0),ae===null&&vu(),!1}catch{}if(r=Lh(e,n,h,o),r!==null)return dn(r,e,o),Ap(r,n,o),!0}return!1}function Tf(e,n,r,o){if(o={lane:2,revertLane:Zf(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},ju(e)){if(n)throw Error(a(479))}else n=Lh(e,r,o,2),n!==null&&dn(n,e,2)}function ju(e){var n=e.alternate;return e===It||n!==null&&n===It}function bp(e,n){ba=Nu=!0;var r=e.pending;r===null?n.next=n:(n.next=r.next,r.next=n),e.pending=n}function Ap(e,n,r){if((r&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,r|=o,n.lanes=r,co(e,r)}}var Fo={readContext:Qe,use:Lu,useCallback:ye,useContext:ye,useEffect:ye,useImperativeHandle:ye,useLayoutEffect:ye,useInsertionEffect:ye,useMemo:ye,useReducer:ye,useRef:ye,useState:ye,useDebugValue:ye,useDeferredValue:ye,useTransition:ye,useSyncExternalStore:ye,useId:ye,useHostTransitionStatus:ye,useFormState:ye,useActionState:ye,useOptimistic:ye,useMemoCache:ye,useCacheRefresh:ye};Fo.useEffectEvent=ye;var wp={readContext:Qe,use:Lu,useCallback:function(e,n){return an().memoizedState=[e,n===void 0?null:n],e},useContext:Qe,useEffect:lp,useImperativeHandle:function(e,n,r){r=r!=null?r.concat([e]):null,Uu(4194308,4,fp.bind(null,n,e),r)},useLayoutEffect:function(e,n){return Uu(4194308,4,e,n)},useInsertionEffect:function(e,n){Uu(4,2,e,n)},useMemo:function(e,n){var r=an();n=n===void 0?null:n;var o=e();if(Ns){Rn(!0);try{e()}finally{Rn(!1)}}return r.memoizedState=[o,n],o},useReducer:function(e,n,r){var o=an();if(r!==void 0){var h=r(n);if(Ns){Rn(!0);try{r(n)}finally{Rn(!1)}}}else h=n;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=Z1.bind(null,It,e),[o.memoizedState,e]},useRef:function(e){var n=an();return e={current:e},n.memoizedState=e},useState:function(e){e=df(e);var n=e.queue,r=Sp.bind(null,It,n);return n.dispatch=r,[e.memoizedState,r]},useDebugValue:pf,useDeferredValue:function(e,n){var r=an();return yf(r,e,n)},useTransition:function(){var e=df(!1);return e=yp.bind(null,It,e.queue,!0,!1),an().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,r){var o=It,h=an();if(jt){if(r===void 0)throw Error(a(407));r=r()}else{if(r=n(),ae===null)throw Error(a(349));(kt&127)!==0||Kg(o,n,r)}h.memoizedState=r;var f={value:r,getSnapshot:n};return h.queue=f,lp(Yg.bind(null,o,f,e),[e]),o.flags|=2048,wa(9,{destroy:void 0},Qg.bind(null,o,f,r,n),null),r},useId:function(){var e=an(),n=ae.identifierPrefix;if(jt){var r=Ri,o=wi;r=(o&~(1<<32-ve(o)-1)).toString(32)+r,n="_"+n+"R_"+r,r=Vu++,0<r&&(n+="H"+r.toString(32)),n+="_"}else r=G1++,n="_"+n+"r_"+r.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:vf,useFormState:ip,useActionState:ip,useOptimistic:function(e){var n=an();n.memoizedState=n.baseState=e;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=Tf.bind(null,It,!0,r),r.dispatch=n,[e,n]},useMemoCache:cf,useCacheRefresh:function(){return an().memoizedState=J1.bind(null,It)},useEffectEvent:function(e){var n=an(),r={impl:e};return n.memoizedState=r,function(){if((Kt&2)!==0)throw Error(a(440));return r.impl.apply(void 0,arguments)}}},Ef={readContext:Qe,use:Lu,useCallback:mp,useContext:Qe,useEffect:gf,useImperativeHandle:dp,useInsertionEffect:cp,useLayoutEffect:hp,useMemo:gp,useReducer:Pu,useRef:op,useState:function(){return Pu(Qi)},useDebugValue:pf,useDeferredValue:function(e,n){var r=Se();return pp(r,ie.memoizedState,e,n)},useTransition:function(){var e=Pu(Qi)[0],n=Se().memoizedState;return[typeof e=="boolean"?e:Ho(e),n]},useSyncExternalStore:Gg,useId:Tp,useHostTransitionStatus:vf,useFormState:rp,useActionState:rp,useOptimistic:function(e,n){var r=Se();return Jg(r,ie,e,n)},useMemoCache:cf,useCacheRefresh:Ep};Ef.useEffectEvent=up;var Rp={readContext:Qe,use:Lu,useCallback:mp,useContext:Qe,useEffect:gf,useImperativeHandle:dp,useInsertionEffect:cp,useLayoutEffect:hp,useMemo:gp,useReducer:ff,useRef:op,useState:function(){return ff(Qi)},useDebugValue:pf,useDeferredValue:function(e,n){var r=Se();return ie===null?yf(r,e,n):pp(r,ie.memoizedState,e,n)},useTransition:function(){var e=ff(Qi)[0],n=Se().memoizedState;return[typeof e=="boolean"?e:Ho(e),n]},useSyncExternalStore:Gg,useId:Tp,useHostTransitionStatus:vf,useFormState:ap,useActionState:ap,useOptimistic:function(e,n){var r=Se();return ie!==null?Jg(r,ie,e,n):(r.baseState=e,[e,r.queue.dispatch])},useMemoCache:cf,useCacheRefresh:Ep};Rp.useEffectEvent=up;function Sf(e,n,r,o){n=e.memoizedState,r=r(o,n),r=r==null?n:A({},n,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var bf={enqueueSetState:function(e,n,r){e=e._reactInternals;var o=bn(),h=Ir(o);h.payload=n,r!=null&&(h.callback=r),n=xr(e,h,o),n!==null&&(dn(n,e,o),Uo(n,e,o))},enqueueReplaceState:function(e,n,r){e=e._reactInternals;var o=bn(),h=Ir(o);h.tag=1,h.payload=n,r!=null&&(h.callback=r),n=xr(e,h,o),n!==null&&(dn(n,e,o),Uo(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var r=bn(),o=Ir(r);o.tag=2,n!=null&&(o.callback=n),n=xr(e,o,r),n!==null&&(dn(n,e,r),Uo(n,e,r))}};function Cp(e,n,r,o,h,f,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,g):n.prototype&&n.prototype.isPureReactComponent?!Do(r,o)||!Do(h,f):!0}function Ip(e,n,r,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,o),n.state!==e&&bf.enqueueReplaceState(n,n.state,null)}function Vs(e,n){var r=n;if("ref"in n){r={};for(var o in n)o!=="ref"&&(r[o]=n[o])}if(e=e.defaultProps){r===n&&(r=A({},r));for(var h in e)r[h]===void 0&&(r[h]=e[h])}return r}function xp(e){_u(e)}function Dp(e){console.error(e)}function Mp(e){_u(e)}function Bu(e,n){try{var r=e.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function Op(e,n,r){try{var o=e.onCaughtError;o(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Af(e,n,r){return r=Ir(r),r.tag=3,r.payload={element:null},r.callback=function(){Bu(e,n)},r}function Np(e){return e=Ir(e),e.tag=3,e}function Vp(e,n,r,o){var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;e.payload=function(){return h(f)},e.callback=function(){Op(n,r,o)}}var g=r.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(e.callback=function(){Op(n,r,o),typeof h!="function"&&(kr===null?kr=new Set([this]):kr.add(this));var T=o.stack;this.componentDidCatch(o.value,{componentStack:T!==null?T:""})})}function $1(e,n,r,o,h){if(r.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=r.alternate,n!==null&&ya(n,r,h,!0),r=vn.current,r!==null){switch(r.tag){case 31:case 13:return Ln===null?$u():r.alternate===null&&_e===0&&(_e=3),r.flags&=-257,r.flags|=65536,r.lanes=h,o===Iu?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([o]):n.add(o),Xf(e,o,h)),!1;case 22:return r.flags|=65536,o===Iu?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([o]):r.add(o)),Xf(e,o,h)),!1}throw Error(a(435,r.tag))}return Xf(e,o,h),$u(),!1}if(jt)return n=vn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==Hh&&(e=Error(a(422),{cause:o}),No(On(e,r)))):(o!==Hh&&(n=Error(a(423),{cause:o}),No(On(n,r))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=On(o,r),h=Af(e.stateNode,o,h),$h(e,h),_e!==4&&(_e=2)),!1;var f=Error(a(520),{cause:o});if(f=On(f,r),Zo===null?Zo=[f]:Zo.push(f),_e!==4&&(_e=2),n===null)return!0;o=On(o,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,e=h&-h,r.lanes|=e,e=Af(r.stateNode,o,e),$h(r,e),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(kr===null||!kr.has(f))))return r.flags|=65536,h&=-h,r.lanes|=h,h=Np(h),Vp(h,e,r,o),$h(r,h),!1}r=r.return}while(r!==null);return!1}var wf=Error(a(461)),Me=!1;function Ye(e,n,r,o){n.child=e===null?Ug(n,null,r,o):Os(n,e.child,r,o)}function kp(e,n,r,o,h){r=r.render;var f=n.ref;if("ref"in o){var g={};for(var T in o)T!=="ref"&&(g[T]=o[T])}else g=o;return Is(n),o=af(e,n,r,g,f,h),T=of(),e!==null&&!Me?(lf(e,n,h),Yi(e,n,h)):(jt&&T&&jh(n),n.flags|=1,Ye(e,n,o,h),n.child)}function Lp(e,n,r,o,h){if(e===null){var f=r.type;return typeof f=="function"&&!Ph(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,Pp(e,n,f,o,h)):(e=Su(r.type,null,o,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!Nf(e,h)){var g=f.memoizedProps;if(r=r.compare,r=r!==null?r:Do,r(g,o)&&e.ref===n.ref)return Yi(e,n,h)}return n.flags|=1,e=Hi(f,o),e.ref=n.ref,e.return=n,n.child=e}function Pp(e,n,r,o,h){if(e!==null){var f=e.memoizedProps;if(Do(f,o)&&e.ref===n.ref)if(Me=!1,n.pendingProps=o=f,Nf(e,h))(e.flags&131072)!==0&&(Me=!0);else return n.lanes=e.lanes,Yi(e,n,h)}return Rf(e,n,r,o,h)}function Up(e,n,r,o){var h=o.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|r:r,e!==null){for(o=n.child=e.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return zp(e,n,f,r,o)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Ru(n,f!==null?f.cachePool:null),f!==null?Bg(n,f):ef(),Hg(n);else return o=n.lanes=536870912,zp(e,n,f!==null?f.baseLanes|r:r,r,o)}else f!==null?(Ru(n,f.cachePool),Bg(n,f),Mr(),n.memoizedState=null):(e!==null&&Ru(n,null),ef(),Mr());return Ye(e,n,h,r),n.child}function Go(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function zp(e,n,r,o,h){var f=Xh();return f=f===null?null:{parent:xe._currentValue,pool:f},n.memoizedState={baseLanes:r,cachePool:f},e!==null&&Ru(n,null),ef(),Hg(n),e!==null&&ya(e,n,o,!0),n.childLanes=h,null}function Hu(e,n){return n=Fu({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function jp(e,n,r){return Os(n,e.child,null,r),e=Hu(n,n.pendingProps),e.flags|=2,Tn(n),n.memoizedState=null,e}function tE(e,n,r){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(jt){if(o.mode==="hidden")return e=Hu(n,o),n.lanes=536870912,Go(null,e);if(rf(n),(e=le)?(e=Zy(e,kn),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:br!==null?{id:wi,overflow:Ri}:null,retryLane:536870912,hydrationErrors:null},r=bg(e),r.return=n,n.child=r,Ke=n,le=null)):e=null,e===null)throw wr(n);return n.lanes=536870912,null}return Hu(n,o)}var f=e.memoizedState;if(f!==null){var g=f.dehydrated;if(rf(n),h)if(n.flags&256)n.flags&=-257,n=jp(e,n,r);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(a(558));else if(Me||ya(e,n,r,!1),h=(r&e.childLanes)!==0,Me||h){if(o=ae,o!==null&&(g=ho(o,r),g!==0&&g!==f.retryLane))throw f.retryLane=g,As(e,g),dn(o,e,g),wf;$u(),n=jp(e,n,r)}else e=f.treeContext,le=Pn(g.nextSibling),Ke=n,jt=!0,Ar=null,kn=!1,e!==null&&Rg(n,e),n=Hu(n,o),n.flags|=4096;return n}return e=Hi(e.child,{mode:o.mode,children:o.children}),e.ref=n.ref,n.child=e,e.return=n,e}function qu(e,n){var r=n.ref;if(r===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(a(284));(e===null||e.ref!==r)&&(n.flags|=4194816)}}function Rf(e,n,r,o,h){return Is(n),r=af(e,n,r,o,void 0,h),o=of(),e!==null&&!Me?(lf(e,n,h),Yi(e,n,h)):(jt&&o&&jh(n),n.flags|=1,Ye(e,n,r,h),n.child)}function Bp(e,n,r,o,h,f){return Is(n),n.updateQueue=null,r=Fg(n,o,r,h),qg(e),o=of(),e!==null&&!Me?(lf(e,n,f),Yi(e,n,f)):(jt&&o&&jh(n),n.flags|=1,Ye(e,n,r,f),n.child)}function Hp(e,n,r,o,h){if(Is(n),n.stateNode===null){var f=da,g=r.contextType;typeof g=="object"&&g!==null&&(f=Qe(g)),f=new r(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=bf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},Jh(n),g=r.contextType,f.context=typeof g=="object"&&g!==null?Qe(g):da,f.state=n.memoizedState,g=r.getDerivedStateFromProps,typeof g=="function"&&(Sf(n,r,g,o),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&bf.enqueueReplaceState(f,f.state,null),jo(n,o,f,h),zo(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){f=n.stateNode;var T=n.memoizedProps,C=Vs(r,T);f.props=C;var j=f.context,K=r.contextType;g=da,typeof K=="object"&&K!==null&&(g=Qe(K));var W=r.getDerivedStateFromProps;K=typeof W=="function"||typeof f.getSnapshotBeforeUpdate=="function",T=n.pendingProps!==T,K||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(T||j!==g)&&Ip(n,f,o,g),Cr=!1;var B=n.memoizedState;f.state=B,jo(n,o,f,h),zo(),j=n.memoizedState,T||B!==j||Cr?(typeof W=="function"&&(Sf(n,r,W,o),j=n.memoizedState),(C=Cr||Cp(n,r,C,o,B,j,g))?(K||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=j),f.props=o,f.state=j,f.context=g,o=C):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,Zh(e,n),g=n.memoizedProps,K=Vs(r,g),f.props=K,W=n.pendingProps,B=f.context,j=r.contextType,C=da,typeof j=="object"&&j!==null&&(C=Qe(j)),T=r.getDerivedStateFromProps,(j=typeof T=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==W||B!==C)&&Ip(n,f,o,C),Cr=!1,B=n.memoizedState,f.state=B,jo(n,o,f,h),zo();var F=n.memoizedState;g!==W||B!==F||Cr||e!==null&&e.dependencies!==null&&Au(e.dependencies)?(typeof T=="function"&&(Sf(n,r,T,o),F=n.memoizedState),(K=Cr||Cp(n,r,K,o,B,F,C)||e!==null&&e.dependencies!==null&&Au(e.dependencies))?(j||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,F,C),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,F,C)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&B===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&B===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=F),f.props=o,f.state=F,f.context=C,o=K):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&B===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&B===e.memoizedState||(n.flags|=1024),o=!1)}return f=o,qu(e,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,r=o&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&o?(n.child=Os(n,e.child,null,h),n.child=Os(n,null,r,h)):Ye(e,n,r,h),n.memoizedState=f.state,e=n.child):e=Yi(e,n,h),e}function qp(e,n,r,o){return Rs(),n.flags|=256,Ye(e,n,r,o),n.child}var Cf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function If(e){return{baseLanes:e,cachePool:Og()}}function xf(e,n,r){return e=e!==null?e.childLanes&~r:0,n&&(e|=Sn),e}function Fp(e,n,r){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=e!==null&&e.memoizedState===null?!1:(Ee.current&2)!==0),g&&(h=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,e===null){if(jt){if(h?Dr(n):Mr(),(e=le)?(e=Zy(e,kn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:br!==null?{id:wi,overflow:Ri}:null,retryLane:536870912,hydrationErrors:null},r=bg(e),r.return=n,n.child=r,Ke=n,le=null)):e=null,e===null)throw wr(n);return hd(e)?n.lanes=32:n.lanes=536870912,null}var T=o.children;return o=o.fallback,h?(Mr(),h=n.mode,T=Fu({mode:"hidden",children:T},h),o=ws(o,h,r,null),T.return=n,o.return=n,T.sibling=o,n.child=T,o=n.child,o.memoizedState=If(r),o.childLanes=xf(e,g,r),n.memoizedState=Cf,Go(null,o)):(Dr(n),Df(n,T))}var C=e.memoizedState;if(C!==null&&(T=C.dehydrated,T!==null)){if(f)n.flags&256?(Dr(n),n.flags&=-257,n=Mf(e,n,r)):n.memoizedState!==null?(Mr(),n.child=e.child,n.flags|=128,n=null):(Mr(),T=o.fallback,h=n.mode,o=Fu({mode:"visible",children:o.children},h),T=ws(T,h,r,null),T.flags|=2,o.return=n,T.return=n,o.sibling=T,n.child=o,Os(n,e.child,null,r),o=n.child,o.memoizedState=If(r),o.childLanes=xf(e,g,r),n.memoizedState=Cf,n=Go(null,o));else if(Dr(n),hd(T)){if(g=T.nextSibling&&T.nextSibling.dataset,g)var j=g.dgst;g=j,o=Error(a(419)),o.stack="",o.digest=g,No({value:o,source:null,stack:null}),n=Mf(e,n,r)}else if(Me||ya(e,n,r,!1),g=(r&e.childLanes)!==0,Me||g){if(g=ae,g!==null&&(o=ho(g,r),o!==0&&o!==C.retryLane))throw C.retryLane=o,As(e,o),dn(g,e,o),wf;cd(T)||$u(),n=Mf(e,n,r)}else cd(T)?(n.flags|=192,n.child=e.child,n=null):(e=C.treeContext,le=Pn(T.nextSibling),Ke=n,jt=!0,Ar=null,kn=!1,e!==null&&Rg(n,e),n=Df(n,o.children),n.flags|=4096);return n}return h?(Mr(),T=o.fallback,h=n.mode,C=e.child,j=C.sibling,o=Hi(C,{mode:"hidden",children:o.children}),o.subtreeFlags=C.subtreeFlags&65011712,j!==null?T=Hi(j,T):(T=ws(T,h,r,null),T.flags|=2),T.return=n,o.return=n,o.sibling=T,n.child=o,Go(null,o),o=n.child,T=e.child.memoizedState,T===null?T=If(r):(h=T.cachePool,h!==null?(C=xe._currentValue,h=h.parent!==C?{parent:C,pool:C}:h):h=Og(),T={baseLanes:T.baseLanes|r,cachePool:h}),o.memoizedState=T,o.childLanes=xf(e,g,r),n.memoizedState=Cf,Go(e.child,o)):(Dr(n),r=e.child,e=r.sibling,r=Hi(r,{mode:"visible",children:o.children}),r.return=n,r.sibling=null,e!==null&&(g=n.deletions,g===null?(n.deletions=[e],n.flags|=16):g.push(e)),n.child=r,n.memoizedState=null,r)}function Df(e,n){return n=Fu({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Fu(e,n){return e=_n(22,e,null,n),e.lanes=0,e}function Mf(e,n,r){return Os(n,e.child,null,r),e=Df(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Gp(e,n,r){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),Gh(e.return,n,r)}function Of(e,n,r,o,h,f){var g=e.memoizedState;g===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:r,tailMode:h,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=o,g.tail=r,g.tailMode=h,g.treeForkCount=f)}function Kp(e,n,r){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var g=Ee.current,T=(g&2)!==0;if(T?(g=g&1|2,n.flags|=128):g&=1,it(Ee,g),Ye(e,n,o,r),o=jt?Oo:0,!T&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Gp(e,r,n);else if(e.tag===19)Gp(e,r,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(r=n.child,h=null;r!==null;)e=r.alternate,e!==null&&Ou(e)===null&&(h=r),r=r.sibling;r=h,r===null?(h=n.child,n.child=null):(h=r.sibling,r.sibling=null),Of(n,!1,h,r,f,o);break;case"backwards":case"unstable_legacy-backwards":for(r=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&Ou(e)===null){n.child=h;break}e=h.sibling,h.sibling=r,r=h,h=e}Of(n,!0,r,null,f,o);break;case"together":Of(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function Yi(e,n,r){if(e!==null&&(n.dependencies=e.dependencies),Vr|=n.lanes,(r&n.childLanes)===0)if(e!==null){if(ya(e,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,r=Hi(e,e.pendingProps),n.child=r,r.return=n;e.sibling!==null;)e=e.sibling,r=r.sibling=Hi(e,e.pendingProps),r.return=n;r.sibling=null}return n.child}function Nf(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Au(e)))}function eE(e,n,r){switch(n.tag){case 3:me(n,n.stateNode.containerInfo),Rr(n,xe,e.memoizedState.cache),Rs();break;case 27:case 5:ai(n);break;case 4:me(n,n.stateNode.containerInfo);break;case 10:Rr(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,rf(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Dr(n),n.flags|=128,null):(r&n.child.childLanes)!==0?Fp(e,n,r):(Dr(n),e=Yi(e,n,r),e!==null?e.sibling:null);Dr(n);break;case 19:var h=(e.flags&128)!==0;if(o=(r&n.childLanes)!==0,o||(ya(e,n,r,!1),o=(r&n.childLanes)!==0),h){if(o)return Kp(e,n,r);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),it(Ee,Ee.current),o)break;return null;case 22:return n.lanes=0,Up(e,n,r,n.pendingProps);case 24:Rr(n,xe,e.memoizedState.cache)}return Yi(e,n,r)}function Qp(e,n,r){if(e!==null)if(e.memoizedProps!==n.pendingProps)Me=!0;else{if(!Nf(e,r)&&(n.flags&128)===0)return Me=!1,eE(e,n,r);Me=(e.flags&131072)!==0}else Me=!1,jt&&(n.flags&1048576)!==0&&wg(n,Oo,n.index);switch(n.lanes=0,n.tag){case 16:t:{var o=n.pendingProps;if(e=Ds(n.elementType),n.type=e,typeof e=="function")Ph(e)?(o=Vs(e,o),n.tag=1,n=Hp(null,n,e,o,r)):(n.tag=0,n=Rf(null,n,e,o,r));else{if(e!=null){var h=e.$$typeof;if(h===Bt){n.tag=11,n=kp(null,n,e,o,r);break t}else if(h===I){n.tag=14,n=Lp(null,n,e,o,r);break t}}throw n=ee(e)||e,Error(a(306,n,""))}}return n;case 0:return Rf(e,n,n.type,n.pendingProps,r);case 1:return o=n.type,h=Vs(o,n.pendingProps),Hp(e,n,o,h,r);case 3:t:{if(me(n,n.stateNode.containerInfo),e===null)throw Error(a(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,Zh(e,n),jo(n,o,null,r);var g=n.memoizedState;if(o=g.cache,Rr(n,xe,o),o!==f.cache&&Kh(n,[xe],r,!0),zo(),o=g.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=qp(e,n,o,r);break t}else if(o!==h){h=On(Error(a(424)),n),No(h),n=qp(e,n,o,r);break t}else for(e=n.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,le=Pn(e.firstChild),Ke=n,jt=!0,Ar=null,kn=!0,r=Ug(n,null,o,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Rs(),o===h){n=Yi(e,n,r);break t}Ye(e,n,o,r)}n=n.child}return n;case 26:return qu(e,n),e===null?(r=r_(n.type,null,n.pendingProps,null))?n.memoizedState=r:jt||(r=n.type,e=n.pendingProps,o=ac(Et.current).createElement(r),o[Re]=n,o[ze]=e,Xe(o,r,e),Ce(o),n.stateNode=o):n.memoizedState=r_(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return ai(n),e===null&&jt&&(o=n.stateNode=e_(n.type,n.pendingProps,Et.current),Ke=n,kn=!0,h=le,zr(n.type)?(fd=h,le=Pn(o.firstChild)):le=h),Ye(e,n,n.pendingProps.children,r),qu(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&jt&&((h=o=le)&&(o=ME(o,n.type,n.pendingProps,kn),o!==null?(n.stateNode=o,Ke=n,le=Pn(o.firstChild),kn=!1,h=!0):h=!1),h||wr(n)),ai(n),h=n.type,f=n.pendingProps,g=e!==null?e.memoizedProps:null,o=f.children,od(h,f)?o=null:g!==null&&od(h,g)&&(n.flags|=32),n.memoizedState!==null&&(h=af(e,n,K1,null,null,r),al._currentValue=h),qu(e,n),Ye(e,n,o,r),n.child;case 6:return e===null&&jt&&((e=r=le)&&(r=OE(r,n.pendingProps,kn),r!==null?(n.stateNode=r,Ke=n,le=null,e=!0):e=!1),e||wr(n)),null;case 13:return Fp(e,n,r);case 4:return me(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=Os(n,null,o,r):Ye(e,n,o,r),n.child;case 11:return kp(e,n,n.type,n.pendingProps,r);case 7:return Ye(e,n,n.pendingProps,r),n.child;case 8:return Ye(e,n,n.pendingProps.children,r),n.child;case 12:return Ye(e,n,n.pendingProps.children,r),n.child;case 10:return o=n.pendingProps,Rr(n,n.type,o.value),Ye(e,n,o.children,r),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,Is(n),h=Qe(h),o=o(h),n.flags|=1,Ye(e,n,o,r),n.child;case 14:return Lp(e,n,n.type,n.pendingProps,r);case 15:return Pp(e,n,n.type,n.pendingProps,r);case 19:return Kp(e,n,r);case 31:return tE(e,n,r);case 22:return Up(e,n,r,n.pendingProps);case 24:return Is(n),o=Qe(xe),e===null?(h=Xh(),h===null&&(h=ae,f=Qh(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=r),h=f),n.memoizedState={parent:o,cache:h},Jh(n),Rr(n,xe,h)):((e.lanes&r)!==0&&(Zh(e,n),jo(n,null,null,r),zo()),h=e.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Rr(n,xe,o)):(o=f.cache,Rr(n,xe,o),o!==h.cache&&Kh(n,[xe],r,!0))),Ye(e,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function Xi(e){e.flags|=4}function Vf(e,n,r,o,h){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(Ty())e.flags|=8192;else throw Ms=Iu,Wh}else e.flags&=-16777217}function Yp(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!u_(n))if(Ty())e.flags|=8192;else throw Ms=Iu,Wh}function Gu(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?Jl():536870912,e.lanes|=n,xa|=n)}function Ko(e,n){if(!jt)switch(e.tailMode){case"hidden":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function ue(e){var n=e.alternate!==null&&e.alternate.child===e.child,r=0,o=0;if(n)for(var h=e.child;h!==null;)r|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)r|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=r,n}function nE(e,n,r){var o=n.pendingProps;switch(Bh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ue(n),null;case 1:return ue(n),null;case 3:return r=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),Gi(xe),Wt(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(pa(n)?Xi(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,qh())),ue(n),null;case 26:var h=n.type,f=n.memoizedState;return e===null?(Xi(n),f!==null?(ue(n),Yp(n,f)):(ue(n),Vf(n,h,null,o,r))):f?f!==e.memoizedState?(Xi(n),ue(n),Yp(n,f)):(ue(n),n.flags&=-16777217):(e=e.memoizedProps,e!==o&&Xi(n),ue(n),Vf(n,h,e,o,r)),null;case 27:if(An(n),r=Et.current,h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Xi(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return ue(n),null}e=at.current,pa(n)?Cg(n):(e=e_(h,o,r),n.stateNode=e,Xi(n))}return ue(n),null;case 5:if(An(n),h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Xi(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return ue(n),null}if(f=at.current,pa(n))Cg(n);else{var g=ac(Et.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?g.createElement("select",{is:o.is}):g.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?g.createElement(h,{is:o.is}):g.createElement(h)}}f[Re]=n,f[ze]=o;t:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break t;for(;g.sibling===null;){if(g.return===null||g.return===n)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;t:switch(Xe(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break t;case"img":o=!0;break t;default:o=!1}o&&Xi(n)}}return ue(n),Vf(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,r),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&Xi(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(a(166));if(e=Et.current,pa(n)){if(e=n.stateNode,r=n.memoizedProps,o=null,h=Ke,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[Re]=n,e=!!(e.nodeValue===r||o!==null&&o.suppressHydrationWarning===!0||Fy(e.nodeValue,r)),e||wr(n,!0)}else e=ac(e).createTextNode(o),e[Re]=n,n.stateNode=e}return ue(n),null;case 31:if(r=n.memoizedState,e===null||e.memoizedState!==null){if(o=pa(n),r!==null){if(e===null){if(!o)throw Error(a(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[Re]=n}else Rs(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ue(n),e=!1}else r=qh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=r),e=!0;if(!e)return n.flags&256?(Tn(n),n):(Tn(n),null);if((n.flags&128)!==0)throw Error(a(558))}return ue(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=pa(n),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[Re]=n}else Rs(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ue(n),h=!1}else h=qh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(Tn(n),n):(Tn(n),null)}return Tn(n),(n.flags&128)!==0?(n.lanes=r,n):(r=o!==null,e=e!==null&&e.memoizedState!==null,r&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),r!==e&&r&&(n.child.flags|=8192),Gu(n,n.updateQueue),ue(n),null);case 4:return Wt(),e===null&&nd(n.stateNode.containerInfo),ue(n),null;case 10:return Gi(n.type),ue(n),null;case 19:if(X(Ee),o=n.memoizedState,o===null)return ue(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)Ko(o,!1);else{if(_e!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=Ou(e),f!==null){for(n.flags|=128,Ko(o,!1),e=f.updateQueue,n.updateQueue=e,Gu(n,e),n.subtreeFlags=0,e=r,r=n.child;r!==null;)Sg(r,e),r=r.sibling;return it(Ee,Ee.current&1|2),jt&&qi(n,o.treeForkCount),n.child}e=e.sibling}o.tail!==null&&Jt()>Wu&&(n.flags|=128,h=!0,Ko(o,!1),n.lanes=4194304)}else{if(!h)if(e=Ou(f),e!==null){if(n.flags|=128,h=!0,e=e.updateQueue,n.updateQueue=e,Gu(n,e),Ko(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!jt)return ue(n),null}else 2*Jt()-o.renderingStartTime>Wu&&r!==536870912&&(n.flags|=128,h=!0,Ko(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(e=o.last,e!==null?e.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Jt(),e.sibling=null,r=Ee.current,it(Ee,h?r&1|2:r&1),jt&&qi(n,o.treeForkCount),e):(ue(n),null);case 22:case 23:return Tn(n),nf(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(r&536870912)!==0&&(n.flags&128)===0&&(ue(n),n.subtreeFlags&6&&(n.flags|=8192)):ue(n),r=n.updateQueue,r!==null&&Gu(n,r.retryQueue),r=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==r&&(n.flags|=2048),e!==null&&X(xs),null;case 24:return r=null,e!==null&&(r=e.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),Gi(xe),ue(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function iE(e,n){switch(Bh(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Gi(xe),Wt(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return An(n),null;case 31:if(n.memoizedState!==null){if(Tn(n),n.alternate===null)throw Error(a(340));Rs()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(Tn(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Rs()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return X(Ee),null;case 4:return Wt(),null;case 10:return Gi(n.type),null;case 22:case 23:return Tn(n),nf(),e!==null&&X(xs),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Gi(xe),null;case 25:return null;default:return null}}function Xp(e,n){switch(Bh(n),n.tag){case 3:Gi(xe),Wt();break;case 26:case 27:case 5:An(n);break;case 4:Wt();break;case 31:n.memoizedState!==null&&Tn(n);break;case 13:Tn(n);break;case 19:X(Ee);break;case 10:Gi(n.type);break;case 22:case 23:Tn(n),nf(),e!==null&&X(xs);break;case 24:Gi(xe)}}function Qo(e,n){try{var r=n.updateQueue,o=r!==null?r.lastEffect:null;if(o!==null){var h=o.next;r=h;do{if((r.tag&e)===e){o=void 0;var f=r.create,g=r.inst;o=f(),g.destroy=o}r=r.next}while(r!==h)}}catch(T){te(n,n.return,T)}}function Or(e,n,r){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&e)===e){var g=o.inst,T=g.destroy;if(T!==void 0){g.destroy=void 0,h=n;var C=r,j=T;try{j()}catch(K){te(h,C,K)}}}o=o.next}while(o!==f)}}catch(K){te(n,n.return,K)}}function Wp(e){var n=e.updateQueue;if(n!==null){var r=e.stateNode;try{jg(n,r)}catch(o){te(e,e.return,o)}}}function Jp(e,n,r){r.props=Vs(e.type,e.memoizedProps),r.state=e.memoizedState;try{r.componentWillUnmount()}catch(o){te(e,n,o)}}function Yo(e,n){try{var r=e.ref;if(r!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof r=="function"?e.refCleanup=r(o):r.current=o}}catch(h){te(e,n,h)}}function Ci(e,n){var r=e.ref,o=e.refCleanup;if(r!==null)if(typeof o=="function")try{o()}catch(h){te(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(h){te(e,n,h)}else r.current=null}function Zp(e){var n=e.type,r=e.memoizedProps,o=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&o.focus();break t;case"img":r.src?o.src=r.src:r.srcSet&&(o.srcset=r.srcSet)}}catch(h){te(e,e.return,h)}}function kf(e,n,r){try{var o=e.stateNode;wE(o,e.type,r,n),o[ze]=n}catch(h){te(e,e.return,h)}}function $p(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&zr(e.type)||e.tag===4}function Lf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||$p(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&zr(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Pf(e,n,r){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(e,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(e),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=Qn));else if(o!==4&&(o===27&&zr(e.type)&&(r=e.stateNode,n=null),e=e.child,e!==null))for(Pf(e,n,r),e=e.sibling;e!==null;)Pf(e,n,r),e=e.sibling}function Ku(e,n,r){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?r.insertBefore(e,n):r.appendChild(e);else if(o!==4&&(o===27&&zr(e.type)&&(r=e.stateNode),e=e.child,e!==null))for(Ku(e,n,r),e=e.sibling;e!==null;)Ku(e,n,r),e=e.sibling}function ty(e){var n=e.stateNode,r=e.memoizedProps;try{for(var o=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);Xe(n,o,r),n[Re]=e,n[ze]=r}catch(f){te(e,e.return,f)}}var Wi=!1,Oe=!1,Uf=!1,ey=typeof WeakSet=="function"?WeakSet:Set,Be=null;function rE(e,n){if(e=e.containerInfo,sd=dc,e=dg(e),Dh(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else t:{r=(r=e.ownerDocument)&&r.defaultView||window;var o=r.getSelection&&r.getSelection();if(o&&o.rangeCount!==0){r=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break t}var g=0,T=-1,C=-1,j=0,K=0,W=e,B=null;e:for(;;){for(var F;W!==r||h!==0&&W.nodeType!==3||(T=g+h),W!==f||o!==0&&W.nodeType!==3||(C=g+o),W.nodeType===3&&(g+=W.nodeValue.length),(F=W.firstChild)!==null;)B=W,W=F;for(;;){if(W===e)break e;if(B===r&&++j===h&&(T=g),B===f&&++K===o&&(C=g),(F=W.nextSibling)!==null)break;W=B,B=W.parentNode}W=F}r=T===-1||C===-1?null:{start:T,end:C}}else r=null}r=r||{start:0,end:0}}else r=null;for(ad={focusedElem:e,selectionRange:r},dc=!1,Be=n;Be!==null;)if(n=Be,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Be=e;else for(;Be!==null;){switch(n=Be,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(r=0;r<e.length;r++)h=e[r],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,r=n,h=f.memoizedProps,f=f.memoizedState,o=r.stateNode;try{var lt=Vs(r.type,h);e=o.getSnapshotBeforeUpdate(lt,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(yt){te(r,r.return,yt)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,r=e.nodeType,r===9)ud(e);else if(r===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":ud(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=n.sibling,e!==null){e.return=n.return,Be=e;break}Be=n.return}}function ny(e,n,r){var o=r.flags;switch(r.tag){case 0:case 11:case 15:Zi(e,r),o&4&&Qo(5,r);break;case 1:if(Zi(e,r),o&4)if(e=r.stateNode,n===null)try{e.componentDidMount()}catch(g){te(r,r.return,g)}else{var h=Vs(r.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(g){te(r,r.return,g)}}o&64&&Wp(r),o&512&&Yo(r,r.return);break;case 3:if(Zi(e,r),o&64&&(e=r.updateQueue,e!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{jg(e,n)}catch(g){te(r,r.return,g)}}break;case 27:n===null&&o&4&&ty(r);case 26:case 5:Zi(e,r),n===null&&o&4&&Zp(r),o&512&&Yo(r,r.return);break;case 12:Zi(e,r);break;case 31:Zi(e,r),o&4&&sy(e,r);break;case 13:Zi(e,r),o&4&&ay(e,r),o&64&&(e=r.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(r=dE.bind(null,r),NE(e,r))));break;case 22:if(o=r.memoizedState!==null||Wi,!o){n=n!==null&&n.memoizedState!==null||Oe,h=Wi;var f=Oe;Wi=o,(Oe=n)&&!f?$i(e,r,(r.subtreeFlags&8772)!==0):Zi(e,r),Wi=h,Oe=f}break;case 30:break;default:Zi(e,r)}}function iy(e){var n=e.alternate;n!==null&&(e.alternate=null,iy(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&$s(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var de=null,un=!1;function Ji(e,n,r){for(r=r.child;r!==null;)ry(e,n,r),r=r.sibling}function ry(e,n,r){if(Fe&&typeof Fe.onCommitFiberUnmount=="function")try{Fe.onCommitFiberUnmount(qn,r)}catch{}switch(r.tag){case 26:Oe||Ci(r,n),Ji(e,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:Oe||Ci(r,n);var o=de,h=un;zr(r.type)&&(de=r.stateNode,un=!1),Ji(e,n,r),il(r.stateNode),de=o,un=h;break;case 5:Oe||Ci(r,n);case 6:if(o=de,h=un,de=null,Ji(e,n,r),de=o,un=h,de!==null)if(un)try{(de.nodeType===9?de.body:de.nodeName==="HTML"?de.ownerDocument.body:de).removeChild(r.stateNode)}catch(f){te(r,n,f)}else try{de.removeChild(r.stateNode)}catch(f){te(r,n,f)}break;case 18:de!==null&&(un?(e=de,Wy(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,r.stateNode),Pa(e)):Wy(de,r.stateNode));break;case 4:o=de,h=un,de=r.stateNode.containerInfo,un=!0,Ji(e,n,r),de=o,un=h;break;case 0:case 11:case 14:case 15:Or(2,r,n),Oe||Or(4,r,n),Ji(e,n,r);break;case 1:Oe||(Ci(r,n),o=r.stateNode,typeof o.componentWillUnmount=="function"&&Jp(r,n,o)),Ji(e,n,r);break;case 21:Ji(e,n,r);break;case 22:Oe=(o=Oe)||r.memoizedState!==null,Ji(e,n,r),Oe=o;break;default:Ji(e,n,r)}}function sy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Pa(e)}catch(r){te(n,n.return,r)}}}function ay(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Pa(e)}catch(r){te(n,n.return,r)}}function sE(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new ey),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new ey),n;default:throw Error(a(435,e.tag))}}function Qu(e,n){var r=sE(e);n.forEach(function(o){if(!r.has(o)){r.add(o);var h=mE.bind(null,e,o);o.then(h,h)}})}function cn(e,n){var r=n.deletions;if(r!==null)for(var o=0;o<r.length;o++){var h=r[o],f=e,g=n,T=g;t:for(;T!==null;){switch(T.tag){case 27:if(zr(T.type)){de=T.stateNode,un=!1;break t}break;case 5:de=T.stateNode,un=!1;break t;case 3:case 4:de=T.stateNode.containerInfo,un=!0;break t}T=T.return}if(de===null)throw Error(a(160));ry(f,g,h),de=null,un=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)oy(n,e),n=n.sibling}var $n=null;function oy(e,n){var r=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:cn(n,e),hn(e),o&4&&(Or(3,e,e.return),Qo(3,e),Or(5,e,e.return));break;case 1:cn(n,e),hn(e),o&512&&(Oe||r===null||Ci(r,r.return)),o&64&&Wi&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(r=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=r===null?o:r.concat(o))));break;case 26:var h=$n;if(cn(n,e),hn(e),o&512&&(Oe||r===null||Ci(r,r.return)),o&4){var f=r!==null?r.memoizedState:null;if(o=e.memoizedState,r===null)if(o===null)if(e.stateNode===null){t:{o=e.type,r=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[di]||f[Re]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),Xe(f,o,r),f[Re]=e,Ce(f),o=f;break t;case"link":var g=o_("link","href",h).get(o+(r.href||""));if(g){for(var T=0;T<g.length;T++)if(f=g[T],f.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){g.splice(T,1);break e}}f=h.createElement(o),Xe(f,o,r),h.head.appendChild(f);break;case"meta":if(g=o_("meta","content",h).get(o+(r.content||""))){for(T=0;T<g.length;T++)if(f=g[T],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){g.splice(T,1);break e}}f=h.createElement(o),Xe(f,o,r),h.head.appendChild(f);break;default:throw Error(a(468,o))}f[Re]=e,Ce(f),o=f}e.stateNode=o}else l_(h,e.type,e.stateNode);else e.stateNode=a_(h,o,e.memoizedProps);else f!==o?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,o===null?l_(h,e.type,e.stateNode):a_(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&kf(e,e.memoizedProps,r.memoizedProps)}break;case 27:cn(n,e),hn(e),o&512&&(Oe||r===null||Ci(r,r.return)),r!==null&&o&4&&kf(e,e.memoizedProps,r.memoizedProps);break;case 5:if(cn(n,e),hn(e),o&512&&(Oe||r===null||Ci(r,r.return)),e.flags&32){h=e.stateNode;try{ln(h,"")}catch(lt){te(e,e.return,lt)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,kf(e,h,r!==null?r.memoizedProps:h)),o&1024&&(Uf=!0);break;case 6:if(cn(n,e),hn(e),o&4){if(e.stateNode===null)throw Error(a(162));o=e.memoizedProps,r=e.stateNode;try{r.nodeValue=o}catch(lt){te(e,e.return,lt)}}break;case 3:if(uc=null,h=$n,$n=oc(n.containerInfo),cn(n,e),$n=h,hn(e),o&4&&r!==null&&r.memoizedState.isDehydrated)try{Pa(n.containerInfo)}catch(lt){te(e,e.return,lt)}Uf&&(Uf=!1,ly(e));break;case 4:o=$n,$n=oc(e.stateNode.containerInfo),cn(n,e),hn(e),$n=o;break;case 12:cn(n,e),hn(e);break;case 31:cn(n,e),hn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Qu(e,o)));break;case 13:cn(n,e),hn(e),e.child.flags&8192&&e.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(Xu=Jt()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Qu(e,o)));break;case 22:h=e.memoizedState!==null;var C=r!==null&&r.memoizedState!==null,j=Wi,K=Oe;if(Wi=j||h,Oe=K||C,cn(n,e),Oe=K,Wi=j,hn(e),o&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(r===null||C||Wi||Oe||ks(e)),r=null,n=e;;){if(n.tag===5||n.tag===26){if(r===null){C=r=n;try{if(f=C.stateNode,h)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{T=C.stateNode;var W=C.memoizedProps.style,B=W!=null&&W.hasOwnProperty("display")?W.display:null;T.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(lt){te(C,C.return,lt)}}}else if(n.tag===6){if(r===null){C=n;try{C.stateNode.nodeValue=h?"":C.memoizedProps}catch(lt){te(C,C.return,lt)}}}else if(n.tag===18){if(r===null){C=n;try{var F=C.stateNode;h?Jy(F,!0):Jy(C.stateNode,!1)}catch(lt){te(C,C.return,lt)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(r=o.retryQueue,r!==null&&(o.retryQueue=null,Qu(e,r))));break;case 19:cn(n,e),hn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Qu(e,o)));break;case 30:break;case 21:break;default:cn(n,e),hn(e)}}function hn(e){var n=e.flags;if(n&2){try{for(var r,o=e.return;o!==null;){if($p(o)){r=o;break}o=o.return}if(r==null)throw Error(a(160));switch(r.tag){case 27:var h=r.stateNode,f=Lf(e);Ku(e,f,h);break;case 5:var g=r.stateNode;r.flags&32&&(ln(g,""),r.flags&=-33);var T=Lf(e);Ku(e,T,g);break;case 3:case 4:var C=r.stateNode.containerInfo,j=Lf(e);Pf(e,j,C);break;default:throw Error(a(161))}}catch(K){te(e,e.return,K)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function ly(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;ly(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Zi(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)ny(e,n.alternate,n),n=n.sibling}function ks(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Or(4,n,n.return),ks(n);break;case 1:Ci(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&Jp(n,n.return,r),ks(n);break;case 27:il(n.stateNode);case 26:case 5:Ci(n,n.return),ks(n);break;case 22:n.memoizedState===null&&ks(n);break;case 30:ks(n);break;default:ks(n)}e=e.sibling}}function $i(e,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=e,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:$i(h,f,r),Qo(4,f);break;case 1:if($i(h,f,r),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(j){te(o,o.return,j)}if(o=f,h=o.updateQueue,h!==null){var T=o.stateNode;try{var C=h.shared.hiddenCallbacks;if(C!==null)for(h.shared.hiddenCallbacks=null,h=0;h<C.length;h++)zg(C[h],T)}catch(j){te(o,o.return,j)}}r&&g&64&&Wp(f),Yo(f,f.return);break;case 27:ty(f);case 26:case 5:$i(h,f,r),r&&o===null&&g&4&&Zp(f),Yo(f,f.return);break;case 12:$i(h,f,r);break;case 31:$i(h,f,r),r&&g&4&&sy(h,f);break;case 13:$i(h,f,r),r&&g&4&&ay(h,f);break;case 22:f.memoizedState===null&&$i(h,f,r),Yo(f,f.return);break;case 30:break;default:$i(h,f,r)}n=n.sibling}}function zf(e,n){var r=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==r&&(e!=null&&e.refCount++,r!=null&&Vo(r))}function jf(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Vo(e))}function ti(e,n,r,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)uy(e,n,r,o),n=n.sibling}function uy(e,n,r,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:ti(e,n,r,o),h&2048&&Qo(9,n);break;case 1:ti(e,n,r,o);break;case 3:ti(e,n,r,o),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Vo(e)));break;case 12:if(h&2048){ti(e,n,r,o),e=n.stateNode;try{var f=n.memoizedProps,g=f.id,T=f.onPostCommit;typeof T=="function"&&T(g,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(C){te(n,n.return,C)}}else ti(e,n,r,o);break;case 31:ti(e,n,r,o);break;case 13:ti(e,n,r,o);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?ti(e,n,r,o):Xo(e,n):f._visibility&2?ti(e,n,r,o):(f._visibility|=2,Ra(e,n,r,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&zf(g,n);break;case 24:ti(e,n,r,o),h&2048&&jf(n.alternate,n);break;default:ti(e,n,r,o)}}function Ra(e,n,r,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,g=n,T=r,C=o,j=g.flags;switch(g.tag){case 0:case 11:case 15:Ra(f,g,T,C,h),Qo(8,g);break;case 23:break;case 22:var K=g.stateNode;g.memoizedState!==null?K._visibility&2?Ra(f,g,T,C,h):Xo(f,g):(K._visibility|=2,Ra(f,g,T,C,h)),h&&j&2048&&zf(g.alternate,g);break;case 24:Ra(f,g,T,C,h),h&&j&2048&&jf(g.alternate,g);break;default:Ra(f,g,T,C,h)}n=n.sibling}}function Xo(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=e,o=n,h=o.flags;switch(o.tag){case 22:Xo(r,o),h&2048&&zf(o.alternate,o);break;case 24:Xo(r,o),h&2048&&jf(o.alternate,o);break;default:Xo(r,o)}n=n.sibling}}var Wo=8192;function Ca(e,n,r){if(e.subtreeFlags&Wo)for(e=e.child;e!==null;)cy(e,n,r),e=e.sibling}function cy(e,n,r){switch(e.tag){case 26:Ca(e,n,r),e.flags&Wo&&e.memoizedState!==null&&GE(r,$n,e.memoizedState,e.memoizedProps);break;case 5:Ca(e,n,r);break;case 3:case 4:var o=$n;$n=oc(e.stateNode.containerInfo),Ca(e,n,r),$n=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=Wo,Wo=16777216,Ca(e,n,r),Wo=o):Ca(e,n,r));break;default:Ca(e,n,r)}}function hy(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function Jo(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];Be=o,dy(o,e)}hy(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)fy(e),e=e.sibling}function fy(e){switch(e.tag){case 0:case 11:case 15:Jo(e),e.flags&2048&&Or(9,e,e.return);break;case 3:Jo(e);break;case 12:Jo(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,Yu(e)):Jo(e);break;default:Jo(e)}}function Yu(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];Be=o,dy(o,e)}hy(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Or(8,n,n.return),Yu(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,Yu(n));break;default:Yu(n)}e=e.sibling}}function dy(e,n){for(;Be!==null;){var r=Be;switch(r.tag){case 0:case 11:case 15:Or(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var o=r.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Vo(r.memoizedState.cache)}if(o=r.child,o!==null)o.return=r,Be=o;else t:for(r=e;Be!==null;){o=Be;var h=o.sibling,f=o.return;if(iy(o),o===r){Be=null;break t}if(h!==null){h.return=f,Be=h;break t}Be=f}}}var aE={getCacheForType:function(e){var n=Qe(xe),r=n.data.get(e);return r===void 0&&(r=e(),n.data.set(e,r)),r},cacheSignal:function(){return Qe(xe).controller.signal}},oE=typeof WeakMap=="function"?WeakMap:Map,Kt=0,ae=null,Ot=null,kt=0,$t=0,En=null,Nr=!1,Ia=!1,Bf=!1,tr=0,_e=0,Vr=0,Ls=0,Hf=0,Sn=0,xa=0,Zo=null,fn=null,qf=!1,Xu=0,my=0,Wu=1/0,Ju=null,kr=null,Le=0,Lr=null,Da=null,er=0,Ff=0,Gf=null,gy=null,$o=0,Kf=null;function bn(){return(Kt&2)!==0&&kt!==0?kt&-kt:G.T!==null?Zf():Zl()}function py(){if(Sn===0)if((kt&536870912)===0||jt){var e=us;us<<=1,(us&3932160)===0&&(us=262144),Sn=e}else Sn=536870912;return e=vn.current,e!==null&&(e.flags|=32),Sn}function dn(e,n,r){(e===ae&&($t===2||$t===9)||e.cancelPendingCommit!==null)&&(Ma(e,0),Pr(e,kt,Sn,!1)),cs(e,r),((Kt&2)===0||e!==ae)&&(e===ae&&((Kt&2)===0&&(Ls|=r),_e===4&&Pr(e,kt,Sn,!1)),Ii(e))}function yy(e,n,r){if((Kt&6)!==0)throw Error(a(327));var o=!r&&(n&127)===0&&(n&e.expiredLanes)===0||Fn(e,n),h=o?cE(e,n):Yf(e,n,!0),f=o;do{if(h===0){Ia&&!o&&Pr(e,n,0,!1);break}else{if(r=e.current.alternate,f&&!lE(r)){h=Yf(e,n,!1),f=!1;continue}if(h===2){if(f=n,e.errorRecoveryDisabledLanes&f)var g=0;else g=e.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;t:{var T=e;h=Zo;var C=T.current.memoizedState.isDehydrated;if(C&&(Ma(T,g).flags|=256),g=Yf(T,g,!1),g!==2){if(Bf&&!C){T.errorRecoveryDisabledLanes|=f,Ls|=f,h=4;break t}f=fn,fn=h,f!==null&&(fn===null?fn=f:fn.push.apply(fn,f))}h=g}if(f=!1,h!==2)continue}}if(h===1){Ma(e,0),Pr(e,n,0,!0);break}t:{switch(o=e,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:Pr(o,n,Sn,!Nr);break t;case 2:fn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=Xu+300-Jt(),10<h)){if(Pr(o,n,Sn,!Nr),ci(o,0,!0)!==0)break t;er=n,o.timeoutHandle=Yy(_y.bind(null,o,r,fn,Ju,qf,n,Sn,Ls,xa,Nr,f,"Throttled",-0,0),h);break t}_y(o,r,fn,Ju,qf,n,Sn,Ls,xa,Nr,f,null,-0,0)}}break}while(!0);Ii(e)}function _y(e,n,r,o,h,f,g,T,C,j,K,W,B,F){if(e.timeoutHandle=-1,W=n.subtreeFlags,W&8192||(W&16785408)===16785408){W={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Qn},cy(n,f,W);var lt=(f&62914560)===f?Xu-Jt():(f&4194048)===f?my-Jt():0;if(lt=KE(W,lt),lt!==null){er=f,e.cancelPendingCommit=lt(Ry.bind(null,e,n,f,r,o,h,g,T,C,K,W,null,B,F)),Pr(e,f,g,!j);return}}Ry(e,n,f,r,o,h,g,T,C)}function lE(e){for(var n=e;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var o=0;o<r.length;o++){var h=r[o],f=h.getSnapshot;h=h.value;try{if(!yn(f(),h))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Pr(e,n,r,o){n&=~Hf,n&=~Ls,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var h=n;0<h;){var f=31-ve(h),g=1<<f;o[f]=-1,h&=~g}r!==0&&hs(e,r,n)}function Zu(){return(Kt&6)===0?(tl(0),!1):!0}function Qf(){if(Ot!==null){if($t===0)var e=Ot.return;else e=Ot,Fi=Cs=null,uf(e),Ea=null,Lo=0,e=Ot;for(;e!==null;)Xp(e.alternate,e),e=e.return;Ot=null}}function Ma(e,n){var r=e.timeoutHandle;r!==-1&&(e.timeoutHandle=-1,IE(r)),r=e.cancelPendingCommit,r!==null&&(e.cancelPendingCommit=null,r()),er=0,Qf(),ae=e,Ot=r=Hi(e.current,null),kt=n,$t=0,En=null,Nr=!1,Ia=Fn(e,n),Bf=!1,xa=Sn=Hf=Ls=Vr=_e=0,fn=Zo=null,qf=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var h=31-ve(o),f=1<<h;n|=e[h],o&=~f}return tr=n,vu(),r}function vy(e,n){It=null,G.H=Fo,n===Ta||n===Cu?(n=kg(),$t=3):n===Wh?(n=kg(),$t=4):$t=n===wf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,En=n,Ot===null&&(_e=1,Bu(e,On(n,e.current)))}function Ty(){var e=vn.current;return e===null?!0:(kt&4194048)===kt?Ln===null:(kt&62914560)===kt||(kt&536870912)!==0?e===Ln:!1}function Ey(){var e=G.H;return G.H=Fo,e===null?Fo:e}function Sy(){var e=G.A;return G.A=aE,e}function $u(){_e=4,Nr||(kt&4194048)!==kt&&vn.current!==null||(Ia=!0),(Vr&134217727)===0&&(Ls&134217727)===0||ae===null||Pr(ae,kt,Sn,!1)}function Yf(e,n,r){var o=Kt;Kt|=2;var h=Ey(),f=Sy();(ae!==e||kt!==n)&&(Ju=null,Ma(e,n)),n=!1;var g=_e;t:do try{if($t!==0&&Ot!==null){var T=Ot,C=En;switch($t){case 8:Qf(),g=6;break t;case 3:case 2:case 9:case 6:vn.current===null&&(n=!0);var j=$t;if($t=0,En=null,Oa(e,T,C,j),r&&Ia){g=0;break t}break;default:j=$t,$t=0,En=null,Oa(e,T,C,j)}}uE(),g=_e;break}catch(K){vy(e,K)}while(!0);return n&&e.shellSuspendCounter++,Fi=Cs=null,Kt=o,G.H=h,G.A=f,Ot===null&&(ae=null,kt=0,vu()),g}function uE(){for(;Ot!==null;)by(Ot)}function cE(e,n){var r=Kt;Kt|=2;var o=Ey(),h=Sy();ae!==e||kt!==n?(Ju=null,Wu=Jt()+500,Ma(e,n)):Ia=Fn(e,n);t:do try{if($t!==0&&Ot!==null){n=Ot;var f=En;e:switch($t){case 1:$t=0,En=null,Oa(e,n,f,1);break;case 2:case 9:if(Ng(f)){$t=0,En=null,Ay(n);break}n=function(){$t!==2&&$t!==9||ae!==e||($t=7),Ii(e)},f.then(n,n);break t;case 3:$t=7;break t;case 4:$t=5;break t;case 7:Ng(f)?($t=0,En=null,Ay(n)):($t=0,En=null,Oa(e,n,f,7));break;case 5:var g=null;switch(Ot.tag){case 26:g=Ot.memoizedState;case 5:case 27:var T=Ot;if(g?u_(g):T.stateNode.complete){$t=0,En=null;var C=T.sibling;if(C!==null)Ot=C;else{var j=T.return;j!==null?(Ot=j,tc(j)):Ot=null}break e}}$t=0,En=null,Oa(e,n,f,5);break;case 6:$t=0,En=null,Oa(e,n,f,6);break;case 8:Qf(),_e=6;break t;default:throw Error(a(462))}}hE();break}catch(K){vy(e,K)}while(!0);return Fi=Cs=null,G.H=o,G.A=h,Kt=r,Ot!==null?0:(ae=null,kt=0,vu(),_e)}function hE(){for(;Ot!==null&&!Qt();)by(Ot)}function by(e){var n=Qp(e.alternate,e,tr);e.memoizedProps=e.pendingProps,n===null?tc(e):Ot=n}function Ay(e){var n=e,r=n.alternate;switch(n.tag){case 15:case 0:n=Bp(r,n,n.pendingProps,n.type,void 0,kt);break;case 11:n=Bp(r,n,n.pendingProps,n.type.render,n.ref,kt);break;case 5:uf(n);default:Xp(r,n),n=Ot=Sg(n,tr),n=Qp(r,n,tr)}e.memoizedProps=e.pendingProps,n===null?tc(e):Ot=n}function Oa(e,n,r,o){Fi=Cs=null,uf(n),Ea=null,Lo=0;var h=n.return;try{if($1(e,h,n,r,kt)){_e=1,Bu(e,On(r,e.current)),Ot=null;return}}catch(f){if(h!==null)throw Ot=h,f;_e=1,Bu(e,On(r,e.current)),Ot=null;return}n.flags&32768?(jt||o===1?e=!0:Ia||(kt&536870912)!==0?e=!1:(Nr=e=!0,(o===2||o===9||o===3||o===6)&&(o=vn.current,o!==null&&o.tag===13&&(o.flags|=16384))),wy(n,e)):tc(n)}function tc(e){var n=e;do{if((n.flags&32768)!==0){wy(n,Nr);return}e=n.return;var r=nE(n.alternate,n,tr);if(r!==null){Ot=r;return}if(n=n.sibling,n!==null){Ot=n;return}Ot=n=e}while(n!==null);_e===0&&(_e=5)}function wy(e,n){do{var r=iE(e.alternate,e);if(r!==null){r.flags&=32767,Ot=r;return}if(r=e.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(e=e.sibling,e!==null)){Ot=e;return}Ot=e=r}while(e!==null);_e=6,Ot=null}function Ry(e,n,r,o,h,f,g,T,C){e.cancelPendingCommit=null;do ec();while(Le!==0);if((Kt&6)!==0)throw Error(a(327));if(n!==null){if(n===e.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=kh,Rh(e,r,f,g,T,C),e===ae&&(Ot=ae=null,kt=0),Da=n,Lr=e,er=r,Ff=f,Gf=h,gy=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,gE(dr,function(){return My(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=G.T,G.T=null,h=nt.p,nt.p=2,g=Kt,Kt|=4;try{rE(e,n,r)}finally{Kt=g,nt.p=h,G.T=o}}Le=1,Cy(),Iy(),xy()}}function Cy(){if(Le===1){Le=0;var e=Lr,n=Da,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=G.T,G.T=null;var o=nt.p;nt.p=2;var h=Kt;Kt|=4;try{oy(n,e);var f=ad,g=dg(e.containerInfo),T=f.focusedElem,C=f.selectionRange;if(g!==T&&T&&T.ownerDocument&&fg(T.ownerDocument.documentElement,T)){if(C!==null&&Dh(T)){var j=C.start,K=C.end;if(K===void 0&&(K=j),"selectionStart"in T)T.selectionStart=j,T.selectionEnd=Math.min(K,T.value.length);else{var W=T.ownerDocument||document,B=W&&W.defaultView||window;if(B.getSelection){var F=B.getSelection(),lt=T.textContent.length,yt=Math.min(C.start,lt),se=C.end===void 0?yt:Math.min(C.end,lt);!F.extend&&yt>se&&(g=se,se=yt,yt=g);var k=hg(T,yt),D=hg(T,se);if(k&&D&&(F.rangeCount!==1||F.anchorNode!==k.node||F.anchorOffset!==k.offset||F.focusNode!==D.node||F.focusOffset!==D.offset)){var z=W.createRange();z.setStart(k.node,k.offset),F.removeAllRanges(),yt>se?(F.addRange(z),F.extend(D.node,D.offset)):(z.setEnd(D.node,D.offset),F.addRange(z))}}}}for(W=[],F=T;F=F.parentNode;)F.nodeType===1&&W.push({element:F,left:F.scrollLeft,top:F.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<W.length;T++){var Q=W[T];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}dc=!!sd,ad=sd=null}finally{Kt=h,nt.p=o,G.T=r}}e.current=n,Le=2}}function Iy(){if(Le===2){Le=0;var e=Lr,n=Da,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=G.T,G.T=null;var o=nt.p;nt.p=2;var h=Kt;Kt|=4;try{ny(e,n.alternate,n)}finally{Kt=h,nt.p=o,G.T=r}}Le=3}}function xy(){if(Le===4||Le===3){Le=0,ke();var e=Lr,n=Da,r=er,o=gy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Le=5:(Le=0,Da=Lr=null,Dy(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(kr=null),Ui(r),n=n.stateNode,Fe&&typeof Fe.onCommitFiberRoot=="function")try{Fe.onCommitFiberRoot(qn,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=G.T,h=nt.p,nt.p=2,G.T=null;try{for(var f=e.onRecoverableError,g=0;g<o.length;g++){var T=o[g];f(T.value,{componentStack:T.stack})}}finally{G.T=n,nt.p=h}}(er&3)!==0&&ec(),Ii(e),h=e.pendingLanes,(r&261930)!==0&&(h&42)!==0?e===Kf?$o++:($o=0,Kf=e):$o=0,tl(0)}}function Dy(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Vo(n)))}function ec(){return Cy(),Iy(),xy(),My()}function My(){if(Le!==5)return!1;var e=Lr,n=Ff;Ff=0;var r=Ui(er),o=G.T,h=nt.p;try{nt.p=32>r?32:r,G.T=null,r=Gf,Gf=null;var f=Lr,g=er;if(Le=0,Da=Lr=null,er=0,(Kt&6)!==0)throw Error(a(331));var T=Kt;if(Kt|=4,fy(f.current),uy(f,f.current,g,r),Kt=T,tl(0,!1),Fe&&typeof Fe.onPostCommitFiberRoot=="function")try{Fe.onPostCommitFiberRoot(qn,f)}catch{}return!0}finally{nt.p=h,G.T=o,Dy(e,n)}}function Oy(e,n,r){n=On(r,n),n=Af(e.stateNode,n,2),e=xr(e,n,2),e!==null&&(cs(e,2),Ii(e))}function te(e,n,r){if(e.tag===3)Oy(e,e,r);else for(;n!==null;){if(n.tag===3){Oy(n,e,r);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(kr===null||!kr.has(o))){e=On(r,e),r=Np(2),o=xr(n,r,2),o!==null&&(Vp(r,o,n,e),cs(o,2),Ii(o));break}}n=n.return}}function Xf(e,n,r){var o=e.pingCache;if(o===null){o=e.pingCache=new oE;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(r)||(Bf=!0,h.add(r),e=fE.bind(null,e,n,r),n.then(e,e))}function fE(e,n,r){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&r,e.warmLanes&=~r,ae===e&&(kt&r)===r&&(_e===4||_e===3&&(kt&62914560)===kt&&300>Jt()-Xu?(Kt&2)===0&&Ma(e,0):Hf|=r,xa===kt&&(xa=0)),Ii(e)}function Ny(e,n){n===0&&(n=Jl()),e=As(e,n),e!==null&&(cs(e,n),Ii(e))}function dE(e){var n=e.memoizedState,r=0;n!==null&&(r=n.retryLane),Ny(e,r)}function mE(e,n){var r=0;switch(e.tag){case 31:case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(r=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(a(314))}o!==null&&o.delete(n),Ny(e,r)}function gE(e,n){return H(e,n)}var nc=null,Na=null,Wf=!1,ic=!1,Jf=!1,Ur=0;function Ii(e){e!==Na&&e.next===null&&(Na===null?nc=Na=e:Na=Na.next=e),ic=!0,Wf||(Wf=!0,yE())}function tl(e,n){if(!Jf&&ic){Jf=!0;do for(var r=!1,o=nc;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var g=o.suspendedLanes,T=o.pingedLanes;f=(1<<31-ve(42|e)+1)-1,f&=h&~(g&~T),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(r=!0,Py(o,f))}else f=kt,f=ci(o,o===ae?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||Fn(o,f)||(r=!0,Py(o,f));o=o.next}while(r);Jf=!1}}function pE(){Vy()}function Vy(){ic=Wf=!1;var e=0;Ur!==0&&CE()&&(e=Ur);for(var n=Jt(),r=null,o=nc;o!==null;){var h=o.next,f=ky(o,n);f===0?(o.next=null,r===null?nc=h:r.next=h,h===null&&(Na=r)):(r=o,(e!==0||(f&3)!==0)&&(ic=!0)),o=h}Le!==0&&Le!==5||tl(e),Ur!==0&&(Ur=0)}function ky(e,n){for(var r=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var g=31-ve(f),T=1<<g,C=h[g];C===-1?((T&r)===0||(T&o)!==0)&&(h[g]=wh(T,n)):C<=n&&(e.expiredLanes|=T),f&=~T}if(n=ae,r=kt,r=ci(e,e===n?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,r===0||e===n&&($t===2||$t===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&Rt(o),e.callbackNode=null,e.callbackPriority=0;if((r&3)===0||Fn(e,r)){if(n=r&-r,n===e.callbackPriority)return n;switch(o!==null&&Rt(o),Ui(r)){case 2:case 8:r=uo;break;case 32:r=dr;break;case 268435456:r=Kl;break;default:r=dr}return o=Ly.bind(null,e),r=H(r,o),e.callbackPriority=n,e.callbackNode=r,n}return o!==null&&o!==null&&Rt(o),e.callbackPriority=2,e.callbackNode=null,2}function Ly(e,n){if(Le!==0&&Le!==5)return e.callbackNode=null,e.callbackPriority=0,null;var r=e.callbackNode;if(ec()&&e.callbackNode!==r)return null;var o=kt;return o=ci(e,e===ae?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(yy(e,o,n),ky(e,Jt()),e.callbackNode!=null&&e.callbackNode===r?Ly.bind(null,e):null)}function Py(e,n){if(ec())return null;yy(e,n,!0)}function yE(){xE(function(){(Kt&6)!==0?H(lo,pE):Vy()})}function Zf(){if(Ur===0){var e=_a;e===0&&(e=li,li<<=1,(li&261888)===0&&(li=256)),Ur=e}return Ur}function Uy(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ia(""+e)}function zy(e,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,e.id&&r.setAttribute("form",e.id),n.parentNode.insertBefore(r,n),e=new FormData(e),r.parentNode.removeChild(r),e}function _E(e,n,r,o,h){if(n==="submit"&&r&&r.stateNode===h){var f=Uy((h[ze]||null).action),g=o.submitter;g&&(n=(n=g[ze]||null)?Uy(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var T=new Ei("action","action",null,o,h);e.push({event:T,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Ur!==0){var C=g?zy(h,g):new FormData(h);_f(r,{pending:!0,data:C,method:h.method,action:f},null,C)}}else typeof f=="function"&&(T.preventDefault(),C=g?zy(h,g):new FormData(h),_f(r,{pending:!0,data:C,method:h.method,action:f},f,C))},currentTarget:h}]})}}for(var $f=0;$f<Vh.length;$f++){var td=Vh[$f],vE=td.toLowerCase(),TE=td[0].toUpperCase()+td.slice(1);Zn(vE,"on"+TE)}Zn(pg,"onAnimationEnd"),Zn(yg,"onAnimationIteration"),Zn(_g,"onAnimationStart"),Zn("dblclick","onDoubleClick"),Zn("focusin","onFocus"),Zn("focusout","onBlur"),Zn(L1,"onTransitionRun"),Zn(P1,"onTransitionStart"),Zn(U1,"onTransitionCancel"),Zn(vg,"onTransitionEnd"),yi("onMouseEnter",["mouseout","mouseover"]),yi("onMouseLeave",["mouseout","mouseover"]),yi("onPointerEnter",["pointerout","pointerover"]),yi("onPointerLeave",["pointerout","pointerover"]),pi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),pi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),pi("onBeforeInput",["compositionend","keypress","textInput","paste"]),pi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),pi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),pi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var el="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),EE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(el));function jy(e,n){n=(n&4)!==0;for(var r=0;r<e.length;r++){var o=e[r],h=o.event;o=o.listeners;t:{var f=void 0;if(n)for(var g=o.length-1;0<=g;g--){var T=o[g],C=T.instance,j=T.currentTarget;if(T=T.listener,C!==f&&h.isPropagationStopped())break t;f=T,h.currentTarget=j;try{f(h)}catch(K){_u(K)}h.currentTarget=null,f=C}else for(g=0;g<o.length;g++){if(T=o[g],C=T.instance,j=T.currentTarget,T=T.listener,C!==f&&h.isPropagationStopped())break t;f=T,h.currentTarget=j;try{f(h)}catch(K){_u(K)}h.currentTarget=null,f=C}}}}function Nt(e,n){var r=n[Zs];r===void 0&&(r=n[Zs]=new Set);var o=e+"__bubble";r.has(o)||(By(n,e,2,!1),r.add(o))}function ed(e,n,r){var o=0;n&&(o|=4),By(r,e,o,n)}var rc="_reactListening"+Math.random().toString(36).slice(2);function nd(e){if(!e[rc]){e[rc]=!0,fo.forEach(function(r){r!=="selectionchange"&&(EE.has(r)||ed(r,!1,e),ed(r,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[rc]||(n[rc]=!0,ed("selectionchange",!1,n))}}function By(e,n,r,o){switch(p_(n)){case 2:var h=XE;break;case 8:h=WE;break;default:h=yd}r=h.bind(null,n,r,e),h=void 0,!ps||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(n,r,{capture:!0,passive:h}):e.addEventListener(n,r,!0):h!==void 0?e.addEventListener(n,r,{passive:h}):e.addEventListener(n,r,!1)}function id(e,n,r,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)t:for(;;){if(o===null)return;var g=o.tag;if(g===3||g===4){var T=o.stateNode.containerInfo;if(T===h)break;if(g===4)for(g=o.return;g!==null;){var C=g.tag;if((C===3||C===4)&&g.stateNode.containerInfo===h)return;g=g.return}for(;T!==null;){if(g=mi(T),g===null)return;if(C=g.tag,C===5||C===6||C===26||C===27){o=f=g;continue t}T=T.parentNode}}o=o.return}vr(function(){var j=f,K=In(r),W=[];t:{var B=Tg.get(e);if(B!==void 0){var F=Ei,lt=e;switch(e){case"keypress":if(_s(r)===0)break t;case"keydown":case"keyup":F=gu;break;case"focusin":lt="focus",F=Ts;break;case"focusout":lt="blur",F=Ts;break;case"beforeblur":case"afterblur":F=Ts;break;case"click":if(r.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":F=Ro;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":F=au;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":F=m;break;case pg:case yg:case _g:F=lu;break;case vg:F=E;break;case"scroll":case"scrollend":F=wo;break;case"wheel":F=q;break;case"copy":case"cut":case"paste":F=uu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":F=Bi;break;case"toggle":case"beforetoggle":F=Ct}var yt=(n&4)!==0,se=!yt&&(e==="scroll"||e==="scrollend"),k=yt?B!==null?B+"Capture":null:B;yt=[];for(var D=j,z;D!==null;){var Q=D;if(z=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||z===null||k===null||(Q=Yn(D,k),Q!=null&&yt.push(nl(D,Q,z))),se)break;D=D.return}0<yt.length&&(B=new F(B,lt,null,r,K),W.push({event:B,listeners:yt}))}}if((n&7)===0){t:{if(B=e==="mouseover"||e==="pointerover",F=e==="mouseout"||e==="pointerout",B&&r!==So&&(lt=r.relatedTarget||r.fromElement)&&(mi(lt)||lt[fi]))break t;if((F||B)&&(B=K.window===K?K:(B=K.ownerDocument)?B.defaultView||B.parentWindow:window,F?(lt=r.relatedTarget||r.toElement,F=j,lt=lt?mi(lt):null,lt!==null&&(se=c(lt),yt=lt.tag,lt!==se||yt!==5&&yt!==27&&yt!==6)&&(lt=null)):(F=null,lt=j),F!==lt)){if(yt=Ro,Q="onMouseLeave",k="onMouseEnter",D="mouse",(e==="pointerout"||e==="pointerover")&&(yt=Bi,Q="onPointerLeave",k="onPointerEnter",D="pointer"),se=F==null?B:gn(F),z=lt==null?B:gn(lt),B=new yt(Q,D+"leave",F,r,K),B.target=se,B.relatedTarget=z,Q=null,mi(K)===j&&(yt=new yt(k,D+"enter",lt,r,K),yt.target=z,yt.relatedTarget=se,Q=yt),se=Q,F&&lt)e:{for(yt=SE,k=F,D=lt,z=0,Q=k;Q;Q=yt(Q))z++;Q=0;for(var dt=D;dt;dt=yt(dt))Q++;for(;0<z-Q;)k=yt(k),z--;for(;0<Q-z;)D=yt(D),Q--;for(;z--;){if(k===D||D!==null&&k===D.alternate){yt=k;break e}k=yt(k),D=yt(D)}yt=null}else yt=null;F!==null&&Hy(W,B,F,yt,!1),lt!==null&&se!==null&&Hy(W,se,lt,yt,!0)}}t:{if(B=j?gn(j):window,F=B.nodeName&&B.nodeName.toLowerCase(),F==="select"||F==="input"&&B.type==="file")var qt=sg;else if(ig(B))if(ag)qt=N1;else{qt=M1;var ut=D1}else F=B.nodeName,!F||F.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?j&&na(j.elementType)&&(qt=sg):qt=O1;if(qt&&(qt=qt(e,j))){rg(W,qt,r,K);break t}ut&&ut(e,B,j),e==="focusout"&&j&&B.type==="number"&&j.memoizedProps.value!=null&&vo(B,"number",B.value)}switch(ut=j?gn(j):window,e){case"focusin":(ig(ut)||ut.contentEditable==="true")&&(ca=ut,Mh=j,Mo=null);break;case"focusout":Mo=Mh=ca=null;break;case"mousedown":Oh=!0;break;case"contextmenu":case"mouseup":case"dragend":Oh=!1,mg(W,r,K);break;case"selectionchange":if(k1)break;case"keydown":case"keyup":mg(W,r,K)}var xt;if(Gt)t:{switch(e){case"compositionstart":var Lt="onCompositionStart";break t;case"compositionend":Lt="onCompositionEnd";break t;case"compositionupdate":Lt="onCompositionUpdate";break t}Lt=void 0}else ua?Es(e,r)&&(Lt="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(Lt="onCompositionStart");Lt&&(Ai&&r.locale!=="ko"&&(ua||Lt!=="onCompositionStart"?Lt==="onCompositionEnd"&&ua&&(xt=Ao()):(Ti=K,bo="value"in Ti?Ti.value:Ti.textContent,ua=!0)),ut=sc(j,Lt),0<ut.length&&(Lt=new bi(Lt,e,null,r,K),W.push({event:Lt,listeners:ut}),xt?Lt.data=xt:(xt=la(r),xt!==null&&(Lt.data=xt)))),(xt=Dn?R1(e,r):C1(e,r))&&(Lt=sc(j,"onBeforeInput"),0<Lt.length&&(ut=new bi("onBeforeInput","beforeinput",null,r,K),W.push({event:ut,listeners:Lt}),ut.data=xt)),_E(W,e,j,r,K)}jy(W,n)})}function nl(e,n,r){return{instance:e,listener:n,currentTarget:r}}function sc(e,n){for(var r=n+"Capture",o=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Yn(e,r),h!=null&&o.unshift(nl(e,h,f)),h=Yn(e,n),h!=null&&o.push(nl(e,h,f))),e.tag===3)return o;e=e.return}return[]}function SE(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Hy(e,n,r,o,h){for(var f=n._reactName,g=[];r!==null&&r!==o;){var T=r,C=T.alternate,j=T.stateNode;if(T=T.tag,C!==null&&C===o)break;T!==5&&T!==26&&T!==27||j===null||(C=j,h?(j=Yn(r,f),j!=null&&g.unshift(nl(r,j,C))):h||(j=Yn(r,f),j!=null&&g.push(nl(r,j,C)))),r=r.return}g.length!==0&&e.push({event:n,listeners:g})}var bE=/\r\n?/g,AE=/\u0000|\uFFFD/g;function qy(e){return(typeof e=="string"?e:""+e).replace(bE,`
`).replace(AE,"")}function Fy(e,n){return n=qy(n),qy(e)===n}function re(e,n,r,o,h,f){switch(r){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||ln(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&ln(e,""+o);break;case"className":pn(e,"class",o);break;case"tabIndex":pn(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":pn(e,r,o);break;case"style":Eo(e,o,f);break;case"data":if(n!=="object"){pn(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||r!=="href")){e.removeAttribute(r);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(r);break}o=ia(""+o),e.setAttribute(r,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&re(e,n,"name",h.name,h,null),re(e,n,"formEncType",h.formEncType,h,null),re(e,n,"formMethod",h.formMethod,h,null),re(e,n,"formTarget",h.formTarget,h,null)):(re(e,n,"encType",h.encType,h,null),re(e,n,"method",h.method,h,null),re(e,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(r);break}o=ia(""+o),e.setAttribute(r,o);break;case"onClick":o!=null&&(e.onclick=Qn);break;case"onScroll":o!=null&&Nt("scroll",e);break;case"onScrollEnd":o!=null&&Nt("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(r=o.__html,r!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=r}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}r=ia(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,""+o):e.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,""):e.removeAttribute(r);break;case"capture":case"download":o===!0?e.setAttribute(r,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,o):e.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(r,o):e.removeAttribute(r);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(r):e.setAttribute(r,o);break;case"popover":Nt("beforetoggle",e),Nt("toggle",e),ta(e,"popover",o);break;case"xlinkActuate":Ie(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Ie(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Ie(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Ie(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Ie(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Ie(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Ie(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Ie(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Ie(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":ta(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=su.get(r)||r,ta(e,r,o))}}function rd(e,n,r,o,h,f){switch(r){case"style":Eo(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(r=o.__html,r!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=r}}break;case"children":typeof o=="string"?ln(e,o):(typeof o=="number"||typeof o=="bigint")&&ln(e,""+o);break;case"onScroll":o!=null&&Nt("scroll",e);break;case"onScrollEnd":o!=null&&Nt("scrollend",e);break;case"onClick":o!=null&&(e.onclick=Qn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!mo.hasOwnProperty(r))t:{if(r[0]==="o"&&r[1]==="n"&&(h=r.endsWith("Capture"),n=r.slice(2,h?r.length-7:void 0),f=e[ze]||null,f=f!=null?f[r]:null,typeof f=="function"&&e.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(r in e?e[r]=null:e.hasAttribute(r)&&e.removeAttribute(r)),e.addEventListener(n,o,h);break t}r in e?e[r]=o:o===!0?e.setAttribute(r,""):ta(e,r,o)}}}function Xe(e,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Nt("error",e),Nt("load",e);var o=!1,h=!1,f;for(f in r)if(r.hasOwnProperty(f)){var g=r[f];if(g!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:re(e,n,f,g,r,null)}}h&&re(e,n,"srcSet",r.srcSet,r,null),o&&re(e,n,"src",r.src,r,null);return;case"input":Nt("invalid",e);var T=f=g=h=null,C=null,j=null;for(o in r)if(r.hasOwnProperty(o)){var K=r[o];if(K!=null)switch(o){case"name":h=K;break;case"type":g=K;break;case"checked":C=K;break;case"defaultChecked":j=K;break;case"value":f=K;break;case"defaultValue":T=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(a(137,n));break;default:re(e,n,o,K,r,null)}}nu(e,f,T,C,j,g,h,!1);return;case"select":Nt("invalid",e),o=g=f=null;for(h in r)if(r.hasOwnProperty(h)&&(T=r[h],T!=null))switch(h){case"value":f=T;break;case"defaultValue":g=T;break;case"multiple":o=T;default:re(e,n,h,T,r,null)}n=f,r=g,e.multiple=!!o,n!=null?gr(e,!!o,n,!1):r!=null&&gr(e,!!o,r,!0);return;case"textarea":Nt("invalid",e),f=h=o=null;for(g in r)if(r.hasOwnProperty(g)&&(T=r[g],T!=null))switch(g){case"value":o=T;break;case"defaultValue":h=T;break;case"children":f=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(a(91));break;default:re(e,n,g,T,r,null)}pr(e,o,h,f);return;case"option":for(C in r)r.hasOwnProperty(C)&&(o=r[C],o!=null)&&(C==="selected"?e.selected=o&&typeof o!="function"&&typeof o!="symbol":re(e,n,C,o,r,null));return;case"dialog":Nt("beforetoggle",e),Nt("toggle",e),Nt("cancel",e),Nt("close",e);break;case"iframe":case"object":Nt("load",e);break;case"video":case"audio":for(o=0;o<el.length;o++)Nt(el[o],e);break;case"image":Nt("error",e),Nt("load",e);break;case"details":Nt("toggle",e);break;case"embed":case"source":case"link":Nt("error",e),Nt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(j in r)if(r.hasOwnProperty(j)&&(o=r[j],o!=null))switch(j){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:re(e,n,j,o,r,null)}return;default:if(na(n)){for(K in r)r.hasOwnProperty(K)&&(o=r[K],o!==void 0&&rd(e,n,K,o,r,void 0));return}}for(T in r)r.hasOwnProperty(T)&&(o=r[T],o!=null&&re(e,n,T,o,r,null))}function wE(e,n,r,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,g=null,T=null,C=null,j=null,K=null;for(F in r){var W=r[F];if(r.hasOwnProperty(F)&&W!=null)switch(F){case"checked":break;case"value":break;case"defaultValue":C=W;default:o.hasOwnProperty(F)||re(e,n,F,null,o,W)}}for(var B in o){var F=o[B];if(W=r[B],o.hasOwnProperty(B)&&(F!=null||W!=null))switch(B){case"type":f=F;break;case"name":h=F;break;case"checked":j=F;break;case"defaultChecked":K=F;break;case"value":g=F;break;case"defaultValue":T=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(a(137,n));break;default:F!==W&&re(e,n,B,F,o,W)}}ea(e,g,T,C,j,K,f,h);return;case"select":F=g=T=B=null;for(f in r)if(C=r[f],r.hasOwnProperty(f)&&C!=null)switch(f){case"value":break;case"multiple":F=C;default:o.hasOwnProperty(f)||re(e,n,f,null,o,C)}for(h in o)if(f=o[h],C=r[h],o.hasOwnProperty(h)&&(f!=null||C!=null))switch(h){case"value":B=f;break;case"defaultValue":T=f;break;case"multiple":g=f;default:f!==C&&re(e,n,h,f,o,C)}n=T,r=g,o=F,B!=null?gr(e,!!r,B,!1):!!o!=!!r&&(n!=null?gr(e,!!r,n,!0):gr(e,!!r,r?[]:"",!1));return;case"textarea":F=B=null;for(T in r)if(h=r[T],r.hasOwnProperty(T)&&h!=null&&!o.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:re(e,n,T,null,o,h)}for(g in o)if(h=o[g],f=r[g],o.hasOwnProperty(g)&&(h!=null||f!=null))switch(g){case"value":B=h;break;case"defaultValue":F=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&re(e,n,g,h,o,f)}iu(e,B,F);return;case"option":for(var lt in r)B=r[lt],r.hasOwnProperty(lt)&&B!=null&&!o.hasOwnProperty(lt)&&(lt==="selected"?e.selected=!1:re(e,n,lt,null,o,B));for(C in o)B=o[C],F=r[C],o.hasOwnProperty(C)&&B!==F&&(B!=null||F!=null)&&(C==="selected"?e.selected=B&&typeof B!="function"&&typeof B!="symbol":re(e,n,C,B,o,F));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var yt in r)B=r[yt],r.hasOwnProperty(yt)&&B!=null&&!o.hasOwnProperty(yt)&&re(e,n,yt,null,o,B);for(j in o)if(B=o[j],F=r[j],o.hasOwnProperty(j)&&B!==F&&(B!=null||F!=null))switch(j){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(a(137,n));break;default:re(e,n,j,B,o,F)}return;default:if(na(n)){for(var se in r)B=r[se],r.hasOwnProperty(se)&&B!==void 0&&!o.hasOwnProperty(se)&&rd(e,n,se,void 0,o,B);for(K in o)B=o[K],F=r[K],!o.hasOwnProperty(K)||B===F||B===void 0&&F===void 0||rd(e,n,K,B,o,F);return}}for(var k in r)B=r[k],r.hasOwnProperty(k)&&B!=null&&!o.hasOwnProperty(k)&&re(e,n,k,null,o,B);for(W in o)B=o[W],F=r[W],!o.hasOwnProperty(W)||B===F||B==null&&F==null||re(e,n,W,B,o,F)}function Gy(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function RE(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,r=performance.getEntriesByType("resource"),o=0;o<r.length;o++){var h=r[o],f=h.transferSize,g=h.initiatorType,T=h.duration;if(f&&T&&Gy(g)){for(g=0,T=h.responseEnd,o+=1;o<r.length;o++){var C=r[o],j=C.startTime;if(j>T)break;var K=C.transferSize,W=C.initiatorType;K&&Gy(W)&&(C=C.responseEnd,g+=K*(C<T?1:(T-j)/(C-j)))}if(--o,n+=8*(f+g)/(h.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var sd=null,ad=null;function ac(e){return e.nodeType===9?e:e.ownerDocument}function Ky(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Qy(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function od(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var ld=null;function CE(){var e=window.event;return e&&e.type==="popstate"?e===ld?!1:(ld=e,!0):(ld=null,!1)}var Yy=typeof setTimeout=="function"?setTimeout:void 0,IE=typeof clearTimeout=="function"?clearTimeout:void 0,Xy=typeof Promise=="function"?Promise:void 0,xE=typeof queueMicrotask=="function"?queueMicrotask:typeof Xy<"u"?function(e){return Xy.resolve(null).then(e).catch(DE)}:Yy;function DE(e){setTimeout(function(){throw e})}function zr(e){return e==="head"}function Wy(e,n){var r=n,o=0;do{var h=r.nextSibling;if(e.removeChild(r),h&&h.nodeType===8)if(r=h.data,r==="/$"||r==="/&"){if(o===0){e.removeChild(h),Pa(n);return}o--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")o++;else if(r==="html")il(e.ownerDocument.documentElement);else if(r==="head"){r=e.ownerDocument.head,il(r);for(var f=r.firstChild;f;){var g=f.nextSibling,T=f.nodeName;f[di]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&f.rel.toLowerCase()==="stylesheet"||r.removeChild(f),f=g}}else r==="body"&&il(e.ownerDocument.body);r=h}while(r);Pa(n)}function Jy(e,n){var r=e;e=0;do{var o=r.nextSibling;if(r.nodeType===1?n?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(n?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),o&&o.nodeType===8)if(r=o.data,r==="/$"){if(e===0)break;e--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||e++;r=o}while(r)}function ud(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":ud(r),$s(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}e.removeChild(r)}}function ME(e,n,r,o){for(;e.nodeType===1;){var h=r;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[di])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=Pn(e.nextSibling),e===null)break}return null}function OE(e,n,r){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!r||(e=Pn(e.nextSibling),e===null))return null;return e}function Zy(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Pn(e.nextSibling),e===null))return null;return e}function cd(e){return e.data==="$?"||e.data==="$~"}function hd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function NE(e,n){var r=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||r.readyState!=="loading")n();else{var o=function(){n(),r.removeEventListener("DOMContentLoaded",o)};r.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function Pn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var fd=null;function $y(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"||r==="/&"){if(n===0)return Pn(e.nextSibling);n--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||n++}e=e.nextSibling}return null}function t_(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(n===0)return e;n--}else r!=="/$"&&r!=="/&"||n++}e=e.previousSibling}return null}function e_(e,n,r){switch(n=ac(r),e){case"html":if(e=n.documentElement,!e)throw Error(a(452));return e;case"head":if(e=n.head,!e)throw Error(a(453));return e;case"body":if(e=n.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function il(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);$s(e)}var Un=new Map,n_=new Set;function oc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var nr=nt.d;nt.d={f:VE,r:kE,D:LE,C:PE,L:UE,m:zE,X:BE,S:jE,M:HE};function VE(){var e=nr.f(),n=Zu();return e||n}function kE(e){var n=Cn(e);n!==null&&n.tag===5&&n.type==="form"?vp(n):nr.r(e)}var Va=typeof document>"u"?null:document;function i_(e,n,r){var o=Va;if(o&&typeof n=="string"&&n){var h=on(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof r=="string"&&(h+='[crossorigin="'+r+'"]'),n_.has(h)||(n_.add(h),e={rel:e,crossOrigin:r,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),Xe(n,"link",e),Ce(n),o.head.appendChild(n)))}}function LE(e){nr.D(e),i_("dns-prefetch",e,null)}function PE(e,n){nr.C(e,n),i_("preconnect",e,n)}function UE(e,n,r){nr.L(e,n,r);var o=Va;if(o&&e&&n){var h='link[rel="preload"][as="'+on(n)+'"]';n==="image"&&r&&r.imageSrcSet?(h+='[imagesrcset="'+on(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(h+='[imagesizes="'+on(r.imageSizes)+'"]')):h+='[href="'+on(e)+'"]';var f=h;switch(n){case"style":f=ka(e);break;case"script":f=La(e)}Un.has(f)||(e=A({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:e,as:n},r),Un.set(f,e),o.querySelector(h)!==null||n==="style"&&o.querySelector(rl(f))||n==="script"&&o.querySelector(sl(f))||(n=o.createElement("link"),Xe(n,"link",e),Ce(n),o.head.appendChild(n)))}}function zE(e,n){nr.m(e,n);var r=Va;if(r&&e){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+on(o)+'"][href="'+on(e)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=La(e)}if(!Un.has(f)&&(e=A({rel:"modulepreload",href:e},n),Un.set(f,e),r.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(sl(f)))return}o=r.createElement("link"),Xe(o,"link",e),Ce(o),r.head.appendChild(o)}}}function jE(e,n,r){nr.S(e,n,r);var o=Va;if(o&&e){var h=gi(o).hoistableStyles,f=ka(e);n=n||"default";var g=h.get(f);if(!g){var T={loading:0,preload:null};if(g=o.querySelector(rl(f)))T.loading=5;else{e=A({rel:"stylesheet",href:e,"data-precedence":n},r),(r=Un.get(f))&&dd(e,r);var C=g=o.createElement("link");Ce(C),Xe(C,"link",e),C._p=new Promise(function(j,K){C.onload=j,C.onerror=K}),C.addEventListener("load",function(){T.loading|=1}),C.addEventListener("error",function(){T.loading|=2}),T.loading|=4,lc(g,n,o)}g={type:"stylesheet",instance:g,count:1,state:T},h.set(f,g)}}}function BE(e,n){nr.X(e,n);var r=Va;if(r&&e){var o=gi(r).hoistableScripts,h=La(e),f=o.get(h);f||(f=r.querySelector(sl(h)),f||(e=A({src:e,async:!0},n),(n=Un.get(h))&&md(e,n),f=r.createElement("script"),Ce(f),Xe(f,"link",e),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function HE(e,n){nr.M(e,n);var r=Va;if(r&&e){var o=gi(r).hoistableScripts,h=La(e),f=o.get(h);f||(f=r.querySelector(sl(h)),f||(e=A({src:e,async:!0,type:"module"},n),(n=Un.get(h))&&md(e,n),f=r.createElement("script"),Ce(f),Xe(f,"link",e),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function r_(e,n,r,o){var h=(h=Et.current)?oc(h):null;if(!h)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=ka(r.href),r=gi(h).hoistableStyles,o=r.get(n),o||(o={type:"style",instance:null,count:0,state:null},r.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){e=ka(r.href);var f=gi(h).hoistableStyles,g=f.get(e);if(g||(h=h.ownerDocument||h,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,g),(f=h.querySelector(rl(e)))&&!f._p&&(g.instance=f,g.state.loading=5),Un.has(e)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Un.set(e,r),f||qE(h,e,r,g.state))),n&&o===null)throw Error(a(528,""));return g}if(n&&o!==null)throw Error(a(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=La(r),r=gi(h).hoistableScripts,o=r.get(n),o||(o={type:"script",instance:null,count:0,state:null},r.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function ka(e){return'href="'+on(e)+'"'}function rl(e){return'link[rel="stylesheet"]['+e+"]"}function s_(e){return A({},e,{"data-precedence":e.precedence,precedence:null})}function qE(e,n,r,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),Xe(n,"link",r),Ce(n),e.head.appendChild(n))}function La(e){return'[src="'+on(e)+'"]'}function sl(e){return"script[async]"+e}function a_(e,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+on(r.href)+'"]');if(o)return n.instance=o,Ce(o),o;var h=A({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),Ce(o),Xe(o,"style",h),lc(o,r.precedence,e),n.instance=o;case"stylesheet":h=ka(r.href);var f=e.querySelector(rl(h));if(f)return n.state.loading|=4,n.instance=f,Ce(f),f;o=s_(r),(h=Un.get(h))&&dd(o,h),f=(e.ownerDocument||e).createElement("link"),Ce(f);var g=f;return g._p=new Promise(function(T,C){g.onload=T,g.onerror=C}),Xe(f,"link",o),n.state.loading|=4,lc(f,r.precedence,e),n.instance=f;case"script":return f=La(r.src),(h=e.querySelector(sl(f)))?(n.instance=h,Ce(h),h):(o=r,(h=Un.get(f))&&(o=A({},r),md(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),Ce(h),Xe(h,"link",o),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,lc(o,r.precedence,e));return n.instance}function lc(e,n,r){for(var o=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,g=0;g<o.length;g++){var T=o[g];if(T.dataset.precedence===n)f=T;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(e,n.firstChild))}function dd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function md(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var uc=null;function o_(e,n,r){if(uc===null){var o=new Map,h=uc=new Map;h.set(r,o)}else h=uc,o=h.get(r),o||(o=new Map,h.set(r,o));if(o.has(e))return o;for(o.set(e,null),r=r.getElementsByTagName(e),h=0;h<r.length;h++){var f=r[h];if(!(f[di]||f[Re]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=e+g;var T=o.get(g);T?T.push(f):o.set(g,[f])}}return o}function l_(e,n,r){e=e.ownerDocument||e,e.head.insertBefore(r,n==="title"?e.querySelector("head > title"):null)}function FE(e,n,r){if(r===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(e=n.disabled,typeof n.precedence=="string"&&e==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function u_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function GE(e,n,r,o){if(r.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=ka(o.href),f=n.querySelector(rl(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=cc.bind(e),n.then(e,e)),r.state.loading|=4,r.instance=f,Ce(f);return}f=n.ownerDocument||n,o=s_(o),(h=Un.get(h))&&dd(o,h),f=f.createElement("link"),Ce(f);var g=f;g._p=new Promise(function(T,C){g.onload=T,g.onerror=C}),Xe(f,"link",o),r.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(e.count++,r=cc.bind(e),n.addEventListener("load",r),n.addEventListener("error",r))}}var gd=0;function KE(e,n){return e.stylesheets&&e.count===0&&fc(e,e.stylesheets),0<e.count||0<e.imgCount?function(r){var o=setTimeout(function(){if(e.stylesheets&&fc(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&gd===0&&(gd=62500*RE());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&fc(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>gd?50:800)+n);return e.unsuspend=r,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function cc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)fc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var hc=null;function fc(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,hc=new Map,n.forEach(QE,e),hc=null,cc.call(e))}function QE(e,n){if(!(n.state.loading&4)){var r=hc.get(e);if(r)var o=r.get(null);else{r=new Map,hc.set(e,r);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var g=h[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(r.set(g.dataset.precedence,g),o=g)}o&&r.set(null,o)}h=n.instance,g=h.getAttribute("data-precedence"),f=r.get(g)||o,f===o&&r.set(null,h),r.set(g,h),this.count++,o=cc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var al={$$typeof:mt,Provider:null,Consumer:null,_currentValue:ct,_currentValue2:ct,_threadCount:0};function YE(e,n,r,o,h,f,g,T,C){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=hi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=hi(0),this.hiddenUpdates=hi(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function c_(e,n,r,o,h,f,g,T,C,j,K,W){return e=new YE(e,n,r,g,C,j,K,W,T),n=1,f===!0&&(n|=24),f=_n(3,null,null,n),e.current=f,f.stateNode=e,n=Qh(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:r,cache:n},Jh(f),e}function h_(e){return e?(e=da,e):da}function f_(e,n,r,o,h,f){h=h_(h),o.context===null?o.context=h:o.pendingContext=h,o=Ir(n),o.payload={element:r},f=f===void 0?null:f,f!==null&&(o.callback=f),r=xr(e,o,n),r!==null&&(dn(r,e,n),Uo(r,e,n))}function d_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<n?r:n}}function pd(e,n){d_(e,n),(e=e.alternate)&&d_(e,n)}function m_(e){if(e.tag===13||e.tag===31){var n=As(e,67108864);n!==null&&dn(n,e,67108864),pd(e,67108864)}}function g_(e){if(e.tag===13||e.tag===31){var n=bn();n=fs(n);var r=As(e,n);r!==null&&dn(r,e,n),pd(e,n)}}var dc=!0;function XE(e,n,r,o){var h=G.T;G.T=null;var f=nt.p;try{nt.p=2,yd(e,n,r,o)}finally{nt.p=f,G.T=h}}function WE(e,n,r,o){var h=G.T;G.T=null;var f=nt.p;try{nt.p=8,yd(e,n,r,o)}finally{nt.p=f,G.T=h}}function yd(e,n,r,o){if(dc){var h=_d(o);if(h===null)id(e,n,o,mc,r),y_(e,o);else if(ZE(h,e,n,r,o))o.stopPropagation();else if(y_(e,o),n&4&&-1<JE.indexOf(e)){for(;h!==null;){var f=Cn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=ui(f.pendingLanes);if(g!==0){var T=f;for(T.pendingLanes|=2,T.entangledLanes|=2;g;){var C=1<<31-ve(g);T.entanglements[1]|=C,g&=~C}Ii(f),(Kt&6)===0&&(Wu=Jt()+500,tl(0))}}break;case 31:case 13:T=As(f,2),T!==null&&dn(T,f,2),Zu(),pd(f,2)}if(f=_d(o),f===null&&id(e,n,o,mc,r),f===h)break;h=f}h!==null&&o.stopPropagation()}else id(e,n,o,null,r)}}function _d(e){return e=In(e),vd(e)}var mc=null;function vd(e){if(mc=null,e=mi(e),e!==null){var n=c(e);if(n===null)e=null;else{var r=n.tag;if(r===13){if(e=d(n),e!==null)return e;e=null}else if(r===31){if(e=p(n),e!==null)return e;e=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return mc=e,null}function p_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(oi()){case lo:return 2;case uo:return 8;case dr:case Ah:return 32;case Kl:return 268435456;default:return 32}default:return 32}}var Td=!1,jr=null,Br=null,Hr=null,ol=new Map,ll=new Map,qr=[],JE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function y_(e,n){switch(e){case"focusin":case"focusout":jr=null;break;case"dragenter":case"dragleave":Br=null;break;case"mouseover":case"mouseout":Hr=null;break;case"pointerover":case"pointerout":ol.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":ll.delete(n.pointerId)}}function ul(e,n,r,o,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:r,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Cn(n),n!==null&&m_(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function ZE(e,n,r,o,h){switch(n){case"focusin":return jr=ul(jr,e,n,r,o,h),!0;case"dragenter":return Br=ul(Br,e,n,r,o,h),!0;case"mouseover":return Hr=ul(Hr,e,n,r,o,h),!0;case"pointerover":var f=h.pointerId;return ol.set(f,ul(ol.get(f)||null,e,n,r,o,h)),!0;case"gotpointercapture":return f=h.pointerId,ll.set(f,ul(ll.get(f)||null,e,n,r,o,h)),!0}return!1}function __(e){var n=mi(e.target);if(n!==null){var r=c(n);if(r!==null){if(n=r.tag,n===13){if(n=d(r),n!==null){e.blockedOn=n,Gn(e.priority,function(){g_(r)});return}}else if(n===31){if(n=p(r),n!==null){e.blockedOn=n,Gn(e.priority,function(){g_(r)});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function gc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var r=_d(e.nativeEvent);if(r===null){r=e.nativeEvent;var o=new r.constructor(r.type,r);So=o,r.target.dispatchEvent(o),So=null}else return n=Cn(r),n!==null&&m_(n),e.blockedOn=r,!1;n.shift()}return!0}function v_(e,n,r){gc(e)&&r.delete(n)}function $E(){Td=!1,jr!==null&&gc(jr)&&(jr=null),Br!==null&&gc(Br)&&(Br=null),Hr!==null&&gc(Hr)&&(Hr=null),ol.forEach(v_),ll.forEach(v_)}function pc(e,n){e.blockedOn===n&&(e.blockedOn=null,Td||(Td=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,$E)))}var yc=null;function T_(e){yc!==e&&(yc=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){yc===e&&(yc=null);for(var n=0;n<e.length;n+=3){var r=e[n],o=e[n+1],h=e[n+2];if(typeof o!="function"){if(vd(o||r)===null)continue;break}var f=Cn(r);f!==null&&(e.splice(n,3),n-=3,_f(f,{pending:!0,data:h,method:r.method,action:o},o,h))}}))}function Pa(e){function n(C){return pc(C,e)}jr!==null&&pc(jr,e),Br!==null&&pc(Br,e),Hr!==null&&pc(Hr,e),ol.forEach(n),ll.forEach(n);for(var r=0;r<qr.length;r++){var o=qr[r];o.blockedOn===e&&(o.blockedOn=null)}for(;0<qr.length&&(r=qr[0],r.blockedOn===null);)__(r),r.blockedOn===null&&qr.shift();if(r=(e.ownerDocument||e).$$reactFormReplay,r!=null)for(o=0;o<r.length;o+=3){var h=r[o],f=r[o+1],g=h[ze]||null;if(typeof f=="function")g||T_(r);else if(g){var T=null;if(f&&f.hasAttribute("formAction")){if(h=f,g=f[ze]||null)T=g.formAction;else if(vd(h)!==null)continue}else T=g.action;typeof T=="function"?r[o+1]=T:(r.splice(o,3),o-=3),T_(r)}}}function E_(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return h=g})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(r,20)}function r(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(r,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Ed(e){this._internalRoot=e}_c.prototype.render=Ed.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));var r=n.current,o=bn();f_(r,o,e,n,null,null)},_c.prototype.unmount=Ed.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;f_(e.current,2,null,e,null,null),Zu(),n[fi]=null}};function _c(e){this._internalRoot=e}_c.prototype.unstable_scheduleHydration=function(e){if(e){var n=Zl();e={blockedOn:null,target:e,priority:n};for(var r=0;r<qr.length&&n!==0&&n<qr[r].priority;r++);qr.splice(r,0,e),r===0&&__(e)}};var S_=t.version;if(S_!=="19.2.4")throw Error(a(527,S_,"19.2.4"));nt.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=_(n),e=e!==null?S(e):null,e=e===null?null:e.stateNode,e};var tS={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vc.isDisabled&&vc.supportsFiber)try{qn=vc.inject(tS),Fe=vc}catch{}}return hl.createRoot=function(e,n){if(!l(e))throw Error(a(299));var r=!1,o="",h=xp,f=Dp,g=Mp;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=c_(e,1,!1,null,null,r,o,null,h,f,g,E_),e[fi]=n.current,nd(e),new Ed(n)},hl.hydrateRoot=function(e,n,r){if(!l(e))throw Error(a(299));var o=!1,h="",f=xp,g=Dp,T=Mp,C=null;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(h=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(g=r.onCaughtError),r.onRecoverableError!==void 0&&(T=r.onRecoverableError),r.formState!==void 0&&(C=r.formState)),n=c_(e,1,!0,n,r??null,o,h,C,f,g,T,E_),n.context=h_(null),r=n.current,o=bn(),o=fs(o),h=Ir(o),h.callback=null,xr(r,h,o),r=o,n.current.lanes=r,cs(n,r),Ii(n),e[fi]=n.current,nd(e),new _c(n)},hl.version="19.2.4",hl}var O_;function cS(){if(O_)return Ad.exports;O_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Ad.exports=uS(),Ad.exports}var hS=cS();const fS=()=>{};var N_={};const av=function(s){const t=[];let i=0;for(let a=0;a<s.length;a++){let l=s.charCodeAt(a);l<128?t[i++]=l:l<2048?(t[i++]=l>>6|192,t[i++]=l&63|128):(l&64512)===55296&&a+1<s.length&&(s.charCodeAt(a+1)&64512)===56320?(l=65536+((l&1023)<<10)+(s.charCodeAt(++a)&1023),t[i++]=l>>18|240,t[i++]=l>>12&63|128,t[i++]=l>>6&63|128,t[i++]=l&63|128):(t[i++]=l>>12|224,t[i++]=l>>6&63|128,t[i++]=l&63|128)}return t},dS=function(s){const t=[];let i=0,a=0;for(;i<s.length;){const l=s[i++];if(l<128)t[a++]=String.fromCharCode(l);else if(l>191&&l<224){const c=s[i++];t[a++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=s[i++],d=s[i++],p=s[i++],v=((l&7)<<18|(c&63)<<12|(d&63)<<6|p&63)-65536;t[a++]=String.fromCharCode(55296+(v>>10)),t[a++]=String.fromCharCode(56320+(v&1023))}else{const c=s[i++],d=s[i++];t[a++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return t.join("")},ov={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,t){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let l=0;l<s.length;l+=3){const c=s[l],d=l+1<s.length,p=d?s[l+1]:0,v=l+2<s.length,_=v?s[l+2]:0,S=c>>2,A=(c&3)<<4|p>>4;let V=(p&15)<<2|_>>6,Y=_&63;v||(Y=64,d||(V=64)),a.push(i[S],i[A],i[V],i[Y])}return a.join("")},encodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(s):this.encodeByteArray(av(s),t)},decodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(s):dS(this.decodeStringToByteArray(s,t))},decodeStringToByteArray(s,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let l=0;l<s.length;){const c=i[s.charAt(l++)],p=l<s.length?i[s.charAt(l)]:0;++l;const _=l<s.length?i[s.charAt(l)]:64;++l;const A=l<s.length?i[s.charAt(l)]:64;if(++l,c==null||p==null||_==null||A==null)throw new mS;const V=c<<2|p>>4;if(a.push(V),_!==64){const Y=p<<4&240|_>>2;if(a.push(Y),A!==64){const et=_<<6&192|A;a.push(et)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class mS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const gS=function(s){const t=av(s);return ov.encodeByteArray(t,!0)},Hc=function(s){return gS(s).replace(/\./g,"")},lv=function(s){try{return ov.decodeString(s,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function pS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const yS=()=>pS().__FIREBASE_DEFAULTS__,_S=()=>{if(typeof process>"u"||typeof N_>"u")return;const s=N_.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},vS=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=s&&lv(s[1]);return t&&JSON.parse(t)},lh=()=>{try{return fS()||yS()||_S()||vS()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},uv=s=>lh()?.emulatorHosts?.[s],TS=s=>{const t=uv(s);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const a=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),a]:[t.substring(0,i),a]},cv=()=>lh()?.config,hv=s=>lh()?.[`_${s}`];class ES{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,a))}}}function eo(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function fv(s){return(await fetch(s,{credentials:"include"})).ok}function SS(s,t){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=t||"demo-project",l=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...s};return[Hc(JSON.stringify(i)),Hc(JSON.stringify(d)),""].join(".")}const vl={};function bS(){const s={prod:[],emulator:[]};for(const t of Object.keys(vl))vl[t]?s.emulator.push(t):s.prod.push(t);return s}function AS(s){let t=document.getElementById(s),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",s),i=!0),{created:i,element:t}}let V_=!1;function dv(s,t){if(typeof window>"u"||typeof document>"u"||!eo(window.location.host)||vl[s]===t||vl[s]||V_)return;vl[s]=t;function i(V){return`__firebase__banner__${V}`}const a="__firebase__banner",c=bS().prod.length>0;function d(){const V=document.getElementById(a);V&&V.remove()}function p(V){V.style.display="flex",V.style.background="#7faaf0",V.style.position="fixed",V.style.bottom="5px",V.style.left="5px",V.style.padding=".5em",V.style.borderRadius="5px",V.style.alignItems="center"}function v(V,Y){V.setAttribute("width","24"),V.setAttribute("id",Y),V.setAttribute("height","24"),V.setAttribute("viewBox","0 0 24 24"),V.setAttribute("fill","none"),V.style.marginLeft="-6px"}function _(){const V=document.createElement("span");return V.style.cursor="pointer",V.style.marginLeft="16px",V.style.fontSize="24px",V.innerHTML=" &times;",V.onclick=()=>{V_=!0,d()},V}function S(V,Y){V.setAttribute("id",Y),V.innerText="Learn more",V.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",V.setAttribute("target","__blank"),V.style.paddingLeft="5px",V.style.textDecoration="underline"}function A(){const V=AS(a),Y=i("text"),et=document.getElementById(Y)||document.createElement("span"),rt=i("learnmore"),st=document.getElementById(rt)||document.createElement("a"),ft=i("preprendIcon"),Tt=document.getElementById(ft)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(V.created){const mt=V.element;p(mt),S(st,rt);const Bt=_();v(Tt,ft),mt.append(Tt,et,st,Bt),document.body.appendChild(mt)}c?(et.innerText="Preview backend disconnected.",Tt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Tt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,et.innerText="Preview backend running in this workspace."),et.setAttribute("id",Y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",A):A()}function rn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function wS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(rn())}function RS(){const s=lh()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function CS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function IS(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function xS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function DS(){const s=rn();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function MS(){return!RS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function OS(){try{return typeof indexedDB=="object"}catch{return!1}}function NS(){return new Promise((s,t)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(a);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(a),s(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{t(l.error?.message||"")}}catch(i){t(i)}})}const VS="FirebaseError";class hr extends Error{constructor(t,i,a){super(i),this.code=t,this.customData=a,this.name=VS,Object.setPrototypeOf(this,hr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ll.prototype.create)}}class Ll{constructor(t,i,a){this.service=t,this.serviceName=i,this.errors=a}create(t,...i){const a=i[0]||{},l=`${this.service}/${t}`,c=this.errors[t],d=c?kS(c,a):"Error",p=`${this.serviceName}: ${d} (${l}).`;return new hr(l,p,a)}}function kS(s,t){return s.replace(LS,(i,a)=>{const l=t[a];return l!=null?String(l):`<${a}?>`})}const LS=/\{\$([^}]+)}/g;function PS(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}function Hs(s,t){if(s===t)return!0;const i=Object.keys(s),a=Object.keys(t);for(const l of i){if(!a.includes(l))return!1;const c=s[l],d=t[l];if(k_(c)&&k_(d)){if(!Hs(c,d))return!1}else if(c!==d)return!1}for(const l of a)if(!i.includes(l))return!1;return!0}function k_(s){return s!==null&&typeof s=="object"}function Pl(s){const t=[];for(const[i,a]of Object.entries(s))Array.isArray(a)?a.forEach(l=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return t.length?"&"+t.join("&"):""}function US(s,t){const i=new zS(s,t);return i.subscribe.bind(i)}class zS{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(a=>{this.error(a)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,a){let l;if(t===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");jS(t,["next","error","complete"])?l=t:l={next:t,error:i,complete:a},l.next===void 0&&(l.next=Id),l.error===void 0&&(l.error=Id),l.complete===void 0&&(l.complete=Id);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function jS(s,t){if(typeof s!="object"||s===null)return!1;for(const i of t)if(i in s&&typeof s[i]=="function")return!0;return!1}function Id(){}function Bn(s){return s&&s._delegate?s._delegate:s}class qs{constructor(t,i,a){this.name=t,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Ps="[DEFAULT]";class BS{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const a=new ES;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&a.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),a=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(qS(t))try{this.getOrInitializeService({instanceIdentifier:Ps})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});a.resolve(c)}catch{}}}}clearInstance(t=Ps){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Ps){return this.instances.has(t)}getOptions(t=Ps){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);a===p&&d.resolve(l)}return l}onInit(t,i){const a=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(a)??new Set;l.add(t),this.onInitCallbacks.set(a,l);const c=this.instances.get(a);return c&&t(c,a),()=>{l.delete(t)}}invokeOnInitCallbacks(t,i){const a=this.onInitCallbacks.get(i);if(a)for(const l of a)try{l(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let a=this.instances.get(t);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:HS(t),options:i}),this.instances.set(t,a),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(a,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,a)}catch{}return a||null}normalizeInstanceIdentifier(t=Ps){return this.component?this.component.multipleInstances?t:Ps:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function HS(s){return s===Ps?void 0:s}function qS(s){return s.instantiationMode==="EAGER"}class FS{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new BS(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}var Pt;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Pt||(Pt={}));const GS={debug:Pt.DEBUG,verbose:Pt.VERBOSE,info:Pt.INFO,warn:Pt.WARN,error:Pt.ERROR,silent:Pt.SILENT},KS=Pt.INFO,QS={[Pt.DEBUG]:"log",[Pt.VERBOSE]:"log",[Pt.INFO]:"info",[Pt.WARN]:"warn",[Pt.ERROR]:"error"},YS=(s,t,...i)=>{if(t<s.logLevel)return;const a=new Date().toISOString(),l=QS[t];if(l)console[l](`[${a}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class fm{constructor(t){this.name=t,this._logLevel=KS,this._logHandler=YS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Pt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?GS[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Pt.DEBUG,...t),this._logHandler(this,Pt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Pt.VERBOSE,...t),this._logHandler(this,Pt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Pt.INFO,...t),this._logHandler(this,Pt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Pt.WARN,...t),this._logHandler(this,Pt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Pt.ERROR,...t),this._logHandler(this,Pt.ERROR,...t)}}const XS=(s,t)=>t.some(i=>s instanceof i);let L_,P_;function WS(){return L_||(L_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function JS(){return P_||(P_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const mv=new WeakMap,Bd=new WeakMap,gv=new WeakMap,xd=new WeakMap,dm=new WeakMap;function ZS(s){const t=new Promise((i,a)=>{const l=()=>{s.removeEventListener("success",c),s.removeEventListener("error",d)},c=()=>{i(Wr(s.result)),l()},d=()=>{a(s.error),l()};s.addEventListener("success",c),s.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&mv.set(i,s)}).catch(()=>{}),dm.set(t,s),t}function $S(s){if(Bd.has(s))return;const t=new Promise((i,a)=>{const l=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",d),s.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{a(s.error||new DOMException("AbortError","AbortError")),l()};s.addEventListener("complete",c),s.addEventListener("error",d),s.addEventListener("abort",d)});Bd.set(s,t)}let Hd={get(s,t,i){if(s instanceof IDBTransaction){if(t==="done")return Bd.get(s);if(t==="objectStoreNames")return s.objectStoreNames||gv.get(s);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Wr(s[t])},set(s,t,i){return s[t]=i,!0},has(s,t){return s instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in s}};function tb(s){Hd=s(Hd)}function eb(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const a=s.call(Dd(this),t,...i);return gv.set(a,t.sort?t.sort():[t]),Wr(a)}:JS().includes(s)?function(...t){return s.apply(Dd(this),t),Wr(mv.get(this))}:function(...t){return Wr(s.apply(Dd(this),t))}}function nb(s){return typeof s=="function"?eb(s):(s instanceof IDBTransaction&&$S(s),XS(s,WS())?new Proxy(s,Hd):s)}function Wr(s){if(s instanceof IDBRequest)return ZS(s);if(xd.has(s))return xd.get(s);const t=nb(s);return t!==s&&(xd.set(s,t),dm.set(t,s)),t}const Dd=s=>dm.get(s);function ib(s,t,{blocked:i,upgrade:a,blocking:l,terminated:c}={}){const d=indexedDB.open(s,t),p=Wr(d);return a&&d.addEventListener("upgradeneeded",v=>{a(Wr(d.result),v.oldVersion,v.newVersion,Wr(d.transaction),v)}),i&&d.addEventListener("blocked",v=>i(v.oldVersion,v.newVersion,v)),p.then(v=>{c&&v.addEventListener("close",()=>c()),l&&v.addEventListener("versionchange",_=>l(_.oldVersion,_.newVersion,_))}).catch(()=>{}),p}const rb=["get","getKey","getAll","getAllKeys","count"],sb=["put","add","delete","clear"],Md=new Map;function U_(s,t){if(!(s instanceof IDBDatabase&&!(t in s)&&typeof t=="string"))return;if(Md.get(t))return Md.get(t);const i=t.replace(/FromIndex$/,""),a=t!==i,l=sb.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(l||rb.includes(i)))return;const c=async function(d,...p){const v=this.transaction(d,l?"readwrite":"readonly");let _=v.store;return a&&(_=_.index(p.shift())),(await Promise.all([_[i](...p),l&&v.done]))[0]};return Md.set(t,c),c}tb(s=>({...s,get:(t,i,a)=>U_(t,i)||s.get(t,i,a),has:(t,i)=>!!U_(t,i)||s.has(t,i)}));class ab{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(ob(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function ob(s){return s.getComponent()?.type==="VERSION"}const qd="@firebase/app",z_="0.14.7";const or=new fm("@firebase/app"),lb="@firebase/app-compat",ub="@firebase/analytics-compat",cb="@firebase/analytics",hb="@firebase/app-check-compat",fb="@firebase/app-check",db="@firebase/auth",mb="@firebase/auth-compat",gb="@firebase/database",pb="@firebase/data-connect",yb="@firebase/database-compat",_b="@firebase/functions",vb="@firebase/functions-compat",Tb="@firebase/installations",Eb="@firebase/installations-compat",Sb="@firebase/messaging",bb="@firebase/messaging-compat",Ab="@firebase/performance",wb="@firebase/performance-compat",Rb="@firebase/remote-config",Cb="@firebase/remote-config-compat",Ib="@firebase/storage",xb="@firebase/storage-compat",Db="@firebase/firestore",Mb="@firebase/ai",Ob="@firebase/firestore-compat",Nb="firebase",Vb="12.8.0";const Fd="[DEFAULT]",kb={[qd]:"fire-core",[lb]:"fire-core-compat",[cb]:"fire-analytics",[ub]:"fire-analytics-compat",[fb]:"fire-app-check",[hb]:"fire-app-check-compat",[db]:"fire-auth",[mb]:"fire-auth-compat",[gb]:"fire-rtdb",[pb]:"fire-data-connect",[yb]:"fire-rtdb-compat",[_b]:"fire-fn",[vb]:"fire-fn-compat",[Tb]:"fire-iid",[Eb]:"fire-iid-compat",[Sb]:"fire-fcm",[bb]:"fire-fcm-compat",[Ab]:"fire-perf",[wb]:"fire-perf-compat",[Rb]:"fire-rc",[Cb]:"fire-rc-compat",[Ib]:"fire-gcs",[xb]:"fire-gcs-compat",[Db]:"fire-fst",[Ob]:"fire-fst-compat",[Mb]:"fire-vertex","fire-js":"fire-js",[Nb]:"fire-js-all"};const qc=new Map,Lb=new Map,Gd=new Map;function j_(s,t){try{s.container.addComponent(t)}catch(i){or.debug(`Component ${t.name} failed to register with FirebaseApp ${s.name}`,i)}}function Qa(s){const t=s.name;if(Gd.has(t))return or.debug(`There were multiple attempts to register component ${t}.`),!1;Gd.set(t,s);for(const i of qc.values())j_(i,s);for(const i of Lb.values())j_(i,s);return!0}function mm(s,t){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(t)}function ei(s){return s==null?!1:s.settings!==void 0}const Pb={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Jr=new Ll("app","Firebase",Pb);class Ub{constructor(t,i,a){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new qs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Jr.create("app-deleted",{appName:this._name})}}const no=Vb;function pv(s,t={}){let i=s;typeof t!="object"&&(t={name:t});const a={name:Fd,automaticDataCollectionEnabled:!0,...t},l=a.name;if(typeof l!="string"||!l)throw Jr.create("bad-app-name",{appName:String(l)});if(i||(i=cv()),!i)throw Jr.create("no-options");const c=qc.get(l);if(c){if(Hs(i,c.options)&&Hs(a,c.config))return c;throw Jr.create("duplicate-app",{appName:l})}const d=new FS(l);for(const v of Gd.values())d.addComponent(v);const p=new Ub(i,a,d);return qc.set(l,p),p}function yv(s=Fd){const t=qc.get(s);if(!t&&s===Fd&&cv())return pv();if(!t)throw Jr.create("no-app",{appName:s});return t}function Zr(s,t,i){let a=kb[s]??s;i&&(a+=`-${i}`);const l=a.match(/\s|\//),c=t.match(/\s|\//);if(l||c){const d=[`Unable to register library "${a}" with version "${t}":`];l&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),or.warn(d.join(" "));return}Qa(new qs(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}const zb="firebase-heartbeat-database",jb=1,Rl="firebase-heartbeat-store";let Od=null;function _v(){return Od||(Od=ib(zb,jb,{upgrade:(s,t)=>{switch(t){case 0:try{s.createObjectStore(Rl)}catch(i){console.warn(i)}}}}).catch(s=>{throw Jr.create("idb-open",{originalErrorMessage:s.message})})),Od}async function Bb(s){try{const i=(await _v()).transaction(Rl),a=await i.objectStore(Rl).get(vv(s));return await i.done,a}catch(t){if(t instanceof hr)or.warn(t.message);else{const i=Jr.create("idb-get",{originalErrorMessage:t?.message});or.warn(i.message)}}}async function B_(s,t){try{const a=(await _v()).transaction(Rl,"readwrite");await a.objectStore(Rl).put(t,vv(s)),await a.done}catch(i){if(i instanceof hr)or.warn(i.message);else{const a=Jr.create("idb-set",{originalErrorMessage:i?.message});or.warn(a.message)}}}function vv(s){return`${s.name}!${s.options.appId}`}const Hb=1024,qb=30;class Fb{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new Kb(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=H_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>qb){const l=Qb(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){or.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=H_(),{heartbeatsToSend:i,unsentEntries:a}=Gb(this._heartbeatsCache.heartbeats),l=Hc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return or.warn(t),""}}}function H_(){return new Date().toISOString().substring(0,10)}function Gb(s,t=Hb){const i=[];let a=s.slice();for(const l of s){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),q_(i)>t){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),q_(i)>t){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class Kb{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return OS()?NS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await Bb(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return B_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return B_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function q_(s){return Hc(JSON.stringify({version:2,heartbeats:s})).length}function Qb(s){if(s.length===0)return-1;let t=0,i=s[0].date;for(let a=1;a<s.length;a++)s[a].date<i&&(i=s[a].date,t=a);return t}function Yb(s){Qa(new qs("platform-logger",t=>new ab(t),"PRIVATE")),Qa(new qs("heartbeat",t=>new Fb(t),"PRIVATE")),Zr(qd,z_,s),Zr(qd,z_,"esm2020"),Zr("fire-js","")}Yb("");function Tv(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Xb=Tv,Ev=new Ll("auth","Firebase",Tv());const Fc=new fm("@firebase/auth");function Wb(s,...t){Fc.logLevel<=Pt.WARN&&Fc.warn(`Auth (${no}): ${s}`,...t)}function Oc(s,...t){Fc.logLevel<=Pt.ERROR&&Fc.error(`Auth (${no}): ${s}`,...t)}function Vi(s,...t){throw pm(s,...t)}function ri(s,...t){return pm(s,...t)}function gm(s,t,i){const a={...Xb(),[t]:i};return new Ll("auth","Firebase",a).create(t,{appName:s.name})}function js(s){return gm(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Jb(s,t,i){const a=i;if(!(t instanceof a))throw a.name!==t.constructor.name&&Vi(s,"argument-error"),gm(s,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function pm(s,...t){if(typeof s!="string"){const i=t[0],a=[...t.slice(1)];return a[0]&&(a[0].appName=s.name),s._errorFactory.create(i,...a)}return Ev.create(s,...t)}function vt(s,t,...i){if(!s)throw pm(t,...i)}function rr(s){const t="INTERNAL ASSERTION FAILED: "+s;throw Oc(t),new Error(t)}function lr(s,t){s||rr(t)}function Kd(){return typeof self<"u"&&self.location?.href||""}function Zb(){return F_()==="http:"||F_()==="https:"}function F_(){return typeof self<"u"&&self.location?.protocol||null}function $b(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Zb()||IS()||"connection"in navigator)?navigator.onLine:!0}function tA(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class Ul{constructor(t,i){this.shortDelay=t,this.longDelay=i,lr(i>t,"Short delay should be less than long delay!"),this.isMobile=wS()||xS()}get(){return $b()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function ym(s,t){lr(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}class Sv{static initialize(t,i,a){this.fetchImpl=t,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;rr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;rr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;rr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const eA={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const nA=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],iA=new Ul(3e4,6e4);function _m(s,t){return s.tenantId&&!t.tenantId?{...t,tenantId:s.tenantId}:t}async function io(s,t,i,a,l={}){return bv(s,l,async()=>{let c={},d={};a&&(t==="GET"?d=a:c={body:JSON.stringify(a)});const p=Pl({key:s.config.apiKey,...d}).slice(1),v=await s._getAdditionalHeaders();v["Content-Type"]="application/json",s.languageCode&&(v["X-Firebase-Locale"]=s.languageCode);const _={method:t,headers:v,...c};return CS()||(_.referrerPolicy="no-referrer"),s.emulatorConfig&&eo(s.emulatorConfig.host)&&(_.credentials="include"),Sv.fetch()(await Av(s,s.config.apiHost,i,p),_)})}async function bv(s,t,i){s._canInitEmulator=!1;const a={...eA,...t};try{const l=new sA(s),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Tc(s,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const p=c.ok?d.errorMessage:d.error.message,[v,_]=p.split(" : ");if(v==="FEDERATED_USER_ID_ALREADY_LINKED")throw Tc(s,"credential-already-in-use",d);if(v==="EMAIL_EXISTS")throw Tc(s,"email-already-in-use",d);if(v==="USER_DISABLED")throw Tc(s,"user-disabled",d);const S=a[v]||v.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw gm(s,S,_);Vi(s,S)}}catch(l){if(l instanceof hr)throw l;Vi(s,"network-request-failed",{message:String(l)})}}async function rA(s,t,i,a,l={}){const c=await io(s,t,i,a,l);return"mfaPendingCredential"in c&&Vi(s,"multi-factor-auth-required",{_serverResponse:c}),c}async function Av(s,t,i,a){const l=`${t}${i}?${a}`,c=s,d=c.config.emulator?ym(s.config,l):`${s.config.apiScheme}://${l}`;return nA.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class sA{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(ri(this.auth,"network-request-failed")),iA.get())})}}function Tc(s,t,i){const a={appName:s.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const l=ri(s,t,a);return l.customData._tokenResponse=i,l}async function aA(s,t){return io(s,"POST","/v1/accounts:delete",t)}async function Gc(s,t){return io(s,"POST","/v1/accounts:lookup",t)}function Tl(s){if(s)try{const t=new Date(Number(s));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function oA(s,t=!1){const i=Bn(s),a=await i.getIdToken(t),l=vm(a);vt(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:a,authTime:Tl(Nd(l.auth_time)),issuedAtTime:Tl(Nd(l.iat)),expirationTime:Tl(Nd(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Nd(s){return Number(s)*1e3}function vm(s){const[t,i,a]=s.split(".");if(t===void 0||i===void 0||a===void 0)return Oc("JWT malformed, contained fewer than 3 sections"),null;try{const l=lv(i);return l?JSON.parse(l):(Oc("Failed to decode base64 JWT payload"),null)}catch(l){return Oc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function G_(s){const t=vm(s);return vt(t,"internal-error"),vt(typeof t.exp<"u","internal-error"),vt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function Cl(s,t,i=!1){if(i)return t;try{return await t}catch(a){throw a instanceof hr&&lA(a)&&s.auth.currentUser===s&&await s.auth.signOut(),a}}function lA({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class uA{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Qd{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Tl(this.lastLoginAt),this.creationTime=Tl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Kc(s){const t=s.auth,i=await s.getIdToken(),a=await Cl(s,Gc(t,{idToken:i}));vt(a?.users.length,t,"internal-error");const l=a.users[0];s._notifyReloadListener(l);const c=l.providerUserInfo?.length?wv(l.providerUserInfo):[],d=hA(s.providerData,c),p=s.isAnonymous,v=!(s.email&&l.passwordHash)&&!d?.length,_=p?v:!1,S={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new Qd(l.createdAt,l.lastLoginAt),isAnonymous:_};Object.assign(s,S)}async function cA(s){const t=Bn(s);await Kc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function hA(s,t){return[...s.filter(a=>!t.some(l=>l.providerId===a.providerId)),...t]}function wv(s){return s.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function fA(s,t){const i=await bv(s,{},async()=>{const a=Pl({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:c}=s.config,d=await Av(s,l,"/v1/token",`key=${c}`),p=await s._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const v={method:"POST",headers:p,body:a};return s.emulatorConfig&&eo(s.emulatorConfig.host)&&(v.credentials="include"),Sv.fetch()(d,v)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function dA(s,t){return io(s,"POST","/v2/accounts:revokeToken",_m(s,t))}class Ha{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){vt(t.idToken,"internal-error"),vt(typeof t.idToken<"u","internal-error"),vt(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):G_(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){vt(t.length!==0,"internal-error");const i=G_(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(vt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:a,refreshToken:l,expiresIn:c}=await fA(t,i);this.updateTokensAndExpiration(a,l,Number(c))}updateTokensAndExpiration(t,i,a){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(t,i){const{refreshToken:a,accessToken:l,expirationTime:c}=i,d=new Ha;return a&&(vt(typeof a=="string","internal-error",{appName:t}),d.refreshToken=a),l&&(vt(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),c&&(vt(typeof c=="number","internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Ha,this.toJSON())}_performRefresh(){return rr("not implemented")}}function Gr(s,t){vt(typeof s=="string"||typeof s>"u","internal-error",{appName:t})}class ni{constructor({uid:t,auth:i,stsTokenManager:a,...l}){this.providerId="firebase",this.proactiveRefresh=new uA(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Qd(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const i=await Cl(this,this.stsTokenManager.getToken(this.auth,t));return vt(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return oA(this,t)}reload(){return cA(this)}_assign(t){this!==t&&(vt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new ni({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){vt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let a=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),a=!0),i&&await Kc(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ei(this.auth.app))return Promise.reject(js(this.auth));const t=await this.getIdToken();return await Cl(this,aA(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const a=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,p=i.tenantId??void 0,v=i._redirectEventId??void 0,_=i.createdAt??void 0,S=i.lastLoginAt??void 0,{uid:A,emailVerified:V,isAnonymous:Y,providerData:et,stsTokenManager:rt}=i;vt(A&&rt,t,"internal-error");const st=Ha.fromJSON(this.name,rt);vt(typeof A=="string",t,"internal-error"),Gr(a,t.name),Gr(l,t.name),vt(typeof V=="boolean",t,"internal-error"),vt(typeof Y=="boolean",t,"internal-error"),Gr(c,t.name),Gr(d,t.name),Gr(p,t.name),Gr(v,t.name),Gr(_,t.name),Gr(S,t.name);const ft=new ni({uid:A,auth:t,email:l,emailVerified:V,displayName:a,isAnonymous:Y,photoURL:d,phoneNumber:c,tenantId:p,stsTokenManager:st,createdAt:_,lastLoginAt:S});return et&&Array.isArray(et)&&(ft.providerData=et.map(Tt=>({...Tt}))),v&&(ft._redirectEventId=v),ft}static async _fromIdTokenResponse(t,i,a=!1){const l=new Ha;l.updateFromServerResponse(i);const c=new ni({uid:i.localId,auth:t,stsTokenManager:l,isAnonymous:a});return await Kc(c),c}static async _fromGetAccountInfoResponse(t,i,a){const l=i.users[0];vt(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?wv(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,p=new Ha;p.updateFromIdToken(a);const v=new ni({uid:l.localId,auth:t,stsTokenManager:p,isAnonymous:d}),_={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new Qd(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(v,_),v}}const K_=new Map;function sr(s){lr(s instanceof Function,"Expected a class definition");let t=K_.get(s);return t?(lr(t instanceof s,"Instance stored in cache mismatched with class"),t):(t=new s,K_.set(s,t),t)}class Rv{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}Rv.type="NONE";const Q_=Rv;function Nc(s,t,i){return`firebase:${s}:${t}:${i}`}class qa{constructor(t,i,a){this.persistence=t,this.auth=i,this.userKey=a;const{config:l,name:c}=this.auth;this.fullUserKey=Nc(this.userKey,l.apiKey,c),this.fullPersistenceKey=Nc("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await Gc(this.auth,{idToken:t}).catch(()=>{});return i?ni._fromGetAccountInfoResponse(this.auth,i,t):null}return ni._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,a="authUser"){if(!i.length)return new qa(sr(Q_),t,a);const l=(await Promise.all(i.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let c=l[0]||sr(Q_);const d=Nc(a,t.config.apiKey,t.name);let p=null;for(const _ of i)try{const S=await _._get(d);if(S){let A;if(typeof S=="string"){const V=await Gc(t,{idToken:S}).catch(()=>{});if(!V)break;A=await ni._fromGetAccountInfoResponse(t,V,S)}else A=ni._fromJSON(t,S);_!==c&&(p=A),c=_;break}}catch{}const v=l.filter(_=>_._shouldAllowMigration);return!c._shouldAllowMigration||!v.length?new qa(c,t,a):(c=v[0],p&&await c._set(d,p.toJSON()),await Promise.all(i.map(async _=>{if(_!==c)try{await _._remove(d)}catch{}})),new qa(c,t,a))}}function Y_(s){const t=s.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Dv(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Cv(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Ov(t))return"Blackberry";if(Nv(t))return"Webos";if(Iv(t))return"Safari";if((t.includes("chrome/")||xv(t))&&!t.includes("edge/"))return"Chrome";if(Mv(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=s.match(i);if(a?.length===2)return a[1]}return"Other"}function Cv(s=rn()){return/firefox\//i.test(s)}function Iv(s=rn()){const t=s.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function xv(s=rn()){return/crios\//i.test(s)}function Dv(s=rn()){return/iemobile/i.test(s)}function Mv(s=rn()){return/android/i.test(s)}function Ov(s=rn()){return/blackberry/i.test(s)}function Nv(s=rn()){return/webos/i.test(s)}function Tm(s=rn()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function mA(s=rn()){return Tm(s)&&!!window.navigator?.standalone}function gA(){return DS()&&document.documentMode===10}function Vv(s=rn()){return Tm(s)||Mv(s)||Nv(s)||Ov(s)||/windows phone/i.test(s)||Dv(s)}function kv(s,t=[]){let i;switch(s){case"Browser":i=Y_(rn());break;case"Worker":i=`${Y_(rn())}-${s}`;break;default:i=s}const a=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${no}/${a}`}class pA{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const a=c=>new Promise((d,p)=>{try{const v=t(c);d(v)}catch(v){p(v)}});a.onAbort=i,this.queue.push(a);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const a of this.queue)await a(t),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function yA(s,t={}){return io(s,"GET","/v2/passwordPolicy",_m(s,t))}const _A=6;class vA{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??_A,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const a=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=t.length>=a),l&&(i.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let l=0;l<t.length;l++)a=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(t,i,a,l,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}class TA{constructor(t,i,a,l){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new X_(this),this.idTokenSubscription=new X_(this),this.beforeStateQueue=new pA(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ev,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=sr(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await qa.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await Gc(this,{idToken:t}),a=await ni._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(ei(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=a?._redirectEventId,p=await this.tryRedirectSignIn(t);(!c||c===d)&&p?.user&&(a=p.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return vt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await Kc(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=tA()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(ei(this.app))return Promise.reject(js(this));const i=t?Bn(t):null;return i&&vt(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&vt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return ei(this.app)?Promise.reject(js(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return ei(this.app)?Promise.reject(js(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(sr(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await yA(this),i=new vA(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Ll("auth","Firebase",t())}onAuthStateChanged(t,i,a){return this.registerStateListener(this.authStateSubscription,t,i,a)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,a){return this.registerStateListener(this.idTokenSubscription,t,i,a)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const a=this.onAuthStateChanged(()=>{a(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await dA(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const a=await this.getOrInitRedirectPersistenceManager(i);return t===null?a.removeCurrentUser():a.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&sr(t)||this._popupRedirectResolver;vt(i,this,"argument-error"),this.redirectPersistenceManager=await qa.create(this,[sr(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,a,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(vt(p,this,"internal-error"),p.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const v=t.addObserver(i,a,l);return()=>{d=!0,v()}}else{const v=t.addObserver(i);return()=>{d=!0,v()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return vt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=kv(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){if(ei(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&Wb(`Error while retrieving App Check token: ${t.error}`),t?.token}}function uh(s){return Bn(s)}class X_{constructor(t){this.auth=t,this.observer=null,this.addObserver=US(i=>this.observer=i)}get next(){return vt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Em={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function EA(s){Em=s}function SA(s){return Em.loadJS(s)}function bA(){return Em.gapiScript}function AA(s){return`__${s}${Math.floor(Math.random()*1e6)}`}function wA(s,t){const i=mm(s,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(Hs(c,t??{}))return l;Vi(l,"already-initialized")}return i.initialize({options:t})}function RA(s,t){const i=t?.persistence||[],a=(Array.isArray(i)?i:[i]).map(sr);t?.errorMap&&s._updateErrorMap(t.errorMap),s._initializeWithPersistence(a,t?.popupRedirectResolver)}function CA(s,t,i){const a=uh(s);vt(/^https?:\/\//.test(t),a,"invalid-emulator-scheme");const l=!1,c=Lv(t),{host:d,port:p}=IA(t),v=p===null?"":`:${p}`,_={url:`${c}//${d}${v}/`},S=Object.freeze({host:d,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!a._canInitEmulator){vt(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),vt(Hs(_,a.config.emulator)&&Hs(S,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=_,a.emulatorConfig=S,a.settings.appVerificationDisabledForTesting=!0,eo(d)?(fv(`${c}//${d}${v}`),dv("Auth",!0)):xA()}function Lv(s){const t=s.indexOf(":");return t<0?"":s.substr(0,t+1)}function IA(s){const t=Lv(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(t.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(a);if(l){const c=l[1];return{host:c,port:W_(a.substr(c.length+1))}}else{const[c,d]=a.split(":");return{host:c,port:W_(d)}}}function W_(s){if(!s)return null;const t=Number(s);return isNaN(t)?null:t}function xA(){function s(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class Pv{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return rr("not implemented")}_getIdTokenResponse(t){return rr("not implemented")}_linkToIdToken(t,i){return rr("not implemented")}_getReauthenticationResolver(t){return rr("not implemented")}}async function Fa(s,t){return rA(s,"POST","/v1/accounts:signInWithIdp",_m(s,t))}const DA="http://localhost";class Fs extends Pv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new Fs(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):Vi("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:a,signInMethod:l,...c}=i;if(!a||!l)return null;const d=new Fs(a,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return Fa(t,i)}_linkToIdToken(t,i){const a=this.buildRequest();return a.idToken=i,Fa(t,a)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,Fa(t,i)}buildRequest(){const t={requestUri:DA,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=Pl(i)}return t}}class Sm{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class zl extends Sm{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class Kr extends zl{constructor(){super("facebook.com")}static credential(t){return Fs._fromParams({providerId:Kr.PROVIDER_ID,signInMethod:Kr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Kr.credentialFromTaggedObject(t)}static credentialFromError(t){return Kr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Kr.credential(t.oauthAccessToken)}catch{return null}}}Kr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Kr.PROVIDER_ID="facebook.com";class ir extends zl{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return Fs._fromParams({providerId:ir.PROVIDER_ID,signInMethod:ir.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return ir.credentialFromTaggedObject(t)}static credentialFromError(t){return ir.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:a}=t;if(!i&&!a)return null;try{return ir.credential(i,a)}catch{return null}}}ir.GOOGLE_SIGN_IN_METHOD="google.com";ir.PROVIDER_ID="google.com";class Qr extends zl{constructor(){super("github.com")}static credential(t){return Fs._fromParams({providerId:Qr.PROVIDER_ID,signInMethod:Qr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Qr.credentialFromTaggedObject(t)}static credentialFromError(t){return Qr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Qr.credential(t.oauthAccessToken)}catch{return null}}}Qr.GITHUB_SIGN_IN_METHOD="github.com";Qr.PROVIDER_ID="github.com";class Yr extends zl{constructor(){super("twitter.com")}static credential(t,i){return Fs._fromParams({providerId:Yr.PROVIDER_ID,signInMethod:Yr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return Yr.credentialFromTaggedObject(t)}static credentialFromError(t){return Yr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=t;if(!i||!a)return null;try{return Yr.credential(i,a)}catch{return null}}}Yr.TWITTER_SIGN_IN_METHOD="twitter.com";Yr.PROVIDER_ID="twitter.com";class Ya{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,a,l=!1){const c=await ni._fromIdTokenResponse(t,a,l),d=J_(a);return new Ya({user:c,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(t,i,a){await t._updateTokensIfNecessary(a,!0);const l=J_(a);return new Ya({user:t,providerId:l,_tokenResponse:a,operationType:i})}}function J_(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}class Qc extends hr{constructor(t,i,a,l){super(i.code,i.message),this.operationType=a,this.user=l,Object.setPrototypeOf(this,Qc.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(t,i,a,l){return new Qc(t,i,a,l)}}function Uv(s,t,i,a){return(t==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Qc._fromErrorAndOperation(s,c,t,a):c})}async function MA(s,t,i=!1){const a=await Cl(s,t._linkToIdToken(s.auth,await s.getIdToken()),i);return Ya._forOperation(s,"link",a)}async function OA(s,t,i=!1){const{auth:a}=s;if(ei(a.app))return Promise.reject(js(a));const l="reauthenticate";try{const c=await Cl(s,Uv(a,l,t,s),i);vt(c.idToken,a,"internal-error");const d=vm(c.idToken);vt(d,a,"internal-error");const{sub:p}=d;return vt(s.uid===p,a,"user-mismatch"),Ya._forOperation(s,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&Vi(a,"user-mismatch"),c}}async function NA(s,t,i=!1){if(ei(s.app))return Promise.reject(js(s));const a="signIn",l=await Uv(s,a,t),c=await Ya._fromIdTokenResponse(s,a,l);return i||await s._updateCurrentUser(c.user),c}function VA(s,t,i,a){return Bn(s).onIdTokenChanged(t,i,a)}function kA(s,t,i){return Bn(s).beforeAuthStateChanged(t,i)}function LA(s,t,i,a){return Bn(s).onAuthStateChanged(t,i,a)}function PA(s){return Bn(s).signOut()}const Yc="__sak";class zv{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(Yc,"1"),this.storage.removeItem(Yc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const UA=1e3,zA=10;class jv extends zv{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Vv(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),l=this.localCache[i];a!==l&&t(i,l,a)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,p,v)=>{this.notifyListeners(d,v)});return}const a=t.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},c=this.storage.getItem(a);gA()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,zA):l()}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:a}),!0)})},UA)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}jv.type="LOCAL";const jA=jv;class Bv extends zv{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}Bv.type="SESSION";const Hv=Bv;function BA(s){return Promise.all(s.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}class ch{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(l=>l.isListeningto(t));if(i)return i;const a=new ch(t);return this.receivers.push(a),a}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:a,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:l});const p=Array.from(d).map(async _=>_(i.origin,c)),v=await BA(p);i.ports[0].postMessage({status:"done",eventId:a,eventType:l,response:v})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ch.receivers=[];function bm(s="",t=10){let i="";for(let a=0;a<t;a++)i+=Math.floor(Math.random()*10);return s+i}class HA{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,a=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((p,v)=>{const _=bm("",20);l.port1.start();const S=setTimeout(()=>{v(new Error("unsupported_event"))},a);d={messageChannel:l,onMessage(A){const V=A;if(V.data.eventId===_)switch(V.data.status){case"ack":clearTimeout(S),c=setTimeout(()=>{v(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(V.data.response);break;default:clearTimeout(S),clearTimeout(c),v(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:_,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Di(){return window}function qA(s){Di().location.href=s}function qv(){return typeof Di().WorkerGlobalScope<"u"&&typeof Di().importScripts=="function"}async function FA(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function GA(){return navigator?.serviceWorker?.controller||null}function KA(){return qv()?self:null}const Fv="firebaseLocalStorageDb",QA=1,Xc="firebaseLocalStorage",Gv="fbase_key";class jl{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function hh(s,t){return s.transaction([Xc],t?"readwrite":"readonly").objectStore(Xc)}function YA(){const s=indexedDB.deleteDatabase(Fv);return new jl(s).toPromise()}function Yd(){const s=indexedDB.open(Fv,QA);return new Promise((t,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const a=s.result;try{a.createObjectStore(Xc,{keyPath:Gv})}catch(l){i(l)}}),s.addEventListener("success",async()=>{const a=s.result;a.objectStoreNames.contains(Xc)?t(a):(a.close(),await YA(),t(await Yd()))})})}async function Z_(s,t,i){const a=hh(s,!0).put({[Gv]:t,value:i});return new jl(a).toPromise()}async function XA(s,t){const i=hh(s,!1).get(t),a=await new jl(i).toPromise();return a===void 0?null:a.value}function $_(s,t){const i=hh(s,!0).delete(t);return new jl(i).toPromise()}const WA=800,JA=3;class Kv{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Yd(),this.db)}async _withRetries(t){let i=0;for(;;)try{const a=await this._openDb();return await t(a)}catch(a){if(i++>JA)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return qv()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ch._getInstance(KA()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await FA(),!this.activeServiceWorker)return;this.sender=new HA(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||GA()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Yd();return await Z_(t,Yc,"1"),await $_(t,Yc),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>Z_(a,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(a=>XA(a,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>$_(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const c=hh(l,!1).getAll();return new jl(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(t.length!==0)for(const{fbase_key:l,value:c}of t)a.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!a.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),WA)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Kv.type="LOCAL";const ZA=Kv;new Ul(3e4,6e4);function Qv(s,t){return t?sr(t):(vt(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class Am extends Pv{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Fa(t,this._buildIdpRequest())}_linkToIdToken(t,i){return Fa(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return Fa(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function $A(s){return NA(s.auth,new Am(s),s.bypassAuthState)}function t2(s){const{auth:t,user:i}=s;return vt(i,t,"internal-error"),OA(i,new Am(s),s.bypassAuthState)}async function e2(s){const{auth:t,user:i}=s;return vt(i,t,"internal-error"),MA(i,new Am(s),s.bypassAuthState)}class Yv{constructor(t,i,a,l,c=!1){this.auth=t,this.resolver=a,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:a,postBody:l,tenantId:c,error:d,type:p}=t;if(d){this.reject(d);return}const v={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(v))}catch(_){this.reject(_)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return $A;case"linkViaPopup":case"linkViaRedirect":return e2;case"reauthViaPopup":case"reauthViaRedirect":return t2;default:Vi(this.auth,"internal-error")}}resolve(t){lr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){lr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const n2=new Ul(2e3,1e4);async function i2(s,t,i){if(ei(s.app))return Promise.reject(ri(s,"operation-not-supported-in-this-environment"));const a=uh(s);Jb(s,t,Sm);const l=Qv(a,i);return new Us(a,"signInViaPopup",t,l).executeNotNull()}class Us extends Yv{constructor(t,i,a,l,c){super(t,i,l,c),this.provider=a,this.authWindow=null,this.pollId=null,Us.currentPopupAction&&Us.currentPopupAction.cancel(),Us.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return vt(t,this.auth,"internal-error"),t}async onExecution(){lr(this.filter.length===1,"Popup operations only handle one event");const t=bm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(ri(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(ri(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Us.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ri(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,n2.get())};t()}}Us.currentPopupAction=null;const r2="pendingRedirect",Vc=new Map;class s2 extends Yv{constructor(t,i,a=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let t=Vc.get(this.auth._key());if(!t){try{const a=await a2(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(a)}catch(i){t=()=>Promise.reject(i)}Vc.set(this.auth._key(),t)}return this.bypassAuthState||Vc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function a2(s,t){const i=u2(t),a=l2(s);if(!await a._isAvailable())return!1;const l=await a._get(i)==="true";return await a._remove(i),l}function o2(s,t){Vc.set(s._key(),t)}function l2(s){return sr(s._redirectPersistence)}function u2(s){return Nc(r2,s.config.apiKey,s.name)}async function c2(s,t,i=!1){if(ei(s.app))return Promise.reject(js(s));const a=uh(s),l=Qv(a,t),d=await new s2(a,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,t)),d}const h2=600*1e3;class f2{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(t,a)&&(i=!0,this.sendToConsumer(t,a),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!d2(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!Xv(t)){const a=t.error.code?.split("auth/")[1]||"internal-error";i.onError(ri(this.auth,a))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const a=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&a}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=h2&&this.cachedEventUids.clear(),this.cachedEventUids.has(t0(t))}saveEventToCache(t){this.cachedEventUids.add(t0(t)),this.lastProcessedEventTime=Date.now()}}function t0(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(t=>t).join("-")}function Xv({type:s,error:t}){return s==="unknown"&&t?.code==="auth/no-auth-event"}function d2(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Xv(s);default:return!1}}async function m2(s,t={}){return io(s,"GET","/v1/projects",t)}const g2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,p2=/^https?/;async function y2(s){if(s.config.emulator)return;const{authorizedDomains:t}=await m2(s);for(const i of t)try{if(_2(i))return}catch{}Vi(s,"unauthorized-domain")}function _2(s){const t=Kd(),{protocol:i,hostname:a}=new URL(t);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&a===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!p2.test(i))return!1;if(g2.test(s))return a===s;const l=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(a)}const v2=new Ul(3e4,6e4);function e0(){const s=Di().___jsl;if(s?.H){for(const t of Object.keys(s.H))if(s.H[t].r=s.H[t].r||[],s.H[t].L=s.H[t].L||[],s.H[t].r=[...s.H[t].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function T2(s){return new Promise((t,i)=>{function a(){e0(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{e0(),i(ri(s,"network-request-failed"))},timeout:v2.get()})}if(Di().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Di().gapi?.load)a();else{const l=AA("iframefcb");return Di()[l]=()=>{gapi.load?a():i(ri(s,"network-request-failed"))},SA(`${bA()}?onload=${l}`).catch(c=>i(c))}}).catch(t=>{throw kc=null,t})}let kc=null;function E2(s){return kc=kc||T2(s),kc}const S2=new Ul(5e3,15e3),b2="__/auth/iframe",A2="emulator/auth/iframe",w2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},R2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function C2(s){const t=s.config;vt(t.authDomain,s,"auth-domain-config-required");const i=t.emulator?ym(t,A2):`https://${s.config.authDomain}/${b2}`,a={apiKey:t.apiKey,appName:s.name,v:no},l=R2.get(s.config.apiHost);l&&(a.eid=l);const c=s._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${Pl(a).slice(1)}`}async function I2(s){const t=await E2(s),i=Di().gapi;return vt(i,s,"internal-error"),t.open({where:document.body,url:C2(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:w2,dontclear:!0},a=>new Promise(async(l,c)=>{await a.restyle({setHideOnLeave:!1});const d=ri(s,"network-request-failed"),p=Di().setTimeout(()=>{c(d)},S2.get());function v(){Di().clearTimeout(p),l(a)}a.ping(v).then(v,()=>{c(d)})}))}const x2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},D2=500,M2=600,O2="_blank",N2="http://localhost";class n0{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function V2(s,t,i,a=D2,l=M2){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let p="";const v={...x2,width:a.toString(),height:l.toString(),top:c,left:d},_=rn().toLowerCase();i&&(p=xv(_)?O2:i),Cv(_)&&(t=t||N2,v.scrollbars="yes");const S=Object.entries(v).reduce((V,[Y,et])=>`${V}${Y}=${et},`,"");if(mA(_)&&p!=="_self")return k2(t||"",p),new n0(null);const A=window.open(t||"",p,S);vt(A,s,"popup-blocked");try{A.focus()}catch{}return new n0(A)}function k2(s,t){const i=document.createElement("a");i.href=s,i.target=t;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}const L2="__/auth/handler",P2="emulator/auth/handler",U2=encodeURIComponent("fac");async function i0(s,t,i,a,l,c){vt(s.config.authDomain,s,"auth-domain-config-required"),vt(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:a,v:no,eventId:l};if(t instanceof Sm){t.setDefaultLanguage(s.languageCode),d.providerId=t.providerId||"",PS(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[S,A]of Object.entries({}))d[S]=A}if(t instanceof zl){const S=t.getScopes().filter(A=>A!=="");S.length>0&&(d.scopes=S.join(","))}s.tenantId&&(d.tid=s.tenantId);const p=d;for(const S of Object.keys(p))p[S]===void 0&&delete p[S];const v=await s._getAppCheckToken(),_=v?`#${U2}=${encodeURIComponent(v)}`:"";return`${z2(s)}?${Pl(p).slice(1)}${_}`}function z2({config:s}){return s.emulator?ym(s,P2):`https://${s.authDomain}/${L2}`}const Vd="webStorageSupport";class j2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Hv,this._completeRedirectFn=c2,this._overrideRedirectResult=o2}async _openPopup(t,i,a,l){lr(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const c=await i0(t,i,a,Kd(),l);return V2(t,c,bm())}async _openRedirect(t,i,a,l){await this._originValidation(t);const c=await i0(t,i,a,Kd(),l);return qA(c),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(lr(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(t);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(t){const i=await I2(t),a=new f2(t);return i.register("authEvent",l=>(vt(l?.authEvent,t,"invalid-auth-event"),{status:a.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:a},this.iframes[t._key()]=i,a}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(Vd,{type:Vd},l=>{const c=l?.[0]?.[Vd];c!==void 0&&i(!!c),Vi(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=y2(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return Vv()||Iv()||Tm()}}const B2=j2;var r0="@firebase/auth",s0="1.12.0";class H2{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(a=>{t(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){vt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function q2(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function F2(s){Qa(new qs("auth",(t,{options:i})=>{const a=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=a.options;vt(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const v={apiKey:d,authDomain:p,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:kv(s)},_=new TA(a,l,c,v);return RA(_,i),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,a)=>{t.getProvider("auth-internal").initialize()})),Qa(new qs("auth-internal",t=>{const i=uh(t.getProvider("auth").getImmediate());return(a=>new H2(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),Zr(r0,s0,q2(s)),Zr(r0,s0,"esm2020")}const G2=300,K2=hv("authIdTokenMaxAge")||G2;let a0=null;const Q2=s=>async t=>{const i=t&&await t.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>K2)return;const l=i?.token;a0!==l&&(a0=l,await fetch(s,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function Y2(s=yv()){const t=mm(s,"auth");if(t.isInitialized())return t.getImmediate();const i=wA(s,{popupRedirectResolver:B2,persistence:[ZA,jA,Hv]}),a=hv("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const d=Q2(c.toString());kA(i,d,()=>d(i.currentUser)),VA(i,p=>d(p))}}const l=uv("auth");return l&&CA(i,`http://${l}`),i}function X2(){return document.getElementsByTagName("head")?.[0]??document}EA({loadJS(s){return new Promise((t,i)=>{const a=document.createElement("script");a.setAttribute("src",s),a.onload=t,a.onerror=l=>{const c=ri("internal-error");c.customData=l,i(c)},a.type="text/javascript",a.charset="UTF-8",X2().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});F2("Browser");var o0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var $r,Wv;(function(){var s;function t(I,b){function x(){}x.prototype=b.prototype,I.F=b.prototype,I.prototype=new x,I.prototype.constructor=I,I.D=function(N,M,L){for(var w=Array(arguments.length-2),ee=2;ee<arguments.length;ee++)w[ee-2]=arguments[ee];return b.prototype[M].apply(N,w)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(I,b,x){x||(x=0);const N=Array(16);if(typeof b=="string")for(var M=0;M<16;++M)N[M]=b.charCodeAt(x++)|b.charCodeAt(x++)<<8|b.charCodeAt(x++)<<16|b.charCodeAt(x++)<<24;else for(M=0;M<16;++M)N[M]=b[x++]|b[x++]<<8|b[x++]<<16|b[x++]<<24;b=I.g[0],x=I.g[1],M=I.g[2];let L=I.g[3],w;w=b+(L^x&(M^L))+N[0]+3614090360&4294967295,b=x+(w<<7&4294967295|w>>>25),w=L+(M^b&(x^M))+N[1]+3905402710&4294967295,L=b+(w<<12&4294967295|w>>>20),w=M+(x^L&(b^x))+N[2]+606105819&4294967295,M=L+(w<<17&4294967295|w>>>15),w=x+(b^M&(L^b))+N[3]+3250441966&4294967295,x=M+(w<<22&4294967295|w>>>10),w=b+(L^x&(M^L))+N[4]+4118548399&4294967295,b=x+(w<<7&4294967295|w>>>25),w=L+(M^b&(x^M))+N[5]+1200080426&4294967295,L=b+(w<<12&4294967295|w>>>20),w=M+(x^L&(b^x))+N[6]+2821735955&4294967295,M=L+(w<<17&4294967295|w>>>15),w=x+(b^M&(L^b))+N[7]+4249261313&4294967295,x=M+(w<<22&4294967295|w>>>10),w=b+(L^x&(M^L))+N[8]+1770035416&4294967295,b=x+(w<<7&4294967295|w>>>25),w=L+(M^b&(x^M))+N[9]+2336552879&4294967295,L=b+(w<<12&4294967295|w>>>20),w=M+(x^L&(b^x))+N[10]+4294925233&4294967295,M=L+(w<<17&4294967295|w>>>15),w=x+(b^M&(L^b))+N[11]+2304563134&4294967295,x=M+(w<<22&4294967295|w>>>10),w=b+(L^x&(M^L))+N[12]+1804603682&4294967295,b=x+(w<<7&4294967295|w>>>25),w=L+(M^b&(x^M))+N[13]+4254626195&4294967295,L=b+(w<<12&4294967295|w>>>20),w=M+(x^L&(b^x))+N[14]+2792965006&4294967295,M=L+(w<<17&4294967295|w>>>15),w=x+(b^M&(L^b))+N[15]+1236535329&4294967295,x=M+(w<<22&4294967295|w>>>10),w=b+(M^L&(x^M))+N[1]+4129170786&4294967295,b=x+(w<<5&4294967295|w>>>27),w=L+(x^M&(b^x))+N[6]+3225465664&4294967295,L=b+(w<<9&4294967295|w>>>23),w=M+(b^x&(L^b))+N[11]+643717713&4294967295,M=L+(w<<14&4294967295|w>>>18),w=x+(L^b&(M^L))+N[0]+3921069994&4294967295,x=M+(w<<20&4294967295|w>>>12),w=b+(M^L&(x^M))+N[5]+3593408605&4294967295,b=x+(w<<5&4294967295|w>>>27),w=L+(x^M&(b^x))+N[10]+38016083&4294967295,L=b+(w<<9&4294967295|w>>>23),w=M+(b^x&(L^b))+N[15]+3634488961&4294967295,M=L+(w<<14&4294967295|w>>>18),w=x+(L^b&(M^L))+N[4]+3889429448&4294967295,x=M+(w<<20&4294967295|w>>>12),w=b+(M^L&(x^M))+N[9]+568446438&4294967295,b=x+(w<<5&4294967295|w>>>27),w=L+(x^M&(b^x))+N[14]+3275163606&4294967295,L=b+(w<<9&4294967295|w>>>23),w=M+(b^x&(L^b))+N[3]+4107603335&4294967295,M=L+(w<<14&4294967295|w>>>18),w=x+(L^b&(M^L))+N[8]+1163531501&4294967295,x=M+(w<<20&4294967295|w>>>12),w=b+(M^L&(x^M))+N[13]+2850285829&4294967295,b=x+(w<<5&4294967295|w>>>27),w=L+(x^M&(b^x))+N[2]+4243563512&4294967295,L=b+(w<<9&4294967295|w>>>23),w=M+(b^x&(L^b))+N[7]+1735328473&4294967295,M=L+(w<<14&4294967295|w>>>18),w=x+(L^b&(M^L))+N[12]+2368359562&4294967295,x=M+(w<<20&4294967295|w>>>12),w=b+(x^M^L)+N[5]+4294588738&4294967295,b=x+(w<<4&4294967295|w>>>28),w=L+(b^x^M)+N[8]+2272392833&4294967295,L=b+(w<<11&4294967295|w>>>21),w=M+(L^b^x)+N[11]+1839030562&4294967295,M=L+(w<<16&4294967295|w>>>16),w=x+(M^L^b)+N[14]+4259657740&4294967295,x=M+(w<<23&4294967295|w>>>9),w=b+(x^M^L)+N[1]+2763975236&4294967295,b=x+(w<<4&4294967295|w>>>28),w=L+(b^x^M)+N[4]+1272893353&4294967295,L=b+(w<<11&4294967295|w>>>21),w=M+(L^b^x)+N[7]+4139469664&4294967295,M=L+(w<<16&4294967295|w>>>16),w=x+(M^L^b)+N[10]+3200236656&4294967295,x=M+(w<<23&4294967295|w>>>9),w=b+(x^M^L)+N[13]+681279174&4294967295,b=x+(w<<4&4294967295|w>>>28),w=L+(b^x^M)+N[0]+3936430074&4294967295,L=b+(w<<11&4294967295|w>>>21),w=M+(L^b^x)+N[3]+3572445317&4294967295,M=L+(w<<16&4294967295|w>>>16),w=x+(M^L^b)+N[6]+76029189&4294967295,x=M+(w<<23&4294967295|w>>>9),w=b+(x^M^L)+N[9]+3654602809&4294967295,b=x+(w<<4&4294967295|w>>>28),w=L+(b^x^M)+N[12]+3873151461&4294967295,L=b+(w<<11&4294967295|w>>>21),w=M+(L^b^x)+N[15]+530742520&4294967295,M=L+(w<<16&4294967295|w>>>16),w=x+(M^L^b)+N[2]+3299628645&4294967295,x=M+(w<<23&4294967295|w>>>9),w=b+(M^(x|~L))+N[0]+4096336452&4294967295,b=x+(w<<6&4294967295|w>>>26),w=L+(x^(b|~M))+N[7]+1126891415&4294967295,L=b+(w<<10&4294967295|w>>>22),w=M+(b^(L|~x))+N[14]+2878612391&4294967295,M=L+(w<<15&4294967295|w>>>17),w=x+(L^(M|~b))+N[5]+4237533241&4294967295,x=M+(w<<21&4294967295|w>>>11),w=b+(M^(x|~L))+N[12]+1700485571&4294967295,b=x+(w<<6&4294967295|w>>>26),w=L+(x^(b|~M))+N[3]+2399980690&4294967295,L=b+(w<<10&4294967295|w>>>22),w=M+(b^(L|~x))+N[10]+4293915773&4294967295,M=L+(w<<15&4294967295|w>>>17),w=x+(L^(M|~b))+N[1]+2240044497&4294967295,x=M+(w<<21&4294967295|w>>>11),w=b+(M^(x|~L))+N[8]+1873313359&4294967295,b=x+(w<<6&4294967295|w>>>26),w=L+(x^(b|~M))+N[15]+4264355552&4294967295,L=b+(w<<10&4294967295|w>>>22),w=M+(b^(L|~x))+N[6]+2734768916&4294967295,M=L+(w<<15&4294967295|w>>>17),w=x+(L^(M|~b))+N[13]+1309151649&4294967295,x=M+(w<<21&4294967295|w>>>11),w=b+(M^(x|~L))+N[4]+4149444226&4294967295,b=x+(w<<6&4294967295|w>>>26),w=L+(x^(b|~M))+N[11]+3174756917&4294967295,L=b+(w<<10&4294967295|w>>>22),w=M+(b^(L|~x))+N[2]+718787259&4294967295,M=L+(w<<15&4294967295|w>>>17),w=x+(L^(M|~b))+N[9]+3951481745&4294967295,I.g[0]=I.g[0]+b&4294967295,I.g[1]=I.g[1]+(M+(w<<21&4294967295|w>>>11))&4294967295,I.g[2]=I.g[2]+M&4294967295,I.g[3]=I.g[3]+L&4294967295}a.prototype.v=function(I,b){b===void 0&&(b=I.length);const x=b-this.blockSize,N=this.C;let M=this.h,L=0;for(;L<b;){if(M==0)for(;L<=x;)l(this,I,L),L+=this.blockSize;if(typeof I=="string"){for(;L<b;)if(N[M++]=I.charCodeAt(L++),M==this.blockSize){l(this,N),M=0;break}}else for(;L<b;)if(N[M++]=I[L++],M==this.blockSize){l(this,N),M=0;break}}this.h=M,this.o+=b},a.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var b=1;b<I.length-8;++b)I[b]=0;b=this.o*8;for(var x=I.length-8;x<I.length;++x)I[x]=b&255,b/=256;for(this.v(I),I=Array(16),b=0,x=0;x<4;++x)for(let N=0;N<32;N+=8)I[b++]=this.g[x]>>>N&255;return I};function c(I,b){var x=p;return Object.prototype.hasOwnProperty.call(x,I)?x[I]:x[I]=b(I)}function d(I,b){this.h=b;const x=[];let N=!0;for(let M=I.length-1;M>=0;M--){const L=I[M]|0;N&&L==b||(x[M]=L,N=!1)}this.g=x}var p={};function v(I){return-128<=I&&I<128?c(I,function(b){return new d([b|0],b<0?-1:0)}):new d([I|0],I<0?-1:0)}function _(I){if(isNaN(I)||!isFinite(I))return A;if(I<0)return st(_(-I));const b=[];let x=1;for(let N=0;I>=x;N++)b[N]=I/x|0,x*=4294967296;return new d(b,0)}function S(I,b){if(I.length==0)throw Error("number format error: empty string");if(b=b||10,b<2||36<b)throw Error("radix out of range: "+b);if(I.charAt(0)=="-")return st(S(I.substring(1),b));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const x=_(Math.pow(b,8));let N=A;for(let L=0;L<I.length;L+=8){var M=Math.min(8,I.length-L);const w=parseInt(I.substring(L,L+M),b);M<8?(M=_(Math.pow(b,M)),N=N.j(M).add(_(w))):(N=N.j(x),N=N.add(_(w)))}return N}var A=v(0),V=v(1),Y=v(16777216);s=d.prototype,s.m=function(){if(rt(this))return-st(this).m();let I=0,b=1;for(let x=0;x<this.g.length;x++){const N=this.i(x);I+=(N>=0?N:4294967296+N)*b,b*=4294967296}return I},s.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(et(this))return"0";if(rt(this))return"-"+st(this).toString(I);const b=_(Math.pow(I,6));var x=this;let N="";for(;;){const M=Bt(x,b).g;x=ft(x,M.j(b));let L=((x.g.length>0?x.g[0]:x.h)>>>0).toString(I);if(x=M,et(x))return L+N;for(;L.length<6;)L="0"+L;N=L+N}},s.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function et(I){if(I.h!=0)return!1;for(let b=0;b<I.g.length;b++)if(I.g[b]!=0)return!1;return!0}function rt(I){return I.h==-1}s.l=function(I){return I=ft(this,I),rt(I)?-1:et(I)?0:1};function st(I){const b=I.g.length,x=[];for(let N=0;N<b;N++)x[N]=~I.g[N];return new d(x,~I.h).add(V)}s.abs=function(){return rt(this)?st(this):this},s.add=function(I){const b=Math.max(this.g.length,I.g.length),x=[];let N=0;for(let M=0;M<=b;M++){let L=N+(this.i(M)&65535)+(I.i(M)&65535),w=(L>>>16)+(this.i(M)>>>16)+(I.i(M)>>>16);N=w>>>16,L&=65535,w&=65535,x[M]=w<<16|L}return new d(x,x[x.length-1]&-2147483648?-1:0)};function ft(I,b){return I.add(st(b))}s.j=function(I){if(et(this)||et(I))return A;if(rt(this))return rt(I)?st(this).j(st(I)):st(st(this).j(I));if(rt(I))return st(this.j(st(I)));if(this.l(Y)<0&&I.l(Y)<0)return _(this.m()*I.m());const b=this.g.length+I.g.length,x=[];for(var N=0;N<2*b;N++)x[N]=0;for(N=0;N<this.g.length;N++)for(let M=0;M<I.g.length;M++){const L=this.i(N)>>>16,w=this.i(N)&65535,ee=I.i(M)>>>16,he=I.i(M)&65535;x[2*N+2*M]+=w*he,Tt(x,2*N+2*M),x[2*N+2*M+1]+=L*he,Tt(x,2*N+2*M+1),x[2*N+2*M+1]+=w*ee,Tt(x,2*N+2*M+1),x[2*N+2*M+2]+=L*ee,Tt(x,2*N+2*M+2)}for(I=0;I<b;I++)x[I]=x[2*I+1]<<16|x[2*I];for(I=b;I<2*b;I++)x[I]=0;return new d(x,0)};function Tt(I,b){for(;(I[b]&65535)!=I[b];)I[b+1]+=I[b]>>>16,I[b]&=65535,b++}function mt(I,b){this.g=I,this.h=b}function Bt(I,b){if(et(b))throw Error("division by zero");if(et(I))return new mt(A,A);if(rt(I))return b=Bt(st(I),b),new mt(st(b.g),st(b.h));if(rt(b))return b=Bt(I,st(b)),new mt(st(b.g),b.h);if(I.g.length>30){if(rt(I)||rt(b))throw Error("slowDivide_ only works with positive integers.");for(var x=V,N=b;N.l(I)<=0;)x=Xt(x),N=Xt(N);var M=wt(x,1),L=wt(N,1);for(N=wt(N,2),x=wt(x,2);!et(N);){var w=L.add(N);w.l(I)<=0&&(M=M.add(x),L=w),N=wt(N,1),x=wt(x,1)}return b=ft(I,M.j(b)),new mt(M,b)}for(M=A;I.l(b)>=0;){for(x=Math.max(1,Math.floor(I.m()/b.m())),N=Math.ceil(Math.log(x)/Math.LN2),N=N<=48?1:Math.pow(2,N-48),L=_(x),w=L.j(b);rt(w)||w.l(I)>0;)x-=N,L=_(x),w=L.j(b);et(L)&&(L=V),M=M.add(L),I=ft(I,w)}return new mt(M,I)}s.B=function(I){return Bt(this,I).h},s.and=function(I){const b=Math.max(this.g.length,I.g.length),x=[];for(let N=0;N<b;N++)x[N]=this.i(N)&I.i(N);return new d(x,this.h&I.h)},s.or=function(I){const b=Math.max(this.g.length,I.g.length),x=[];for(let N=0;N<b;N++)x[N]=this.i(N)|I.i(N);return new d(x,this.h|I.h)},s.xor=function(I){const b=Math.max(this.g.length,I.g.length),x=[];for(let N=0;N<b;N++)x[N]=this.i(N)^I.i(N);return new d(x,this.h^I.h)};function Xt(I){const b=I.g.length+1,x=[];for(let N=0;N<b;N++)x[N]=I.i(N)<<1|I.i(N-1)>>>31;return new d(x,I.h)}function wt(I,b){const x=b>>5;b%=32;const N=I.g.length-x,M=[];for(let L=0;L<N;L++)M[L]=b>0?I.i(L+x)>>>b|I.i(L+x+1)<<32-b:I.i(L+x);return new d(M,I.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,Wv=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=S,$r=d}).apply(typeof o0<"u"?o0:typeof self<"u"?self:typeof window<"u"?window:{});var Ec=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Jv,gl,Zv,Lc,Xd,$v,tT,eT;(function(){var s,t=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ec=="object"&&Ec];for(var m=0;m<u.length;++m){var y=u[m];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var a=i(this);function l(u,m){if(m)t:{var y=a;u=u.split(".");for(var E=0;E<u.length-1;E++){var U=u[E];if(!(U in y))break t;y=y[U]}u=u[u.length-1],E=y[u],m=m(E),m!=E&&m!=null&&t(y,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var y=[],E;for(E in m)Object.prototype.hasOwnProperty.call(m,E)&&y.push([E,m[E]]);return y}});var c=c||{},d=this||self;function p(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function v(u,m,y){return u.call.apply(u.bind,arguments)}function _(u,m,y){return _=v,_.apply(null,arguments)}function S(u,m){var y=Array.prototype.slice.call(arguments,1);return function(){var E=y.slice();return E.push.apply(E,arguments),u.apply(this,E)}}function A(u,m){function y(){}y.prototype=m.prototype,u.Z=m.prototype,u.prototype=new y,u.prototype.constructor=u,u.Ob=function(E,U,q){for(var tt=Array(arguments.length-2),Ct=2;Ct<arguments.length;Ct++)tt[Ct-2]=arguments[Ct];return m.prototype[U].apply(E,tt)}}var V=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function Y(u){const m=u.length;if(m>0){const y=Array(m);for(let E=0;E<m;E++)y[E]=u[E];return y}return[]}function et(u,m){for(let E=1;E<arguments.length;E++){const U=arguments[E];var y=typeof U;if(y=y!="object"?y:U?Array.isArray(U)?"array":y:"null",y=="array"||y=="object"&&typeof U.length=="number"){y=u.length||0;const q=U.length||0;u.length=y+q;for(let tt=0;tt<q;tt++)u[y+tt]=U[tt]}else u.push(U)}}class rt{constructor(m,y){this.i=m,this.j=y,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function st(u){d.setTimeout(()=>{throw u},0)}function ft(){var u=I;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class Tt{constructor(){this.h=this.g=null}add(m,y){const E=mt.get();E.set(m,y),this.h?this.h.next=E:this.g=E,this.h=E}}var mt=new rt(()=>new Bt,u=>u.reset());class Bt{constructor(){this.next=this.g=this.h=null}set(m,y){this.h=m,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let Xt,wt=!1,I=new Tt,b=()=>{const u=Promise.resolve(void 0);Xt=()=>{u.then(x)}};function x(){for(var u;u=ft();){try{u.h.call(u.g)}catch(y){st(y)}var m=mt;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}wt=!1}function N(){this.u=this.u,this.C=this.C}N.prototype.u=!1,N.prototype.dispose=function(){this.u||(this.u=!0,this.N())},N.prototype[Symbol.dispose]=function(){this.dispose()},N.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function M(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}M.prototype.h=function(){this.defaultPrevented=!0};var L=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const y=()=>{};d.addEventListener("test",y,m),d.removeEventListener("test",y,m)}catch{}return u})();function w(u){return/^[\s\xa0]*$/.test(u)}function ee(u,m){M.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}A(ee,M),ee.prototype.init=function(u,m){const y=this.type=u.type,E=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(y=="mouseover"?m=u.fromElement:y=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,E?(this.clientX=E.clientX!==void 0?E.clientX:E.pageX,this.clientY=E.clientY!==void 0?E.clientY:E.pageY,this.screenX=E.screenX||0,this.screenY=E.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&ee.Z.h.call(this)},ee.prototype.h=function(){ee.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var he="closure_listenable_"+(Math.random()*1e6|0),G=0;function nt(u,m,y,E,U){this.listener=u,this.proxy=null,this.src=m,this.type=y,this.capture=!!E,this.ha=U,this.key=++G,this.da=this.fa=!1}function ct(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Dt(u,m,y){for(const E in u)m.call(y,u[E],E,u)}function Vt(u,m){for(const y in u)m.call(void 0,u[y],y,u)}function O(u){const m={};for(const y in u)m[y]=u[y];return m}const X="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function it(u,m){let y,E;for(let U=1;U<arguments.length;U++){E=arguments[U];for(y in E)u[y]=E[y];for(let q=0;q<X.length;q++)y=X[q],Object.prototype.hasOwnProperty.call(E,y)&&(u[y]=E[y])}}function at(u){this.src=u,this.g={},this.h=0}at.prototype.add=function(u,m,y,E,U){const q=u.toString();u=this.g[q],u||(u=this.g[q]=[],this.h++);const tt=Et(u,m,E,U);return tt>-1?(m=u[tt],y||(m.fa=!1)):(m=new nt(m,this.src,q,!!E,U),m.fa=y,u.push(m)),m};function pt(u,m){const y=m.type;if(y in u.g){var E=u.g[y],U=Array.prototype.indexOf.call(E,m,void 0),q;(q=U>=0)&&Array.prototype.splice.call(E,U,1),q&&(ct(m),u.g[y].length==0&&(delete u.g[y],u.h--))}}function Et(u,m,y,E){for(let U=0;U<u.length;++U){const q=u[U];if(!q.da&&q.listener==m&&q.capture==!!y&&q.ha==E)return U}return-1}var Mt="closure_lm_"+(Math.random()*1e6|0),me={};function Wt(u,m,y,E,U){if(Array.isArray(m)){for(let q=0;q<m.length;q++)Wt(u,m[q],y,E,U);return null}return y=P(y),u&&u[he]?u.J(m,y,p(E)?!!E.capture:!1,U):ai(u,m,y,!1,E,U)}function ai(u,m,y,E,U,q){if(!m)throw Error("Invalid event type");const tt=p(U)?!!U.capture:!!U;let Ct=Pi(u);if(Ct||(u[Mt]=Ct=new at(u)),y=Ct.add(m,y,E,tt,q),y.proxy)return y;if(E=An(),y.proxy=E,E.src=u,E.listener=y,u.addEventListener)L||(U=tt),U===void 0&&(U=!1),u.addEventListener(m.toString(),E,U);else if(u.attachEvent)u.attachEvent(wn(m.toString()),E);else if(u.addListener&&u.removeListener)u.addListener(E);else throw Error("addEventListener and attachEvent are unavailable.");return y}function An(){function u(y){return m.call(u.src,u.listener,y)}const m=os;return u}function Hn(u,m,y,E,U){if(Array.isArray(m))for(var q=0;q<m.length;q++)Hn(u,m[q],y,E,U);else E=p(E)?!!E.capture:!!E,y=P(y),u&&u[he]?(u=u.i,q=String(m).toString(),q in u.g&&(m=u.g[q],y=Et(m,y,E,U),y>-1&&(ct(m[y]),Array.prototype.splice.call(m,y,1),m.length==0&&(delete u.g[q],u.h--)))):u&&(u=Pi(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Et(m,y,E,U)),(y=u>-1?m[u]:null)&&fr(y))}function fr(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[he])pt(m.i,u);else{var y=u.type,E=u.proxy;m.removeEventListener?m.removeEventListener(y,E,u.capture):m.detachEvent?m.detachEvent(wn(y),E):m.addListener&&m.removeListener&&m.removeListener(E),(y=Pi(m))?(pt(y,u),y.h==0&&(y.src=null,m[Mt]=null)):ct(u)}}}function wn(u){return u in me?me[u]:me[u]="on"+u}function os(u,m){if(u.da)u=!0;else{m=new ee(m,this);const y=u.listener,E=u.ha||u.src;u.fa&&fr(u),u=y.call(E,m)}return u}function Pi(u){return u=u[Mt],u instanceof at?u:null}var ls="__closure_events_fn_"+(Math.random()*1e9>>>0);function P(u){return typeof u=="function"?u:(u[ls]||(u[ls]=function(m){return u.handleEvent(m)}),u[ls])}function J(){N.call(this),this.i=new at(this),this.M=this,this.G=null}A(J,N),J.prototype[he]=!0,J.prototype.removeEventListener=function(u,m,y,E){Hn(this,u,m,y,E)};function H(u,m){var y,E=u.G;if(E)for(y=[];E;E=E.G)y.push(E);if(u=u.M,E=m.type||m,typeof m=="string")m=new M(m,u);else if(m instanceof M)m.target=m.target||u;else{var U=m;m=new M(E,u),it(m,U)}U=!0;let q,tt;if(y)for(tt=y.length-1;tt>=0;tt--)q=m.g=y[tt],U=Rt(q,E,!0,m)&&U;if(q=m.g=u,U=Rt(q,E,!0,m)&&U,U=Rt(q,E,!1,m)&&U,y)for(tt=0;tt<y.length;tt++)q=m.g=y[tt],U=Rt(q,E,!1,m)&&U}J.prototype.N=function(){if(J.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const y=u.g[m];for(let E=0;E<y.length;E++)ct(y[E]);delete u.g[m],u.h--}}this.G=null},J.prototype.J=function(u,m,y,E){return this.i.add(String(u),m,!1,y,E)},J.prototype.K=function(u,m,y,E){return this.i.add(String(u),m,!0,y,E)};function Rt(u,m,y,E){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let U=!0;for(let q=0;q<m.length;++q){const tt=m[q];if(tt&&!tt.da&&tt.capture==y){const Ct=tt.listener,Te=tt.ha||tt.src;tt.fa&&pt(u.i,tt),U=Ct.call(Te,E)!==!1&&U}}return U&&!E.defaultPrevented}function Qt(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=_(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function ke(u){u.g=Qt(()=>{u.g=null,u.i&&(u.i=!1,ke(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Jt extends N{constructor(m,y){super(),this.m=m,this.l=y,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:ke(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function oi(u){N.call(this),this.h=u,this.g={}}A(oi,N);var lo=[];function uo(u){Dt(u.g,function(m,y){this.g.hasOwnProperty(y)&&fr(m)},u),u.g={}}oi.prototype.N=function(){oi.Z.N.call(this),uo(this)},oi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var dr=d.JSON.stringify,Ah=d.JSON.parse,Kl=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function Ql(){}function Yl(){}var qn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Fe(){M.call(this,"d")}A(Fe,M);function Rn(){M.call(this,"c")}A(Rn,M);var ve={},Xl=null;function Js(){return Xl=Xl||new J}ve.Ia="serverreachability";function Wl(u){M.call(this,ve.Ia,u)}A(Wl,M);function li(u){const m=Js();H(m,new Wl(m))}ve.STAT_EVENT="statevent";function us(u,m){M.call(this,ve.STAT_EVENT,u),this.stat=m}A(us,M);function we(u){const m=Js();H(m,new us(m,u))}ve.Ja="timingevent";function ui(u,m){M.call(this,ve.Ja,u),this.size=m}A(ui,M);function ci(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Fn(){this.g=!0}Fn.prototype.ua=function(){this.g=!1};function wh(u,m,y,E,U,q){u.info(function(){if(u.g)if(q){var tt="",Ct=q.split("&");for(let Gt=0;Gt<Ct.length;Gt++){var Te=Ct[Gt].split("=");if(Te.length>1){const fe=Te[0];Te=Te[1];const Dn=fe.split("_");tt=Dn.length>=2&&Dn[1]=="type"?tt+(fe+"="+Te+"&"):tt+(fe+"=redacted&")}}}else tt=null;else tt=q;return"XMLHTTP REQ ("+E+") [attempt "+U+"]: "+m+`
`+y+`
`+tt})}function Jl(u,m,y,E,U,q,tt){u.info(function(){return"XMLHTTP RESP ("+E+") [ attempt "+U+"]: "+m+`
`+y+`
`+q+" "+tt})}function hi(u,m,y,E){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Rh(u,y)+(E?" "+E:"")})}function cs(u,m){u.info(function(){return"TIMEOUT: "+m})}Fn.prototype.info=function(){};function Rh(u,m){if(!u.g)return m;if(!m)return null;try{const q=JSON.parse(m);if(q){for(u=0;u<q.length;u++)if(Array.isArray(q[u])){var y=q[u];if(!(y.length<2)){var E=y[1];if(Array.isArray(E)&&!(E.length<1)){var U=E[0];if(U!="noop"&&U!="stop"&&U!="close")for(let tt=1;tt<E.length;tt++)E[tt]=""}}}}return dr(q)}catch{return m}}var hs={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},co={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},ho;function fs(){}A(fs,Ql),fs.prototype.g=function(){return new XMLHttpRequest},ho=new fs;function Ui(u){return encodeURIComponent(String(u))}function Zl(u){var m=1;u=u.split(":");const y=[];for(;m>0&&u.length;)y.push(u.shift()),m--;return u.length&&y.push(u.join(":")),y}function Gn(u,m,y,E){this.j=u,this.i=m,this.l=y,this.S=E||1,this.V=new oi(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Kn}function Kn(){this.i=null,this.g="",this.h=!1}var Re={},ze={};function fi(u,m,y){u.M=1,u.A=ds(Ie(m)),u.u=y,u.R=!0,Zs(u,null)}function Zs(u,m){u.F=Date.now(),di(u),u.B=Ie(u.A);var y=u.B,E=u.S;Array.isArray(E)||(E=[String(E)]),na(y.i,"t",E),u.C=0,y=u.j.L,u.h=new Kn,u.g=du(u.j,y?m:null,!u.u),u.P>0&&(u.O=new Jt(_(u.Y,u,u.g),u.P)),m=u.V,y=u.g,E=u.ba;var U="readystatechange";Array.isArray(U)||(U&&(lo[0]=U.toString()),U=lo);for(let q=0;q<U.length;q++){const tt=Wt(y,U[q],E||m.handleEvent,!1,m.h||m);if(!tt)break;m.g[tt.key]=tt}m=u.J?O(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),li(),wh(u.i,u.v,u.B,u.l,u.S,u.u)}Gn.prototype.ba=function(u){u=u.target;const m=this.O;m&&Xn(u)==3?m.j():this.Y(u)},Gn.prototype.Y=function(u){try{if(u==this.g)t:{const Ct=Xn(this.g),Te=this.g.ya(),Gt=this.g.ca();if(!(Ct<3)&&(Ct!=3||this.g&&(this.h.h||this.g.la()||Ge(this.g)))){this.K||Ct!=4||Te==7||(Te==8||Gt<=0?li(3):li(2)),mi(this);var m=this.g.ca();this.X=m;var y=Ch(this);if(this.o=m==200,Jl(this.i,this.v,this.B,this.l,this.S,Ct,m),this.o){if(this.U&&!this.L){e:{if(this.g){var E,U=this.g;if((E=U.g?U.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(E)){var q=E;break e}}q=null}if(u=q)hi(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,gi(this,u);else{this.o=!1,this.m=3,we(12),gn(this),Cn(this);break t}}if(this.R){u=!0;let fe;for(;!this.K&&this.C<y.length;)if(fe=tu(this,y),fe==ze){Ct==4&&(this.m=4,we(14),u=!1),hi(this.i,this.l,null,"[Incomplete Response]");break}else if(fe==Re){this.m=4,we(15),hi(this.i,this.l,y,"[Invalid Chunk]"),u=!1;break}else hi(this.i,this.l,fe,null),gi(this,fe);if($l(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ct!=4||y.length!=0||this.h.h||(this.m=1,we(16),u=!1),this.o=this.o&&u,!u)hi(this.i,this.l,y,"[Invalid Chunked Response]"),gn(this),Cn(this);else if(y.length>0&&!this.W){this.W=!0;var tt=this.j;tt.g==this&&tt.aa&&!tt.P&&(tt.j.info("Great, no buffering proxy detected. Bytes received: "+y.length),Co(tt),tt.P=!0,we(11))}}else hi(this.i,this.l,y,null),gi(this,y);Ct==4&&gn(this),this.o&&!this.K&&(Ct==4?uu(this.j,this):(this.o=!1,di(this)))}else ji(this.g),m==400&&y.indexOf("Unknown SID")>0?(this.m=3,we(12)):(this.m=0,we(13)),gn(this),Cn(this)}}}catch{}};function Ch(u){if(!$l(u))return u.g.la();const m=Ge(u.g);if(m==="")return"";let y="";const E=m.length,U=Xn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return gn(u),Cn(u),"";u.h.i=new d.TextDecoder}for(let q=0;q<E;q++)u.h.h=!0,y+=u.h.i.decode(m[q],{stream:!(U&&q==E-1)});return m.length=0,u.h.g+=y,u.C=0,u.h.g}function $l(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function tu(u,m){var y=u.C,E=m.indexOf(`
`,y);return E==-1?ze:(y=Number(m.substring(y,E)),isNaN(y)?Re:(E+=1,E+y>m.length?ze:(m=m.slice(E,E+y),u.C=E+y,m)))}Gn.prototype.cancel=function(){this.K=!0,gn(this)};function di(u){u.T=Date.now()+u.H,$s(u,u.H)}function $s(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=ci(_(u.aa,u),m)}function mi(u){u.D&&(d.clearTimeout(u.D),u.D=null)}Gn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(cs(this.i,this.B),this.M!=2&&(li(),we(17)),gn(this),this.m=2,Cn(this)):$s(this,this.T-u)};function Cn(u){u.j.I==0||u.K||uu(u.j,u)}function gn(u){mi(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,uo(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function gi(u,m){try{var y=u.j;if(y.I!=0&&(y.g==u||yi(y.h,u))){if(!u.L&&yi(y.h,u)&&y.I==3){try{var E=y.Ba.g.parse(m)}catch{E=null}if(Array.isArray(E)&&E.length==3){var U=E;if(U[0]==0){t:if(!y.v){if(y.g)if(y.g.F+3e3<u.F)oa(y),Er(y);else break t;Ts(y),we(18)}}else y.xa=U[1],0<y.xa-y.K&&U[2]<37500&&y.F&&y.A==0&&!y.C&&(y.C=ci(_(y.Va,y),6e3));pi(y.h)<=1&&y.ta&&(y.ta=void 0)}else bi(y,11)}else if((u.L||y.g==u)&&oa(y),!w(m))for(U=y.Ba.g.parse(m),m=0;m<U.length;m++){let Gt=U[m];const fe=Gt[0];if(!(fe<=y.K))if(y.K=fe,Gt=Gt[1],y.I==2)if(Gt[0]=="c"){y.M=Gt[1],y.ba=Gt[2];const Dn=Gt[3];Dn!=null&&(y.ka=Dn,y.j.info("VER="+y.ka));const Ai=Gt[4];Ai!=null&&(y.za=Ai,y.j.info("SVER="+y.za));const Wn=Gt[5];Wn!=null&&typeof Wn=="number"&&Wn>0&&(E=1.5*Wn,y.O=E,y.j.info("backChannelRequestTimeoutMs_="+E)),E=y;const Jn=u.g;if(Jn){const Es=Jn.g?Jn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Es){var q=E.h;q.g||Es.indexOf("spdy")==-1&&Es.indexOf("quic")==-1&&Es.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(go(q,q.h),q.h=null))}if(E.G){const la=Jn.g?Jn.g.getResponseHeader("X-HTTP-Session-Id"):null;la&&(E.wa=la,Zt(E.J,E.G,la))}}y.I=3,y.l&&y.l.ra(),y.aa&&(y.T=Date.now()-u.F,y.j.info("Handshake RTT: "+y.T+"ms")),E=y;var tt=u;if(E.na=fu(E,E.L?E.ba:null,E.W),tt.L){po(E.h,tt);var Ct=tt,Te=E.O;Te&&(Ct.H=Te),Ct.D&&(mi(Ct),di(Ct)),E.g=tt}else ou(E);y.i.length>0&&Si(y)}else Gt[0]!="stop"&&Gt[0]!="close"||bi(y,7);else y.I==3&&(Gt[0]=="stop"||Gt[0]=="close"?Gt[0]=="stop"?bi(y,7):wo(y):Gt[0]!="noop"&&y.l&&y.l.qa(Gt),y.A=0)}}li(4)}catch{}}var Ce=class{constructor(u,m){this.g=u,this.map=m}};function fo(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function mo(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function pi(u){return u.h?1:u.g?u.g.size:0}function yi(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function go(u,m){u.g?u.g.add(m):u.h=m}function po(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}fo.prototype.cancel=function(){if(this.i=yo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function yo(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const y of u.g.values())m=m.concat(y.G);return m}return Y(u.i)}var eu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ta(u,m){if(u){u=u.split("&");for(let y=0;y<u.length;y++){const E=u[y].indexOf("=");let U,q=null;E>=0?(U=u[y].substring(0,E),q=u[y].substring(E+1)):U=u[y],m(U,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function pn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof pn?(this.l=u.l,je(this,u.j),this.o=u.o,this.g=u.g,mr(this,u.u),this.h=u.h,_o(this,su(u.i)),this.m=u.m):u&&(m=String(u).match(eu))?(this.l=!1,je(this,m[1]||"",!0),this.o=_i(m[2]||""),this.g=_i(m[3]||"",!0),mr(this,m[4]),this.h=_i(m[5]||"",!0),_o(this,m[6]||"",!0),this.m=_i(m[7]||"")):(this.l=!1,this.i=new pr(null,this.l))}pn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(ms(m,ea,!0),":");var y=this.g;return(y||m=="file")&&(u.push("//"),(m=this.o)&&u.push(ms(m,ea,!0),"@"),u.push(Ui(y).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.u,y!=null&&u.push(":",String(y))),(y=this.h)&&(this.g&&y.charAt(0)!="/"&&u.push("/"),u.push(ms(y,y.charAt(0)=="/"?vo:nu,!0))),(y=this.i.toString())&&u.push("?",y),(y=this.m)&&u.push("#",ms(y,iu)),u.join("")},pn.prototype.resolve=function(u){const m=Ie(this);let y=!!u.j;y?je(m,u.j):y=!!u.o,y?m.o=u.o:y=!!u.g,y?m.g=u.g:y=u.u!=null;var E=u.h;if(y)mr(m,u.u);else if(y=!!u.h){if(E.charAt(0)!="/")if(this.g&&!this.h)E="/"+E;else{var U=m.h.lastIndexOf("/");U!=-1&&(E=m.h.slice(0,U+1)+E)}if(U=E,U==".."||U==".")E="";else if(U.indexOf("./")!=-1||U.indexOf("/.")!=-1){E=U.lastIndexOf("/",0)==0,U=U.split("/");const q=[];for(let tt=0;tt<U.length;){const Ct=U[tt++];Ct=="."?E&&tt==U.length&&q.push(""):Ct==".."?((q.length>1||q.length==1&&q[0]!="")&&q.pop(),E&&tt==U.length&&q.push("")):(q.push(Ct),E=!0)}E=q.join("/")}else E=U}return y?m.h=E:y=u.i.toString()!=="",y?_o(m,su(u.i)):y=!!u.m,y&&(m.m=u.m),m};function Ie(u){return new pn(u)}function je(u,m,y){u.j=y?_i(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function mr(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function _o(u,m,y){m instanceof pr?(u.i=m,ia(u.i,u.l)):(y||(m=ms(m,gr)),u.i=new pr(m,u.l))}function Zt(u,m,y){u.i.set(m,y)}function ds(u){return Zt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function _i(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function ms(u,m,y){return typeof u=="string"?(u=encodeURI(u).replace(m,on),y&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function on(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var ea=/[#\/\?@]/g,nu=/[#\?:]/g,vo=/[#\?]/g,gr=/[#\?@]/g,iu=/#/g;function pr(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function ln(u){u.g||(u.g=new Map,u.h=0,u.i&&ta(u.i,function(m,y){u.add(decodeURIComponent(m.replace(/\+/g," ")),y)}))}s=pr.prototype,s.add=function(u,m){ln(this),this.i=null,u=yr(this,u);let y=this.g.get(u);return y||this.g.set(u,y=[]),y.push(m),this.h+=1,this};function ru(u,m){ln(u),m=yr(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function To(u,m){return ln(u),m=yr(u,m),u.g.has(m)}s.forEach=function(u,m){ln(this),this.g.forEach(function(y,E){y.forEach(function(U){u.call(m,U,E,this)},this)},this)};function Eo(u,m){ln(u);let y=[];if(typeof m=="string")To(u,m)&&(y=y.concat(u.g.get(yr(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)y=y.concat(u[m]);return y}s.set=function(u,m){return ln(this),this.i=null,u=yr(this,u),To(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},s.get=function(u,m){return u?(u=Eo(this,u),u.length>0?String(u[0]):m):m};function na(u,m,y){ru(u,m),y.length>0&&(u.i=null,u.g.set(yr(u,m),Y(y)),u.h+=y.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let E=0;E<m.length;E++){var y=m[E];const U=Ui(y);y=Eo(this,y);for(let q=0;q<y.length;q++){let tt=U;y[q]!==""&&(tt+="="+Ui(y[q])),u.push(tt)}}return this.i=u.join("&")};function su(u){const m=new pr;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function yr(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function ia(u,m){m&&!u.j&&(ln(u),u.i=null,u.g.forEach(function(y,E){const U=E.toLowerCase();E!=U&&(ru(this,E),na(this,U,y))},u)),u.j=m}function Qn(u,m){const y=new Fn;if(d.Image){const E=new Image;E.onload=S(In,y,"TestLoadImage: loaded",!0,m,E),E.onerror=S(In,y,"TestLoadImage: error",!1,m,E),E.onabort=S(In,y,"TestLoadImage: abort",!1,m,E),E.ontimeout=S(In,y,"TestLoadImage: timeout",!1,m,E),d.setTimeout(function(){E.ontimeout&&E.ontimeout()},1e4),E.src=u}else m(!1)}function So(u,m){const y=new Fn,E=new AbortController,U=setTimeout(()=>{E.abort(),In(y,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:E.signal}).then(q=>{clearTimeout(U),q.ok?In(y,"TestPingServer: ok",!0,m):In(y,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(U),In(y,"TestPingServer: error",!1,m)})}function In(u,m,y,E,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),E(y)}catch{}}function _r(){this.g=new Kl}function vi(u){this.i=u.Sb||null,this.h=u.ab||!1}A(vi,Ql),vi.prototype.g=function(){return new gs(this.i,this.h)};function gs(u,m){J.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}A(gs,J),s=gs.prototype,s.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,Yn(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,vr(this)),this.readyState=0},s.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Yn(this)),this.g&&(this.readyState=3,Yn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ra(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function ra(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}s.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?vr(this):Yn(this),this.readyState==3&&ra(this)}},s.Oa=function(u){this.g&&(this.response=this.responseText=u,vr(this))},s.Na=function(u){this.g&&(this.response=u,vr(this))},s.ga=function(){this.g&&vr(this)};function vr(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Yn(u)}s.setRequestHeader=function(u,m){this.A.append(u,m)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var y=m.next();!y.done;)y=y.value,u.push(y[0]+": "+y[1]),y=m.next();return u.join(`\r
`)};function Yn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(gs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function xn(u){let m="";return Dt(u,function(y,E){m+=E,m+=":",m+=y,m+=`\r
`}),m}function ps(u,m,y){t:{for(E in y){var E=!1;break t}E=!0}E||(y=xn(y),typeof u=="string"?y!=null&&Ui(y):Zt(u,m,y))}function ne(u){J.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}A(ne,J);var Ti=/^https?$/i,bo=["POST","PUT"];s=ne.prototype,s.Fa=function(u){this.H=u},s.ea=function(u,m,y,E){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():ho.g(),this.g.onreadystatechange=V(_(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(q){ys(this,q);return}if(u=y||"",y=new Map(this.headers),E)if(Object.getPrototypeOf(E)===Object.prototype)for(var U in E)y.set(U,E[U]);else if(typeof E.keys=="function"&&typeof E.get=="function")for(const q of E.keys())y.set(q,E.get(q));else throw Error("Unknown input type for opt_headers: "+String(E));E=Array.from(y.keys()).find(q=>q.toLowerCase()=="content-type"),U=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(bo,m,void 0)>=0)||E||U||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,tt]of y)this.g.setRequestHeader(q,tt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(q){ys(this,q)}};function ys(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Ao(u),zi(u)}function Ao(u){u.A||(u.A=!0,H(u,"complete"),H(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,H(this,"complete"),H(this,"abort"),zi(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),zi(this,!0)),ne.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?_s(this):this.Xa())},s.Xa=function(){_s(this)};function _s(u){if(u.h&&typeof c<"u"){if(u.v&&Xn(u)==4)setTimeout(u.Ca.bind(u),0);else if(H(u,"readystatechange"),Xn(u)==4){u.h=!1;try{const q=u.ca();t:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var y;if(!(y=m)){var E;if(E=q===0){let tt=String(u.D).match(eu)[1]||null;!tt&&d.self&&d.self.location&&(tt=d.self.location.protocol.slice(0,-1)),E=!Ti.test(tt?tt.toLowerCase():"")}y=E}if(y)H(u,"complete"),H(u,"success");else{u.o=6;try{var U=Xn(u)>2?u.g.statusText:""}catch{U=""}u.l=U+" ["+u.ca()+"]",Ao(u)}}finally{zi(u)}}}}function zi(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const y=u.g;u.g=null,m||H(u,"ready");try{y.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function Xn(u){return u.g?u.g.readyState:0}s.ca=function(){try{return Xn(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Ah(m)}};function Ge(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function ji(u){const m={};u=(u.g&&Xn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let E=0;E<u.length;E++){if(w(u[E]))continue;var y=Zl(u[E]);const U=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();const q=m[U]||[];m[U]=q,q.push(y)}Vt(m,function(E){return E.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ei(u,m,y){return y&&y.internalChannelParams&&y.internalChannelParams[u]||m}function Tr(u){this.za=0,this.i=[],this.j=new Fn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ei("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ei("baseRetryDelayMs",5e3,u),this.Za=Ei("retryDelaySeedMs",1e4,u),this.Ta=Ei("forwardChannelMaxRetries",2,u),this.va=Ei("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new fo(u&&u.concurrentRequestLimit),this.Ba=new _r,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=Tr.prototype,s.ka=8,s.I=1,s.connect=function(u,m,y,E){we(0),this.W=u,this.H=m||{},y&&E!==void 0&&(this.H.OSID=y,this.H.OAID=E),this.F=this.X,this.J=fu(this,null,this.W),Si(this)};function wo(u){if(sa(u),u.I==3){var m=u.V++,y=Ie(u.J);if(Zt(y,"SID",u.M),Zt(y,"RID",m),Zt(y,"TYPE","terminate"),vs(u,y),m=new Gn(u,u.j,m),m.M=2,m.A=ds(Ie(y)),y=!1,d.navigator&&d.navigator.sendBeacon)try{y=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!y&&d.Image&&(new Image().src=m.A,y=!0),y||(m.g=du(m.j,null),m.g.ea(m.A)),m.F=Date.now(),di(m)}hu(u)}function Er(u){u.g&&(Co(u),u.g.cancel(),u.g=null)}function sa(u){Er(u),u.v&&(d.clearTimeout(u.v),u.v=null),oa(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function Si(u){if(!mo(u.h)&&!u.m){u.m=!0;var m=u.Ea;Xt||b(),wt||(Xt(),wt=!0),I.add(m,u),u.D=0}}function aa(u,m){return pi(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=ci(_(u.Ea,u,m),cu(u,u.D)),u.D++,!0)}s.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const U=new Gn(this,this.j,u);let q=this.o;if(this.U&&(q?(q=O(q),it(q,this.U)):q=this.U),this.u!==null||this.R||(U.J=q,q=null),this.S)t:{for(var m=0,y=0;y<this.i.length;y++){e:{var E=this.i[y];if("__data__"in E.map&&(E=E.map.__data__,typeof E=="string")){E=E.length;break e}E=void 0}if(E===void 0)break;if(m+=E,m>4096){m=y;break t}if(m===4096||y===this.i.length-1){m=y+1;break t}}m=1e3}else m=1e3;m=au(this,U,m),y=Ie(this.J),Zt(y,"RID",u),Zt(y,"CVER",22),this.G&&Zt(y,"X-HTTP-Session-Id",this.G),vs(this,y),q&&(this.R?m="headers="+Ui(xn(q))+"&"+m:this.u&&ps(y,this.u,q)),go(this.h,U),this.Ra&&Zt(y,"TYPE","init"),this.S?(Zt(y,"$req",m),Zt(y,"SID","null"),U.U=!0,fi(U,y,null)):fi(U,y,m),this.I=2}}else this.I==3&&(u?Ro(this,u):this.i.length==0||mo(this.h)||Ro(this))};function Ro(u,m){var y;m?y=m.l:y=u.V++;const E=Ie(u.J);Zt(E,"SID",u.M),Zt(E,"RID",y),Zt(E,"AID",u.K),vs(u,E),u.u&&u.o&&ps(E,u.u,u.o),y=new Gn(u,u.j,y,u.D+1),u.u===null&&(y.J=u.o),m&&(u.i=m.G.concat(u.i)),m=au(u,y,1e3),y.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),go(u.h,y),fi(y,E,m)}function vs(u,m){u.H&&Dt(u.H,function(y,E){Zt(m,E,y)}),u.l&&Dt({},function(y,E){Zt(m,E,y)})}function au(u,m,y){y=Math.min(u.i.length,y);const E=u.l?_(u.l.Ka,u.l,u):null;t:{var U=u.i;let Ct=-1;for(;;){const Te=["count="+y];Ct==-1?y>0?(Ct=U[0].g,Te.push("ofs="+Ct)):Ct=0:Te.push("ofs="+Ct);let Gt=!0;for(let fe=0;fe<y;fe++){var q=U[fe].g;const Dn=U[fe].map;if(q-=Ct,q<0)Ct=Math.max(0,U[fe].g-100),Gt=!1;else try{q="req"+q+"_"||"";try{var tt=Dn instanceof Map?Dn:Object.entries(Dn);for(const[Ai,Wn]of tt){let Jn=Wn;p(Wn)&&(Jn=dr(Wn)),Te.push(q+Ai+"="+encodeURIComponent(Jn))}}catch(Ai){throw Te.push(q+"type="+encodeURIComponent("_badmap")),Ai}}catch{E&&E(Dn)}}if(Gt){tt=Te.join("&");break t}}tt=void 0}return u=u.i.splice(0,y),m.G=u,tt}function ou(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;Xt||b(),wt||(Xt(),wt=!0),I.add(m,u),u.A=0}}function Ts(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=ci(_(u.Da,u),cu(u,u.A)),u.A++,!0)}s.Da=function(){if(this.v=null,lu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=ci(_(this.Wa,this),u)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,we(10),Er(this),lu(this))};function Co(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function lu(u){u.g=new Gn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Ie(u.na);Zt(m,"RID","rpc"),Zt(m,"SID",u.M),Zt(m,"AID",u.K),Zt(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Zt(m,"TO",u.ia),Zt(m,"TYPE","xmlhttp"),vs(u,m),u.u&&u.o&&ps(m,u.u,u.o),u.O&&(u.g.H=u.O);var y=u.g;u=u.ba,y.M=1,y.A=ds(Ie(m)),y.u=null,y.R=!0,Zs(y,u)}s.Va=function(){this.C!=null&&(this.C=null,Er(this),Ts(this),we(19))};function oa(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function uu(u,m){var y=null;if(u.g==m){oa(u),Co(u),u.g=null;var E=2}else if(yi(u.h,m))y=m.G,po(u.h,m),E=1;else return;if(u.I!=0){if(m.o)if(E==1){y=m.u?m.u.length:0,m=Date.now()-m.F;var U=u.D;E=Js(),H(E,new ui(E,y)),Si(u)}else ou(u);else if(U=m.m,U==3||U==0&&m.X>0||!(E==1&&aa(u,m)||E==2&&Ts(u)))switch(y&&y.length>0&&(m=u.h,m.i=m.i.concat(y)),U){case 1:bi(u,5);break;case 4:bi(u,10);break;case 3:bi(u,6);break;default:bi(u,2)}}}function cu(u,m){let y=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(y*=2),y*m}function bi(u,m){if(u.j.info("Error code "+m),m==2){var y=_(u.bb,u),E=u.Ua;const U=!E;E=new pn(E||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||je(E,"https"),ds(E),U?Qn(E.toString(),y):So(E.toString(),y)}else we(2);u.I=0,u.l&&u.l.pa(m),hu(u),sa(u)}s.bb=function(u){u?(this.j.info("Successfully pinged google.com"),we(2)):(this.j.info("Failed to ping google.com"),we(1))};function hu(u){if(u.I=0,u.ja=[],u.l){const m=yo(u.h);(m.length!=0||u.i.length!=0)&&(et(u.ja,m),et(u.ja,u.i),u.h.i.length=0,Y(u.i),u.i.length=0),u.l.oa()}}function fu(u,m,y){var E=y instanceof pn?Ie(y):new pn(y);if(E.g!="")m&&(E.g=m+"."+E.g),mr(E,E.u);else{var U=d.location;E=U.protocol,m=m?m+"."+U.hostname:U.hostname,U=+U.port;const q=new pn(null);E&&je(q,E),m&&(q.g=m),U&&mr(q,U),y&&(q.h=y),E=q}return y=u.G,m=u.wa,y&&m&&Zt(E,y,m),Zt(E,"VER",u.ka),vs(u,E),E}function du(u,m,y){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new ne(new vi({ab:y})):new ne(u.ma),m.Fa(u.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function mu(){}s=mu.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function Sr(){}Sr.prototype.g=function(u,m){return new sn(u,m)};function sn(u,m){J.call(this),this.g=new Tr(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!w(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!w(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Bi(this)}A(sn,J),sn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},sn.prototype.close=function(){wo(this.g)},sn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var y={};y.__data__=u,u=y}else this.v&&(y={},y.__data__=dr(u),u=y);m.i.push(new Ce(m.Ya++,u)),m.I==3&&Si(m)},sn.prototype.N=function(){this.g.l=null,delete this.j,wo(this.g),delete this.g,sn.Z.N.call(this)};function gu(u){Fe.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const y in m){u=y;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}A(gu,Fe);function pu(){Rn.call(this),this.status=1}A(pu,Rn);function Bi(u){this.g=u}A(Bi,mu),Bi.prototype.ra=function(){H(this.g,"a")},Bi.prototype.qa=function(u){H(this.g,new gu(u))},Bi.prototype.pa=function(u){H(this.g,new pu)},Bi.prototype.oa=function(){H(this.g,"b")},Sr.prototype.createWebChannel=Sr.prototype.g,sn.prototype.send=sn.prototype.o,sn.prototype.open=sn.prototype.m,sn.prototype.close=sn.prototype.close,eT=function(){return new Sr},tT=function(){return Js()},$v=ve,Xd={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},hs.NO_ERROR=0,hs.TIMEOUT=8,hs.HTTP_ERROR=6,Lc=hs,co.COMPLETE="complete",Zv=co,Yl.EventType=qn,qn.OPEN="a",qn.CLOSE="b",qn.ERROR="c",qn.MESSAGE="d",J.prototype.listen=J.prototype.J,gl=Yl,ne.prototype.listenOnce=ne.prototype.K,ne.prototype.getLastError=ne.prototype.Ha,ne.prototype.getLastErrorCode=ne.prototype.ya,ne.prototype.getStatus=ne.prototype.ca,ne.prototype.getResponseJson=ne.prototype.La,ne.prototype.getResponseText=ne.prototype.la,ne.prototype.send=ne.prototype.ea,ne.prototype.setWithCredentials=ne.prototype.Fa,Jv=ne}).apply(typeof Ec<"u"?Ec:typeof self<"u"?self:typeof window<"u"?window:{});class en{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}en.UNAUTHENTICATED=new en(null),en.GOOGLE_CREDENTIALS=new en("google-credentials-uid"),en.FIRST_PARTY=new en("first-party-uid"),en.MOCK_USER=new en("mock-user");let ro="12.8.0";function W2(s){ro=s}const Gs=new fm("@firebase/firestore");function Ua(){return Gs.logLevel}function ot(s,...t){if(Gs.logLevel<=Pt.DEBUG){const i=t.map(wm);Gs.debug(`Firestore (${ro}): ${s}`,...i)}}function ur(s,...t){if(Gs.logLevel<=Pt.ERROR){const i=t.map(wm);Gs.error(`Firestore (${ro}): ${s}`,...i)}}function Xa(s,...t){if(Gs.logLevel<=Pt.WARN){const i=t.map(wm);Gs.warn(`Firestore (${ro}): ${s}`,...i)}}function wm(s){if(typeof s=="string")return s;try{return(function(i){return JSON.stringify(i)})(s)}catch{return s}}function _t(s,t,i){let a="Unexpected state";typeof t=="string"?a=t:i=t,nT(s,a,i)}function nT(s,t,i){let a=`FIRESTORE (${ro}) INTERNAL ASSERTION FAILED: ${t} (ID: ${s.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw ur(a),new Error(a)}function Yt(s,t,i,a){let l="Unexpected state";typeof i=="string"?l=i:a=i,s||nT(t,l,a)}function At(s,t){return s}const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ht extends hr{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ts{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}class iT{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class J2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i(en.UNAUTHENTICATED)))}shutdown(){}}class Z2{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class $2{constructor(t){this.t=t,this.currentUser=en.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){Yt(this.o===void 0,42304);let a=this.i;const l=v=>this.i!==a?(a=this.i,i(v)):Promise.resolve();let c=new ts;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new ts,t.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const v=c;t.enqueueRetryable((async()=>{await v.promise,await l(this.currentUser)}))},p=v=>{ot("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((v=>p(v))),setTimeout((()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?p(v):(ot("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new ts)}}),0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==t?(ot("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Yt(typeof a.accessToken=="string",31837,{l:a}),new iT(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Yt(t===null||typeof t=="string",2055,{h:t}),new en(t)}}class tw{constructor(t,i,a){this.P=t,this.T=i,this.I=a,this.type="FirstParty",this.user=en.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const t=this.A();return t&&this.R.set("Authorization",t),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class ew{constructor(t,i,a){this.P=t,this.T=i,this.I=a}getToken(){return Promise.resolve(new tw(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i(en.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class l0{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class nw{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ei(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){Yt(this.o===void 0,3512);const a=c=>{c.error!=null&&ot("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,ot("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable((()=>a(c)))};const l=c=>{ot("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):ot("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new l0(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(Yt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new l0(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function iw(s){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let a=0;a<s;a++)i[a]=Math.floor(256*Math.random());return i}class Rm{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const l=iw(40);for(let c=0;c<l.length;++c)a.length<20&&l[c]<i&&(a+=t.charAt(l[c]%62))}return a}}function Ut(s,t){return s<t?-1:s>t?1:0}function Wd(s,t){const i=Math.min(s.length,t.length);for(let a=0;a<i;a++){const l=s.charAt(a),c=t.charAt(a);if(l!==c)return kd(l)===kd(c)?Ut(l,c):kd(l)?1:-1}return Ut(s.length,t.length)}const rw=55296,sw=57343;function kd(s){const t=s.charCodeAt(0);return t>=rw&&t<=sw}function Wa(s,t,i){return s.length===t.length&&s.every(((a,l)=>i(a,t[l])))}const u0="__name__";class xi{constructor(t,i,a){i===void 0?i=0:i>t.length&&_t(637,{offset:i,range:t.length}),a===void 0?a=t.length-i:a>t.length-i&&_t(1746,{length:a,range:t.length-i}),this.segments=t,this.offset=i,this.len=a}get length(){return this.len}isEqual(t){return xi.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof xi?t.forEach((a=>{i.push(a)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,a=this.limit();i<a;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const a=Math.min(t.length,i.length);for(let l=0;l<a;l++){const c=xi.compareSegments(t.get(l),i.get(l));if(c!==0)return c}return Ut(t.length,i.length)}static compareSegments(t,i){const a=xi.isNumericId(t),l=xi.isNumericId(i);return a&&!l?-1:!a&&l?1:a&&l?xi.extractNumericId(t).compare(xi.extractNumericId(i)):Wd(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return $r.fromString(t.substring(4,t.length-2))}}class ge extends xi{construct(t,i,a){return new ge(t,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const a of t){if(a.indexOf("//")>=0)throw new ht($.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((l=>l.length>0)))}return new ge(i)}static emptyPath(){return new ge([])}}const aw=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Je extends xi{construct(t,i,a){return new Je(t,i,a)}static isValidIdentifier(t){return aw.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Je.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===u0}static keyField(){return new Je([u0])}static fromServerFormat(t){const i=[];let a="",l=0;const c=()=>{if(a.length===0)throw new ht($.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;l<t.length;){const p=t[l];if(p==="\\"){if(l+1===t.length)throw new ht($.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const v=t[l+1];if(v!=="\\"&&v!=="."&&v!=="`")throw new ht($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);a+=v,l+=2}else p==="`"?(d=!d,l++):p!=="."||d?(a+=p,l++):(c(),l++)}if(c(),d)throw new ht($.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Je(i)}static emptyPath(){return new Je([])}}class gt{constructor(t){this.path=t}static fromPath(t){return new gt(ge.fromString(t))}static fromName(t){return new gt(ge.fromString(t).popFirst(5))}static empty(){return new gt(ge.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ge.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return ge.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new gt(new ge(t.slice()))}}function ow(s,t,i){if(!i)throw new ht($.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${t}.`)}function lw(s,t,i,a){if(t===!0&&a===!0)throw new ht($.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function c0(s){if(!gt.isDocumentKey(s))throw new ht($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function rT(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function Cm(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const t=(function(a){return a.constructor?a.constructor.name:null})(s);return t?`a custom ${t} object`:"an object"}}return typeof s=="function"?"a function":_t(12329,{type:typeof s})}function Il(s,t){if("_delegate"in s&&(s=s._delegate),!(s instanceof t)){if(t.name===s.constructor.name)throw new ht($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Cm(s);throw new ht($.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return s}function Ve(s,t){const i={typeString:s};return t&&(i.value=t),i}function Bl(s,t){if(!rT(s))throw new ht($.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in t)if(t[a]){const l=t[a].typeString,c="value"in t[a]?{value:t[a].value}:void 0;if(!(a in s)){i=`JSON missing required field: '${a}'`;break}const d=s[a];if(l&&typeof d!==l){i=`JSON field '${a}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${a}' field to equal '${c.value}'`;break}}if(i)throw new ht($.INVALID_ARGUMENT,i);return!0}const h0=-62135596800,f0=1e6;class ce{static now(){return ce.fromMillis(Date.now())}static fromDate(t){return ce.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),a=Math.floor((t-1e3*i)*f0);return new ce(i,a)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new ht($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ht($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<h0)throw new ht($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ht($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/f0}_compareTo(t){return this.seconds===t.seconds?Ut(this.nanoseconds,t.nanoseconds):Ut(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ce._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Bl(t,ce._jsonSchema))return new ce(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-h0;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ce._jsonSchemaVersion="firestore/timestamp/1.0",ce._jsonSchema={type:Ve("string",ce._jsonSchemaVersion),seconds:Ve("number"),nanoseconds:Ve("number")};class St{static fromTimestamp(t){return new St(t)}static min(){return new St(new ce(0,0))}static max(){return new St(new ce(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const xl=-1;function uw(s,t){const i=s.toTimestamp().seconds,a=s.toTimestamp().nanoseconds+1,l=St.fromTimestamp(a===1e9?new ce(i+1,0):new ce(i,a));return new es(l,gt.empty(),t)}function cw(s){return new es(s.readTime,s.key,xl)}class es{constructor(t,i,a){this.readTime=t,this.documentKey=i,this.largestBatchId=a}static min(){return new es(St.min(),gt.empty(),xl)}static max(){return new es(St.max(),gt.empty(),xl)}}function hw(s,t){let i=s.readTime.compareTo(t.readTime);return i!==0?i:(i=gt.comparator(s.documentKey,t.documentKey),i!==0?i:Ut(s.largestBatchId,t.largestBatchId))}const fw="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class dw{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function so(s){if(s.code!==$.FAILED_PRECONDITION||s.message!==fw)throw s;ot("LocalStore","Unexpectedly lost primary lease")}class Z{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&_t(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new Z(((a,l)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(a,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,l)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof Z?i:Z.resolve(i)}catch(i){return Z.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):Z.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):Z.reject(i)}static resolve(t){return new Z(((i,a)=>{i(t)}))}static reject(t){return new Z(((i,a)=>{a(t)}))}static waitFor(t){return new Z(((i,a)=>{let l=0,c=0,d=!1;t.forEach((p=>{++l,p.next((()=>{++c,d&&c===l&&i()}),(v=>a(v)))})),d=!0,c===l&&i()}))}static or(t){let i=Z.resolve(!1);for(const a of t)i=i.next((l=>l?Z.resolve(l):a()));return i}static forEach(t,i){const a=[];return t.forEach(((l,c)=>{a.push(i.call(this,l,c))})),this.waitFor(a)}static mapArray(t,i){return new Z(((a,l)=>{const c=t.length,d=new Array(c);let p=0;for(let v=0;v<c;v++){const _=v;i(t[_]).next((S=>{d[_]=S,++p,p===c&&a(d)}),(S=>l(S)))}}))}static doWhile(t,i){return new Z(((a,l)=>{const c=()=>{t()===!0?i().next((()=>{c()}),l):a()};c()}))}}function mw(s){const t=s.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function ao(s){return s.name==="IndexedDbTransactionError"}class fh{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}fh.ce=-1;const Im=-1;function dh(s){return s==null}function Wc(s){return s===0&&1/s==-1/0}function gw(s){return typeof s=="number"&&Number.isInteger(s)&&!Wc(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const sT="";function pw(s){let t="";for(let i=0;i<s.length;i++)t.length>0&&(t=d0(t)),t=yw(s.get(i),t);return d0(t)}function yw(s,t){let i=t;const a=s.length;for(let l=0;l<a;l++){const c=s.charAt(l);switch(c){case"\0":i+="";break;case sT:i+="";break;default:i+=c}}return i}function d0(s){return s+sT+""}function m0(s){let t=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&t++;return t}function Qs(s,t){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&t(i,s[i])}function aT(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}class pe{constructor(t,i){this.comparator=t,this.root=i||We.EMPTY}insert(t,i){return new pe(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,We.BLACK,null,null))}remove(t){return new pe(this.comparator,this.root.remove(t,this.comparator).copy(null,null,We.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(t,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(t){let i=0,a=this.root;for(;!a.isEmpty();){const l=this.comparator(t,a.key);if(l===0)return i+a.left.size;l<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,a)=>(t(i,a),!1)))}toString(){const t=[];return this.inorderTraversal(((i,a)=>(t.push(`${i}:${a}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Sc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Sc(this.root,t,this.comparator,!1)}getReverseIterator(){return new Sc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Sc(this.root,t,this.comparator,!0)}}class Sc{constructor(t,i,a,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?a(t.key,i):1,i&&l&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class We{constructor(t,i,a,l,c){this.key=t,this.value=i,this.color=a??We.RED,this.left=l??We.EMPTY,this.right=c??We.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,a,l,c){return new We(t??this.key,i??this.value,a??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,a){let l=this;const c=a(t,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(t,i,a),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(t,i,a)),l.fixUp()}removeMin(){if(this.left.isEmpty())return We.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let a,l=this;if(i(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(t,l.key)===0){if(l.right.isEmpty())return We.EMPTY;a=l.right.min(),l=l.copy(a.key,a.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,We.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,We.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw _t(43730,{key:this.key,value:this.value});if(this.right.isRed())throw _t(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw _t(27949);return t+(this.isRed()?0:1)}}We.EMPTY=null,We.RED=!0,We.BLACK=!1;We.EMPTY=new class{constructor(){this.size=0}get key(){throw _t(57766)}get value(){throw _t(16141)}get color(){throw _t(16727)}get left(){throw _t(29726)}get right(){throw _t(36894)}copy(t,i,a,l,c){return this}insert(t,i,a){return new We(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ue{constructor(t){this.comparator=t,this.data=new pe(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,a)=>(t(i),!1)))}forEachInRange(t,i){const a=this.data.getIteratorFrom(t[0]);for(;a.hasNext();){const l=a.getNext();if(this.comparator(l.key,t[1])>=0)return;i(l.key)}}forEachWhile(t,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!t(a.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new g0(this.data.getIterator())}getIteratorFrom(t){return new g0(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((a=>{i=i.add(a)})),i}isEqual(t){if(!(t instanceof Ue)||this.size!==t.size)return!1;const i=this.data.getIterator(),a=t.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new Ue(this.comparator);return i.data=t,i}}class g0{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class ii{constructor(t){this.fields=t,t.sort(Je.comparator)}static empty(){return new ii([])}unionWith(t){let i=new Ue(Je.comparator);for(const a of this.fields)i=i.add(a);for(const a of t)i=i.add(a);return new ii(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return Wa(this.fields,t.fields,((i,a)=>i.isEqual(a)))}}class oT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Ze{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new oT("Invalid base64 string: "+c):c}})(t);return new Ze(i)}static fromUint8Array(t){const i=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(t);return new Ze(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let l=0;l<i.length;l++)a[l]=i.charCodeAt(l);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Ut(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Ze.EMPTY_BYTE_STRING=new Ze("");const _w=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ns(s){if(Yt(!!s,39018),typeof s=="string"){let t=0;const i=_w.exec(s);if(Yt(!!i,46558,{timestamp:s}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),t=Number(l)}const a=new Date(s);return{seconds:Math.floor(a.getTime()/1e3),nanos:t}}return{seconds:Ae(s.seconds),nanos:Ae(s.nanos)}}function Ae(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function is(s){return typeof s=="string"?Ze.fromBase64String(s):Ze.fromUint8Array(s)}const lT="server_timestamp",uT="__type__",cT="__previous_value__",hT="__local_write_time__";function xm(s){return(s?.mapValue?.fields||{})[uT]?.stringValue===lT}function mh(s){const t=s.mapValue.fields[cT];return xm(t)?mh(t):t}function Dl(s){const t=ns(s.mapValue.fields[hT].timestampValue);return new ce(t.seconds,t.nanos)}class vw{constructor(t,i,a,l,c,d,p,v,_,S,A){this.databaseId=t,this.appId=i,this.persistenceKey=a,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=v,this.useFetchStreams=_,this.isUsingEmulator=S,this.apiKey=A}}const Jc="(default)";class Ml{constructor(t,i){this.projectId=t,this.database=i||Jc}static empty(){return new Ml("","")}get isDefaultDatabase(){return this.database===Jc}isEqual(t){return t instanceof Ml&&t.projectId===this.projectId&&t.database===this.database}}function Tw(s,t){if(!Object.prototype.hasOwnProperty.apply(s.options,["projectId"]))throw new ht($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ml(s.options.projectId,t)}const fT="__type__",Ew="__max__",bc={mapValue:{}},dT="__vector__",Zc="value";function rs(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?xm(s)?4:bw(s)?9007199254740991:Sw(s)?10:11:_t(28295,{value:s})}function ki(s,t){if(s===t)return!0;const i=rs(s);if(i!==rs(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===t.booleanValue;case 4:return Dl(s).isEqual(Dl(t));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=ns(l.timestampValue),p=ns(c.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(s,t);case 5:return s.stringValue===t.stringValue;case 6:return(function(l,c){return is(l.bytesValue).isEqual(is(c.bytesValue))})(s,t);case 7:return s.referenceValue===t.referenceValue;case 8:return(function(l,c){return Ae(l.geoPointValue.latitude)===Ae(c.geoPointValue.latitude)&&Ae(l.geoPointValue.longitude)===Ae(c.geoPointValue.longitude)})(s,t);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return Ae(l.integerValue)===Ae(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=Ae(l.doubleValue),p=Ae(c.doubleValue);return d===p?Wc(d)===Wc(p):isNaN(d)&&isNaN(p)}return!1})(s,t);case 9:return Wa(s.arrayValue.values||[],t.arrayValue.values||[],ki);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},p=c.mapValue.fields||{};if(m0(d)!==m0(p))return!1;for(const v in d)if(d.hasOwnProperty(v)&&(p[v]===void 0||!ki(d[v],p[v])))return!1;return!0})(s,t);default:return _t(52216,{left:s})}}function Ol(s,t){return(s.values||[]).find((i=>ki(i,t)))!==void 0}function Ja(s,t){if(s===t)return 0;const i=rs(s),a=rs(t);if(i!==a)return Ut(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return Ut(s.booleanValue,t.booleanValue);case 2:return(function(c,d){const p=Ae(c.integerValue||c.doubleValue),v=Ae(d.integerValue||d.doubleValue);return p<v?-1:p>v?1:p===v?0:isNaN(p)?isNaN(v)?0:-1:1})(s,t);case 3:return p0(s.timestampValue,t.timestampValue);case 4:return p0(Dl(s),Dl(t));case 5:return Wd(s.stringValue,t.stringValue);case 6:return(function(c,d){const p=is(c),v=is(d);return p.compareTo(v)})(s.bytesValue,t.bytesValue);case 7:return(function(c,d){const p=c.split("/"),v=d.split("/");for(let _=0;_<p.length&&_<v.length;_++){const S=Ut(p[_],v[_]);if(S!==0)return S}return Ut(p.length,v.length)})(s.referenceValue,t.referenceValue);case 8:return(function(c,d){const p=Ut(Ae(c.latitude),Ae(d.latitude));return p!==0?p:Ut(Ae(c.longitude),Ae(d.longitude))})(s.geoPointValue,t.geoPointValue);case 9:return y0(s.arrayValue,t.arrayValue);case 10:return(function(c,d){const p=c.fields||{},v=d.fields||{},_=p[Zc]?.arrayValue,S=v[Zc]?.arrayValue,A=Ut(_?.values?.length||0,S?.values?.length||0);return A!==0?A:y0(_,S)})(s.mapValue,t.mapValue);case 11:return(function(c,d){if(c===bc.mapValue&&d===bc.mapValue)return 0;if(c===bc.mapValue)return 1;if(d===bc.mapValue)return-1;const p=c.fields||{},v=Object.keys(p),_=d.fields||{},S=Object.keys(_);v.sort(),S.sort();for(let A=0;A<v.length&&A<S.length;++A){const V=Wd(v[A],S[A]);if(V!==0)return V;const Y=Ja(p[v[A]],_[S[A]]);if(Y!==0)return Y}return Ut(v.length,S.length)})(s.mapValue,t.mapValue);default:throw _t(23264,{he:i})}}function p0(s,t){if(typeof s=="string"&&typeof t=="string"&&s.length===t.length)return Ut(s,t);const i=ns(s),a=ns(t),l=Ut(i.seconds,a.seconds);return l!==0?l:Ut(i.nanos,a.nanos)}function y0(s,t){const i=s.values||[],a=t.values||[];for(let l=0;l<i.length&&l<a.length;++l){const c=Ja(i[l],a[l]);if(c)return c}return Ut(i.length,a.length)}function Za(s){return Jd(s)}function Jd(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(i){const a=ns(i);return`time(${a.seconds},${a.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(i){return is(i).toBase64()})(s.bytesValue):"referenceValue"in s?(function(i){return gt.fromName(i).toString()})(s.referenceValue):"geoPointValue"in s?(function(i){return`geo(${i.latitude},${i.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(i){let a="[",l=!0;for(const c of i.values||[])l?l=!1:a+=",",a+=Jd(c);return a+"]"})(s.arrayValue):"mapValue"in s?(function(i){const a=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of a)c?c=!1:l+=",",l+=`${d}:${Jd(i.fields[d])}`;return l+"}"})(s.mapValue):_t(61005,{value:s})}function Pc(s){switch(rs(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=mh(s);return t?16+Pc(t):16;case 5:return 2*s.stringValue.length;case 6:return is(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((l,c)=>l+Pc(c)),0)})(s.arrayValue);case 10:case 11:return(function(a){let l=0;return Qs(a.fields,((c,d)=>{l+=c.length+Pc(d)})),l})(s.mapValue);default:throw _t(13486,{value:s})}}function Zd(s){return!!s&&"integerValue"in s}function Dm(s){return!!s&&"arrayValue"in s}function _0(s){return!!s&&"nullValue"in s}function v0(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Uc(s){return!!s&&"mapValue"in s}function Sw(s){return(s?.mapValue?.fields||{})[fT]?.stringValue===dT}function El(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const t={mapValue:{fields:{}}};return Qs(s.mapValue.fields,((i,a)=>t.mapValue.fields[i]=El(a))),t}if(s.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=El(s.arrayValue.values[i]);return t}return{...s}}function bw(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===Ew}class zn{constructor(t){this.value=t}static empty(){return new zn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let a=0;a<t.length-1;++a)if(i=(i.mapValue.fields||{})[t.get(a)],!Uc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=El(i)}setAll(t){let i=Je.emptyPath(),a={},l=[];t.forEach(((d,p)=>{if(!i.isImmediateParentOf(p)){const v=this.getFieldsMap(i);this.applyChanges(v,a,l),a={},l=[],i=p.popLast()}d?a[p.lastSegment()]=El(d):l.push(p.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,a,l)}delete(t){const i=this.field(t.popLast());Uc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return ki(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<t.length;++a){let l=i.mapValue.fields[t.get(a)];Uc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[t.get(a)]=l),i=l}return i.mapValue.fields}applyChanges(t,i,a){Qs(i,((l,c)=>t[l]=c));for(const l of a)delete t[l]}clone(){return new zn(El(this.value))}}function mT(s){const t=[];return Qs(s.fields,((i,a)=>{const l=new Je([i]);if(Uc(a)){const c=mT(a.mapValue).fields;if(c.length===0)t.push(l);else for(const d of c)t.push(l.child(d))}else t.push(l)})),new ii(t)}class nn{constructor(t,i,a,l,c,d,p){this.key=t,this.documentType=i,this.version=a,this.readTime=l,this.createTime=c,this.data=d,this.documentState=p}static newInvalidDocument(t){return new nn(t,0,St.min(),St.min(),St.min(),zn.empty(),0)}static newFoundDocument(t,i,a,l){return new nn(t,1,i,St.min(),a,l,0)}static newNoDocument(t,i){return new nn(t,2,i,St.min(),St.min(),zn.empty(),0)}static newUnknownDocument(t,i){return new nn(t,3,i,St.min(),St.min(),zn.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(St.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=zn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=zn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=St.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof nn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new nn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class $c{constructor(t,i){this.position=t,this.inclusive=i}}function T0(s,t,i){let a=0;for(let l=0;l<s.position.length;l++){const c=t[l],d=s.position[l];if(c.field.isKeyField()?a=gt.comparator(gt.fromName(d.referenceValue),i.key):a=Ja(d,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function E0(s,t){if(s===null)return t===null;if(t===null||s.inclusive!==t.inclusive||s.position.length!==t.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!ki(s.position[i],t.position[i]))return!1;return!0}class th{constructor(t,i="asc"){this.field=t,this.dir=i}}function Aw(s,t){return s.dir===t.dir&&s.field.isEqual(t.field)}class gT{}class Pe extends gT{constructor(t,i,a){super(),this.field=t,this.op=i,this.value=a}static create(t,i,a){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,a):new Rw(t,i,a):i==="array-contains"?new xw(t,a):i==="in"?new Dw(t,a):i==="not-in"?new Mw(t,a):i==="array-contains-any"?new Ow(t,a):new Pe(t,i,a)}static createKeyFieldInFilter(t,i,a){return i==="in"?new Cw(t,a):new Iw(t,a)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Ja(i,this.value)):i!==null&&rs(this.value)===rs(i)&&this.matchesComparison(Ja(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return _t(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Li extends gT{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new Li(t,i)}matches(t){return pT(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function pT(s){return s.op==="and"}function yT(s){return ww(s)&&pT(s)}function ww(s){for(const t of s.filters)if(t instanceof Li)return!1;return!0}function $d(s){if(s instanceof Pe)return s.field.canonicalString()+s.op.toString()+Za(s.value);if(yT(s))return s.filters.map((t=>$d(t))).join(",");{const t=s.filters.map((i=>$d(i))).join(",");return`${s.op}(${t})`}}function _T(s,t){return s instanceof Pe?(function(a,l){return l instanceof Pe&&a.op===l.op&&a.field.isEqual(l.field)&&ki(a.value,l.value)})(s,t):s instanceof Li?(function(a,l){return l instanceof Li&&a.op===l.op&&a.filters.length===l.filters.length?a.filters.reduce(((c,d,p)=>c&&_T(d,l.filters[p])),!0):!1})(s,t):void _t(19439)}function vT(s){return s instanceof Pe?(function(i){return`${i.field.canonicalString()} ${i.op} ${Za(i.value)}`})(s):s instanceof Li?(function(i){return i.op.toString()+" {"+i.getFilters().map(vT).join(" ,")+"}"})(s):"Filter"}class Rw extends Pe{constructor(t,i,a){super(t,i,a),this.key=gt.fromName(a.referenceValue)}matches(t){const i=gt.comparator(t.key,this.key);return this.matchesComparison(i)}}class Cw extends Pe{constructor(t,i){super(t,"in",i),this.keys=TT("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class Iw extends Pe{constructor(t,i){super(t,"not-in",i),this.keys=TT("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function TT(s,t){return(t.arrayValue?.values||[]).map((i=>gt.fromName(i.referenceValue)))}class xw extends Pe{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return Dm(i)&&Ol(i.arrayValue,this.value)}}class Dw extends Pe{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&Ol(this.value.arrayValue,i)}}class Mw extends Pe{constructor(t,i){super(t,"not-in",i)}matches(t){if(Ol(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Ol(this.value.arrayValue,i)}}class Ow extends Pe{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!Dm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>Ol(this.value.arrayValue,a)))}}class Nw{constructor(t,i=null,a=[],l=[],c=null,d=null,p=null){this.path=t,this.collectionGroup=i,this.orderBy=a,this.filters=l,this.limit=c,this.startAt=d,this.endAt=p,this.Te=null}}function S0(s,t=null,i=[],a=[],l=null,c=null,d=null){return new Nw(s,t,i,a,l,c,d)}function Mm(s){const t=At(s);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((a=>$d(a))).join(","),i+="|ob:",i+=t.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),dh(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((a=>Za(a))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((a=>Za(a))).join(",")),t.Te=i}return t.Te}function Om(s,t){if(s.limit!==t.limit||s.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!Aw(s.orderBy[i],t.orderBy[i]))return!1;if(s.filters.length!==t.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!_T(s.filters[i],t.filters[i]))return!1;return s.collectionGroup===t.collectionGroup&&!!s.path.isEqual(t.path)&&!!E0(s.startAt,t.startAt)&&E0(s.endAt,t.endAt)}function tm(s){return gt.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class gh{constructor(t,i=null,a=[],l=[],c=null,d="F",p=null,v=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=l,this.limit=c,this.limitType=d,this.startAt=p,this.endAt=v,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function Vw(s,t,i,a,l,c,d,p){return new gh(s,t,i,a,l,c,d,p)}function Nm(s){return new gh(s)}function b0(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function kw(s){return gt.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}function Lw(s){return s.collectionGroup!==null}function Sl(s){const t=At(s);if(t.Ie===null){t.Ie=[];const i=new Set;for(const c of t.explicitOrderBy)t.Ie.push(c),i.add(c.field.canonicalString());const a=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new Ue(Je.comparator);return d.filters.forEach((v=>{v.getFlattenedFilters().forEach((_=>{_.isInequality()&&(p=p.add(_.field))}))})),p})(t).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||t.Ie.push(new th(c,a))})),i.has(Je.keyField().canonicalString())||t.Ie.push(new th(Je.keyField(),a))}return t.Ie}function Mi(s){const t=At(s);return t.Ee||(t.Ee=Pw(t,Sl(s))),t.Ee}function Pw(s,t){if(s.limitType==="F")return S0(s.path,s.collectionGroup,t,s.filters,s.limit,s.startAt,s.endAt);{t=t.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new th(l.field,c)}));const i=s.endAt?new $c(s.endAt.position,s.endAt.inclusive):null,a=s.startAt?new $c(s.startAt.position,s.startAt.inclusive):null;return S0(s.path,s.collectionGroup,t,s.filters,s.limit,i,a)}}function em(s,t,i){return new gh(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),t,i,s.startAt,s.endAt)}function ph(s,t){return Om(Mi(s),Mi(t))&&s.limitType===t.limitType}function ET(s){return`${Mm(Mi(s))}|lt:${s.limitType}`}function za(s){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((l=>vT(l))).join(", ")}]`),dh(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((l=>Za(l))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((l=>Za(l))).join(",")),`Target(${a})`})(Mi(s))}; limitType=${s.limitType})`}function yh(s,t){return t.isFoundDocument()&&(function(a,l){const c=l.key.path;return a.collectionGroup!==null?l.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):gt.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(s,t)&&(function(a,l){for(const c of Sl(a))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(s,t)&&(function(a,l){for(const c of a.filters)if(!c.matches(l))return!1;return!0})(s,t)&&(function(a,l){return!(a.startAt&&!(function(d,p,v){const _=T0(d,p,v);return d.inclusive?_<=0:_<0})(a.startAt,Sl(a),l)||a.endAt&&!(function(d,p,v){const _=T0(d,p,v);return d.inclusive?_>=0:_>0})(a.endAt,Sl(a),l))})(s,t)}function Uw(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function ST(s){return(t,i)=>{let a=!1;for(const l of Sl(s)){const c=zw(l,t,i);if(c!==0)return c;a=a||l.field.isKeyField()}return 0}}function zw(s,t,i){const a=s.field.isKeyField()?gt.comparator(t.key,i.key):(function(c,d,p){const v=d.data.field(c),_=p.data.field(c);return v!==null&&_!==null?Ja(v,_):_t(42886)})(s.field,t,i);switch(s.dir){case"asc":return a;case"desc":return-1*a;default:return _t(19790,{direction:s.dir})}}class Ys{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a!==void 0){for(const[l,c]of a)if(this.equalsFn(l,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const a=this.mapKeyFn(t),l=this.inner[a];if(l===void 0)return this.inner[a]=[[t,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],t))return void(l[c]=[t,i]);l.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a===void 0)return!1;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],t))return a.length===1?delete this.inner[i]:a.splice(l,1),this.innerSize--,!0;return!1}forEach(t){Qs(this.inner,((i,a)=>{for(const[l,c]of a)t(l,c)}))}isEmpty(){return aT(this.inner)}size(){return this.innerSize}}const jw=new pe(gt.comparator);function cr(){return jw}const bT=new pe(gt.comparator);function pl(...s){let t=bT;for(const i of s)t=t.insert(i.key,i);return t}function AT(s){let t=bT;return s.forEach(((i,a)=>t=t.insert(i,a.overlayedDocument))),t}function zs(){return bl()}function wT(){return bl()}function bl(){return new Ys((s=>s.toString()),((s,t)=>s.isEqual(t)))}const Bw=new pe(gt.comparator),Hw=new Ue(gt.comparator);function zt(...s){let t=Hw;for(const i of s)t=t.add(i);return t}const qw=new Ue(Ut);function Fw(){return qw}function Vm(s,t){if(s.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Wc(t)?"-0":t}}function RT(s){return{integerValue:""+s}}function Gw(s,t){return gw(t)?RT(t):Vm(s,t)}class _h{constructor(){this._=void 0}}function Kw(s,t,i){return s instanceof eh?(function(l,c){const d={fields:{[uT]:{stringValue:lT},[hT]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&xm(c)&&(c=mh(c)),c&&(d.fields[cT]=c),{mapValue:d}})(i,t):s instanceof Nl?IT(s,t):s instanceof Vl?xT(s,t):(function(l,c){const d=CT(l,c),p=A0(d)+A0(l.Ae);return Zd(d)&&Zd(l.Ae)?RT(p):Vm(l.serializer,p)})(s,t)}function Qw(s,t,i){return s instanceof Nl?IT(s,t):s instanceof Vl?xT(s,t):i}function CT(s,t){return s instanceof nh?(function(a){return Zd(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(t)?t:{integerValue:0}:null}class eh extends _h{}class Nl extends _h{constructor(t){super(),this.elements=t}}function IT(s,t){const i=DT(t);for(const a of s.elements)i.some((l=>ki(l,a)))||i.push(a);return{arrayValue:{values:i}}}class Vl extends _h{constructor(t){super(),this.elements=t}}function xT(s,t){let i=DT(t);for(const a of s.elements)i=i.filter((l=>!ki(l,a)));return{arrayValue:{values:i}}}class nh extends _h{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function A0(s){return Ae(s.integerValue||s.doubleValue)}function DT(s){return Dm(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function Yw(s,t){return s.field.isEqual(t.field)&&(function(a,l){return a instanceof Nl&&l instanceof Nl||a instanceof Vl&&l instanceof Vl?Wa(a.elements,l.elements,ki):a instanceof nh&&l instanceof nh?ki(a.Ae,l.Ae):a instanceof eh&&l instanceof eh})(s.transform,t.transform)}class Xw{constructor(t,i){this.version=t,this.transformResults=i}}class ar{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new ar}static exists(t){return new ar(void 0,t)}static updateTime(t){return new ar(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function zc(s,t){return s.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(s.updateTime):s.exists===void 0||s.exists===t.isFoundDocument()}class vh{}function MT(s,t){if(!s.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return s.isNoDocument()?new NT(s.key,ar.none()):new Hl(s.key,s.data,ar.none());{const i=s.data,a=zn.empty();let l=new Ue(Je.comparator);for(let c of t.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?a.delete(c):a.set(c,d),l=l.add(c)}return new Xs(s.key,a,new ii(l.toArray()),ar.none())}}function Ww(s,t,i){s instanceof Hl?(function(l,c,d){const p=l.value.clone(),v=R0(l.fieldTransforms,c,d.transformResults);p.setAll(v),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(s,t,i):s instanceof Xs?(function(l,c,d){if(!zc(l.precondition,c))return void c.convertToUnknownDocument(d.version);const p=R0(l.fieldTransforms,c,d.transformResults),v=c.data;v.setAll(OT(l)),v.setAll(p),c.convertToFoundDocument(d.version,v).setHasCommittedMutations()})(s,t,i):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,i)}function Al(s,t,i,a){return s instanceof Hl?(function(c,d,p,v){if(!zc(c.precondition,d))return p;const _=c.value.clone(),S=C0(c.fieldTransforms,v,d);return _.setAll(S),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(s,t,i,a):s instanceof Xs?(function(c,d,p,v){if(!zc(c.precondition,d))return p;const _=C0(c.fieldTransforms,v,d),S=d.data;return S.setAll(OT(c)),S.setAll(_),d.convertToFoundDocument(d.version,S).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((A=>A.field)))})(s,t,i,a):(function(c,d,p){return zc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(s,t,i)}function Jw(s,t){let i=null;for(const a of s.fieldTransforms){const l=t.data.field(a.field),c=CT(a.transform,l||null);c!=null&&(i===null&&(i=zn.empty()),i.set(a.field,c))}return i||null}function w0(s,t){return s.type===t.type&&!!s.key.isEqual(t.key)&&!!s.precondition.isEqual(t.precondition)&&!!(function(a,l){return a===void 0&&l===void 0||!(!a||!l)&&Wa(a,l,((c,d)=>Yw(c,d)))})(s.fieldTransforms,t.fieldTransforms)&&(s.type===0?s.value.isEqual(t.value):s.type!==1||s.data.isEqual(t.data)&&s.fieldMask.isEqual(t.fieldMask))}class Hl extends vh{constructor(t,i,a,l=[]){super(),this.key=t,this.value=i,this.precondition=a,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Xs extends vh{constructor(t,i,a,l,c=[]){super(),this.key=t,this.data=i,this.fieldMask=a,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function OT(s){const t=new Map;return s.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=s.data.field(i);t.set(i,a)}})),t}function R0(s,t,i){const a=new Map;Yt(s.length===i.length,32656,{Ve:i.length,de:s.length});for(let l=0;l<i.length;l++){const c=s[l],d=c.transform,p=t.data.field(c.field);a.set(c.field,Qw(d,p,i[l]))}return a}function C0(s,t,i){const a=new Map;for(const l of s){const c=l.transform,d=i.data.field(l.field);a.set(l.field,Kw(c,d,t))}return a}class NT extends vh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Zw extends vh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class $w{constructor(t,i,a,l){this.batchId=t,this.localWriteTime=i,this.baseMutations=a,this.mutations=l}applyToRemoteDocument(t,i){const a=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(t.key)&&Ww(c,t,a[l])}}applyToLocalView(t,i){for(const a of this.baseMutations)a.key.isEqual(t.key)&&(i=Al(a,t,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(t.key)&&(i=Al(a,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const a=wT();return this.mutations.forEach((l=>{const c=t.get(l.key),d=c.overlayedDocument;let p=this.applyToLocalView(d,c.mutatedFields);p=i.has(l.key)?null:p;const v=MT(d,p);v!==null&&a.set(l.key,v),d.isValidDocument()||d.convertToNoDocument(St.min())})),a}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),zt())}isEqual(t){return this.batchId===t.batchId&&Wa(this.mutations,t.mutations,((i,a)=>w0(i,a)))&&Wa(this.baseMutations,t.baseMutations,((i,a)=>w0(i,a)))}}class km{constructor(t,i,a,l){this.batch=t,this.commitVersion=i,this.mutationResults=a,this.docVersions=l}static from(t,i,a){Yt(t.mutations.length===a.length,58842,{me:t.mutations.length,fe:a.length});let l=(function(){return Bw})();const c=t.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,a[d].version);return new km(t,i,a,l)}}class tR{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class eR{constructor(t,i){this.count=t,this.unchangedNames=i}}var Ne,Ht;function nR(s){switch(s){case $.OK:return _t(64938);case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0;default:return _t(15467,{code:s})}}function VT(s){if(s===void 0)return ur("GRPC error has no .code"),$.UNKNOWN;switch(s){case Ne.OK:return $.OK;case Ne.CANCELLED:return $.CANCELLED;case Ne.UNKNOWN:return $.UNKNOWN;case Ne.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case Ne.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case Ne.INTERNAL:return $.INTERNAL;case Ne.UNAVAILABLE:return $.UNAVAILABLE;case Ne.UNAUTHENTICATED:return $.UNAUTHENTICATED;case Ne.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case Ne.NOT_FOUND:return $.NOT_FOUND;case Ne.ALREADY_EXISTS:return $.ALREADY_EXISTS;case Ne.PERMISSION_DENIED:return $.PERMISSION_DENIED;case Ne.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case Ne.ABORTED:return $.ABORTED;case Ne.OUT_OF_RANGE:return $.OUT_OF_RANGE;case Ne.UNIMPLEMENTED:return $.UNIMPLEMENTED;case Ne.DATA_LOSS:return $.DATA_LOSS;default:return _t(39323,{code:s})}}(Ht=Ne||(Ne={}))[Ht.OK=0]="OK",Ht[Ht.CANCELLED=1]="CANCELLED",Ht[Ht.UNKNOWN=2]="UNKNOWN",Ht[Ht.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ht[Ht.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ht[Ht.NOT_FOUND=5]="NOT_FOUND",Ht[Ht.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ht[Ht.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ht[Ht.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ht[Ht.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ht[Ht.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ht[Ht.ABORTED=10]="ABORTED",Ht[Ht.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ht[Ht.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ht[Ht.INTERNAL=13]="INTERNAL",Ht[Ht.UNAVAILABLE=14]="UNAVAILABLE",Ht[Ht.DATA_LOSS=15]="DATA_LOSS";function iR(){return new TextEncoder}const rR=new $r([4294967295,4294967295],0);function I0(s){const t=iR().encode(s),i=new Wv;return i.update(t),new Uint8Array(i.digest())}function x0(s){const t=new DataView(s.buffer),i=t.getUint32(0,!0),a=t.getUint32(4,!0),l=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new $r([i,a],0),new $r([l,c],0)]}class Lm{constructor(t,i,a){if(this.bitmap=t,this.padding=i,this.hashCount=a,i<0||i>=8)throw new yl(`Invalid padding: ${i}`);if(a<0)throw new yl(`Invalid hash count: ${a}`);if(t.length>0&&this.hashCount===0)throw new yl(`Invalid hash count: ${a}`);if(t.length===0&&i!==0)throw new yl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=$r.fromNumber(this.ge)}ye(t,i,a){let l=t.add(i.multiply($r.fromNumber(a)));return l.compare(rR)===1&&(l=new $r([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=I0(t),[a,l]=x0(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);if(!this.we(d))return!1}return!0}static create(t,i,a){const l=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new Lm(c,l,i);return a.forEach((p=>d.insert(p))),d}insert(t){if(this.ge===0)return;const i=I0(t),[a,l]=x0(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);this.be(d)}}be(t){const i=Math.floor(t/8),a=t%8;this.bitmap[i]|=1<<a}}class yl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Th{constructor(t,i,a,l,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,a){const l=new Map;return l.set(t,ql.createSynthesizedTargetChangeForCurrentChange(t,i,a)),new Th(St.min(),l,new pe(Ut),cr(),zt())}}class ql{constructor(t,i,a,l,c){this.resumeToken=t,this.current=i,this.addedDocuments=a,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,a){return new ql(a,i,zt(),zt(),zt())}}class jc{constructor(t,i,a,l){this.Se=t,this.removedTargetIds=i,this.key=a,this.De=l}}class kT{constructor(t,i){this.targetId=t,this.Ce=i}}class LT{constructor(t,i,a=Ze.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=i,this.resumeToken=a,this.cause=l}}class D0{constructor(){this.ve=0,this.Fe=M0(),this.Me=Ze.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=zt(),i=zt(),a=zt();return this.Fe.forEach(((l,c)=>{switch(c){case 0:t=t.add(l);break;case 2:i=i.add(l);break;case 1:a=a.add(l);break;default:_t(38017,{changeType:c})}})),new ql(this.Me,this.xe,t,i,a)}Ke(){this.Oe=!1,this.Fe=M0()}qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}Ue(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}$e(){this.ve+=1}We(){this.ve-=1,Yt(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class sR{constructor(t){this.Ge=t,this.ze=new Map,this.je=cr(),this.He=Ac(),this.Je=Ac(),this.Ze=new pe(Ut)}Xe(t){for(const i of t.Se)t.De&&t.De.isFoundDocument()?this.Ye(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const a=this.nt(i);switch(t.state){case 0:this.rt(i)&&a.Le(t.resumeToken);break;case 1:a.We(),a.Ne||a.Ke(),a.Le(t.resumeToken);break;case 2:a.We(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.Qe(),a.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(t.resumeToken));break;default:_t(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((a,l)=>{this.rt(l)&&i(l)}))}st(t){const i=t.targetId,a=t.Ce.count,l=this.ot(i);if(l){const c=l.target;if(tm(c))if(a===0){const d=new gt(c.path);this.et(i,d,nn.newNoDocument(d,St.min()))}else Yt(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const p=this.ut(t),v=p?this.ct(p,t,d):1;if(v!==0){this.it(i);const _=v===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(i,_)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:l=0},hashCount:c=0}=i;let d,p;try{d=is(a).toUint8Array()}catch(v){if(v instanceof oT)return Xa("Decoding the base64 bloom filter in existence filter failed ("+v.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw v}try{p=new Lm(d,l,c)}catch(v){return Xa(v instanceof yl?"BloomFilter error: ":"Applying bloom filter failed: ",v),null}return p.ge===0?null:p}ct(t,i,a){return i.Ce.count===a-this.Pt(t,i.targetId)?0:2}Pt(t,i){const a=this.Ge.getRemoteKeysForTarget(i);let l=0;return a.forEach((c=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(p)||(this.et(i,c,null),l++)})),l}Tt(t){const i=new Map;this.ze.forEach(((c,d)=>{const p=this.ot(d);if(p){if(c.current&&tm(p.target)){const v=new gt(p.target.path);this.It(v).has(d)||this.Et(d,v)||this.et(d,v,nn.newNoDocument(v,t))}c.Be&&(i.set(d,c.ke()),c.Ke())}}));let a=zt();this.Je.forEach(((c,d)=>{let p=!0;d.forEachWhile((v=>{const _=this.ot(v);return!_||_.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(a=a.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(t)));const l=new Th(t,i,this.Ze,this.je,a);return this.je=cr(),this.He=Ac(),this.Je=Ac(),this.Ze=new pe(Ut),l}Ye(t,i){if(!this.rt(t))return;const a=this.Et(t,i.key)?2:0;this.nt(t).qe(i.key,a),this.je=this.je.insert(i.key,i),this.He=this.He.insert(i.key,this.It(i.key).add(t)),this.Je=this.Je.insert(i.key,this.Rt(i.key).add(t))}et(t,i,a){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,i)?l.qe(i,1):l.Ue(i),this.Je=this.Je.insert(i,this.Rt(i).delete(t)),this.Je=this.Je.insert(i,this.Rt(i).add(t)),a&&(this.je=this.je.insert(i,a))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}$e(t){this.nt(t).$e()}nt(t){let i=this.ze.get(t);return i||(i=new D0,this.ze.set(t,i)),i}Rt(t){let i=this.Je.get(t);return i||(i=new Ue(Ut),this.Je=this.Je.insert(t,i)),i}It(t){let i=this.He.get(t);return i||(i=new Ue(Ut),this.He=this.He.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||ot("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new D0),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function Ac(){return new pe(gt.comparator)}function M0(){return new pe(gt.comparator)}const aR={asc:"ASCENDING",desc:"DESCENDING"},oR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},lR={and:"AND",or:"OR"};class uR{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function nm(s,t){return s.useProto3Json||dh(t)?t:{value:t}}function ih(s,t){return s.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function PT(s,t){return s.useProto3Json?t.toBase64():t.toUint8Array()}function cR(s,t){return ih(s,t.toTimestamp())}function Oi(s){return Yt(!!s,49232),St.fromTimestamp((function(i){const a=ns(i);return new ce(a.seconds,a.nanos)})(s))}function Pm(s,t){return im(s,t).canonicalString()}function im(s,t){const i=(function(l){return new ge(["projects",l.projectId,"databases",l.database])})(s).child("documents");return t===void 0?i:i.child(t)}function UT(s){const t=ge.fromString(s);return Yt(qT(t),10190,{key:t.toString()}),t}function rm(s,t){return Pm(s.databaseId,t.path)}function Ld(s,t){const i=UT(t);if(i.get(1)!==s.databaseId.projectId)throw new ht($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new ht($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new gt(jT(i))}function zT(s,t){return Pm(s.databaseId,t)}function hR(s){const t=UT(s);return t.length===4?ge.emptyPath():jT(t)}function sm(s){return new ge(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function jT(s){return Yt(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function O0(s,t,i){return{name:rm(s,t),fields:i.value.mapValue.fields}}function fR(s,t){let i;if("targetChange"in t){t.targetChange;const a=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:_t(39313,{state:_})})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],c=(function(_,S){return _.useProto3Json?(Yt(S===void 0||typeof S=="string",58123),Ze.fromBase64String(S||"")):(Yt(S===void 0||S instanceof Buffer||S instanceof Uint8Array,16193),Ze.fromUint8Array(S||new Uint8Array))})(s,t.targetChange.resumeToken),d=t.targetChange.cause,p=d&&(function(_){const S=_.code===void 0?$.UNKNOWN:VT(_.code);return new ht(S,_.message||"")})(d);i=new LT(a,l,c,p||null)}else if("documentChange"in t){t.documentChange;const a=t.documentChange;a.document,a.document.name,a.document.updateTime;const l=Ld(s,a.document.name),c=Oi(a.document.updateTime),d=a.document.createTime?Oi(a.document.createTime):St.min(),p=new zn({mapValue:{fields:a.document.fields}}),v=nn.newFoundDocument(l,c,d,p),_=a.targetIds||[],S=a.removedTargetIds||[];i=new jc(_,S,v.key,v)}else if("documentDelete"in t){t.documentDelete;const a=t.documentDelete;a.document;const l=Ld(s,a.document),c=a.readTime?Oi(a.readTime):St.min(),d=nn.newNoDocument(l,c),p=a.removedTargetIds||[];i=new jc([],p,d.key,d)}else if("documentRemove"in t){t.documentRemove;const a=t.documentRemove;a.document;const l=Ld(s,a.document),c=a.removedTargetIds||[];i=new jc([],c,l,null)}else{if(!("filter"in t))return _t(11601,{Vt:t});{t.filter;const a=t.filter;a.targetId;const{count:l=0,unchangedNames:c}=a,d=new eR(l,c),p=a.targetId;i=new kT(p,d)}}return i}function dR(s,t){let i;if(t instanceof Hl)i={update:O0(s,t.key,t.value)};else if(t instanceof NT)i={delete:rm(s,t.key)};else if(t instanceof Xs)i={update:O0(s,t.key,t.data),updateMask:SR(t.fieldMask)};else{if(!(t instanceof Zw))return _t(16599,{dt:t.type});i={verify:rm(s,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((a=>(function(c,d){const p=d.transform;if(p instanceof eh)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof Nl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Vl)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof nh)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw _t(20930,{transform:d.transform})})(0,a)))),t.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:cR(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:_t(27497)})(s,t.precondition)),i}function mR(s,t){return s&&s.length>0?(Yt(t!==void 0,14353),s.map((i=>(function(l,c){let d=l.updateTime?Oi(l.updateTime):Oi(c);return d.isEqual(St.min())&&(d=Oi(c)),new Xw(d,l.transformResults||[])})(i,t)))):[]}function gR(s,t){return{documents:[zT(s,t.path)]}}function pR(s,t){const i={structuredQuery:{}},a=t.path;let l;t.collectionGroup!==null?(l=a,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=zT(s,l);const c=(function(_){if(_.length!==0)return HT(Li.create(_,"and"))})(t.filters);c&&(i.structuredQuery.where=c);const d=(function(_){if(_.length!==0)return _.map((S=>(function(V){return{field:ja(V.field),direction:vR(V.dir)}})(S)))})(t.orderBy);d&&(i.structuredQuery.orderBy=d);const p=nm(s,t.limit);return p!==null&&(i.structuredQuery.limit=p),t.startAt&&(i.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(t.endAt)),{ft:i,parent:l}}function yR(s){let t=hR(s.parent);const i=s.structuredQuery,a=i.from?i.from.length:0;let l=null;if(a>0){Yt(a===1,65062);const S=i.from[0];S.allDescendants?l=S.collectionId:t=t.child(S.collectionId)}let c=[];i.where&&(c=(function(A){const V=BT(A);return V instanceof Li&&yT(V)?V.getFilters():[V]})(i.where));let d=[];i.orderBy&&(d=(function(A){return A.map((V=>(function(et){return new th(Ba(et.field),(function(st){switch(st){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(et.direction))})(V)))})(i.orderBy));let p=null;i.limit&&(p=(function(A){let V;return V=typeof A=="object"?A.value:A,dh(V)?null:V})(i.limit));let v=null;i.startAt&&(v=(function(A){const V=!!A.before,Y=A.values||[];return new $c(Y,V)})(i.startAt));let _=null;return i.endAt&&(_=(function(A){const V=!A.before,Y=A.values||[];return new $c(Y,V)})(i.endAt)),Vw(t,l,d,c,p,"F",v,_)}function _R(s,t){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return _t(28987,{purpose:l})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function BT(s){return s.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=Ba(i.unaryFilter.field);return Pe.create(a,"==",{doubleValue:NaN});case"IS_NULL":const l=Ba(i.unaryFilter.field);return Pe.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Ba(i.unaryFilter.field);return Pe.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Ba(i.unaryFilter.field);return Pe.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return _t(61313);default:return _t(60726)}})(s):s.fieldFilter!==void 0?(function(i){return Pe.create(Ba(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return _t(58110);default:return _t(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(i){return Li.create(i.compositeFilter.filters.map((a=>BT(a))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return _t(1026)}})(i.compositeFilter.op))})(s):_t(30097,{filter:s})}function vR(s){return aR[s]}function TR(s){return oR[s]}function ER(s){return lR[s]}function ja(s){return{fieldPath:s.canonicalString()}}function Ba(s){return Je.fromServerFormat(s.fieldPath)}function HT(s){return s instanceof Pe?(function(i){if(i.op==="=="){if(v0(i.value))return{unaryFilter:{field:ja(i.field),op:"IS_NAN"}};if(_0(i.value))return{unaryFilter:{field:ja(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(v0(i.value))return{unaryFilter:{field:ja(i.field),op:"IS_NOT_NAN"}};if(_0(i.value))return{unaryFilter:{field:ja(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ja(i.field),op:TR(i.op),value:i.value}}})(s):s instanceof Li?(function(i){const a=i.getFilters().map((l=>HT(l)));return a.length===1?a[0]:{compositeFilter:{op:ER(i.op),filters:a}}})(s):_t(54877,{filter:s})}function SR(s){const t=[];return s.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function qT(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}function FT(s){return!!s&&typeof s._toProto=="function"&&s._protoValueType==="ProtoValue"}class Xr{constructor(t,i,a,l,c=St.min(),d=St.min(),p=Ze.EMPTY_BYTE_STRING,v=null){this.target=t,this.targetId=i,this.purpose=a,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=v}withSequenceNumber(t){return new Xr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new Xr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Xr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Xr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class bR{constructor(t){this.yt=t}}function AR(s){const t=yR({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?em(t,t.limit,"L"):t}class wR{constructor(){this.Sn=new RR}addToCollectionParentIndex(t,i){return this.Sn.add(i),Z.resolve()}getCollectionParents(t,i){return Z.resolve(this.Sn.getEntries(i))}addFieldIndex(t,i){return Z.resolve()}deleteFieldIndex(t,i){return Z.resolve()}deleteAllFieldIndexes(t){return Z.resolve()}createTargetIndexes(t,i){return Z.resolve()}getDocumentsMatchingTarget(t,i){return Z.resolve(null)}getIndexType(t,i){return Z.resolve(0)}getFieldIndexes(t,i){return Z.resolve([])}getNextCollectionGroupToUpdate(t){return Z.resolve(null)}getMinOffset(t,i){return Z.resolve(es.min())}getMinOffsetFromCollectionGroup(t,i){return Z.resolve(es.min())}updateCollectionGroup(t,i,a){return Z.resolve()}updateIndexEntries(t,i){return Z.resolve()}}class RR{constructor(){this.index={}}add(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i]||new Ue(ge.comparator),c=!l.has(a);return this.index[i]=l.add(a),c}has(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i];return l&&l.has(a)}getEntries(t){return(this.index[t]||new Ue(ge.comparator)).toArray()}}const N0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},GT=41943040;class mn{static withCacheSize(t){return new mn(t,mn.DEFAULT_COLLECTION_PERCENTILE,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,a){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}mn.DEFAULT_COLLECTION_PERCENTILE=10,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,mn.DEFAULT=new mn(GT,mn.DEFAULT_COLLECTION_PERCENTILE,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),mn.DISABLED=new mn(-1,0,0);class $a{constructor(t){this.sr=t}next(){return this.sr+=2,this.sr}static _r(){return new $a(0)}static ar(){return new $a(-1)}}const V0="LruGarbageCollector",CR=1048576;function k0([s,t],[i,a]){const l=Ut(s,i);return l===0?Ut(t,a):l}class IR{constructor(t){this.Pr=t,this.buffer=new Ue(k0),this.Tr=0}Ir(){return++this.Tr}Er(t){const i=[t,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();k0(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class xR{constructor(t,i,a){this.garbageCollector=t,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(t){ot(V0,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){ao(i)?ot(V0,"Ignoring IndexedDB error during garbage collection: ",i):await so(i)}await this.Ar(3e5)}))}}class DR{constructor(t,i){this.Vr=t,this.params=i}calculateTargetCount(t,i){return this.Vr.dr(t).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(t,i){if(i===0)return Z.resolve(fh.ce);const a=new IR(i);return this.Vr.forEachTarget(t,(l=>a.Er(l.sequenceNumber))).next((()=>this.Vr.mr(t,(l=>a.Er(l))))).next((()=>a.maxValue))}removeTargets(t,i,a){return this.Vr.removeTargets(t,i,a)}removeOrphanedDocuments(t,i){return this.Vr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(ot("LruGarbageCollector","Garbage collection skipped; disabled"),Z.resolve(N0)):this.getCacheSize(t).next((a=>a<this.params.cacheSizeCollectionThreshold?(ot("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),N0):this.gr(t,i)))}getCacheSize(t){return this.Vr.getCacheSize(t)}gr(t,i){let a,l,c,d,p,v,_;const S=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((A=>(A>this.params.maximumSequenceNumbersToCollect?(ot("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),l=this.params.maximumSequenceNumbersToCollect):l=A,d=Date.now(),this.nthSequenceNumber(t,l)))).next((A=>(a=A,p=Date.now(),this.removeTargets(t,a,i)))).next((A=>(c=A,v=Date.now(),this.removeOrphanedDocuments(t,a)))).next((A=>(_=Date.now(),Ua()<=Pt.DEBUG&&ot("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-S}ms
	Determined least recently used ${l} in `+(p-d)+`ms
	Removed ${c} targets in `+(v-p)+`ms
	Removed ${A} documents in `+(_-v)+`ms
Total Duration: ${_-S}ms`),Z.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:A}))))}}function MR(s,t){return new DR(s,t)}class OR{constructor(){this.changes=new Ys((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,nn.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?Z.resolve(a):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class NR{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}class VR{constructor(t,i,a,l){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=l}getDocument(t,i){let a=null;return this.documentOverlayCache.getOverlay(t,i).next((l=>(a=l,this.remoteDocumentCache.getEntry(t,i)))).next((l=>(a!==null&&Al(a.mutation,l,ii.empty(),ce.now()),l)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.getLocalViewOfDocuments(t,a,zt()).next((()=>a))))}getLocalViewOfDocuments(t,i,a=zt()){const l=zs();return this.populateOverlays(t,l,i).next((()=>this.computeViews(t,i,l,a).next((c=>{let d=pl();return c.forEach(((p,v)=>{d=d.insert(p,v.overlayedDocument)})),d}))))}getOverlayedDocuments(t,i){const a=zs();return this.populateOverlays(t,a,i).next((()=>this.computeViews(t,i,a,zt())))}populateOverlays(t,i,a){const l=[];return a.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(t,l).next((c=>{c.forEach(((d,p)=>{i.set(d,p)}))}))}computeViews(t,i,a,l){let c=cr();const d=bl(),p=(function(){return bl()})();return i.forEach(((v,_)=>{const S=a.get(_.key);l.has(_.key)&&(S===void 0||S.mutation instanceof Xs)?c=c.insert(_.key,_):S!==void 0?(d.set(_.key,S.mutation.getFieldMask()),Al(S.mutation,_,S.mutation.getFieldMask(),ce.now())):d.set(_.key,ii.empty())})),this.recalculateAndSaveOverlays(t,c).next((v=>(v.forEach(((_,S)=>d.set(_,S))),i.forEach(((_,S)=>p.set(_,new NR(S,d.get(_)??null)))),p)))}recalculateAndSaveOverlays(t,i){const a=bl();let l=new pe(((d,p)=>d-p)),c=zt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((d=>{for(const p of d)p.keys().forEach((v=>{const _=i.get(v);if(_===null)return;let S=a.get(v)||ii.empty();S=p.applyToLocalView(_,S),a.set(v,S);const A=(l.get(p.batchId)||zt()).add(v);l=l.insert(p.batchId,A)}))})).next((()=>{const d=[],p=l.getReverseIterator();for(;p.hasNext();){const v=p.getNext(),_=v.key,S=v.value,A=wT();S.forEach((V=>{if(!c.has(V)){const Y=MT(i.get(V),a.get(V));Y!==null&&A.set(V,Y),c=c.add(V)}})),d.push(this.documentOverlayCache.saveOverlays(t,_,A))}return Z.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.recalculateAndSaveOverlays(t,a)))}getDocumentsMatchingQuery(t,i,a,l){return kw(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):Lw(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,a,l):this.getDocumentsMatchingCollectionQuery(t,i,a,l)}getNextDocuments(t,i,a,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,a,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,a.largestBatchId,l-c.size):Z.resolve(zs());let p=xl,v=c;return d.next((_=>Z.forEach(_,((S,A)=>(p<A.largestBatchId&&(p=A.largestBatchId),c.get(S)?Z.resolve():this.remoteDocumentCache.getEntry(t,S).next((V=>{v=v.insert(S,V)}))))).next((()=>this.populateOverlays(t,_,c))).next((()=>this.computeViews(t,v,_,zt()))).next((S=>({batchId:p,changes:AT(S)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new gt(i)).next((a=>{let l=pl();return a.isFoundDocument()&&(l=l.insert(a.key,a)),l}))}getDocumentsMatchingCollectionGroupQuery(t,i,a,l){const c=i.collectionGroup;let d=pl();return this.indexManager.getCollectionParents(t,c).next((p=>Z.forEach(p,(v=>{const _=(function(A,V){return new gh(V,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)})(i,v.child(c));return this.getDocumentsMatchingCollectionQuery(t,_,a,l).next((S=>{S.forEach(((A,V)=>{d=d.insert(A,V)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,i,a,l){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,a.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,a,c,l)))).next((d=>{c.forEach(((v,_)=>{const S=_.getKey();d.get(S)===null&&(d=d.insert(S,nn.newInvalidDocument(S)))}));let p=pl();return d.forEach(((v,_)=>{const S=c.get(v);S!==void 0&&Al(S.mutation,_,ii.empty(),ce.now()),yh(i,_)&&(p=p.insert(v,_))})),p}))}}class kR{constructor(t){this.serializer=t,this.Nr=new Map,this.Br=new Map}getBundleMetadata(t,i){return Z.resolve(this.Nr.get(i))}saveBundleMetadata(t,i){return this.Nr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:Oi(l.createTime)}})(i)),Z.resolve()}getNamedQuery(t,i){return Z.resolve(this.Br.get(i))}saveNamedQuery(t,i){return this.Br.set(i.name,(function(l){return{name:l.name,query:AR(l.bundledQuery),readTime:Oi(l.readTime)}})(i)),Z.resolve()}}class LR{constructor(){this.overlays=new pe(gt.comparator),this.Lr=new Map}getOverlay(t,i){return Z.resolve(this.overlays.get(i))}getOverlays(t,i){const a=zs();return Z.forEach(i,(l=>this.getOverlay(t,l).next((c=>{c!==null&&a.set(l,c)})))).next((()=>a))}saveOverlays(t,i,a){return a.forEach(((l,c)=>{this.bt(t,i,c)})),Z.resolve()}removeOverlaysForBatchId(t,i,a){const l=this.Lr.get(a);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.Lr.delete(a)),Z.resolve()}getOverlaysForCollection(t,i,a){const l=zs(),c=i.length+1,d=new gt(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const v=p.getNext().value,_=v.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===c&&v.largestBatchId>a&&l.set(v.getKey(),v)}return Z.resolve(l)}getOverlaysForCollectionGroup(t,i,a,l){let c=new pe(((_,S)=>_-S));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>a){let S=c.get(_.largestBatchId);S===null&&(S=zs(),c=c.insert(_.largestBatchId,S)),S.set(_.getKey(),_)}}const p=zs(),v=c.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach(((_,S)=>p.set(_,S))),!(p.size()>=l)););return Z.resolve(p)}bt(t,i,a){const l=this.overlays.get(a.key);if(l!==null){const d=this.Lr.get(l.largestBatchId).delete(a.key);this.Lr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new tR(i,a));let c=this.Lr.get(i);c===void 0&&(c=zt(),this.Lr.set(i,c)),this.Lr.set(i,c.add(a.key))}}class PR{constructor(){this.sessionToken=Ze.EMPTY_BYTE_STRING}getSessionToken(t){return Z.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,Z.resolve()}}class Um{constructor(){this.kr=new Ue(He.Kr),this.qr=new Ue(He.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(t,i){const a=new He(t,i);this.kr=this.kr.add(a),this.qr=this.qr.add(a)}$r(t,i){t.forEach((a=>this.addReference(a,i)))}removeReference(t,i){this.Wr(new He(t,i))}Qr(t,i){t.forEach((a=>this.removeReference(a,i)))}Gr(t){const i=new gt(new ge([])),a=new He(i,t),l=new He(i,t+1),c=[];return this.qr.forEachInRange([a,l],(d=>{this.Wr(d),c.push(d.key)})),c}zr(){this.kr.forEach((t=>this.Wr(t)))}Wr(t){this.kr=this.kr.delete(t),this.qr=this.qr.delete(t)}jr(t){const i=new gt(new ge([])),a=new He(i,t),l=new He(i,t+1);let c=zt();return this.qr.forEachInRange([a,l],(d=>{c=c.add(d.key)})),c}containsKey(t){const i=new He(t,0),a=this.kr.firstAfterOrEqual(i);return a!==null&&t.isEqual(a.key)}}class He{constructor(t,i){this.key=t,this.Hr=i}static Kr(t,i){return gt.comparator(t.key,i.key)||Ut(t.Hr,i.Hr)}static Ur(t,i){return Ut(t.Hr,i.Hr)||gt.comparator(t.key,i.key)}}class UR{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.Yn=1,this.Jr=new Ue(He.Kr)}checkEmpty(t){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,a,l){const c=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new $w(c,i,a,l);this.mutationQueue.push(d);for(const p of l)this.Jr=this.Jr.add(new He(p.key,c)),this.indexManager.addToCollectionParentIndex(t,p.key.path.popLast());return Z.resolve(d)}lookupMutationBatch(t,i){return Z.resolve(this.Zr(i))}getNextMutationBatchAfterBatchId(t,i){const a=i+1,l=this.Xr(a),c=l<0?0:l;return Z.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?Im:this.Yn-1)}getAllMutationBatches(t){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const a=new He(i,0),l=new He(i,Number.POSITIVE_INFINITY),c=[];return this.Jr.forEachInRange([a,l],(d=>{const p=this.Zr(d.Hr);c.push(p)})),Z.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let a=new Ue(Ut);return i.forEach((l=>{const c=new He(l,0),d=new He(l,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([c,d],(p=>{a=a.add(p.Hr)}))})),Z.resolve(this.Yr(a))}getAllMutationBatchesAffectingQuery(t,i){const a=i.path,l=a.length+1;let c=a;gt.isDocumentKey(c)||(c=c.child(""));const d=new He(new gt(c),0);let p=new Ue(Ut);return this.Jr.forEachWhile((v=>{const _=v.key.path;return!!a.isPrefixOf(_)&&(_.length===l&&(p=p.add(v.Hr)),!0)}),d),Z.resolve(this.Yr(p))}Yr(t){const i=[];return t.forEach((a=>{const l=this.Zr(a);l!==null&&i.push(l)})),i}removeMutationBatch(t,i){Yt(this.ei(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Jr;return Z.forEach(i.mutations,(l=>{const c=new He(l.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.Jr=a}))}nr(t){}containsKey(t,i){const a=new He(i,0),l=this.Jr.firstAfterOrEqual(a);return Z.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,Z.resolve()}ei(t,i){return this.Xr(t)}Xr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Zr(t){const i=this.Xr(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class zR{constructor(t){this.ti=t,this.docs=(function(){return new pe(gt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const a=i.key,l=this.docs.get(a),c=l?l.size:0,d=this.ti(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,a.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const a=this.docs.get(i);return Z.resolve(a?a.document.mutableCopy():nn.newInvalidDocument(i))}getEntries(t,i){let a=cr();return i.forEach((l=>{const c=this.docs.get(l);a=a.insert(l,c?c.document.mutableCopy():nn.newInvalidDocument(l))})),Z.resolve(a)}getDocumentsMatchingQuery(t,i,a,l){let c=cr();const d=i.path,p=new gt(d.child("__id-9223372036854775808__")),v=this.docs.getIteratorFrom(p);for(;v.hasNext();){const{key:_,value:{document:S}}=v.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||hw(cw(S),a)<=0||(l.has(S.key)||yh(i,S))&&(c=c.insert(S.key,S.mutableCopy()))}return Z.resolve(c)}getAllFromCollectionGroup(t,i,a,l){_t(9500)}ni(t,i){return Z.forEach(this.docs,(a=>i(a)))}newChangeBuffer(t){return new jR(this)}getSize(t){return Z.resolve(this.size)}}class jR extends OR{constructor(t){super(),this.Mr=t}applyChanges(t){const i=[];return this.changes.forEach(((a,l)=>{l.isValidDocument()?i.push(this.Mr.addEntry(t,l)):this.Mr.removeEntry(a)})),Z.waitFor(i)}getFromCache(t,i){return this.Mr.getEntry(t,i)}getAllFromCache(t,i){return this.Mr.getEntries(t,i)}}class BR{constructor(t){this.persistence=t,this.ri=new Ys((i=>Mm(i)),Om),this.lastRemoteSnapshotVersion=St.min(),this.highestTargetId=0,this.ii=0,this.si=new Um,this.targetCount=0,this.oi=$a._r()}forEachTarget(t,i){return this.ri.forEach(((a,l)=>i(l))),Z.resolve()}getLastRemoteSnapshotVersion(t){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Z.resolve(this.ii)}allocateTargetId(t){return this.highestTargetId=this.oi.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(t,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.ii&&(this.ii=i),Z.resolve()}lr(t){this.ri.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.oi=new $a(i),this.highestTargetId=i),t.sequenceNumber>this.ii&&(this.ii=t.sequenceNumber)}addTargetData(t,i){return this.lr(i),this.targetCount+=1,Z.resolve()}updateTargetData(t,i){return this.lr(i),Z.resolve()}removeTargetData(t,i){return this.ri.delete(i.target),this.si.Gr(i.targetId),this.targetCount-=1,Z.resolve()}removeTargets(t,i,a){let l=0;const c=[];return this.ri.forEach(((d,p)=>{p.sequenceNumber<=i&&a.get(p.targetId)===null&&(this.ri.delete(d),c.push(this.removeMatchingKeysForTargetId(t,p.targetId)),l++)})),Z.waitFor(c).next((()=>l))}getTargetCount(t){return Z.resolve(this.targetCount)}getTargetData(t,i){const a=this.ri.get(i)||null;return Z.resolve(a)}addMatchingKeys(t,i,a){return this.si.$r(i,a),Z.resolve()}removeMatchingKeys(t,i,a){this.si.Qr(i,a);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((d=>{c.push(l.markPotentiallyOrphaned(t,d))})),Z.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this.si.Gr(i),Z.resolve()}getMatchingKeysForTargetId(t,i){const a=this.si.jr(i);return Z.resolve(a)}containsKey(t,i){return Z.resolve(this.si.containsKey(i))}}class KT{constructor(t,i){this._i={},this.overlays={},this.ai=new fh(0),this.ui=!1,this.ui=!0,this.ci=new PR,this.referenceDelegate=t(this),this.li=new BR(this),this.indexManager=new wR,this.remoteDocumentCache=(function(l){return new zR(l)})((a=>this.referenceDelegate.hi(a))),this.serializer=new bR(i),this.Pi=new kR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new LR,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let a=this._i[t.toKey()];return a||(a=new UR(i,this.referenceDelegate),this._i[t.toKey()]=a),a}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(t,i,a){ot("MemoryPersistence","Starting transaction:",t);const l=new HR(this.ai.next());return this.referenceDelegate.Ti(),a(l).next((c=>this.referenceDelegate.Ii(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ei(t,i){return Z.or(Object.values(this._i).map((a=>()=>a.containsKey(t,i))))}}class HR extends dw{constructor(t){super(),this.currentSequenceNumber=t}}class zm{constructor(t){this.persistence=t,this.Ri=new Um,this.Ai=null}static Vi(t){return new zm(t)}get di(){if(this.Ai)return this.Ai;throw _t(60996)}addReference(t,i,a){return this.Ri.addReference(a,i),this.di.delete(a.toString()),Z.resolve()}removeReference(t,i,a){return this.Ri.removeReference(a,i),this.di.add(a.toString()),Z.resolve()}markPotentiallyOrphaned(t,i){return this.di.add(i.toString()),Z.resolve()}removeTarget(t,i){this.Ri.Gr(i.targetId).forEach((l=>this.di.add(l.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(t,i.targetId).next((l=>{l.forEach((c=>this.di.add(c.toString())))})).next((()=>a.removeTargetData(t,i)))}Ti(){this.Ai=new Set}Ii(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.di,(a=>{const l=gt.fromPath(a);return this.mi(t,l).next((c=>{c||i.removeEntry(l,St.min())}))})).next((()=>(this.Ai=null,i.apply(t))))}updateLimboDocument(t,i){return this.mi(t,i).next((a=>{a?this.di.delete(i.toString()):this.di.add(i.toString())}))}hi(t){return 0}mi(t,i){return Z.or([()=>Z.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ei(t,i)])}}class rh{constructor(t,i){this.persistence=t,this.fi=new Ys((a=>pw(a.path)),((a,l)=>a.isEqual(l))),this.garbageCollector=MR(this,i)}static Vi(t,i){return new rh(t,i)}Ti(){}Ii(t){return Z.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}dr(t){const i=this.pr(t);return this.persistence.getTargetCache().getTargetCount(t).next((a=>i.next((l=>a+l))))}pr(t){let i=0;return this.mr(t,(a=>{i++})).next((()=>i))}mr(t,i){return Z.forEach(this.fi,((a,l)=>this.wr(t,a,l).next((c=>c?Z.resolve():i(l)))))}removeTargets(t,i,a){return this.persistence.getTargetCache().removeTargets(t,i,a)}removeOrphanedDocuments(t,i){let a=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ni(t,(d=>this.wr(t,d,i).next((p=>{p||(a++,c.removeEntry(d,St.min()))})))).next((()=>c.apply(t))).next((()=>a))}markPotentiallyOrphaned(t,i){return this.fi.set(i,t.currentSequenceNumber),Z.resolve()}removeTarget(t,i){const a=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,a)}addReference(t,i,a){return this.fi.set(a,t.currentSequenceNumber),Z.resolve()}removeReference(t,i,a){return this.fi.set(a,t.currentSequenceNumber),Z.resolve()}updateLimboDocument(t,i){return this.fi.set(i,t.currentSequenceNumber),Z.resolve()}hi(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=Pc(t.data.value)),i}wr(t,i,a){return Z.or([()=>this.persistence.Ei(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const l=this.fi.get(i);return Z.resolve(l!==void 0&&l>a)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class jm{constructor(t,i,a,l){this.targetId=t,this.fromCache=i,this.Ts=a,this.Is=l}static Es(t,i){let a=zt(),l=zt();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new jm(t,i.fromCache,a,l)}}class qR{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class FR{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return MS()?8:mw(rn())>0?6:4})()}initialize(t,i){this.fs=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,a,l){const c={result:null};return this.gs(t,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ps(t,i,l,a).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new qR;return this.ys(t,i,d).next((p=>{if(c.result=p,this.As)return this.ws(t,i,d,p.size)}))})).next((()=>c.result))}ws(t,i,a,l){return a.documentReadCount<this.Vs?(Ua()<=Pt.DEBUG&&ot("QueryEngine","SDK will not create cache indexes for query:",za(i),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),Z.resolve()):(Ua()<=Pt.DEBUG&&ot("QueryEngine","Query:",za(i),"scans",a.documentReadCount,"local documents and returns",l,"documents as results."),a.documentReadCount>this.ds*l?(Ua()<=Pt.DEBUG&&ot("QueryEngine","The SDK decides to create cache indexes for query:",za(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Mi(i))):Z.resolve())}gs(t,i){if(b0(i))return Z.resolve(null);let a=Mi(i);return this.indexManager.getIndexType(t,a).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=em(i,null,"F"),a=Mi(i)),this.indexManager.getDocumentsMatchingTarget(t,a).next((c=>{const d=zt(...c);return this.fs.getDocuments(t,d).next((p=>this.indexManager.getMinOffset(t,a).next((v=>{const _=this.bs(i,p);return this.Ss(i,_,d,v.readTime)?this.gs(t,em(i,null,"F")):this.Ds(t,_,i,v)}))))})))))}ps(t,i,a,l){return b0(i)||l.isEqual(St.min())?Z.resolve(null):this.fs.getDocuments(t,a).next((c=>{const d=this.bs(i,c);return this.Ss(i,d,a,l)?Z.resolve(null):(Ua()<=Pt.DEBUG&&ot("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),za(i)),this.Ds(t,d,i,uw(l,xl)).next((p=>p)))}))}bs(t,i){let a=new Ue(ST(t));return i.forEach(((l,c)=>{yh(t,c)&&(a=a.add(c))})),a}Ss(t,i,a,l){if(t.limit===null)return!1;if(a.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}ys(t,i,a){return Ua()<=Pt.DEBUG&&ot("QueryEngine","Using full collection scan to execute query:",za(i)),this.fs.getDocumentsMatchingQuery(t,i,es.min(),a)}Ds(t,i,a,l){return this.fs.getDocumentsMatchingQuery(t,a,l).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const Bm="LocalStore",GR=3e8;class KR{constructor(t,i,a,l){this.persistence=t,this.Cs=i,this.serializer=l,this.vs=new pe(Ut),this.Fs=new Ys((c=>Mm(c)),Om),this.Ms=new Map,this.xs=t.getRemoteDocumentCache(),this.li=t.getTargetCache(),this.Pi=t.getBundleCache(),this.Os(a)}Os(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new VR(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.vs)))}}function QR(s,t,i,a){return new KR(s,t,i,a)}async function QT(s,t){const i=At(s);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let l;return i.mutationQueue.getAllMutationBatches(a).next((c=>(l=c,i.Os(t),i.mutationQueue.getAllMutationBatches(a)))).next((c=>{const d=[],p=[];let v=zt();for(const _ of l){d.push(_.batchId);for(const S of _.mutations)v=v.add(S.key)}for(const _ of c){p.push(_.batchId);for(const S of _.mutations)v=v.add(S.key)}return i.localDocuments.getDocuments(a,v).next((_=>({Ns:_,removedBatchIds:d,addedBatchIds:p})))}))}))}function YR(s,t){const i=At(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const l=t.batch.keys(),c=i.xs.newChangeBuffer({trackRemovals:!0});return(function(p,v,_,S){const A=_.batch,V=A.keys();let Y=Z.resolve();return V.forEach((et=>{Y=Y.next((()=>S.getEntry(v,et))).next((rt=>{const st=_.docVersions.get(et);Yt(st!==null,48541),rt.version.compareTo(st)<0&&(A.applyToRemoteDocument(rt,_),rt.isValidDocument()&&(rt.setReadTime(_.commitVersion),S.addEntry(rt)))}))})),Y.next((()=>p.mutationQueue.removeMutationBatch(v,A)))})(i,a,t,c).next((()=>c.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,l,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(p){let v=zt();for(let _=0;_<p.mutationResults.length;++_)p.mutationResults[_].transformResults.length>0&&(v=v.add(p.batch.mutations[_].key));return v})(t)))).next((()=>i.localDocuments.getDocuments(a,l)))}))}function YT(s){const t=At(s);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.li.getLastRemoteSnapshotVersion(i)))}function XR(s,t){const i=At(s),a=t.snapshotVersion;let l=i.vs;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.xs.newChangeBuffer({trackRemovals:!0});l=i.vs;const p=[];t.targetChanges.forEach(((S,A)=>{const V=l.get(A);if(!V)return;p.push(i.li.removeMatchingKeys(c,S.removedDocuments,A).next((()=>i.li.addMatchingKeys(c,S.addedDocuments,A))));let Y=V.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(A)!==null?Y=Y.withResumeToken(Ze.EMPTY_BYTE_STRING,St.min()).withLastLimboFreeSnapshotVersion(St.min()):S.resumeToken.approximateByteSize()>0&&(Y=Y.withResumeToken(S.resumeToken,a)),l=l.insert(A,Y),(function(rt,st,ft){return rt.resumeToken.approximateByteSize()===0||st.snapshotVersion.toMicroseconds()-rt.snapshotVersion.toMicroseconds()>=GR?!0:ft.addedDocuments.size+ft.modifiedDocuments.size+ft.removedDocuments.size>0})(V,Y,S)&&p.push(i.li.updateTargetData(c,Y))}));let v=cr(),_=zt();if(t.documentUpdates.forEach((S=>{t.resolvedLimboDocuments.has(S)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(c,S))})),p.push(WR(c,d,t.documentUpdates).next((S=>{v=S.Bs,_=S.Ls}))),!a.isEqual(St.min())){const S=i.li.getLastRemoteSnapshotVersion(c).next((A=>i.li.setTargetsMetadata(c,c.currentSequenceNumber,a)));p.push(S)}return Z.waitFor(p).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,v,_))).next((()=>v))})).then((c=>(i.vs=l,c)))}function WR(s,t,i){let a=zt(),l=zt();return i.forEach((c=>a=a.add(c))),t.getEntries(s,a).next((c=>{let d=cr();return i.forEach(((p,v)=>{const _=c.get(p);v.isFoundDocument()!==_.isFoundDocument()&&(l=l.add(p)),v.isNoDocument()&&v.version.isEqual(St.min())?(t.removeEntry(p,v.readTime),d=d.insert(p,v)):!_.isValidDocument()||v.version.compareTo(_.version)>0||v.version.compareTo(_.version)===0&&_.hasPendingWrites?(t.addEntry(v),d=d.insert(p,v)):ot(Bm,"Ignoring outdated watch update for ",p,". Current version:",_.version," Watch version:",v.version)})),{Bs:d,Ls:l}}))}function JR(s,t){const i=At(s);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(t===void 0&&(t=Im),i.mutationQueue.getNextMutationBatchAfterBatchId(a,t))))}function ZR(s,t){const i=At(s);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let l;return i.li.getTargetData(a,t).next((c=>c?(l=c,Z.resolve(l)):i.li.allocateTargetId(a).next((d=>(l=new Xr(t,d,"TargetPurposeListen",a.currentSequenceNumber),i.li.addTargetData(a,l).next((()=>l)))))))})).then((a=>{const l=i.vs.get(a.targetId);return(l===null||a.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.vs=i.vs.insert(a.targetId,a),i.Fs.set(t,a.targetId)),a}))}async function am(s,t,i){const a=At(s),l=a.vs.get(t),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,(d=>a.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!ao(d))throw d;ot(Bm,`Failed to update sequence numbers for target ${t}: ${d}`)}a.vs=a.vs.remove(t),a.Fs.delete(l.target)}function L0(s,t,i){const a=At(s);let l=St.min(),c=zt();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(v,_,S){const A=At(v),V=A.Fs.get(S);return V!==void 0?Z.resolve(A.vs.get(V)):A.li.getTargetData(_,S)})(a,d,Mi(t)).next((p=>{if(p)return l=p.lastLimboFreeSnapshotVersion,a.li.getMatchingKeysForTargetId(d,p.targetId).next((v=>{c=v}))})).next((()=>a.Cs.getDocumentsMatchingQuery(d,t,i?l:St.min(),i?c:zt()))).next((p=>($R(a,Uw(t),p),{documents:p,ks:c})))))}function $R(s,t,i){let a=s.Ms.get(t)||St.min();i.forEach(((l,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),s.Ms.set(t,a)}class P0{constructor(){this.activeTargetIds=Fw()}Qs(t){this.activeTargetIds=this.activeTargetIds.add(t)}Gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ws(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class tC{constructor(){this.vo=new P0,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,a){}addLocalQueryTarget(t,i=!0){return i&&this.vo.Qs(t),this.Fo[t]||"not-current"}updateQueryState(t,i,a){this.Fo[t]=i}removeLocalQueryTarget(t){this.vo.Gs(t)}isLocalQueryTarget(t){return this.vo.activeTargetIds.has(t)}clearQueryState(t){delete this.Fo[t]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(t){return this.vo.activeTargetIds.has(t)}start(){return this.vo=new P0,Promise.resolve()}handleUserChange(t,i,a){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class eC{Mo(t){}shutdown(){}}const U0="ConnectivityMonitor";class z0{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(t){this.Lo.push(t)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){ot(U0,"Network connectivity changed: AVAILABLE");for(const t of this.Lo)t(0)}Bo(){ot(U0,"Network connectivity changed: UNAVAILABLE");for(const t of this.Lo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let wc=null;function om(){return wc===null?wc=(function(){return 268435456+Math.round(2147483648*Math.random())})():wc++,"0x"+wc.toString(16)}const Pd="RestConnection",nC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class iC{get Ko(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.qo=i+"://"+t.host,this.Uo=`projects/${a}/databases/${l}`,this.$o=this.databaseId.database===Jc?`project_id=${a}`:`project_id=${a}&database_id=${l}`}Wo(t,i,a,l,c){const d=om(),p=this.Qo(t,i.toUriEncodedString());ot(Pd,`Sending RPC '${t}' ${d}:`,p,a);const v={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(v,l,c);const{host:_}=new URL(p),S=eo(_);return this.zo(t,p,v,a,S).then((A=>(ot(Pd,`Received RPC '${t}' ${d}: `,A),A)),(A=>{throw Xa(Pd,`RPC '${t}' ${d} failed with error: `,A,"url: ",p,"request:",a),A}))}jo(t,i,a,l,c,d){return this.Wo(t,i,a,l,c)}Go(t,i,a){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+ro})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>t[c]=l)),a&&a.headers.forEach(((l,c)=>t[c]=l))}Qo(t,i){const a=nC[t];let l=`${this.qo}/v1/${i}:${a}`;return this.databaseInfo.apiKey&&(l=`${l}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),l}terminate(){}}class rC{constructor(t){this.Ho=t.Ho,this.Jo=t.Jo}Zo(t){this.Xo=t}Yo(t){this.e_=t}t_(t){this.n_=t}onMessage(t){this.r_=t}close(){this.Jo()}send(t){this.Ho(t)}i_(){this.Xo()}s_(){this.e_()}o_(t){this.n_(t)}__(t){this.r_(t)}}const tn="WebChannelConnection",fl=(s,t,i)=>{s.listen(t,(a=>{try{i(a)}catch(l){setTimeout((()=>{throw l}),0)}}))};class Ga extends iC{constructor(t){super(t),this.a_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}static u_(){if(!Ga.c_){const t=tT();fl(t,$v.STAT_EVENT,(i=>{i.stat===Xd.PROXY?ot(tn,"STAT_EVENT: detected buffering proxy"):i.stat===Xd.NOPROXY&&ot(tn,"STAT_EVENT: detected no buffering proxy")})),Ga.c_=!0}}zo(t,i,a,l,c){const d=om();return new Promise(((p,v)=>{const _=new Jv;_.setWithCredentials(!0),_.listenOnce(Zv.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case Lc.NO_ERROR:const A=_.getResponseJson();ot(tn,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(A)),p(A);break;case Lc.TIMEOUT:ot(tn,`RPC '${t}' ${d} timed out`),v(new ht($.DEADLINE_EXCEEDED,"Request time out"));break;case Lc.HTTP_ERROR:const V=_.getStatus();if(ot(tn,`RPC '${t}' ${d} failed with status:`,V,"response text:",_.getResponseText()),V>0){let Y=_.getResponseJson();Array.isArray(Y)&&(Y=Y[0]);const et=Y?.error;if(et&&et.status&&et.message){const rt=(function(ft){const Tt=ft.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(Tt)>=0?Tt:$.UNKNOWN})(et.status);v(new ht(rt,et.message))}else v(new ht($.UNKNOWN,"Server responded with status "+_.getStatus()))}else v(new ht($.UNAVAILABLE,"Connection failed."));break;default:_t(9055,{l_:t,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{ot(tn,`RPC '${t}' ${d} completed.`)}}));const S=JSON.stringify(l);ot(tn,`RPC '${t}' ${d} sending request:`,l),_.send(i,"POST",S,a,15)}))}T_(t,i,a){const l=om(),c=[this.qo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=this.createWebChannelTransport(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(p.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Go(p.initMessageHeaders,i,a),p.encodeInitMessageHeaders=!0;const _=c.join("");ot(tn,`Creating RPC '${t}' stream ${l}: ${_}`,p);const S=d.createWebChannel(_,p);this.I_(S);let A=!1,V=!1;const Y=new rC({Ho:et=>{V?ot(tn,`Not sending because RPC '${t}' stream ${l} is closed:`,et):(A||(ot(tn,`Opening RPC '${t}' stream ${l} transport.`),S.open(),A=!0),ot(tn,`RPC '${t}' stream ${l} sending:`,et),S.send(et))},Jo:()=>S.close()});return fl(S,gl.EventType.OPEN,(()=>{V||(ot(tn,`RPC '${t}' stream ${l} transport opened.`),Y.i_())})),fl(S,gl.EventType.CLOSE,(()=>{V||(V=!0,ot(tn,`RPC '${t}' stream ${l} transport closed`),Y.o_(),this.E_(S))})),fl(S,gl.EventType.ERROR,(et=>{V||(V=!0,Xa(tn,`RPC '${t}' stream ${l} transport errored. Name:`,et.name,"Message:",et.message),Y.o_(new ht($.UNAVAILABLE,"The operation could not be completed")))})),fl(S,gl.EventType.MESSAGE,(et=>{if(!V){const rt=et.data[0];Yt(!!rt,16349);const st=rt,ft=st?.error||st[0]?.error;if(ft){ot(tn,`RPC '${t}' stream ${l} received error:`,ft);const Tt=ft.status;let mt=(function(wt){const I=Ne[wt];if(I!==void 0)return VT(I)})(Tt),Bt=ft.message;mt===void 0&&(mt=$.INTERNAL,Bt="Unknown error status: "+Tt+" with message "+ft.message),V=!0,Y.o_(new ht(mt,Bt)),S.close()}else ot(tn,`RPC '${t}' stream ${l} received:`,rt),Y.__(rt)}})),Ga.u_(),setTimeout((()=>{Y.s_()}),0),Y}terminate(){this.a_.forEach((t=>t.close())),this.a_=[]}I_(t){this.a_.push(t)}E_(t){this.a_=this.a_.filter((i=>i===t))}Go(t,i,a){super.Go(t,i,a),this.databaseInfo.apiKey&&(t["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return eT()}}function sC(s){return new Ga(s)}function Ud(){return typeof document<"u"?document:null}function Eh(s){return new uR(s,!0)}Ga.c_=!1;class XT{constructor(t,i,a=1e3,l=1.5,c=6e4){this.Ci=t,this.timerId=i,this.R_=a,this.A_=l,this.V_=c,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(t){this.cancel();const i=Math.floor(this.d_+this.y_()),a=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-a);l>0&&ot("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.d_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),t()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const j0="PersistentStream";class WT{constructor(t,i,a,l,c,d,p,v){this.Ci=t,this.b_=a,this.S_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=v,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new XT(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(t){this.q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===$.RESOURCE_EXHAUSTED?(ur(i.toString()),ur("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.t_(i)}W_(){}auth(){this.state=1;const t=this.Q_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,l])=>{this.D_===i&&this.G_(a,l)}),(a=>{t((()=>{const l=new ht($.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(l)}))}))}G_(t,i){const a=this.Q_(this.D_);this.stream=this.j_(t,i),this.stream.Zo((()=>{a((()=>this.listener.Zo()))})),this.stream.Yo((()=>{a((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((l=>{a((()=>this.z_(l)))})),this.stream.onMessage((l=>{a((()=>++this.F_==1?this.H_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return ot(j0,`close with error: ${t}`),this.stream=null,this.close(4,t)}Q_(t){return i=>{this.Ci.enqueueAndForget((()=>this.D_===t?i():(ot(j0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class aC extends WT{constructor(t,i,a,l,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}j_(t,i){return this.connection.T_("Listen",t,i)}H_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=fR(this.serializer,t),a=(function(c){if(!("targetChange"in c))return St.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?St.min():d.readTime?Oi(d.readTime):St.min()})(t);return this.listener.J_(i,a)}Z_(t){const i={};i.database=sm(this.serializer),i.addTarget=(function(c,d){let p;const v=d.target;if(p=tm(v)?{documents:gR(c,v)}:{query:pR(c,v).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=PT(c,d.resumeToken);const _=nm(c,d.expectedCount);_!==null&&(p.expectedCount=_)}else if(d.snapshotVersion.compareTo(St.min())>0){p.readTime=ih(c,d.snapshotVersion.toTimestamp());const _=nm(c,d.expectedCount);_!==null&&(p.expectedCount=_)}return p})(this.serializer,t);const a=_R(this.serializer,t);a&&(i.labels=a),this.K_(i)}X_(t){const i={};i.database=sm(this.serializer),i.removeTarget=t,this.K_(i)}}class oC extends WT{constructor(t,i,a,l,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}H_(t){return Yt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Yt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Yt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=mR(t.writeResults,t.commitTime),a=Oi(t.commitTime);return this.listener.na(a,i)}ra(){const t={};t.database=sm(this.serializer),this.K_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((a=>dR(this.serializer,a)))};this.K_(i)}}class lC{}class uC extends lC{constructor(t,i,a,l){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=a,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new ht($.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(t,i,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Wo(t,im(i,a),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ht($.UNKNOWN,c.toString())}))}jo(t,i,a,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.jo(t,im(i,a),l,d,p,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ht($.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function cC(s,t,i,a){return new uC(s,t,i,a)}class hC{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ur(i),this.aa=!1):ot("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Ks="RemoteStore";class fC{constructor(t,i,a,l,c){this.localStore=t,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=c,this.Aa.Mo((d=>{a.enqueueAndForget((async()=>{Ws(this)&&(ot(Ks,"Restarting streams for network reachability change."),await(async function(v){const _=At(v);_.Ea.add(4),await Fl(_),_.Va.set("Unknown"),_.Ea.delete(4),await Sh(_)})(this))}))})),this.Va=new hC(a,l)}}async function Sh(s){if(Ws(s))for(const t of s.Ra)await t(!0)}async function Fl(s){for(const t of s.Ra)await t(!1)}function JT(s,t){const i=At(s);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),Gm(i)?Fm(i):oo(i).O_()&&qm(i,t))}function Hm(s,t){const i=At(s),a=oo(i);i.Ia.delete(t),a.O_()&&ZT(i,t),i.Ia.size===0&&(a.O_()?a.L_():Ws(i)&&i.Va.set("Unknown"))}function qm(s,t){if(s.da.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(St.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}oo(s).Z_(t)}function ZT(s,t){s.da.$e(t),oo(s).X_(t)}function Fm(s){s.da=new sR({getRemoteKeysForTarget:t=>s.remoteSyncer.getRemoteKeysForTarget(t),At:t=>s.Ia.get(t)||null,ht:()=>s.datastore.serializer.databaseId}),oo(s).start(),s.Va.ua()}function Gm(s){return Ws(s)&&!oo(s).x_()&&s.Ia.size>0}function Ws(s){return At(s).Ea.size===0}function $T(s){s.da=void 0}async function dC(s){s.Va.set("Online")}async function mC(s){s.Ia.forEach(((t,i)=>{qm(s,t)}))}async function gC(s,t){$T(s),Gm(s)?(s.Va.ha(t),Fm(s)):s.Va.set("Unknown")}async function pC(s,t,i){if(s.Va.set("Online"),t instanceof LT&&t.state===2&&t.cause)try{await(async function(l,c){const d=c.cause;for(const p of c.targetIds)l.Ia.has(p)&&(await l.remoteSyncer.rejectListen(p,d),l.Ia.delete(p),l.da.removeTarget(p))})(s,t)}catch(a){ot(Ks,"Failed to remove targets %s: %s ",t.targetIds.join(","),a),await sh(s,a)}else if(t instanceof jc?s.da.Xe(t):t instanceof kT?s.da.st(t):s.da.tt(t),!i.isEqual(St.min()))try{const a=await YT(s.localStore);i.compareTo(a)>=0&&await(function(c,d){const p=c.da.Tt(d);return p.targetChanges.forEach(((v,_)=>{if(v.resumeToken.approximateByteSize()>0){const S=c.Ia.get(_);S&&c.Ia.set(_,S.withResumeToken(v.resumeToken,d))}})),p.targetMismatches.forEach(((v,_)=>{const S=c.Ia.get(v);if(!S)return;c.Ia.set(v,S.withResumeToken(Ze.EMPTY_BYTE_STRING,S.snapshotVersion)),ZT(c,v);const A=new Xr(S.target,v,_,S.sequenceNumber);qm(c,A)})),c.remoteSyncer.applyRemoteEvent(p)})(s,i)}catch(a){ot(Ks,"Failed to raise snapshot:",a),await sh(s,a)}}async function sh(s,t,i){if(!ao(t))throw t;s.Ea.add(1),await Fl(s),s.Va.set("Offline"),i||(i=()=>YT(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{ot(Ks,"Retrying IndexedDB access"),await i(),s.Ea.delete(1),await Sh(s)}))}function t1(s,t){return t().catch((i=>sh(s,i,t)))}async function bh(s){const t=At(s),i=ss(t);let a=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Im;for(;yC(t);)try{const l=await JR(t.localStore,a);if(l===null){t.Ta.length===0&&i.L_();break}a=l.batchId,_C(t,l)}catch(l){await sh(t,l)}e1(t)&&n1(t)}function yC(s){return Ws(s)&&s.Ta.length<10}function _C(s,t){s.Ta.push(t);const i=ss(s);i.O_()&&i.Y_&&i.ea(t.mutations)}function e1(s){return Ws(s)&&!ss(s).x_()&&s.Ta.length>0}function n1(s){ss(s).start()}async function vC(s){ss(s).ra()}async function TC(s){const t=ss(s);for(const i of s.Ta)t.ea(i.mutations)}async function EC(s,t,i){const a=s.Ta.shift(),l=km.from(a,t,i);await t1(s,(()=>s.remoteSyncer.applySuccessfulWrite(l))),await bh(s)}async function SC(s,t){t&&ss(s).Y_&&await(async function(a,l){if((function(d){return nR(d)&&d!==$.ABORTED})(l.code)){const c=a.Ta.shift();ss(a).B_(),await t1(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,l))),await bh(a)}})(s,t),e1(s)&&n1(s)}async function B0(s,t){const i=At(s);i.asyncQueue.verifyOperationInProgress(),ot(Ks,"RemoteStore received new credentials");const a=Ws(i);i.Ea.add(3),await Fl(i),a&&i.Va.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await Sh(i)}async function bC(s,t){const i=At(s);t?(i.Ea.delete(2),await Sh(i)):t||(i.Ea.add(2),await Fl(i),i.Va.set("Unknown"))}function oo(s){return s.ma||(s.ma=(function(i,a,l){const c=At(i);return c.sa(),new aC(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Zo:dC.bind(null,s),Yo:mC.bind(null,s),t_:gC.bind(null,s),J_:pC.bind(null,s)}),s.Ra.push((async t=>{t?(s.ma.B_(),Gm(s)?Fm(s):s.Va.set("Unknown")):(await s.ma.stop(),$T(s))}))),s.ma}function ss(s){return s.fa||(s.fa=(function(i,a,l){const c=At(i);return c.sa(),new oC(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Zo:()=>Promise.resolve(),Yo:vC.bind(null,s),t_:SC.bind(null,s),ta:TC.bind(null,s),na:EC.bind(null,s)}),s.Ra.push((async t=>{t?(s.fa.B_(),await bh(s)):(await s.fa.stop(),s.Ta.length>0&&(ot(Ks,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class Km{constructor(t,i,a,l,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=a,this.op=l,this.removalCallback=c,this.deferred=new ts,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,a,l,c){const d=Date.now()+a,p=new Km(t,i,d,l,c);return p.start(a),p}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ht($.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Qm(s,t){if(ur("AsyncQueue",`${t}: ${s}`),ao(s))return new ht($.UNAVAILABLE,`${t}: ${s}`);throw s}class Ka{static emptySet(t){return new Ka(t.comparator)}constructor(t){this.comparator=t?(i,a)=>t(i,a)||gt.comparator(i.key,a.key):(i,a)=>gt.comparator(i.key,a.key),this.keyedMap=pl(),this.sortedSet=new pe(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,a)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof Ka)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),a=t.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const a=new Ka;return a.comparator=this.comparator,a.keyedMap=t,a.sortedSet=i,a}}class H0{constructor(){this.ga=new pe(gt.comparator)}track(t){const i=t.doc.key,a=this.ga.get(i);a?t.type!==0&&a.type===3?this.ga=this.ga.insert(i,t):t.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:t.doc}):t.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&a.type===0?this.ga=this.ga.remove(i):t.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):t.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):_t(63341,{Vt:t,pa:a}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,a)=>{t.push(a)})),t}}class to{constructor(t,i,a,l,c,d,p,v,_){this.query=t,this.docs=i,this.oldDocs=a,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=v,this.hasCachedResults=_}static fromInitialDocuments(t,i,a,l,c){const d=[];return i.forEach((p=>{d.push({type:0,doc:p})})),new to(t,i,Ka.emptySet(i),d,a,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&ph(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,a=t.docChanges;if(i.length!==a.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==a[l].type||!i[l].doc.isEqual(a[l].doc))return!1;return!0}}class AC{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((t=>t.Da()))}}class wC{constructor(){this.queries=q0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const l=At(i),c=l.queries;l.queries=q0(),c.forEach(((d,p)=>{for(const v of p.ba)v.onError(a)}))})(this,new ht($.ABORTED,"Firestore shutting down"))}}function q0(){return new Ys((s=>ET(s)),ph)}async function RC(s,t){const i=At(s);let a=3;const l=t.query;let c=i.queries.get(l);c?!c.Sa()&&t.Da()&&(a=2):(c=new AC,a=t.Da()?0:1);try{switch(a){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const p=Qm(d,`Initialization of query '${za(t.query)}' failed`);return void t.onError(p)}i.queries.set(l,c),c.ba.push(t),t.va(i.onlineState),c.wa&&t.Fa(c.wa)&&Ym(i)}async function CC(s,t){const i=At(s),a=t.query;let l=3;const c=i.queries.get(a);if(c){const d=c.ba.indexOf(t);d>=0&&(c.ba.splice(d,1),c.ba.length===0?l=t.Da()?0:1:!c.Sa()&&t.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function IC(s,t){const i=At(s);let a=!1;for(const l of t){const c=l.query,d=i.queries.get(c);if(d){for(const p of d.ba)p.Fa(l)&&(a=!0);d.wa=l}}a&&Ym(i)}function xC(s,t,i){const a=At(s),l=a.queries.get(t);if(l)for(const c of l.ba)c.onError(i);a.queries.delete(t)}function Ym(s){s.Ca.forEach((t=>{t.next()}))}var lm,F0;(F0=lm||(lm={})).Ma="default",F0.Cache="cache";class DC{constructor(t,i,a){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(t){if(!this.options.includeMetadataChanges){const a=[];for(const l of t.docChanges)l.type!==3&&a.push(l);t=new to(t.query,t.docs,t.oldDocs,a,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.Ka||!a)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=to.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==lm.Cache}}class i1{constructor(t){this.key=t}}class r1{constructor(t){this.key=t}}class MC{constructor(t,i){this.query=t,this.Za=i,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=zt(),this.mutatedKeys=zt(),this.eu=ST(t),this.tu=new Ka(this.eu)}get nu(){return this.Za}ru(t,i){const a=i?i.iu:new H0,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,p=!1;const v=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,_=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((S,A)=>{const V=l.get(S),Y=yh(this.query,A)?A:null,et=!!V&&this.mutatedKeys.has(V.key),rt=!!Y&&(Y.hasLocalMutations||this.mutatedKeys.has(Y.key)&&Y.hasCommittedMutations);let st=!1;V&&Y?V.data.isEqual(Y.data)?et!==rt&&(a.track({type:3,doc:Y}),st=!0):this.su(V,Y)||(a.track({type:2,doc:Y}),st=!0,(v&&this.eu(Y,v)>0||_&&this.eu(Y,_)<0)&&(p=!0)):!V&&Y?(a.track({type:0,doc:Y}),st=!0):V&&!Y&&(a.track({type:1,doc:V}),st=!0,(v||_)&&(p=!0)),st&&(Y?(d=d.add(Y),c=rt?c.add(S):c.delete(S)):(d=d.delete(S),c=c.delete(S)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const S=this.query.limitType==="F"?d.last():d.first();d=d.delete(S.key),c=c.delete(S.key),a.track({type:1,doc:S})}return{tu:d,iu:a,Ss:p,mutatedKeys:c}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,a,l){const c=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((S,A)=>(function(Y,et){const rt=st=>{switch(st){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _t(20277,{Vt:st})}};return rt(Y)-rt(et)})(S.type,A.type)||this.eu(S.doc,A.doc))),this.ou(a),l=l??!1;const p=i&&!l?this._u():[],v=this.Ya.size===0&&this.current&&!l?1:0,_=v!==this.Xa;return this.Xa=v,d.length!==0||_?{snapshot:new to(this.query,t.tu,c,d,t.mutatedKeys,v===0,_,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new H0,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(t){return!this.Za.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Za=this.Za.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Za=this.Za.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Ya;this.Ya=zt(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Ya=this.Ya.add(a.key))}));const i=[];return t.forEach((a=>{this.Ya.has(a)||i.push(new r1(a))})),this.Ya.forEach((a=>{t.has(a)||i.push(new i1(a))})),i}cu(t){this.Za=t.ks,this.Ya=zt();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return to.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const Xm="SyncEngine";class OC{constructor(t,i,a){this.query=t,this.targetId=i,this.view=a}}class NC{constructor(t){this.key=t,this.hu=!1}}class VC{constructor(t,i,a,l,c,d){this.localStore=t,this.remoteStore=i,this.eventManager=a,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Ys((p=>ET(p)),ph),this.Iu=new Map,this.Eu=new Set,this.Ru=new pe(gt.comparator),this.Au=new Map,this.Vu=new Um,this.du={},this.mu=new Map,this.fu=$a.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function kC(s,t,i=!0){const a=c1(s);let l;const c=a.Tu.get(t);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await s1(a,t,i,!0),l}async function LC(s,t){const i=c1(s);await s1(i,t,!0,!1)}async function s1(s,t,i,a){const l=await ZR(s.localStore,Mi(t)),c=l.targetId,d=s.sharedClientState.addLocalQueryTarget(c,i);let p;return a&&(p=await PC(s,t,c,d==="current",l.resumeToken)),s.isPrimaryClient&&i&&JT(s.remoteStore,l),p}async function PC(s,t,i,a,l){s.pu=(A,V,Y)=>(async function(rt,st,ft,Tt){let mt=st.view.ru(ft);mt.Ss&&(mt=await L0(rt.localStore,st.query,!1).then((({documents:I})=>st.view.ru(I,mt))));const Bt=Tt&&Tt.targetChanges.get(st.targetId),Xt=Tt&&Tt.targetMismatches.get(st.targetId)!=null,wt=st.view.applyChanges(mt,rt.isPrimaryClient,Bt,Xt);return K0(rt,st.targetId,wt.au),wt.snapshot})(s,A,V,Y);const c=await L0(s.localStore,t,!0),d=new MC(t,c.ks),p=d.ru(c.documents),v=ql.createSynthesizedTargetChangeForCurrentChange(i,a&&s.onlineState!=="Offline",l),_=d.applyChanges(p,s.isPrimaryClient,v);K0(s,i,_.au);const S=new OC(t,i,d);return s.Tu.set(t,S),s.Iu.has(i)?s.Iu.get(i).push(t):s.Iu.set(i,[t]),_.snapshot}async function UC(s,t,i){const a=At(s),l=a.Tu.get(t),c=a.Iu.get(l.targetId);if(c.length>1)return a.Iu.set(l.targetId,c.filter((d=>!ph(d,t)))),void a.Tu.delete(t);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(l.targetId),a.sharedClientState.isActiveQueryTarget(l.targetId)||await am(a.localStore,l.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(l.targetId),i&&Hm(a.remoteStore,l.targetId),um(a,l.targetId)})).catch(so)):(um(a,l.targetId),await am(a.localStore,l.targetId,!0))}async function zC(s,t){const i=At(s),a=i.Tu.get(t),l=i.Iu.get(a.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),Hm(i.remoteStore,a.targetId))}async function jC(s,t,i){const a=QC(s);try{const l=await(function(d,p){const v=At(d),_=ce.now(),S=p.reduce(((Y,et)=>Y.add(et.key)),zt());let A,V;return v.persistence.runTransaction("Locally write mutations","readwrite",(Y=>{let et=cr(),rt=zt();return v.xs.getEntries(Y,S).next((st=>{et=st,et.forEach(((ft,Tt)=>{Tt.isValidDocument()||(rt=rt.add(ft))}))})).next((()=>v.localDocuments.getOverlayedDocuments(Y,et))).next((st=>{A=st;const ft=[];for(const Tt of p){const mt=Jw(Tt,A.get(Tt.key).overlayedDocument);mt!=null&&ft.push(new Xs(Tt.key,mt,mT(mt.value.mapValue),ar.exists(!0)))}return v.mutationQueue.addMutationBatch(Y,_,ft,p)})).next((st=>{V=st;const ft=st.applyToLocalDocumentSet(A,rt);return v.documentOverlayCache.saveOverlays(Y,st.batchId,ft)}))})).then((()=>({batchId:V.batchId,changes:AT(A)})))})(a.localStore,t);a.sharedClientState.addPendingMutation(l.batchId),(function(d,p,v){let _=d.du[d.currentUser.toKey()];_||(_=new pe(Ut)),_=_.insert(p,v),d.du[d.currentUser.toKey()]=_})(a,l.batchId,i),await Gl(a,l.changes),await bh(a.remoteStore)}catch(l){const c=Qm(l,"Failed to persist write");i.reject(c)}}async function a1(s,t){const i=At(s);try{const a=await XR(i.localStore,t);t.targetChanges.forEach(((l,c)=>{const d=i.Au.get(c);d&&(Yt(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?Yt(d.hu,14607):l.removedDocuments.size>0&&(Yt(d.hu,42227),d.hu=!1))})),await Gl(i,a,t)}catch(a){await so(a)}}function G0(s,t,i){const a=At(s);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const l=[];a.Tu.forEach(((c,d)=>{const p=d.view.va(t);p.snapshot&&l.push(p.snapshot)})),(function(d,p){const v=At(d);v.onlineState=p;let _=!1;v.queries.forEach(((S,A)=>{for(const V of A.ba)V.va(p)&&(_=!0)})),_&&Ym(v)})(a.eventManager,t),l.length&&a.Pu.J_(l),a.onlineState=t,a.isPrimaryClient&&a.sharedClientState.setOnlineState(t)}}async function BC(s,t,i){const a=At(s);a.sharedClientState.updateQueryState(t,"rejected",i);const l=a.Au.get(t),c=l&&l.key;if(c){let d=new pe(gt.comparator);d=d.insert(c,nn.newNoDocument(c,St.min()));const p=zt().add(c),v=new Th(St.min(),new Map,new pe(Ut),d,p);await a1(a,v),a.Ru=a.Ru.remove(c),a.Au.delete(t),Wm(a)}else await am(a.localStore,t,!1).then((()=>um(a,t,i))).catch(so)}async function HC(s,t){const i=At(s),a=t.batch.batchId;try{const l=await YR(i.localStore,t);l1(i,a,null),o1(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await Gl(i,l)}catch(l){await so(l)}}async function qC(s,t,i){const a=At(s);try{const l=await(function(d,p){const v=At(d);return v.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let S;return v.mutationQueue.lookupMutationBatch(_,p).next((A=>(Yt(A!==null,37113),S=A.keys(),v.mutationQueue.removeMutationBatch(_,A)))).next((()=>v.mutationQueue.performConsistencyCheck(_))).next((()=>v.documentOverlayCache.removeOverlaysForBatchId(_,S,p))).next((()=>v.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,S))).next((()=>v.localDocuments.getDocuments(_,S)))}))})(a.localStore,t);l1(a,t,i),o1(a,t),a.sharedClientState.updateMutationState(t,"rejected",i),await Gl(a,l)}catch(l){await so(l)}}function o1(s,t){(s.mu.get(t)||[]).forEach((i=>{i.resolve()})),s.mu.delete(t)}function l1(s,t,i){const a=At(s);let l=a.du[a.currentUser.toKey()];if(l){const c=l.get(t);c&&(i?c.reject(i):c.resolve(),l=l.remove(t)),a.du[a.currentUser.toKey()]=l}}function um(s,t,i=null){s.sharedClientState.removeLocalQueryTarget(t);for(const a of s.Iu.get(t))s.Tu.delete(a),i&&s.Pu.yu(a,i);s.Iu.delete(t),s.isPrimaryClient&&s.Vu.Gr(t).forEach((a=>{s.Vu.containsKey(a)||u1(s,a)}))}function u1(s,t){s.Eu.delete(t.path.canonicalString());const i=s.Ru.get(t);i!==null&&(Hm(s.remoteStore,i),s.Ru=s.Ru.remove(t),s.Au.delete(i),Wm(s))}function K0(s,t,i){for(const a of i)a instanceof i1?(s.Vu.addReference(a.key,t),FC(s,a)):a instanceof r1?(ot(Xm,"Document no longer in limbo: "+a.key),s.Vu.removeReference(a.key,t),s.Vu.containsKey(a.key)||u1(s,a.key)):_t(19791,{wu:a})}function FC(s,t){const i=t.key,a=i.path.canonicalString();s.Ru.get(i)||s.Eu.has(a)||(ot(Xm,"New document in limbo: "+i),s.Eu.add(a),Wm(s))}function Wm(s){for(;s.Eu.size>0&&s.Ru.size<s.maxConcurrentLimboResolutions;){const t=s.Eu.values().next().value;s.Eu.delete(t);const i=new gt(ge.fromString(t)),a=s.fu.next();s.Au.set(a,new NC(i)),s.Ru=s.Ru.insert(i,a),JT(s.remoteStore,new Xr(Mi(Nm(i.path)),a,"TargetPurposeLimboResolution",fh.ce))}}async function Gl(s,t,i){const a=At(s),l=[],c=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((p,v)=>{d.push(a.pu(v,t,i).then((_=>{if((_||i)&&a.isPrimaryClient){const S=_?!_.fromCache:i?.targetChanges.get(v.targetId)?.current;a.sharedClientState.updateQueryState(v.targetId,S?"current":"not-current")}if(_){l.push(_);const S=jm.Es(v.targetId,_);c.push(S)}})))})),await Promise.all(d),a.Pu.J_(l),await(async function(v,_){const S=At(v);try{await S.persistence.runTransaction("notifyLocalViewChanges","readwrite",(A=>Z.forEach(_,(V=>Z.forEach(V.Ts,(Y=>S.persistence.referenceDelegate.addReference(A,V.targetId,Y))).next((()=>Z.forEach(V.Is,(Y=>S.persistence.referenceDelegate.removeReference(A,V.targetId,Y)))))))))}catch(A){if(!ao(A))throw A;ot(Bm,"Failed to update sequence numbers: "+A)}for(const A of _){const V=A.targetId;if(!A.fromCache){const Y=S.vs.get(V),et=Y.snapshotVersion,rt=Y.withLastLimboFreeSnapshotVersion(et);S.vs=S.vs.insert(V,rt)}}})(a.localStore,c))}async function GC(s,t){const i=At(s);if(!i.currentUser.isEqual(t)){ot(Xm,"User change. New user:",t.toKey());const a=await QT(i.localStore,t);i.currentUser=t,(function(c,d){c.mu.forEach((p=>{p.forEach((v=>{v.reject(new ht($.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,a.removedBatchIds,a.addedBatchIds),await Gl(i,a.Ns)}}function KC(s,t){const i=At(s),a=i.Au.get(t);if(a&&a.hu)return zt().add(a.key);{let l=zt();const c=i.Iu.get(t);if(!c)return l;for(const d of c){const p=i.Tu.get(d);l=l.unionWith(p.view.nu)}return l}}function c1(s){const t=At(s);return t.remoteStore.remoteSyncer.applyRemoteEvent=a1.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=KC.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=BC.bind(null,t),t.Pu.J_=IC.bind(null,t.eventManager),t.Pu.yu=xC.bind(null,t.eventManager),t}function QC(s){const t=At(s);return t.remoteStore.remoteSyncer.applySuccessfulWrite=HC.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=qC.bind(null,t),t}class ah{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Eh(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return QR(this.persistence,new FR,t.initialUser,this.serializer)}Cu(t){return new KT(zm.Vi,this.serializer)}Du(t){return new tC}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ah.provider={build:()=>new ah};class YC extends ah{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){Yt(this.persistence.referenceDelegate instanceof rh,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new xR(a,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?mn.withCacheSize(this.cacheSizeBytes):mn.DEFAULT;return new KT((a=>rh.Vi(a,i)),this.serializer)}}class cm{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>G0(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=GC.bind(null,this.syncEngine),await bC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new wC})()}createDatastore(t){const i=Eh(t.databaseInfo.databaseId),a=sC(t.databaseInfo);return cC(t.authCredentials,t.appCheckCredentials,a,i)}createRemoteStore(t){return(function(a,l,c,d,p){return new fC(a,l,c,d,p)})(this.localStore,this.datastore,t.asyncQueue,(i=>G0(this.syncEngine,i,0)),(function(){return z0.v()?new z0:new eC})())}createSyncEngine(t,i){return(function(l,c,d,p,v,_,S){const A=new VC(l,c,d,p,v,_);return S&&(A.gu=!0),A})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=At(i);ot(Ks,"RemoteStore shutting down."),a.Ea.add(5),await Fl(a),a.Aa.shutdown(),a.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}cm.provider={build:()=>new cm};class XC{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):ur("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}const as="FirestoreClient";class WC{constructor(t,i,a,l,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=a,this._databaseInfo=l,this.user=en.UNAUTHENTICATED,this.clientId=Rm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async d=>{ot(as,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(ot(as,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new ts;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const a=Qm(i,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}async function zd(s,t){s.asyncQueue.verifyOperationInProgress(),ot(as,"Initializing OfflineComponentProvider");const i=s.configuration;await t.initialize(i);let a=i.initialUser;s.setCredentialChangeListener((async l=>{a.isEqual(l)||(await QT(t.localStore,l),a=l)})),t.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=t}async function Q0(s,t){s.asyncQueue.verifyOperationInProgress();const i=await JC(s);ot(as,"Initializing OnlineComponentProvider"),await t.initialize(i,s.configuration),s.setCredentialChangeListener((a=>B0(t.remoteStore,a))),s.setAppCheckTokenChangeListener(((a,l)=>B0(t.remoteStore,l))),s._onlineComponents=t}async function JC(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){ot(as,"Using user provided OfflineComponentProvider");try{await zd(s,s._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(l){return l.name==="FirebaseError"?l.code===$.FAILED_PRECONDITION||l.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;Xa("Error using user provided cache. Falling back to memory cache: "+i),await zd(s,new ah)}}else ot(as,"Using default OfflineComponentProvider"),await zd(s,new YC(void 0));return s._offlineComponents}async function h1(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(ot(as,"Using user provided OnlineComponentProvider"),await Q0(s,s._uninitializedComponentsProvider._online)):(ot(as,"Using default OnlineComponentProvider"),await Q0(s,new cm))),s._onlineComponents}function ZC(s){return h1(s).then((t=>t.syncEngine))}async function $C(s){const t=await h1(s),i=t.eventManager;return i.onListen=kC.bind(null,t.syncEngine),i.onUnlisten=UC.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=LC.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=zC.bind(null,t.syncEngine),i}function t5(s,t,i={}){const a=new ts;return s.asyncQueue.enqueueAndForget((async()=>(function(c,d,p,v,_){const S=new XC({next:V=>{S.Nu(),d.enqueueAndForget((()=>CC(c,A)));const Y=V.docs.has(p);!Y&&V.fromCache?_.reject(new ht($.UNAVAILABLE,"Failed to get document because the client is offline.")):Y&&V.fromCache&&v&&v.source==="server"?_.reject(new ht($.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(V)},error:V=>_.reject(V)}),A=new DC(Nm(p.path),S,{includeMetadataChanges:!0,Ka:!0});return RC(c,A)})(await $C(s),s.asyncQueue,t,i,a))),a.promise}function e5(s,t){const i=new ts;return s.asyncQueue.enqueueAndForget((async()=>jC(await ZC(s),t,i))),i.promise}function f1(s){const t={};return s.timeoutSeconds!==void 0&&(t.timeoutSeconds=s.timeoutSeconds),t}const n5="ComponentProvider",Y0=new Map;function i5(s,t,i,a,l){return new vw(s,t,i,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,f1(l.experimentalLongPollingOptions),l.useFetchStreams,l.isUsingEmulator,a)}const d1="firestore.googleapis.com",X0=!0;class W0{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new ht($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=d1,this.ssl=X0}else this.host=t.host,this.ssl=t.ssl??X0;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=GT;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<CR)throw new ht($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}lw("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=f1(t.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new ht($.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new ht($.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new ht($.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(a,l){return a.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Jm{constructor(t,i,a,l){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=a,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new W0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ht($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ht($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new W0(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new J2;switch(a.type){case"firstParty":return new ew(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new ht($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=Y0.get(i);a&&(ot(n5,"Removing Datastore"),Y0.delete(i),a.terminate())})(this),Promise.resolve()}}function r5(s,t,i,a={}){s=Il(s,Jm);const l=eo(t),c=s._getSettings(),d={...c,emulatorOptions:s._getEmulatorOptions()},p=`${t}:${i}`;l&&(fv(`https://${p}`),dv("Firestore",!0)),c.host!==d1&&c.host!==p&&Xa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const v={...c,host:p,ssl:l,emulatorOptions:a};if(!Hs(v,d)&&(s._setSettings(v),a.mockUserToken)){let _,S;if(typeof a.mockUserToken=="string")_=a.mockUserToken,S=en.MOCK_USER;else{_=SS(a.mockUserToken,s._app?.options.projectId);const A=a.mockUserToken.sub||a.mockUserToken.user_id;if(!A)throw new ht($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");S=new en(A)}s._authCredentials=new Z2(new iT(_,S))}}class Zm{constructor(t,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=t}withConverter(t){return new Zm(this.firestore,t,this._query)}}class qe{constructor(t,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new kl(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new qe(this.firestore,t,this._key)}toJSON(){return{type:qe._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,a){if(Bl(i,qe._jsonSchema))return new qe(t,a||null,new gt(ge.fromString(i.referencePath)))}}qe._jsonSchemaVersion="firestore/documentReference/1.0",qe._jsonSchema={type:Ve("string",qe._jsonSchemaVersion),referencePath:Ve("string")};class kl extends Zm{constructor(t,i,a){super(t,i,Nm(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new qe(this.firestore,null,new gt(t))}withConverter(t){return new kl(this.firestore,t,this._path)}}function m1(s,t,...i){if(s=Bn(s),arguments.length===1&&(t=Rm.newId()),ow("doc","path",t),s instanceof Jm){const a=ge.fromString(t,...i);return c0(a),new qe(s,null,new gt(a))}{if(!(s instanceof qe||s instanceof kl))throw new ht($.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(ge.fromString(t,...i));return c0(a),new qe(s.firestore,s instanceof kl?s.converter:null,new gt(a))}}const J0="AsyncQueue";class Z0{constructor(t=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new XT(this,"async_queue_retry"),this._c=()=>{const a=Ud();a&&ot(J0,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=t;const i=Ud();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=Ud();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new ts;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Yu.push(t),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(t){if(!ao(t))throw t;ot(J0,"Operation failed with retryable error: "+t)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((a=>{throw this.nc=a,this.rc=!1,ur("INTERNAL UNHANDLED ERROR: ",$0(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(t,i,a){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const l=Km.createAndSchedule(this,t,i,a,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&_t(47125,{Pc:$0(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}Rc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function $0(s){let t=s.message||"";return s.stack&&(t=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),t}class $m extends Jm{constructor(t,i,a,l){super(t,i,a,l),this.type="firestore",this._queue=new Z0,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new Z0(t),this._firestoreClient=void 0,await t}}}function s5(s,t){const i=typeof s=="object"?s:yv(),a=typeof s=="string"?s:Jc,l=mm(i,"firestore").getImmediate({identifier:a});if(!l._initialized){const c=TS("firestore");c&&r5(l,...c)}return l}function g1(s){if(s._terminated)throw new ht($.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||a5(s),s._firestoreClient}function a5(s){const t=s._freezeSettings(),i=i5(s._databaseId,s._app?.options.appId||"",s._persistenceKey,s._app?.options.apiKey,t);s._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),s._firestoreClient=new WC(s._authCredentials,s._appCheckCredentials,s._queue,i,s._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(s._componentsProvider))}class jn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new jn(Ze.fromBase64String(t))}catch(i){throw new ht($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new jn(Ze.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:jn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Bl(t,jn._jsonSchema))return jn.fromBase64String(t.bytes)}}jn._jsonSchemaVersion="firestore/bytes/1.0",jn._jsonSchema={type:Ve("string",jn._jsonSchemaVersion),bytes:Ve("string")};class p1{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new ht($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Je(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class y1{constructor(t){this._methodName=t}}class Ni{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new ht($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new ht($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Ut(this._lat,t._lat)||Ut(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ni._jsonSchemaVersion}}static fromJSON(t){if(Bl(t,Ni._jsonSchema))return new Ni(t.latitude,t.longitude)}}Ni._jsonSchemaVersion="firestore/geoPoint/1.0",Ni._jsonSchema={type:Ve("string",Ni._jsonSchemaVersion),latitude:Ve("number"),longitude:Ve("number")};class si{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(a,l){if(a.length!==l.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==l[c])return!1;return!0})(this._values,t._values)}toJSON(){return{type:si._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Bl(t,si._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new si(t.vectorValues);throw new ht($.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}si._jsonSchemaVersion="firestore/vectorValue/1.0",si._jsonSchema={type:Ve("string",si._jsonSchemaVersion),vectorValues:Ve("object")};const o5=/^__.*__$/;class l5{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return this.fieldMask!==null?new Xs(t,this.data,this.fieldMask,i,this.fieldTransforms):new Hl(t,this.data,i,this.fieldTransforms)}}function _1(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _t(40011,{dataSource:s})}}class tg{constructor(t,i,a,l,c,d){this.settings=t,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=l,c===void 0&&this.validatePath(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(t){return new tg({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(t){const i=this.path?.child(t),a=this.contextWith({path:i,arrayElement:!1});return a.validatePathSegment(t),a}childContextForFieldPath(t){const i=this.path?.child(t),a=this.contextWith({path:i,arrayElement:!1});return a.validatePath(),a}childContextForArray(t){return this.contextWith({path:void 0,arrayElement:!0})}createError(t){return oh(t,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}validatePath(){if(this.path)for(let t=0;t<this.path.length;t++)this.validatePathSegment(this.path.get(t))}validatePathSegment(t){if(t.length===0)throw this.createError("Document fields must not be empty");if(_1(this.dataSource)&&o5.test(t))throw this.createError('Document fields cannot begin and end with "__"')}}class u5{constructor(t,i,a){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=a||Eh(t)}createContext(t,i,a,l=!1){return new tg({dataSource:t,methodName:i,targetDoc:a,path:Je.emptyPath(),arrayElement:!1,hasConverter:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function c5(s){const t=s._freezeSettings(),i=Eh(s._databaseId);return new u5(s._databaseId,!!t.ignoreUndefinedProperties,i)}function h5(s,t,i,a,l,c={}){const d=s.createContext(c.merge||c.mergeFields?2:0,t,i,l);S1("Data must be an object, but it was:",d,a);const p=T1(a,d);let v,_;if(c.merge)v=new ii(d.fieldMask),_=d.fieldTransforms;else if(c.mergeFields){const S=[];for(const A of c.mergeFields){const V=eg(t,A,i);if(!d.contains(V))throw new ht($.INVALID_ARGUMENT,`Field '${V}' is specified in your field mask but missing from your input data.`);m5(S,V)||S.push(V)}v=new ii(S),_=d.fieldTransforms.filter((A=>v.covers(A.field)))}else v=null,_=d.fieldTransforms;return new l5(new zn(p),v,_)}function v1(s,t){if(E1(s=Bn(s)))return S1("Unsupported field value:",t,s),T1(s,t);if(s instanceof y1)return(function(a,l){if(!_1(l.dataSource))throw l.createError(`${a._methodName}() can only be used with update() and set()`);if(!l.path)throw l.createError(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(s,t),null;if(s===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),s instanceof Array){if(t.settings.arrayElement&&t.dataSource!==4)throw t.createError("Nested arrays are not supported");return(function(a,l){const c=[];let d=0;for(const p of a){let v=v1(p,l.childContextForArray(d));v==null&&(v={nullValue:"NULL_VALUE"}),c.push(v),d++}return{arrayValue:{values:c}}})(s,t)}return(function(a,l){if((a=Bn(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return Gw(l.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=ce.fromDate(a);return{timestampValue:ih(l.serializer,c)}}if(a instanceof ce){const c=new ce(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:ih(l.serializer,c)}}if(a instanceof Ni)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof jn)return{bytesValue:PT(l.serializer,a._byteString)};if(a instanceof qe){const c=l.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw l.createError(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Pm(a.firestore._databaseId||l.databaseId,a._key.path)}}if(a instanceof si)return(function(d,p){const v=d instanceof si?d.toArray():d;return{mapValue:{fields:{[fT]:{stringValue:dT},[Zc]:{arrayValue:{values:v.map((S=>{if(typeof S!="number")throw p.createError("VectorValues must only contain numeric values.");return Vm(p.serializer,S)}))}}}}}})(a,l);if(FT(a))return a._toProto(l.serializer);throw l.createError(`Unsupported field value: ${Cm(a)}`)})(s,t)}function T1(s,t){const i={};return aT(s)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Qs(s,((a,l)=>{const c=v1(l,t.childContextForField(a));c!=null&&(i[a]=c)})),{mapValue:{fields:i}}}function E1(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof ce||s instanceof Ni||s instanceof jn||s instanceof qe||s instanceof y1||s instanceof si||FT(s))}function S1(s,t,i){if(!E1(i)||!rT(i)){const a=Cm(i);throw a==="an object"?t.createError(s+" a custom object"):t.createError(s+" "+a)}}function eg(s,t,i){if((t=Bn(t))instanceof p1)return t._internalPath;if(typeof t=="string")return d5(s,t);throw oh("Field path arguments must be of type string or ",s,!1,void 0,i)}const f5=new RegExp("[~\\*/\\[\\]]");function d5(s,t,i){if(t.search(f5)>=0)throw oh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new p1(...t.split("."))._internalPath}catch{throw oh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function oh(s,t,i,a,l){const c=a&&!a.isEmpty(),d=l!==void 0;let p=`Function ${t}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let v="";return(c||d)&&(v+=" (found",c&&(v+=` in field ${a}`),d&&(v+=` in document ${l}`),v+=")"),new ht($.INVALID_ARGUMENT,p+s+v)}function m5(s,t){return s.some((i=>i.isEqual(t)))}class g5{convertValue(t,i="none"){switch(rs(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Ae(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(is(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw _t(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const a={};return Qs(t,((l,c)=>{a[l]=this.convertValue(c,i)})),a}convertVectorValue(t){const i=t.fields?.[Zc].arrayValue?.values?.map((a=>Ae(a.doubleValue)));return new si(i)}convertGeoPoint(t){return new Ni(Ae(t.latitude),Ae(t.longitude))}convertArray(t,i){return(t.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const a=mh(t);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(Dl(t));default:return null}}convertTimestamp(t){const i=ns(t);return new ce(i.seconds,i.nanos)}convertDocumentKey(t,i){const a=ge.fromString(t);Yt(qT(a),9688,{name:t});const l=new Ml(a.get(1),a.get(3)),c=new gt(a.popFirst(5));return l.isEqual(i)||ur(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}class p5 extends g5{constructor(t){super(),this.firestore=t}convertBytes(t){return new jn(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new qe(this.firestore,null,i)}}const tv="@firebase/firestore",ev="4.10.0";class b1{constructor(t,i,a,l,c){this._firestore=t,this._userDataWriter=i,this._key=a,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new qe(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new y5(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(t){if(this._document){const i=this._document.data.field(eg("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class y5 extends b1{data(){return super.data()}}function _5(s,t,i){let a;return a=s?s.toFirestore(t):t,a}class _l{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Bs extends b1{constructor(t,i,a,l,c,d){super(t,i,a,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new Bc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const a=this._document.data.field(eg("DocumentSnapshot.get",t));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ht($.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=Bs._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Bs._jsonSchemaVersion="firestore/documentSnapshot/1.0",Bs._jsonSchema={type:Ve("string",Bs._jsonSchemaVersion),bundleSource:Ve("string","DocumentSnapshot"),bundleName:Ve("string"),bundle:Ve("string")};class Bc extends Bs{data(t={}){return super.data(t)}}class wl{constructor(t,i,a,l){this._firestore=t,this._userDataWriter=i,this._snapshot=l,this.metadata=new _l(l.hasPendingWrites,l.fromCache),this.query=a}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((a=>{t.call(i,new Bc(this._firestore,this._userDataWriter,a.key,a,new _l(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ht($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((p=>{const v=new Bc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new _l(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);return p.doc,{type:"added",doc:v,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((p=>c||p.type!==3)).map((p=>{const v=new Bc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new _l(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);let _=-1,S=-1;return p.type!==0&&(_=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),S=d.indexOf(p.doc.key)),{type:v5(p.type),doc:v,oldIndex:_,newIndex:S}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ht($.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=wl._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Rm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function v5(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _t(61501,{type:s})}}wl._jsonSchemaVersion="firestore/querySnapshot/1.0",wl._jsonSchema={type:Ve("string",wl._jsonSchemaVersion),bundleSource:Ve("string","QuerySnapshot"),bundleName:Ve("string"),bundle:Ve("string")};function T5(s){s=Il(s,qe);const t=Il(s.firestore,$m),i=g1(t);return t5(i,s._key).then((a=>b5(t,s,a)))}function E5(s,t,i){s=Il(s,qe);const a=Il(s.firestore,$m),l=_5(s.converter,t),c=c5(a);return S5(a,[h5(c,"setDoc",s._key,l,s.converter!==null,i).toMutation(s._key,ar.none())])}function S5(s,t){const i=g1(s);return e5(i,t)}function b5(s,t,i){const a=i.docs.get(t._key),l=new p5(s);return new Bs(s,l,t._key,a,new _l(i.hasPendingWrites,i.fromCache),t.converter)}(function(t,i=!0){W2(no),Qa(new qs("firestore",((a,{instanceIdentifier:l,options:c})=>{const d=a.getProvider("app").getImmediate(),p=new $m(new $2(a.getProvider("auth-internal")),new nw(d,a.getProvider("app-check-internal")),Tw(d,l),d);return c={useFetchStreams:i,...c},p._setSettings(c),p}),"PUBLIC").setMultipleInstances(!0)),Zr(tv,ev,t),Zr(tv,ev,"esm2020")})();var A5="firebase",w5="12.8.0";Zr(A5,w5,"app");const R5={apiKey:"AIzaSyBh-YtTlh01-3rbv5ROFl23zPH2kcNpMCM",authDomain:"performance-platform-766bd.firebaseapp.com",projectId:"performance-platform-766bd",storageBucket:"performance-platform-766bd.firebasestorage.app",messagingSenderId:"816080210349",appId:"1:816080210349:web:5f98fcbc556a2f4ffd7924",measurementId:"G-C0N03Y0JYV"},A1=pv(R5),jd=Y2(A1),C5=new ir,w1=s5(A1),Rc={name:"Sonny Nguyen",age:"29M",dob:"09/21/1996",height:`5'11"`,weight:"210",bmi:"29.3",service:"USMC  CPL, Honorable",vaPcp:"Dr. Nayyar Masood",psychiatrist:"Dr. Daolong Zhang",goalWeight:"185190",goalWaist:'~32"',dailyCal:"~2,450",protein:"~172g",training:"3x/wk + 1 bonus",steps:"10,000/day",program:"Kinobody Movie Star Body"},Cc=[{name:"Sertraline 100mg",timing:"Every morning",purpose:"Depression",notes:"Take with breakfast."},{name:"Allopurinol 300mg",timing:"Once daily",purpose:"Gout prevention",notes:"Take with food. Stay hydrated."},{name:"Colchicine 0.6mg",timing:"Once daily",purpose:"Gout prevention",notes:"Take with food. Avoid grapefruit."},{name:"Melatonin 10mg",timing:"Bedtime",purpose:"Sleep",notes:"Take 3060 min before sleep."}],Ic=[{name:"Vitamin D3",dose:"5,000 IU",when:"Breakfast (with fat)",why:"Clinically deficient at 16.7. Target 40+."},{name:"Methylfolate",dose:"800 mcg",when:"Morning w/ Sertraline",why:"Folate at 5.1 deficient. Enhances SSRI."},{name:"Omega-3 Fish Oil",dose:"23g EPA/DHA",when:"With dinner",why:"HDL borderline. Anti-inflammatory."},{name:"Magnesium Glycinate",dose:"400mg",when:"Bedtime",why:"Sleep quality + muscle recovery."},{name:"Tart Cherry Extract",dose:"500mg",when:"Evening",why:"Gout prevention + anti-inflammatory."}],xc=[{condition:"Depression NOS, Moderate",date:"Oct 2023",impact:"On Sertraline 100mg. Sleep + exercise are top tools."},{condition:"Polycythemia",date:"Oct 2024",impact:"Elevated RBC/HCT. Stay hydrated 100oz+/day."},{condition:"Gout",date:"Aug 2023",impact:"On Allopurinol + Colchicine. Limit red meat, alcohol."},{condition:"Low Back Pain",date:"Jun 2023",impact:"Avoid loaded spinal flexion. Front squats > back squats."},{condition:"Left Shoulder Pain",date:"Jun 2023",impact:"Full warmup before pressing. Landmine if overhead flares."},{condition:"Migraine with Aura",date:"Apr 2023",impact:"Sleep consistency #1 prevention. Don't skip meals."}],Dc=[{test:"Glucose (fasting)",result:"103",unit:"mg/dL",ref:"74100",status:"Borderline",action:"Cut simple sugars, protein-first meals."},{test:"ALT (liver)",result:"74",unit:"U/L",ref:"044",status:"HIGH",action:"Zero alcohol 30 days. Minimize acetaminophen."},{test:"AST (liver)",result:"40",unit:"U/L",ref:"1134",status:"High",action:"Monitor alongside ALT."},{test:"HDL",result:"41",unit:"mg/dL",ref:">40",status:"Borderline",action:"Omega-3s + cardio/walking 10k steps."},{test:"Testosterone",result:"321",unit:"ng/dL",ref:"2501100",status:"Low-Normal",action:"Fix Vitamin D, sleep 8-9 hrs, heavy compounds."},{test:"Free Testosterone",result:"69.7",unit:"pg/mL",ref:"46224",status:"Low-Normal",action:"Will improve with T optimization."},{test:"Vitamin D",result:"16.7",unit:"ng/mL",ref:"3040",status:"DEFICIENT",action:"5,000 IU D3 daily. Non-negotiable."},{test:"Folate",result:"5.1",unit:"ng/mL",ref:"7.031.4",status:"DEFICIENT",action:"Methylfolate 800mcg + dark leafy greens."},{test:"Hemoglobin",result:"16.8",unit:"g/dL",ref:"1417",status:"Normal",action:"Upper normal. Consistent with polycythemia."},{test:"Hematocrit",result:"50.9",unit:"%",ref:"3951%",status:"Watch",action:"Upper edge. Hydration critical."},{test:"Ferritin",result:"358.6",unit:"ng/mL",ref:"22350",status:"High",action:"Slightly high. Could be inflammatory."},{test:"HbA1c",result:"5.1",unit:"%",ref:"<5.6%",status:"Normal",action:"Good long-term glucose control."},{test:"Uric Acid",result:"5.5",unit:"mg/dL",ref:"3.77.7",status:"Normal",action:"Allopurinol working. Hydration up."},{test:"TSH",result:"2.62",unit:"uIU/mL",ref:"0.45.0",status:"Normal",action:"Thyroid function normal."}],dl=[{metric:"Weight",current:"210 lbs",target:"200 lbs",how:"~1 lb/week with strength training + calorie control."},{metric:"Waist",current:"TBD",target:'~34"',how:'Track weekly. Goal is 32" long-term.'},{metric:"Vitamin D",current:"16.7 ng/mL",target:"40+ ng/mL",how:"5,000 IU D3 daily. Retest at 3-month labs."},{metric:"Folate",current:"5.1 ng/mL",target:"10+ ng/mL",how:"Methylfolate + leafy greens daily."},{metric:"ALT (liver)",current:"74 U/L",target:"<44 U/L",how:"Zero alcohol, monitor."},{metric:"Fasting Glucose",current:"103 mg/dL",target:"<100 mg/dL",how:"Carb timing + weight loss."},{metric:"HDL",current:"41 mg/dL",target:"50+ mg/dL",how:"Walking 10k steps + omega-3s."},{metric:"PHQ-9",current:"12",target:"<10",how:"Training + sleep + D + folate."},{metric:"Testosterone",current:"321 ng/dL",target:"400+ ng/dL",how:"Fix D, sleep, train heavy. Retest 6 mo."},{metric:"Training",current:"Inconsistent",target:"3x/wk + bonus",how:"Mon/Wed/Fri + Sat. Log every session."},{metric:"Steps",current:"TBD",target:"10,000/day",how:"Fasting morning walks + throughout day."},{metric:"Sleep",current:"Variable",target:"89 hrs/night",how:"10:30 PM  8:00 AM minimum."}],I5=new Date("2026-02-04"),x5=12;function nv(s){if(!s)return null;const t=String(s).match(/[\d.]+/);return t?parseFloat(t[0]):null}function D5(){const s=new Date,t=new Date(I5);t.setDate(t.getDate()+x5*7);const i=(t-s)/(1e3*60*60*24*7);return Math.max(1,Math.round(i*10)/10)}function M5(s,t,i){const a=nv(t),l=nv(i),c=(s||"").toLowerCase(),d=D5();if(a===null||l===null)return null;const p=Math.abs(a-l),v=a>l?"lose":"gain",_=Math.round(p/d*100)/100;if(c.includes("weight"))return p===0?" At target. Maintain with current training + diet.":`${v==="lose"?"Lose":"Gain"} ${p} lbs in ${d} wks  ~${_} lbs/wk. ${v==="lose"?"500 cal deficit/day = ~1 lb/wk. Strength train to preserve muscle.":"300500 cal surplus + progressive overload."}`;if(c.includes("waist"))return p===0?" At target. Maintain current routine.":`Lose ${p}" in ${d} wks  ~${Math.round(p/d*100)/100}"/wk. Core work + calorie deficit. Measure weekly same time.`;if(c.includes("vitamin d")||c.includes("vit d")){const S=l-a;return S<=0?" At or above target. Maintain 2,000 IU D3 daily.":`Raise ${S.toFixed(1)} ng/mL in ${d} wks. 5,000 IU D3 daily. Expect ~10 ng/mL rise per month at this dose. Retest at 3 months.`}if(c.includes("folate")){const S=l-a;return S<=0?" At target. Maintain methylfolate + greens.":`Raise ${S.toFixed(1)} ng/mL. Methylfolate 800mcg daily + dark leafy greens. Enhances Sertraline response. Retest at 3 months.`}if(c.includes("alt")||c.includes("liver"))return a<=l?" At or below target. Keep monitoring.":`Drop ${p} U/L in ${d} wks. Zero alcohol, reduce processed food, add NAC 600mg. Weight loss helps significantly. Retest at 3 months.`;if(c.includes("glucose")||c.includes("fasting"))return a<=l?" At or below target. Maintain current approach.":`Drop ${p} mg/dL. Limit carbs at dinner, walk after meals, target weight loss. Each 5 lbs lost  23 mg/dL drop.`;if(c.includes("hdl")){const S=l-a;return S<=0?" At or above target. Maintain activity + omega-3s.":`Raise ${S} mg/dL in ${d} wks. 10k steps daily + omega-3 fish oil 2g/day. Heavy training helps. Each 10 lbs lost  12 mg/dL HDL gain.`}if(c.includes("phq")||c.includes("depression"))return a<=l?" Below target score. Keep up current approach.":`Reduce score by ${p} pts. 3x/wk training = proven antidepressant effect. Fix Vitamin D + folate deficiency. Target: 10:30 PM sleep.`;if(c.includes("testosterone")||c.includes("test")){const S=l-a;return S<=0?" At or above target. Maintain lifestyle factors.":`Raise ${S} ng/dL. Fix Vitamin D (direct link), sleep 8-9 hrs, heavy compound lifts, reduce body fat. Retest at 6 months.`}return c.includes("step")?a>=l?" Hitting step target. Stay consistent.":`Build to ${i} with fasting AM walks + post-meal walks. Add 1,000 steps/wk until target.`:c.includes("sleep")?`Target ${i}. Bedtime stack: melatonin + magnesium + tart cherry at 10 PM. No screens after 9:30. Protect 9+ hrs before early days.`:c.includes("training")||c.includes("workout")?`Target ${i}. Mon/Wed/Fri lifting + Sat bonus. Log every session in Training tab. No skipping  consistency > perfection.`:p===0?" At target. Maintain current approach.":a>l?`Decrease by ${p} over ${d} wks  ~${_}/wk.`:`Increase by ${p} over ${d} wks  ~${_}/wk.`}const Mc={Monday:{title:"SJSU + Motus + Workout #1 (Chest & Arms)",blocks:[{time:"8:30 AM",activity:"Wake  Sertraline + Vitamin D + Methylfolate. Black coffee.",tag:"routine"},{time:"9:0010:00 AM",activity:"SJSU Class",tag:"school"},{time:"10:0011:30 AM",activity:"Take mom to work",tag:"personal"},{time:"11:30 AM",activity:"Break fast: Meal 1 (~500600 cal). Eggs + fruit + light carb.",tag:"meal"},{time:"12:004:00 PM",activity:"Motus  client calls, credit reviews, funding pipeline.",tag:"work"},{time:"4:004:30 PM",activity:"Transition: light snack, prep for class.",tag:"routine"},{time:"4:305:45 PM",activity:"SJSU Zoom Class (online).",tag:"school"},{time:"6:007:00 PM",activity:"WORKOUT #1: Chest & Arms",tag:"gym"},{time:"7:15 PM",activity:"Dinner Feast: Meal 2 (~1,3001,500 cal). Salmon/chicken + rice + broccoli.",tag:"meal"},{time:"8:0010:00 PM",activity:"Peak energy block: Motus tasks, client follow-ups. Meal 3 at 9:30.",tag:"work"},{time:"10:00 PM",activity:"Wind down  Melatonin + Magnesium + Tart Cherry.",tag:"routine"},{time:"10:30 PM",activity:"Lights out.",tag:"sleep"}]},Tuesday:{title:"SJSU + Motus + Team Meeting (12 PM)",blocks:[{time:"8:30 AM",activity:"Wake  Meds + Supplements. Black coffee.",tag:"routine"},{time:"9:0010:00 AM",activity:"Fasting morning: 10k steps walk, light admin.",tag:"cardio"},{time:"10:0011:30 AM",activity:"Take mom to work",tag:"personal"},{time:"11:30 AM",activity:"Break fast: Meal 1. Greek yogurt + granola + walnuts.",tag:"meal"},{time:"12:00 PM",activity:"MOTUS TEAM MEETING",tag:"work"},{time:"12:304:30 PM",activity:"Motus  action items, pipeline, credit reports.",tag:"work"},{time:"4:305:30 PM",activity:"REST DAY. Walk for steps. Eat dinner early before class.",tag:"rest"},{time:"5:30 PM",activity:"Dinner Feast: Meal 2. Chicken thighs + sweet potato + spinach.",tag:"meal"},{time:"6:007:45 PM",activity:"SJSU Zoom Class (online).",tag:"school"},{time:"8:0010:00 PM",activity:"Peak energy: Motus strategy. Meal 3 at 9:30.",tag:"work"},{time:"10:00 PM",activity:"Wind down.",tag:"routine"},{time:"10:30 PM",activity:"Sleep.",tag:"sleep"}]},Wednesday:{title:"SJSU + Motus + Workout #2 (Legs & Traps)",blocks:[{time:"8:30 AM",activity:"Wake  Meds + Supplements. Black coffee.",tag:"routine"},{time:"9:0010:00 AM",activity:"Fasting morning: walk, light study, school assignments.",tag:"cardio"},{time:"10:0011:30 AM",activity:"Take mom to work",tag:"personal"},{time:"11:30 AM",activity:"Break fast: Meal 1. Turkey + black bean bowl.",tag:"meal"},{time:"12:004:00 PM",activity:"Motus  deep work block, client calls.",tag:"work"},{time:"4:004:30 PM",activity:"Transition: light snack, hydrate extra, prep for class.",tag:"routine"},{time:"4:305:45 PM",activity:"SJSU Zoom Class (online).",tag:"school"},{time:"6:007:00 PM",activity:"WORKOUT #2: Legs & Traps. Hydrate extra (polycythemia).",tag:"gym"},{time:"7:15 PM",activity:"Dinner Feast: Meal 2. Stir-fry chicken + brown rice + bok choy.",tag:"meal"},{time:"8:0010:00 PM",activity:"Peak energy block. Meal 3 at 9:30.",tag:"work"},{time:"10:00 PM",activity:"Wind down.",tag:"routine"},{time:"10:30 PM",activity:"Sleep.",tag:"sleep"}]},Thursday:{title:"Motus + Rest Day",blocks:[{time:"8:30 AM",activity:"Wake  Meds + Supplements. Black coffee.",tag:"routine"},{time:"9:0010:00 AM",activity:"Fasting morning: walk, admin, school prep.",tag:"cardio"},{time:"10:0011:30 AM",activity:"Take mom to work",tag:"personal"},{time:"11:30 AM",activity:"Break fast: Meal 1. Eggs + avocado toast + mixed greens.",tag:"meal"},{time:"12:004:30 PM",activity:"Motus  client calls, pipeline, credit work.",tag:"work"},{time:"4:305:30 PM",activity:"REST DAY. Walk for steps. Foam roll if sore.",tag:"rest"},{time:"6:00 PM",activity:"Dinner Feast: Meal 2. Beef (1/2x wk) + roasted potatoes + asparagus.",tag:"meal"},{time:"7:0010:00 PM",activity:"Peak energy: Motus strategy, school assignments. Meal 3 at 9:30.",tag:"work"},{time:"10:00 PM",activity:"Wind down.",tag:"routine"},{time:"10:30 PM",activity:"Sleep.",tag:"sleep"}]},Friday:{title:"Motus + Weekly Sync (3 PM) + Workout #3 (Shoulders & Back)",blocks:[{time:"8:30 AM",activity:"Wake  Meds + Supplements. Black coffee.",tag:"routine"},{time:"9:0010:00 AM",activity:"Fasting morning: walk, prep for sync.",tag:"cardio"},{time:"10:0011:30 AM",activity:"Take mom to work",tag:"personal"},{time:"11:30 AM",activity:"Break fast: Meal 1. Smoked salmon + cream cheese + toast.",tag:"meal"},{time:"12:002:45 PM",activity:"Motus  wrap-up tasks, prep sync agenda.",tag:"work"},{time:"3:00 PM",activity:"MOTUS WEEKLY SYNC MEETING",tag:"work"},{time:"3:305:00 PM",activity:"Post-sync wrap-up, planning next week.",tag:"work"},{time:"5:306:30 PM",activity:"WORKOUT #3: Shoulders & Back",tag:"gym"},{time:"6:45 PM",activity:"Dinner Feast: Meal 2. Fish tacos + avocado + black beans.",tag:"meal"},{time:"7:3010:00 PM",activity:"Flex: lighter work or social time. Meal 3 at 9:30.",tag:"work"},{time:"10:00 PM",activity:"Wind down.",tag:"routine"},{time:"10:30 PM",activity:"Sleep.",tag:"sleep"}]},Saturday:{title:"Workout #4 (Bonus) + Recovery + Life",blocks:[{time:"9:00 AM",activity:"Wake (sleep in  9+ hrs). Meds + Supplements.",tag:"routine"},{time:"9:30 AM",activity:"Black coffee. Fasting holds if comfortable.",tag:"routine"},{time:"10:0011:30 AM",activity:"Take mom to work",tag:"personal"},{time:"11:30 AM",activity:"Break fast: Meal 1. Loaded breakfast  eggs, veggies, avocado.",tag:"meal"},{time:"12:001:00 PM",activity:"WORKOUT #4: Bonus (core + neck + posterior chain)",tag:"gym"},{time:"1:30 PM",activity:"Post-workout shake or Meal 2.",tag:"meal"},{time:"2:005:00 PM",activity:"Meal prep, errands, pho restaurant, personal time.",tag:"personal"},{time:"6:00 PM",activity:"Dinner Feast. Grilled chicken + quinoa + Brussels sprouts.",tag:"meal"},{time:"7:0010:00 PM",activity:"Social time, relaxation, no heavy work.",tag:"personal"},{time:"10:00 PM",activity:"Wind down.",tag:"routine"},{time:"10:30 PM",activity:"Sleep.",tag:"sleep"}]},Sunday:{title:"Full Rest + Prep + Reset",blocks:[{time:"9:00 AM",activity:"Wake  Meds + Supplements.",tag:"routine"},{time:"9:30 AM",activity:"Black coffee. Fasting morning.",tag:"routine"},{time:"10:0011:30 AM",activity:"Take mom to work",tag:"personal"},{time:"11:30 AM",activity:"Break fast: Meal 1. Overnight oats + protein + berries.",tag:"meal"},{time:"12:001:00 PM",activity:"Active recovery: walk, light stretching, foam roll.",tag:"rest"},{time:"1:003:00 PM",activity:"Meal prep for the week + grocery run.",tag:"personal"},{time:"3:005:00 PM",activity:"Week planning: calendar, Motus priorities, school prep.",tag:"work"},{time:"5:30 PM",activity:"Dinner Feast. Turkey burger + sweet potato fries + salad.",tag:"meal"},{time:"7:009:00 PM",activity:"Personal time, wind down mode. Meal 3 at 9:00.",tag:"personal"},{time:"10:00 PM",activity:"Melatonin + Magnesium + Tart Cherry.",tag:"routine"},{time:"10:30 PM",activity:"Sleep  protect 9+ hrs before Monday class.",tag:"sleep"}]}},ml={"Workout #1  Chest & Arms":{day:"Monday",note:"Shoulder-specific warmup: Band pull-aparts, face pulls, external rotations BEFORE pressing.",phases:{"Version A (Strength  12 Weeks)":[{exercise:"Incline Bench Press",sets:"3 RPT (4-6, 6-8, 8-10)",method:"RPT",rest:"3 min",notes:"WARMUP: 60%6, 75%4, 90%1-2"},{exercise:"Flat Bench / Weighted Dips",sets:"2 RPT (6-8, 8-10)",method:"RPT",rest:"3 min",notes:"Skip dips if shoulder flares."},{exercise:"Bicep Curls",sets:"3 RPT (4-6, 6-8, 6-8)",method:"RPT",rest:"2 min",notes:"Heaviest set first, drop 10%."},{exercise:"Triceps (Skull Crushers)",sets:"3 RPT (6-8, 8-10, 8-10)",method:"RPT",rest:"2 min",notes:""},{exercise:"Face Pulls / Bent Over Flyes",sets:"12-15 + 3(4-6)",method:"Rest Pause",rest:"10-15s",notes:"Rear delt health."}],"Version B (Shrink Wrap  4 Weeks)":[{exercise:"Incline DB Bench",sets:"3 RPT (6-8, 8-10, 8-10)",method:"RPT",rest:"3 min",notes:"Same warmup."},{exercise:"Machine Bench / Pushups",sets:"4  8-12",method:"Straight",rest:"45 sec",notes:"Pump focus."},{exercise:"Machine / Concentration Curls",sets:"5  6-8",method:"Straight",rest:"45 sec",notes:"High volume."},{exercise:"Tricep Pushdowns",sets:"5  8-10",method:"Straight",rest:"1 min",notes:""},{exercise:"Bent Over Flyes",sets:"12-15 + 3(4-6)",method:"Rest Pause",rest:"10-15s",notes:""}]}},"Workout #2  Legs & Traps":{day:"Wednesday",note:"Front Squats & Bulgarian Splits safer for low back. RDLs fine  don't round. Skip if gout flares.",phases:{"Version A (Strength  12 Weeks)":[{exercise:"Front Squats / BSS",sets:"4  6-8",method:"Kino Rep",rest:"2 min (3 last)",notes:"Start light, add each set."},{exercise:"RDLs / Nordic Curls",sets:"3  10-12",method:"Straight",rest:"2 min",notes:"Hinge > pull from floor."},{exercise:"Leg Extensions / Sissy Squats",sets:"3  8-12",method:"Straight",rest:"2 min",notes:"Same weight."},{exercise:"Calf Raises",sets:"3  12-15",method:"Straight",rest:"2 min",notes:"Full ROM, pause at bottom."},{exercise:"Trap Bar Shrugs",sets:"3  10-12",method:"Kino Rep",rest:"2 min",notes:"Start light, increase."}],"Version B (Shrink Wrap  4 Weeks)":[{exercise:"Step Ups",sets:"4  8-12",method:"Kino Rep",rest:"2 min",notes:""},{exercise:"RDLs",sets:"4  8-12",method:"Kino Rep",rest:"2 min",notes:""},{exercise:"ATG Split Squats",sets:"4  8-12",method:"Kino Rep",rest:"2 min",notes:""},{exercise:"Seated Calf Raises",sets:"4  12-15",method:"Straight",rest:"2 min",notes:""},{exercise:"Cable Shrugs",sets:"4  10-12",method:"Kino Rep",rest:"2 min",notes:""}]}},"Workout #3  Shoulders & Back":{day:"Friday",note:"If overhead pressing causes shoulder pain, sub landmine press or high incline DB press.",phases:{"Version A (Strength  12 Weeks)":[{exercise:"Standing Press / DB Press",sets:"3 RPT (4-6, 6-8, 8-10)",method:"RPT",rest:"3 min",notes:"WARMUP: 60%6, 75%4, 90%1-2"},{exercise:"Weighted Pull-ups / Rows",sets:"2 RPT (5, 6) or 48-10",method:"RPT/Kino",rest:"3 min",notes:"Rows if pull-ups not tolerated."},{exercise:"Side-to-Side Push Ups / Flyes",sets:"3  6-8/side",method:"Straight",rest:"2 min",notes:""},{exercise:"Hammer / Rope Curls",sets:"3  8-12",method:"Straight",rest:"2 min",notes:""},{exercise:"Lateral Raises",sets:"12-15 + 3(4-6)",method:"Rest Pause",rest:"10-15s",notes:"Key for shoulder width."}],"Version B (Shrink Wrap  4 Weeks)":[{exercise:"DB Shoulder Press",sets:"2 RPT (6-8, 8-10)",method:"RPT",rest:"3 min",notes:"Superset w/ Arnold Press."},{exercise:"Weighted Pull-ups",sets:"2 RPT (6, 8)",method:"RPT",rest:"3 min",notes:"Superset w/ Sternum Pull-ups."},{exercise:"Incline Press Flye",sets:"4  8-10",method:"Straight",rest:"45 sec",notes:""},{exercise:"Hammer Rope Curls",sets:"4  8-12",method:"Straight",rest:"45 sec",notes:""},{exercise:"Lateral Raises",sets:"12-15 + 3(4-6)",method:"Rest Pause",rest:"10-15s",notes:""}]}},"Workout #4  Bonus (Saturday)":{day:"Saturday",note:"Core, neck, posterior chain. 1-Leg Back Extension critical for low back health.",phases:{"All Phases":[{exercise:"Hanging Knee Raises",sets:"3  8-12",method:"Straight",rest:"2 min",notes:"Add weight when easy."},{exercise:"Ab Wheel Rollout",sets:"3  10-15",method:"Straight",rest:"2 min",notes:"Core stability."},{exercise:"1-Leg Back Ext / Hip Thrust",sets:"3  10-15",method:"Straight",rest:"2 min",notes:"Key for low back."},{exercise:"Neck Curls",sets:"3  15-20",method:"Straight",rest:"1 min",notes:"Add weight slowly."},{exercise:"Reverse Neck Curls",sets:"3  15-20",method:"Straight",rest:"1 min",notes:""}]}}},iv=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],rv={routine:{bg:"#1a1a2e",border:"#334155",text:"#94a3b8"},school:{bg:"#172554",border:"#1d4ed8",text:"#60a5fa"},personal:{bg:"#1c1917",border:"#78716c",text:"#a8a29e"},meal:{bg:"#052e16",border:"#15803d",text:"#4ade80"},work:{bg:"#2a1800",border:"#c2410c",text:"#fb923c"},gym:{bg:"#3b0764",border:"#9333ea",text:"#c084fc"},cardio:{bg:"#042f2e",border:"#0d9488",text:"#2dd4bf"},rest:{bg:"#1e1b4b",border:"#6366f1",text:"#a5b4fc"},sleep:{bg:"#0c0a09",border:"#44403c",text:"#78716c"}},ng="sonny_plan_v3";function sv(){try{const s=localStorage.getItem(ng);if(s)return JSON.parse(s)}catch{}return null}function O5(s){try{localStorage.setItem(ng,JSON.stringify(s))}catch{}}async function N5(s){try{const t=m1(w1,"users",s),i=await T5(t);if(i.exists())return i.data()}catch(t){console.error("Error loading cloud data:",t)}return null}async function V5(s,t){try{const i=m1(w1,"users",s);await E5(i,{...t,updatedAt:new Date().toISOString()})}catch(i){console.error("Error saving cloud data:",i)}}function be({value:s,onChange:t,multiline:i,className:a=""}){const[l,c]=oe.useState(!1),[d,p]=oe.useState(s),v=oe.useRef(null);if(oe.useEffect(()=>{p(s)},[s]),oe.useEffect(()=>{l&&v.current&&v.current.focus()},[l]),l){const _=i?"textarea":"input";return R.jsx(_,{ref:v,value:d,onChange:S=>p(S.target.value),onBlur:()=>{c(!1),d!==s&&t(d)},onKeyDown:S=>{S.key==="Enter"&&!i&&(c(!1),d!==s&&t(d)),S.key==="Escape"&&(c(!1),p(s))},className:a,style:{background:"rgba(255,255,255,0.06)",border:"1px solid rgba(255,255,255,0.15)",borderRadius:4,color:"#e2e8f0",padding:"4px 8px",fontSize:"inherit",fontFamily:"inherit",width:"100%",resize:i?"vertical":"none",minHeight:i?60:"auto",outline:"none"}})}return R.jsx("span",{onClick:()=>c(!0),style:{cursor:"pointer",borderBottom:"1px dashed rgba(255,255,255,0.1)",transition:"border-color 0.2s"},onMouseEnter:_=>_.target.style.borderBottomColor="rgba(255,255,255,0.3)",onMouseLeave:_=>_.target.style.borderBottomColor="rgba(255,255,255,0.1)",title:"Click to edit",children:s||""})}function k5({status:s}){const t=(s||"").toUpperCase();let i="#4ade80";return t.includes("HIGH")||t.includes("DEFICIENT")?i="#ef4444":(t.includes("BORDERLINE")||t.includes("WATCH")||t.includes("LOW"))&&(i="#f59e0b"),R.jsx("span",{style:{display:"inline-block",padding:"2px 10px",borderRadius:999,fontSize:11,fontWeight:700,letterSpacing:"0.5px",background:i+"18",color:i,border:`1px solid ${i}44`},children:s})}function L5({tag:s}){const t=rv[s]||rv.routine;return R.jsx("span",{style:{display:"inline-block",padding:"1px 8px",borderRadius:4,fontSize:10,fontWeight:600,letterSpacing:"0.5px",textTransform:"uppercase",background:t.bg,color:t.text,border:`1px solid ${t.border}`},children:s})}function P5(){const[s,t]=oe.useState(null),[i,a]=oe.useState(!0),[l,c]=oe.useState(!1),[d,p]=oe.useState("schedule"),[v,_]=oe.useState(Rc),[S,A]=oe.useState(Cc),[V,Y]=oe.useState(Ic),[et,rt]=oe.useState(xc),[st,ft]=oe.useState(Dc),[Tt,mt]=oe.useState(dl),[Bt,Xt]=oe.useState(Mc),[wt,I]=oe.useState(ml),[b,x]=oe.useState(()=>iv[new Date().getDay()===0?6:new Date().getDay()-1]),[N,M]=oe.useState(Object.keys(ml)[0]),[L,w]=oe.useState("Version A (Strength  12 Weeks)"),[ee,he]=oe.useState({}),[G,nt]=oe.useState(!1),[ct,Dt]=oe.useState(""),[Vt,O]=oe.useState([]);oe.useEffect(()=>{const P=LA(jd,async J=>{if(t(J),J){c(!0);const H=await N5(J.uid);if(H)_(H.profile||Rc),A(H.meds||Cc),Y(H.supps||Ic),rt(H.conditions||xc),ft(H.labs||Dc),mt(H.targets||dl),Xt(H.schedule||Mc),I(H.workouts||ml),he(H.workoutLogs||{}),Dt(H.notes||"");else{const Rt=sv();Rt&&(_(Rt.profile||Rc),A(Rt.meds||Cc),Y(Rt.supps||Ic),rt(Rt.conditions||xc),ft(Rt.labs||Dc),mt(Rt.targets||dl),Xt(Rt.schedule||Mc),I(Rt.workouts||ml),he(Rt.workoutLogs||{}),Dt(Rt.notes||""))}c(!1)}else{const H=sv();H&&(_(H.profile||Rc),A(H.meds||Cc),Y(H.supps||Ic),rt(H.conditions||xc),ft(H.labs||Dc),mt(H.targets||dl),Xt(H.schedule||Mc),I(H.workouts||ml),he(H.workoutLogs||{}),Dt(H.notes||""))}a(!1)});return()=>P()},[]),oe.useEffect(()=>{if(i)return;const P={profile:v,meds:S,supps:V,conditions:et,labs:st,targets:Tt,schedule:Bt,workouts:wt,workoutLogs:ee,notes:ct},J=setTimeout(()=>{O5(P),s&&V5(s.uid,P)},500);return()=>clearTimeout(J)},[v,S,V,et,st,Tt,Bt,wt,ee,ct,s,i]);const X=async()=>{try{await i2(jd,C5)}catch(P){console.error("Sign in error:",P)}},it=async()=>{try{await PA(jd)}catch(P){console.error("Sign out error:",P)}},at=(P,J)=>_(H=>({...H,[P]:J})),pt=(P,J,H)=>A(Rt=>Rt.map((Qt,ke)=>ke===P?{...Qt,[J]:H}:Qt)),Et=(P,J,H)=>Y(Rt=>Rt.map((Qt,ke)=>ke===P?{...Qt,[J]:H}:Qt)),Mt=(P,J,H)=>rt(Rt=>Rt.map((Qt,ke)=>ke===P?{...Qt,[J]:H}:Qt)),me=(P,J,H)=>ft(Rt=>Rt.map((Qt,ke)=>ke===P?{...Qt,[J]:H}:Qt)),Wt=(P,J,H)=>{mt(Rt=>Rt.map((Qt,ke)=>{if(ke!==P)return Qt;const Jt={...Qt,[J]:H};if(J==="current"||J==="target"||J==="metric"){const oi=M5(Jt.metric,Jt.current,Jt.target);oi&&(Jt.how=oi,Jt._autoHow=!0)}return J==="how"&&(Jt._autoHow=!1),Jt}))},ai=(P,J,H,Rt)=>{Xt(Qt=>({...Qt,[P]:{...Qt[P],blocks:Qt[P].blocks.map((ke,Jt)=>Jt===J?{...ke,[H]:Rt}:ke)}}))},An=(P,J)=>P(H=>[...H,J]),Hn=(P,J)=>P(H=>H.filter((Rt,Qt)=>Qt!==J)),fr=P=>{O(J=>[...J,{type:"remove",index:P,item:Tt[P]}]),mt(J=>J.filter((H,Rt)=>Rt!==P))},wn=()=>{if(Vt.length===0)return;const P=Vt[Vt.length-1];O(J=>J.slice(0,-1)),P.type==="remove"?mt(J=>{const H=[...J];return H.splice(P.index,0,P.item),H}):P.type==="reset"&&mt(P.previous)},os=()=>{O(P=>[...P,{type:"reset",previous:[...Tt]}]),mt(dl)},Pi=[{id:"schedule",label:"Schedule",icon:""},{id:"workouts",label:"Training",icon:""},{id:"health",label:"Health",icon:""},{id:"nutrition",label:"Nutrition",icon:""},{id:"targets",label:"90-Day",icon:""}],ls=new Date().getDay()===0?6:new Date().getDay()-1;return i?R.jsx("div",{style:{minHeight:"100vh",background:"#09090b",color:"#e2e8f0",display:"flex",alignItems:"center",justifyContent:"center",fontFamily:"'DM Sans', 'Helvetica Neue', sans-serif"},children:R.jsxs("div",{style:{textAlign:"center"},children:[R.jsx("div",{style:{fontSize:24,fontWeight:700,marginBottom:8},children:"Performance Platform"}),R.jsx("div",{style:{fontSize:14,color:"#64748b"},children:"Loading..."})]})}):R.jsxs("div",{style:{minHeight:"100vh",background:"#09090b",color:"#e2e8f0",fontFamily:"'DM Sans', 'Helvetica Neue', sans-serif"},children:[R.jsx("link",{href:"https://fonts.googleapis.com/css2?family=DM+Sans:wght@300;400;500;600;700&family=JetBrains+Mono:wght@400;500;600&display=swap",rel:"stylesheet"}),R.jsx("div",{style:{background:"linear-gradient(180deg, #0f0f13 0%, #09090b 100%)",borderBottom:"1px solid rgba(255,255,255,0.06)",padding:"20px 24px 0",position:"sticky",top:0,zIndex:100},children:R.jsxs("div",{style:{maxWidth:1100,margin:"0 auto"},children:[R.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:16},children:[R.jsxs("div",{children:[R.jsxs("div",{style:{display:"flex",alignItems:"center",gap:10},children:[R.jsx("div",{style:{width:8,height:8,borderRadius:"50%",background:"#4ade80",boxShadow:"0 0 8px #4ade8066"}}),R.jsx("h1",{style:{margin:0,fontSize:20,fontWeight:700,letterSpacing:"-0.5px",fontFamily:"'JetBrains Mono', monospace"},children:v.name})]}),R.jsxs("p",{style:{margin:"4px 0 0 18px",fontSize:12,color:"#64748b",fontWeight:500},children:["Weekly Performance Plan v3.0  ",v.program]})]}),R.jsxs("div",{style:{display:"flex",gap:8,alignItems:"center"},children:[l&&R.jsx("span",{style:{fontSize:11,color:"#60a5fa"},children:"Syncing..."}),s?R.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8},children:[R.jsxs("div",{style:{display:"flex",alignItems:"center",gap:6,background:"rgba(74,222,128,0.1)",border:"1px solid rgba(74,222,128,0.2)",borderRadius:8,padding:"4px 10px"},children:[R.jsx("div",{style:{width:6,height:6,borderRadius:"50%",background:"#4ade80"}}),R.jsx("span",{style:{fontSize:11,color:"#4ade80",fontWeight:500},children:"Synced"})]}),R.jsx("button",{onClick:it,style:{background:"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.08)",color:"#94a3b8",borderRadius:8,padding:"6px 12px",fontSize:12,cursor:"pointer",fontWeight:500},children:"Sign Out"})]}):R.jsx("button",{onClick:X,style:{background:"rgba(96,165,250,0.15)",border:"1px solid rgba(96,165,250,0.3)",color:"#60a5fa",borderRadius:8,padding:"6px 12px",fontSize:12,cursor:"pointer",fontWeight:600},children:"Sign In to Sync"}),R.jsx("button",{onClick:()=>nt(!G),style:{background:G?"rgba(251,191,36,0.15)":"rgba(255,255,255,0.05)",border:`1px solid ${G?"#fbbf2444":"rgba(255,255,255,0.08)"}`,color:G?"#fbbf24":"#94a3b8",borderRadius:8,padding:"6px 12px",fontSize:12,cursor:"pointer",fontWeight:600,transition:"all 0.2s"},children:" Notes"}),R.jsx("button",{onClick:()=>{confirm("Reset all data to defaults?")&&(localStorage.removeItem(ng),location.reload())},style:{background:"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.08)",color:"#64748b",borderRadius:8,padding:"6px 12px",fontSize:12,cursor:"pointer",fontWeight:500},children:" Reset"})]})]}),R.jsx("div",{style:{display:"flex",gap:2},children:Pi.map(P=>R.jsxs("button",{onClick:()=>p(P.id),style:{padding:"10px 18px",background:d===P.id?"rgba(255,255,255,0.06)":"transparent",border:"none",borderBottom:d===P.id?"2px solid #e2e8f0":"2px solid transparent",color:d===P.id?"#e2e8f0":"#64748b",fontSize:13,fontWeight:d===P.id?600:500,cursor:"pointer",transition:"all 0.2s",borderRadius:"8px 8px 0 0"},children:[R.jsx("span",{style:{marginRight:6},children:P.icon}),P.label]},P.id))})]})}),G&&R.jsx("div",{style:{maxWidth:1100,margin:"16px auto",padding:"0 24px"},children:R.jsxs("div",{style:{background:"rgba(251,191,36,0.05)",border:"1px solid rgba(251,191,36,0.15)",borderRadius:12,padding:16},children:[R.jsx("div",{style:{fontSize:12,fontWeight:600,color:"#fbbf24",marginBottom:8},children:" Quick Notes"}),R.jsx("textarea",{value:ct,onChange:P=>Dt(P.target.value),placeholder:"Jot down anything  thoughts, adjustments, reminders...",style:{width:"100%",minHeight:80,background:"rgba(0,0,0,0.3)",border:"1px solid rgba(255,255,255,0.08)",borderRadius:8,color:"#e2e8f0",padding:12,fontSize:13,fontFamily:"inherit",resize:"vertical",outline:"none"}})]})}),R.jsxs("div",{style:{maxWidth:1100,margin:"0 auto",padding:"20px 24px 60px"},children:[d==="schedule"&&R.jsxs("div",{children:[R.jsx("div",{style:{display:"flex",gap:6,marginBottom:20,flexWrap:"wrap"},children:iv.map((P,J)=>{const H=J===ls,Rt=P===b,Qt=Bt[P]?.blocks?.some(Jt=>Jt.tag==="gym"),ke=Bt[P]?.blocks?.some(Jt=>Jt.tag==="school");return R.jsxs("button",{onClick:()=>x(P),style:{flex:1,minWidth:90,padding:"10px 8px",background:Rt?"rgba(255,255,255,0.08)":"rgba(255,255,255,0.02)",border:Rt?"1px solid rgba(255,255,255,0.2)":"1px solid rgba(255,255,255,0.05)",borderRadius:10,cursor:"pointer",transition:"all 0.2s",position:"relative"},children:[R.jsx("div",{style:{fontSize:12,fontWeight:700,color:Rt?"#e2e8f0":"#64748b",letterSpacing:"0.5px"},children:P.slice(0,3).toUpperCase()}),R.jsxs("div",{style:{display:"flex",gap:3,justifyContent:"center",marginTop:4},children:[Qt&&R.jsx("span",{style:{width:6,height:6,borderRadius:"50%",background:"#c084fc"}}),ke&&R.jsx("span",{style:{width:6,height:6,borderRadius:"50%",background:"#60a5fa"}})]}),H&&R.jsx("div",{style:{position:"absolute",top:-4,right:-4,width:8,height:8,borderRadius:"50%",background:"#4ade80",boxShadow:"0 0 6px #4ade8066"}})]},P)})}),R.jsxs("div",{style:{background:"rgba(255,255,255,0.02)",border:"1px solid rgba(255,255,255,0.06)",borderRadius:14,overflow:"hidden"},children:[R.jsxs("div",{style:{padding:"16px 20px",borderBottom:"1px solid rgba(255,255,255,0.06)",background:"rgba(255,255,255,0.02)"},children:[R.jsx("div",{style:{fontSize:11,color:"#64748b",fontWeight:600,letterSpacing:"1px",textTransform:"uppercase"},children:b}),R.jsx("div",{style:{fontSize:15,fontWeight:600,marginTop:4},children:Bt[b]?.title})]}),R.jsx("div",{style:{padding:"8px 0"},children:Bt[b]?.blocks?.map((P,J)=>R.jsxs("div",{style:{display:"grid",gridTemplateColumns:"130px 1fr 70px 28px",alignItems:"center",gap:12,padding:"10px 20px",borderBottom:J<Bt[b].blocks.length-1?"1px solid rgba(255,255,255,0.03)":"none",transition:"background 0.15s"},onMouseEnter:H=>H.currentTarget.style.background="rgba(255,255,255,0.02)",onMouseLeave:H=>H.currentTarget.style.background="transparent",children:[R.jsx("div",{style:{fontFamily:"'JetBrains Mono', monospace",fontSize:12,color:"#94a3b8",fontWeight:500},children:R.jsx(be,{value:P.time,onChange:H=>ai(b,J,"time",H)})}),R.jsx("div",{style:{fontSize:13},children:R.jsx(be,{value:P.activity,onChange:H=>ai(b,J,"activity",H)})}),R.jsx(L5,{tag:P.tag}),R.jsx("button",{onClick:()=>{Xt(H=>({...H,[b]:{...H[b],blocks:H[b].blocks.filter((Rt,Qt)=>Qt!==J)}}))},style:{background:"none",border:"none",color:"#ef444466",cursor:"pointer",fontSize:14,padding:0,lineHeight:1,opacity:.4,transition:"opacity 0.2s"},onMouseEnter:H=>H.target.style.opacity=1,onMouseLeave:H=>H.target.style.opacity=.4,title:"Remove block",children:""})]},J))}),R.jsx("div",{style:{padding:"12px 20px",borderTop:"1px solid rgba(255,255,255,0.04)"},children:R.jsx("button",{onClick:()=>{Xt(P=>({...P,[b]:{...P[b],blocks:[...P[b].blocks,{time:"",activity:"New block",tag:"routine"}]}}))},style:{background:"rgba(255,255,255,0.04)",border:"1px dashed rgba(255,255,255,0.1)",color:"#64748b",borderRadius:8,padding:"8px 16px",fontSize:12,cursor:"pointer",fontWeight:500,width:"100%",transition:"all 0.2s"},children:"+ Add block"})})]})]}),d==="workouts"&&R.jsxs("div",{children:[R.jsx("div",{style:{display:"flex",gap:6,marginBottom:16,flexWrap:"wrap"},children:Object.keys(wt).map(P=>R.jsx("button",{onClick:()=>{M(P),w(Object.keys(wt[P].phases)[0])},style:{padding:"8px 14px",background:P===N?"#c084fc18":"rgba(255,255,255,0.02)",border:P===N?"1px solid #9333ea44":"1px solid rgba(255,255,255,0.05)",color:P===N?"#c084fc":"#64748b",borderRadius:8,fontSize:12,fontWeight:600,cursor:"pointer",transition:"all 0.2s"},children:P},P))}),wt[N]&&R.jsxs("div",{style:{background:"rgba(255,255,255,0.02)",border:"1px solid rgba(255,255,255,0.06)",borderRadius:14,overflow:"hidden"},children:[R.jsxs("div",{style:{padding:"16px 20px",borderBottom:"1px solid rgba(255,255,255,0.06)",background:"rgba(147,51,234,0.04)"},children:[R.jsx("div",{style:{fontSize:15,fontWeight:700},children:N}),R.jsxs("div",{style:{fontSize:12,color:"#94a3b8",marginTop:4},children:[wt[N].day,"  ",wt[N].note]})]}),R.jsx("div",{style:{display:"flex",gap:4,padding:"12px 20px",borderBottom:"1px solid rgba(255,255,255,0.04)"},children:Object.keys(wt[N].phases).map(P=>R.jsx("button",{onClick:()=>w(P),style:{padding:"6px 12px",background:P===L?"rgba(255,255,255,0.08)":"transparent",border:P===L?"1px solid rgba(255,255,255,0.15)":"1px solid transparent",color:P===L?"#e2e8f0":"#64748b",borderRadius:6,fontSize:11,fontWeight:600,cursor:"pointer"},children:P},P))}),R.jsx("div",{style:{overflowX:"auto"},children:R.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[R.jsx("thead",{children:R.jsx("tr",{style:{borderBottom:"1px solid rgba(255,255,255,0.06)"},children:["Exercise","Sets  Reps","Method","Rest","Notes","Weight Log"].map(P=>R.jsx("th",{style:{padding:"10px 16px",textAlign:"left",fontSize:10,fontWeight:700,letterSpacing:"1px",color:"#64748b",textTransform:"uppercase"},children:P},P))})}),R.jsx("tbody",{children:(wt[N].phases[L]||[]).map((P,J)=>{const H=`${N}|${L}|${P.exercise}`;return R.jsxs("tr",{style:{borderBottom:"1px solid rgba(255,255,255,0.03)"},children:[R.jsx("td",{style:{padding:"10px 16px",fontSize:13,fontWeight:500},children:P.exercise}),R.jsx("td",{style:{padding:"10px 16px",fontSize:13,fontFamily:"'JetBrains Mono', monospace",color:"#94a3b8"},children:P.sets}),R.jsx("td",{style:{padding:"10px 16px"},children:R.jsx("span",{style:{display:"inline-block",padding:"2px 8px",borderRadius:4,fontSize:10,fontWeight:700,letterSpacing:"0.5px",background:P.method==="RPT"?"#c084fc18":P.method==="Kino Rep"?"#4ade8018":"#f59e0b18",color:P.method==="RPT"?"#c084fc":P.method==="Kino Rep"?"#4ade80":"#f59e0b",border:`1px solid ${P.method==="RPT"?"#9333ea44":P.method==="Kino Rep"?"#15803d44":"#d9770644"}`},children:P.method})}),R.jsx("td",{style:{padding:"10px 16px",fontSize:12,color:"#64748b"},children:P.rest}),R.jsx("td",{style:{padding:"10px 16px",fontSize:12,color:"#94a3b8"},children:P.notes}),R.jsx("td",{style:{padding:"10px 16px"},children:R.jsx("input",{value:ee[H]||"",onChange:Rt=>he(Qt=>({...Qt,[H]:Rt.target.value})),placeholder:"e.g. 1856",style:{background:"rgba(255,255,255,0.04)",border:"1px solid rgba(255,255,255,0.08)",borderRadius:6,padding:"4px 8px",color:"#4ade80",fontSize:12,fontFamily:"'JetBrains Mono', monospace",width:90,outline:"none"}})})]},J)})})]})}),R.jsxs("div",{style:{padding:"16px 20px",borderTop:"1px solid rgba(255,255,255,0.06)",background:"rgba(255,255,255,0.015)"},children:[R.jsx("div",{style:{fontSize:11,fontWeight:700,color:"#64748b",letterSpacing:"1px",marginBottom:8},children:"PROGRESSION"}),R.jsxs("div",{style:{fontSize:12,color:"#94a3b8",lineHeight:1.6},children:[R.jsx("strong",{style:{color:"#c084fc"},children:"RPT:"})," Hit top of rep range on heaviest set  add weight next session."," ",R.jsx("strong",{style:{color:"#4ade80"},children:"Kino Rep:"})," Hit top reps on LAST set  increase that set's weight."," ",R.jsx("strong",{style:{color:"#f59e0b"},children:"Rest Pause:"})," Total reps exceed target  add 5 lbs."]})]})]})]}),d==="health"&&R.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:20},children:[R.jsxs("div",{style:{background:"rgba(255,255,255,0.02)",border:"1px solid rgba(255,255,255,0.06)",borderRadius:14,overflow:"hidden"},children:[R.jsx("div",{style:{padding:"14px 20px",borderBottom:"1px solid rgba(255,255,255,0.06)",background:"rgba(255,255,255,0.02)"},children:R.jsx("span",{style:{fontSize:13,fontWeight:700,letterSpacing:"0.5px"},children:"Profile"})}),R.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(220px, 1fr))",gap:0},children:Object.entries(v).map(([P,J])=>R.jsxs("div",{style:{padding:"10px 20px",borderBottom:"1px solid rgba(255,255,255,0.03)"},children:[R.jsx("div",{style:{fontSize:10,fontWeight:600,color:"#64748b",letterSpacing:"0.5px",textTransform:"uppercase",marginBottom:2},children:P.replace(/([A-Z])/g," $1")}),R.jsx(be,{value:J,onChange:H=>at(P,H)})]},P))})]}),R.jsxs("div",{style:{background:"rgba(255,255,255,0.02)",border:"1px solid rgba(255,255,255,0.06)",borderRadius:14,overflow:"hidden"},children:[R.jsxs("div",{style:{padding:"14px 20px",borderBottom:"1px solid rgba(255,255,255,0.06)",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[R.jsx("span",{style:{fontSize:13,fontWeight:700},children:"Health Conditions"}),R.jsx("button",{onClick:()=>An(rt,{condition:"New",date:"",impact:""}),style:{background:"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.1)",borderRadius:6,color:"#94a3b8",fontSize:11,padding:"4px 10px",cursor:"pointer"},children:"+ Add"})]}),et.map((P,J)=>R.jsxs("div",{style:{display:"grid",gridTemplateColumns:"180px 80px 1fr 28px",gap:12,padding:"10px 20px",alignItems:"center",borderBottom:"1px solid rgba(255,255,255,0.03)"},children:[R.jsx("div",{style:{fontSize:13,fontWeight:500},children:R.jsx(be,{value:P.condition,onChange:H=>Mt(J,"condition",H)})}),R.jsx("div",{style:{fontSize:12,color:"#64748b"},children:R.jsx(be,{value:P.date,onChange:H=>Mt(J,"date",H)})}),R.jsx("div",{style:{fontSize:12,color:"#94a3b8"},children:R.jsx(be,{value:P.impact,onChange:H=>Mt(J,"impact",H)})}),R.jsx("button",{onClick:()=>Hn(rt,J),style:{background:"none",border:"none",color:"#ef444466",cursor:"pointer",fontSize:14,opacity:.4},onMouseEnter:H=>H.target.style.opacity=1,onMouseLeave:H=>H.target.style.opacity=.4,children:""})]},J))]}),R.jsxs("div",{style:{background:"rgba(255,255,255,0.02)",border:"1px solid rgba(255,255,255,0.06)",borderRadius:14,overflow:"hidden"},children:[R.jsxs("div",{style:{padding:"14px 20px",borderBottom:"1px solid rgba(255,255,255,0.06)",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[R.jsx("span",{style:{fontSize:13,fontWeight:700},children:"Lab Results (Oct 24, 2025)"}),R.jsx("button",{onClick:()=>An(ft,{test:"New",result:"",unit:"",ref:"",status:"",action:""}),style:{background:"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.1)",borderRadius:6,color:"#94a3b8",fontSize:11,padding:"4px 10px",cursor:"pointer"},children:"+ Add"})]}),R.jsx("div",{style:{overflowX:"auto"},children:R.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[R.jsx("thead",{children:R.jsx("tr",{style:{borderBottom:"1px solid rgba(255,255,255,0.06)"},children:["Test","Result","Ref Range","Status","Action",""].map(P=>R.jsx("th",{style:{padding:"10px 16px",textAlign:"left",fontSize:10,fontWeight:700,letterSpacing:"1px",color:"#64748b",textTransform:"uppercase"},children:P},P))})}),R.jsx("tbody",{children:st.map((P,J)=>R.jsxs("tr",{style:{borderBottom:"1px solid rgba(255,255,255,0.03)"},children:[R.jsx("td",{style:{padding:"8px 16px",fontSize:13,fontWeight:500},children:R.jsx(be,{value:P.test,onChange:H=>me(J,"test",H)})}),R.jsxs("td",{style:{padding:"8px 16px",fontFamily:"'JetBrains Mono', monospace",fontSize:13},children:[R.jsx(be,{value:P.result,onChange:H=>me(J,"result",H)}),R.jsx("span",{style:{color:"#64748b",fontSize:11,marginLeft:4},children:P.unit})]}),R.jsx("td",{style:{padding:"8px 16px",fontSize:12,color:"#64748b"},children:P.ref}),R.jsx("td",{style:{padding:"8px 16px"},children:R.jsx(k5,{status:P.status})}),R.jsx("td",{style:{padding:"8px 16px",fontSize:12,color:"#94a3b8"},children:R.jsx(be,{value:P.action,onChange:H=>me(J,"action",H)})}),R.jsx("td",{style:{padding:"8px 16px"},children:R.jsx("button",{onClick:()=>Hn(ft,J),style:{background:"none",border:"none",color:"#ef444466",cursor:"pointer",fontSize:14,opacity:.4},onMouseEnter:H=>H.target.style.opacity=1,onMouseLeave:H=>H.target.style.opacity=.4,children:""})})]},J))})]})})]}),R.jsxs("div",{style:{background:"rgba(255,255,255,0.02)",border:"1px solid rgba(255,255,255,0.06)",borderRadius:14,overflow:"hidden"},children:[R.jsxs("div",{style:{padding:"14px 20px",borderBottom:"1px solid rgba(255,255,255,0.06)",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[R.jsx("span",{style:{fontSize:13,fontWeight:700},children:"Medications"}),R.jsx("button",{onClick:()=>An(A,{name:"New",timing:"",purpose:"",notes:""}),style:{background:"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.1)",borderRadius:6,color:"#94a3b8",fontSize:11,padding:"4px 10px",cursor:"pointer"},children:"+ Add"})]}),S.map((P,J)=>R.jsxs("div",{style:{display:"grid",gridTemplateColumns:"160px 120px 120px 1fr 28px",gap:12,padding:"10px 20px",alignItems:"center",borderBottom:"1px solid rgba(255,255,255,0.03)"},children:[R.jsx("div",{style:{fontSize:13,fontWeight:600},children:R.jsx(be,{value:P.name,onChange:H=>pt(J,"name",H)})}),R.jsx("div",{style:{fontSize:12,color:"#64748b"},children:R.jsx(be,{value:P.timing,onChange:H=>pt(J,"timing",H)})}),R.jsx("div",{style:{fontSize:12,color:"#94a3b8"},children:R.jsx(be,{value:P.purpose,onChange:H=>pt(J,"purpose",H)})}),R.jsx("div",{style:{fontSize:12,color:"#78716c"},children:R.jsx(be,{value:P.notes,onChange:H=>pt(J,"notes",H)})}),R.jsx("button",{onClick:()=>Hn(A,J),style:{background:"none",border:"none",color:"#ef444466",cursor:"pointer",fontSize:14,opacity:.4},onMouseEnter:H=>H.target.style.opacity=1,onMouseLeave:H=>H.target.style.opacity=.4,children:""})]},J))]}),R.jsxs("div",{style:{background:"rgba(255,255,255,0.02)",border:"1px solid rgba(255,255,255,0.06)",borderRadius:14,overflow:"hidden"},children:[R.jsxs("div",{style:{padding:"14px 20px",borderBottom:"1px solid rgba(255,255,255,0.06)",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[R.jsx("span",{style:{fontSize:13,fontWeight:700},children:"Supplement Stack"}),R.jsx("button",{onClick:()=>An(Y,{name:"New",dose:"",when:"",why:""}),style:{background:"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.1)",borderRadius:6,color:"#94a3b8",fontSize:11,padding:"4px 10px",cursor:"pointer"},children:"+ Add"})]}),V.map((P,J)=>R.jsxs("div",{style:{display:"grid",gridTemplateColumns:"160px 100px 140px 1fr 28px",gap:12,padding:"10px 20px",alignItems:"center",borderBottom:"1px solid rgba(255,255,255,0.03)"},children:[R.jsx("div",{style:{fontSize:13,fontWeight:600},children:R.jsx(be,{value:P.name,onChange:H=>Et(J,"name",H)})}),R.jsx("div",{style:{fontSize:12,fontFamily:"'JetBrains Mono', monospace",color:"#4ade80"},children:R.jsx(be,{value:P.dose,onChange:H=>Et(J,"dose",H)})}),R.jsx("div",{style:{fontSize:12,color:"#64748b"},children:R.jsx(be,{value:P.when,onChange:H=>Et(J,"when",H)})}),R.jsx("div",{style:{fontSize:12,color:"#94a3b8"},children:R.jsx(be,{value:P.why,onChange:H=>Et(J,"why",H)})}),R.jsx("button",{onClick:()=>Hn(Y,J),style:{background:"none",border:"none",color:"#ef444466",cursor:"pointer",fontSize:14,opacity:.4},onMouseEnter:H=>H.target.style.opacity=1,onMouseLeave:H=>H.target.style.opacity=.4,children:""})]},J))]})]}),d==="nutrition"&&R.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:20},children:[R.jsxs("div",{style:{background:"rgba(255,255,255,0.02)",border:"1px solid rgba(255,255,255,0.06)",borderRadius:14,overflow:"hidden"},children:[R.jsxs("div",{style:{padding:"14px 20px",borderBottom:"1px solid rgba(255,255,255,0.06)"},children:[R.jsx("span",{style:{fontSize:13,fontWeight:700},children:"Calorie Framework"}),R.jsx("span",{style:{fontSize:11,color:"#64748b",marginLeft:12},children:"Based on goal weight 185190 lbs"})]}),R.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)"},children:[{phase:"Aggressive Cut",formula:"Goal BW  15  600",cal:"~2,150/day",when:"Rapid fat loss only",accent:"#ef4444"},{phase:"Standard Cut",formula:"Goal BW  15  400",cal:"~2,350/day",when:"Primary fat loss (start here)",accent:"#f59e0b"},{phase:"Recomposition",formula:"Goal BW  15  200",cal:"~2,550/day",when:"Body recomp + muscle",accent:"#4ade80"}].map((P,J)=>R.jsxs("div",{style:{padding:20,borderRight:J<2?"1px solid rgba(255,255,255,0.04)":"none",textAlign:"center"},children:[R.jsx("div",{style:{fontSize:11,fontWeight:700,color:P.accent,letterSpacing:"0.5px",marginBottom:8},children:P.phase}),R.jsx("div",{style:{fontSize:24,fontWeight:700,fontFamily:"'JetBrains Mono', monospace",color:"#e2e8f0"},children:P.cal}),R.jsx("div",{style:{fontSize:11,color:"#64748b",marginTop:4},children:P.formula}),R.jsx("div",{style:{fontSize:11,color:"#94a3b8",marginTop:8,fontStyle:"italic"},children:P.when})]},J))})]}),R.jsxs("div",{style:{background:"rgba(255,255,255,0.02)",border:"1px solid rgba(255,255,255,0.06)",borderRadius:14,padding:20},children:[R.jsx("div",{style:{fontSize:13,fontWeight:700,marginBottom:16},children:"Daily Macro Targets"}),R.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:16},children:[{macro:"Protein",target:"~172g",note:"0.82g/lb. Prioritize at every meal.",color:"#ef4444"},{macro:"Carbs",target:"~250300g",note:"Save majority for dinner + post-workout.",color:"#f59e0b"},{macro:"Fats",target:"~7080g",note:"Olive oil, avocado, nuts, fish.",color:"#4ade80"}].map((P,J)=>R.jsxs("div",{style:{background:`${P.color}08`,border:`1px solid ${P.color}22`,borderRadius:10,padding:16,textAlign:"center"},children:[R.jsx("div",{style:{fontSize:11,fontWeight:700,color:P.color,letterSpacing:"1px"},children:P.macro.toUpperCase()}),R.jsx("div",{style:{fontSize:22,fontWeight:700,fontFamily:"'JetBrains Mono', monospace",margin:"8px 0",color:"#e2e8f0"},children:P.target}),R.jsx("div",{style:{fontSize:11,color:"#94a3b8"},children:P.note})]},J))})]}),R.jsxs("div",{style:{background:"rgba(255,255,255,0.02)",border:"1px solid rgba(255,255,255,0.06)",borderRadius:14,overflow:"hidden"},children:[R.jsxs("div",{style:{padding:"14px 20px",borderBottom:"1px solid rgba(255,255,255,0.06)"},children:[R.jsx("span",{style:{fontSize:13,fontWeight:700},children:"Meal Structure (Intermittent Fasting)"}),R.jsx("span",{style:{fontSize:11,color:"#64748b",marginLeft:12},children:"46 hour fasting window in morning"})]}),[{meal:"Meal 1 (Break Fast)",pct:"2025%",time:"~12:001:00 PM",what:"Light: protein + fruit + small carb. Greek yogurt, eggs, lean meat."},{meal:"Meal 2 (Dinner Feast)",pct:"5060%",time:"~6:307:30 PM",what:"Big meal: protein + carbs + veggies + fats. Main fuel."},{meal:"Meal 3 (Late Night)",pct:"1520%",time:"~9:009:30 PM",what:"Light: cottage cheese, protein shake, fruit, dark chocolate."}].map((P,J)=>R.jsxs("div",{style:{display:"grid",gridTemplateColumns:"180px 70px 120px 1fr",gap:12,padding:"12px 20px",alignItems:"center",borderBottom:"1px solid rgba(255,255,255,0.03)"},children:[R.jsx("div",{style:{fontSize:13,fontWeight:600},children:P.meal}),R.jsx("div",{style:{fontFamily:"'JetBrains Mono', monospace",fontSize:13,color:P.pct.startsWith("50")?"#4ade80":"#94a3b8",fontWeight:600},children:P.pct}),R.jsx("div",{style:{fontSize:12,color:"#64748b"},children:P.time}),R.jsx("div",{style:{fontSize:12,color:"#94a3b8"},children:P.what})]},J))]}),R.jsxs("div",{style:{background:"rgba(255,255,255,0.02)",border:"1px solid rgba(255,255,255,0.06)",borderRadius:14,padding:20},children:[R.jsx("div",{style:{fontSize:13,fontWeight:700,marginBottom:16},children:"VA-Specific Nutrition Mods"}),R.jsx("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:12},children:[{label:"Gout",text:"Red meat max 2x/week. No organ meats, shellfish. Zero beer. Replace with chicken, turkey, salmon, eggs.",color:"#ef4444"},{label:"Liver",text:"Zero alcohol 30 days. Cruciferous veggies daily (broccoli, cauliflower). Minimize processed foods.",color:"#f59e0b"},{label:"Glucose",text:"Protein + fat first at every meal, carbs last. Walk 1015 min after dinner. No juice, soda, candy.",color:"#fb923c"},{label:"Folate",text:"Spinach, asparagus, Brussels sprouts, lentils, avocado. 2+ servings dark leafy greens daily.",color:"#4ade80"},{label:"Hydration",text:"100oz+ water daily. Non-negotiable (gout + polycythemia). 40oz bottle, refill 3x. Extra during training.",color:"#60a5fa"}].map((P,J)=>R.jsxs("div",{style:{background:`${P.color}08`,border:`1px solid ${P.color}18`,borderRadius:10,padding:"12px 16px"},children:[R.jsx("div",{style:{fontSize:11,fontWeight:700,color:P.color,letterSpacing:"0.5px",marginBottom:6},children:P.label.toUpperCase()}),R.jsx("div",{style:{fontSize:12,color:"#94a3b8",lineHeight:1.5},children:P.text})]},J))})]})]}),d==="targets"&&R.jsxs("div",{children:[R.jsxs("div",{style:{background:"rgba(255,255,255,0.02)",border:"1px solid rgba(255,255,255,0.06)",borderRadius:14,overflow:"hidden"},children:[R.jsxs("div",{style:{padding:"14px 20px",borderBottom:"1px solid rgba(255,255,255,0.06)",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[R.jsx("span",{style:{fontSize:13,fontWeight:700},children:"90-Day Targets"}),R.jsxs("div",{style:{display:"flex",gap:8,alignItems:"center"},children:[Vt.length>0&&R.jsxs("button",{onClick:wn,style:{background:"rgba(250,204,21,0.1)",border:"1px solid rgba(250,204,21,0.25)",borderRadius:6,color:"#facc15",fontSize:11,padding:"4px 10px",cursor:"pointer",display:"flex",alignItems:"center",gap:4},children:[" Undo ",Vt.length>1?`(${Vt.length})`:""]}),R.jsx("button",{onClick:os,style:{background:"rgba(96,165,250,0.08)",border:"1px solid rgba(96,165,250,0.2)",borderRadius:6,color:"#60a5fa",fontSize:11,padding:"4px 10px",cursor:"pointer"},children:" Reset Defaults"}),R.jsx("button",{onClick:()=>An(mt,{metric:"New",current:"",target:"",how:""}),style:{background:"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.1)",borderRadius:6,color:"#94a3b8",fontSize:11,padding:"4px 10px",cursor:"pointer"},children:"+ Add Target"})]})]}),R.jsx("div",{style:{overflowX:"auto"},children:R.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[R.jsx("thead",{children:R.jsx("tr",{style:{borderBottom:"1px solid rgba(255,255,255,0.06)"},children:["Metric","Current","Target","How",""].map(P=>R.jsx("th",{style:{padding:"10px 16px",textAlign:"left",fontSize:10,fontWeight:700,letterSpacing:"1px",color:"#64748b",textTransform:"uppercase"},children:P},P))})}),R.jsx("tbody",{children:Tt.map((P,J)=>R.jsxs("tr",{style:{borderBottom:"1px solid rgba(255,255,255,0.03)"},children:[R.jsx("td",{style:{padding:"10px 16px",fontSize:13,fontWeight:600},children:R.jsx(be,{value:P.metric,onChange:H=>Wt(J,"metric",H)})}),R.jsx("td",{style:{padding:"10px 16px",fontFamily:"'JetBrains Mono', monospace",fontSize:13,color:"#ef4444"},children:R.jsx(be,{value:P.current,onChange:H=>Wt(J,"current",H)})}),R.jsx("td",{style:{padding:"10px 16px",fontFamily:"'JetBrains Mono', monospace",fontSize:13,color:"#4ade80"},children:R.jsx(be,{value:P.target,onChange:H=>Wt(J,"target",H)})}),R.jsx("td",{style:{padding:"10px 16px",fontSize:12,color:"#94a3b8"},children:R.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:4},children:[P._autoHow!==!1&&R.jsx("span",{title:"Auto-generated",style:{fontSize:10,opacity:.5,flexShrink:0,marginTop:2},children:""}),R.jsx(be,{value:P.how,onChange:H=>Wt(J,"how",H)})]})}),R.jsx("td",{style:{padding:"10px 16px"},children:R.jsx("button",{onClick:()=>fr(J),style:{background:"none",border:"none",color:"#ef444466",cursor:"pointer",fontSize:14,opacity:.4},onMouseEnter:H=>H.target.style.opacity=1,onMouseLeave:H=>H.target.style.opacity=.4,children:""})})]},J))})]})})]}),R.jsxs("div",{style:{marginTop:20,background:"rgba(96,165,250,0.04)",border:"1px solid rgba(96,165,250,0.12)",borderRadius:14,padding:20},children:[R.jsx("div",{style:{fontSize:13,fontWeight:700,marginBottom:12},children:"Mental Health Integration"}),R.jsx("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:12},children:[{title:"PHQ-9 Trend",text:"18  15  12. Heading right. Target: below 10."},{title:"Exercise as Antidepressant",text:"3x/week heavy training = as effective as adding a second med."},{title:"Vitamin D + Depression",text:"At 16.7, deficiency directly contributes to symptoms. Getting above 40 improves mood."},{title:"Folate + SSRIs",text:"Low folate reduces Sertraline effectiveness. Methylfolate enhances SSRI response."}].map((P,J)=>R.jsxs("div",{style:{padding:"12px 16px",background:"rgba(0,0,0,0.2)",borderRadius:8},children:[R.jsx("div",{style:{fontSize:11,fontWeight:700,color:"#60a5fa",marginBottom:4},children:P.title}),R.jsx("div",{style:{fontSize:12,color:"#94a3b8",lineHeight:1.5},children:P.text})]},J))})]})]})]}),R.jsx("div",{style:{textAlign:"center",padding:"20px 24px",borderTop:"1px solid rgba(255,255,255,0.04)",fontSize:11,color:"#334155"},children:"Weekly Performance Plan v3.0  Kinobody Movie Star Integration + VA Medical Data  Feb 2026"})]})}hS.createRoot(document.getElementById("root")).render(R.jsx(oe.StrictMode,{children:R.jsx(P5,{})}));
