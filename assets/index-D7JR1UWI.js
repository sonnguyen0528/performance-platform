(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();var Ad={exports:{}},ml={};var I0;function oT(){if(I0)return ml;I0=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(a,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var y in l)y!=="key"&&(c[y]=l[y])}else c=l;return l=c.ref,{$$typeof:s,type:a,key:d,ref:l!==void 0?l:null,props:c}}return ml.Fragment=e,ml.jsx=i,ml.jsxs=i,ml}var D0;function lT(){return D0||(D0=1,Ad.exports=oT()),Ad.exports}var m=lT(),wd={exports:{}},Ie={};var M0;function uT(){if(M0)return Ie;M0=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),b=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),L=Symbol.iterator;function X(O){return O===null||typeof O!="object"?null:(O=L&&O[L]||O["@@iterator"],typeof O=="function"?O:null)}var se={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},oe=Object.assign,le={};function ye(O,W,ie){this.props=O,this.context=W,this.refs=le,this.updater=ie||se}ye.prototype.isReactComponent={},ye.prototype.setState=function(O,W){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,W,"setState")},ye.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function xe(){}xe.prototype=ye.prototype;function _e(O,W,ie){this.props=O,this.context=W,this.refs=le,this.updater=ie||se}var Ke=_e.prototype=new xe;Ke.constructor=_e,oe(Ke,ye.prototype),Ke.isPureReactComponent=!0;var et=Array.isArray;function Me(){}var I={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function D(O,W,ie){var ae=ie.ref;return{$$typeof:s,type:O,key:W,ref:ae!==void 0?ae:null,props:ie}}function V(O,W){return D(O.type,W,O.props)}function N(O){return typeof O=="object"&&O!==null&&O.$$typeof===s}function j(O){var W={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(ie){return W[ie]})}var R=/\/+/g;function st(O,W){return typeof O=="object"&&O!==null&&O.key!=null?j(""+O.key):W.toString(36)}function pt(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(Me,Me):(O.status="pending",O.then(function(W){O.status==="pending"&&(O.status="fulfilled",O.value=W)},function(W){O.status==="pending"&&(O.status="rejected",O.reason=W)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function K(O,W,ie,ae,be){var Ae=typeof O;(Ae==="undefined"||Ae==="boolean")&&(O=null);var Pe=!1;if(O===null)Pe=!0;else switch(Ae){case"bigint":case"string":case"number":Pe=!0;break;case"object":switch(O.$$typeof){case s:case e:Pe=!0;break;case A:return Pe=O._init,K(Pe(O._payload),W,ie,ae,be)}}if(Pe)return be=be(O),Pe=ae===""?"."+st(O,0):ae,et(be)?(ie="",Pe!=null&&(ie=Pe.replace(R,"$&/")+"/"),K(be,W,ie,"",function(fn){return fn})):be!=null&&(N(be)&&(be=V(be,ie+(be.key==null||O&&O.key===be.key?"":(""+be.key).replace(R,"$&/")+"/")+Pe)),W.push(be)),1;Pe=0;var _t=ae===""?".":ae+":";if(et(O))for(var tt=0;tt<O.length;tt++)ae=O[tt],Ae=_t+st(ae,tt),Pe+=K(ae,W,ie,Ae,be);else if(tt=X(O),typeof tt=="function")for(O=tt.call(O),tt=0;!(ae=O.next()).done;)ae=ae.value,Ae=_t+st(ae,tt++),Pe+=K(ae,W,ie,Ae,be);else if(Ae==="object"){if(typeof O.then=="function")return K(pt(O),W,ie,ae,be);throw W=String(O),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.")}return Pe}function te(O,W,ie){if(O==null)return O;var ae=[],be=0;return K(O,ae,"","",function(Ae){return W.call(ie,Ae,be++)}),ae}function ce(O){if(O._status===-1){var W=O._result;W=W(),W.then(function(ie){(O._status===0||O._status===-1)&&(O._status=1,O._result=ie)},function(ie){(O._status===0||O._status===-1)&&(O._status=2,O._result=ie)}),O._status===-1&&(O._status=0,O._result=W)}if(O._status===1)return O._result.default;throw O._result}var Oe=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var W=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(W))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},fe={map:te,forEach:function(O,W,ie){te(O,function(){W.apply(this,arguments)},ie)},count:function(O){var W=0;return te(O,function(){W++}),W},toArray:function(O){return te(O,function(W){return W})||[]},only:function(O){if(!N(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return Ie.Activity=x,Ie.Children=fe,Ie.Component=ye,Ie.Fragment=i,Ie.Profiler=l,Ie.PureComponent=_e,Ie.StrictMode=a,Ie.Suspense=b,Ie.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,Ie.__COMPILER_RUNTIME={__proto__:null,c:function(O){return I.H.useMemoCache(O)}},Ie.cache=function(O){return function(){return O.apply(null,arguments)}},Ie.cacheSignal=function(){return null},Ie.cloneElement=function(O,W,ie){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var ae=oe({},O.props),be=O.key;if(W!=null)for(Ae in W.key!==void 0&&(be=""+W.key),W)!w.call(W,Ae)||Ae==="key"||Ae==="__self"||Ae==="__source"||Ae==="ref"&&W.ref===void 0||(ae[Ae]=W[Ae]);var Ae=arguments.length-2;if(Ae===1)ae.children=ie;else if(1<Ae){for(var Pe=Array(Ae),_t=0;_t<Ae;_t++)Pe[_t]=arguments[_t+2];ae.children=Pe}return D(O.type,be,ae)},Ie.createContext=function(O){return O={$$typeof:d,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:c,_context:O},O},Ie.createElement=function(O,W,ie){var ae,be={},Ae=null;if(W!=null)for(ae in W.key!==void 0&&(Ae=""+W.key),W)w.call(W,ae)&&ae!=="key"&&ae!=="__self"&&ae!=="__source"&&(be[ae]=W[ae]);var Pe=arguments.length-2;if(Pe===1)be.children=ie;else if(1<Pe){for(var _t=Array(Pe),tt=0;tt<Pe;tt++)_t[tt]=arguments[tt+2];be.children=_t}if(O&&O.defaultProps)for(ae in Pe=O.defaultProps,Pe)be[ae]===void 0&&(be[ae]=Pe[ae]);return D(O,Ae,be)},Ie.createRef=function(){return{current:null}},Ie.forwardRef=function(O){return{$$typeof:y,render:O}},Ie.isValidElement=N,Ie.lazy=function(O){return{$$typeof:A,_payload:{_status:-1,_result:O},_init:ce}},Ie.memo=function(O,W){return{$$typeof:_,type:O,compare:W===void 0?null:W}},Ie.startTransition=function(O){var W=I.T,ie={};I.T=ie;try{var ae=O(),be=I.S;be!==null&&be(ie,ae),typeof ae=="object"&&ae!==null&&typeof ae.then=="function"&&ae.then(Me,Oe)}catch(Ae){Oe(Ae)}finally{W!==null&&ie.types!==null&&(W.types=ie.types),I.T=W}},Ie.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},Ie.use=function(O){return I.H.use(O)},Ie.useActionState=function(O,W,ie){return I.H.useActionState(O,W,ie)},Ie.useCallback=function(O,W){return I.H.useCallback(O,W)},Ie.useContext=function(O){return I.H.useContext(O)},Ie.useDebugValue=function(){},Ie.useDeferredValue=function(O,W){return I.H.useDeferredValue(O,W)},Ie.useEffect=function(O,W){return I.H.useEffect(O,W)},Ie.useEffectEvent=function(O){return I.H.useEffectEvent(O)},Ie.useId=function(){return I.H.useId()},Ie.useImperativeHandle=function(O,W,ie){return I.H.useImperativeHandle(O,W,ie)},Ie.useInsertionEffect=function(O,W){return I.H.useInsertionEffect(O,W)},Ie.useLayoutEffect=function(O,W){return I.H.useLayoutEffect(O,W)},Ie.useMemo=function(O,W){return I.H.useMemo(O,W)},Ie.useOptimistic=function(O,W){return I.H.useOptimistic(O,W)},Ie.useReducer=function(O,W,ie){return I.H.useReducer(O,W,ie)},Ie.useRef=function(O){return I.H.useRef(O)},Ie.useState=function(O){return I.H.useState(O)},Ie.useSyncExternalStore=function(O,W,ie){return I.H.useSyncExternalStore(O,W,ie)},Ie.useTransition=function(){return I.H.useTransition()},Ie.version="19.2.4",Ie}var O0;function yg(){return O0||(O0=1,wd.exports=uT()),wd.exports}var Xe=yg(),xd={exports:{}},yl={},Rd={exports:{}},Cd={};var k0;function cT(){return k0||(k0=1,(function(s){function e(K,te){var ce=K.length;K.push(te);e:for(;0<ce;){var Oe=ce-1>>>1,fe=K[Oe];if(0<l(fe,te))K[Oe]=te,K[ce]=fe,ce=Oe;else break e}}function i(K){return K.length===0?null:K[0]}function a(K){if(K.length===0)return null;var te=K[0],ce=K.pop();if(ce!==te){K[0]=ce;e:for(var Oe=0,fe=K.length,O=fe>>>1;Oe<O;){var W=2*(Oe+1)-1,ie=K[W],ae=W+1,be=K[ae];if(0>l(ie,ce))ae<fe&&0>l(be,ie)?(K[Oe]=be,K[ae]=ce,Oe=ae):(K[Oe]=ie,K[W]=ce,Oe=W);else if(ae<fe&&0>l(be,ce))K[Oe]=be,K[ae]=ce,Oe=ae;else break e}}return te}function l(K,te){var ce=K.sortIndex-te.sortIndex;return ce!==0?ce:K.id-te.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var d=Date,y=d.now();s.unstable_now=function(){return d.now()-y}}var b=[],_=[],A=1,x=null,L=3,X=!1,se=!1,oe=!1,le=!1,ye=typeof setTimeout=="function"?setTimeout:null,xe=typeof clearTimeout=="function"?clearTimeout:null,_e=typeof setImmediate<"u"?setImmediate:null;function Ke(K){for(var te=i(_);te!==null;){if(te.callback===null)a(_);else if(te.startTime<=K)a(_),te.sortIndex=te.expirationTime,e(b,te);else break;te=i(_)}}function et(K){if(oe=!1,Ke(K),!se)if(i(b)!==null)se=!0,Me||(Me=!0,j());else{var te=i(_);te!==null&&pt(et,te.startTime-K)}}var Me=!1,I=-1,w=5,D=-1;function V(){return le?!0:!(s.unstable_now()-D<w)}function N(){if(le=!1,Me){var K=s.unstable_now();D=K;var te=!0;try{e:{se=!1,oe&&(oe=!1,xe(I),I=-1),X=!0;var ce=L;try{t:{for(Ke(K),x=i(b);x!==null&&!(x.expirationTime>K&&V());){var Oe=x.callback;if(typeof Oe=="function"){x.callback=null,L=x.priorityLevel;var fe=Oe(x.expirationTime<=K);if(K=s.unstable_now(),typeof fe=="function"){x.callback=fe,Ke(K),te=!0;break t}x===i(b)&&a(b),Ke(K)}else a(b);x=i(b)}if(x!==null)te=!0;else{var O=i(_);O!==null&&pt(et,O.startTime-K),te=!1}}break e}finally{x=null,L=ce,X=!1}te=void 0}}finally{te?j():Me=!1}}}var j;if(typeof _e=="function")j=function(){_e(N)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,st=R.port2;R.port1.onmessage=N,j=function(){st.postMessage(null)}}else j=function(){ye(N,0)};function pt(K,te){I=ye(function(){K(s.unstable_now())},te)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(K){K.callback=null},s.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<K?Math.floor(1e3/K):5},s.unstable_getCurrentPriorityLevel=function(){return L},s.unstable_next=function(K){switch(L){case 1:case 2:case 3:var te=3;break;default:te=L}var ce=L;L=te;try{return K()}finally{L=ce}},s.unstable_requestPaint=function(){le=!0},s.unstable_runWithPriority=function(K,te){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var ce=L;L=K;try{return te()}finally{L=ce}},s.unstable_scheduleCallback=function(K,te,ce){var Oe=s.unstable_now();switch(typeof ce=="object"&&ce!==null?(ce=ce.delay,ce=typeof ce=="number"&&0<ce?Oe+ce:Oe):ce=Oe,K){case 1:var fe=-1;break;case 2:fe=250;break;case 5:fe=1073741823;break;case 4:fe=1e4;break;default:fe=5e3}return fe=ce+fe,K={id:A++,callback:te,priorityLevel:K,startTime:ce,expirationTime:fe,sortIndex:-1},ce>Oe?(K.sortIndex=ce,e(_,K),i(b)===null&&K===i(_)&&(oe?(xe(I),I=-1):oe=!0,pt(et,ce-Oe))):(K.sortIndex=fe,e(b,K),se||X||(se=!0,Me||(Me=!0,j()))),K},s.unstable_shouldYield=V,s.unstable_wrapCallback=function(K){var te=L;return function(){var ce=L;L=te;try{return K.apply(this,arguments)}finally{L=ce}}}})(Cd)),Cd}var N0;function hT(){return N0||(N0=1,Rd.exports=cT()),Rd.exports}var Id={exports:{}},sn={};var V0;function fT(){if(V0)return sn;V0=1;var s=yg();function e(b){var _="https://react.dev/errors/"+b;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)_+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+b+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(b,_,A){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:x==null?null:""+x,children:b,containerInfo:_,implementation:A}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function y(b,_){if(b==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return sn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,sn.createPortal=function(b,_){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(e(299));return c(b,_,null,A)},sn.flushSync=function(b){var _=d.T,A=a.p;try{if(d.T=null,a.p=2,b)return b()}finally{d.T=_,a.p=A,a.d.f()}},sn.preconnect=function(b,_){typeof b=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,a.d.C(b,_))},sn.prefetchDNS=function(b){typeof b=="string"&&a.d.D(b)},sn.preinit=function(b,_){if(typeof b=="string"&&_&&typeof _.as=="string"){var A=_.as,x=y(A,_.crossOrigin),L=typeof _.integrity=="string"?_.integrity:void 0,X=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;A==="style"?a.d.S(b,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:x,integrity:L,fetchPriority:X}):A==="script"&&a.d.X(b,{crossOrigin:x,integrity:L,fetchPriority:X,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},sn.preinitModule=function(b,_){if(typeof b=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var A=y(_.as,_.crossOrigin);a.d.M(b,{crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&a.d.M(b)},sn.preload=function(b,_){if(typeof b=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var A=_.as,x=y(A,_.crossOrigin);a.d.L(b,A,{crossOrigin:x,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},sn.preloadModule=function(b,_){if(typeof b=="string")if(_){var A=y(_.as,_.crossOrigin);a.d.m(b,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else a.d.m(b)},sn.requestFormReset=function(b){a.d.r(b)},sn.unstable_batchedUpdates=function(b,_){return b(_)},sn.useFormState=function(b,_,A){return d.H.useFormState(b,_,A)},sn.useFormStatus=function(){return d.H.useHostTransitionStatus()},sn.version="19.2.4",sn}var L0;function dT(){if(L0)return Id.exports;L0=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Id.exports=fT(),Id.exports}var z0;function gT(){if(z0)return yl;z0=1;var s=hT(),e=yg(),i=dT();function a(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var n=t,r=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(r=n.return),t=n.return;while(t)}return n.tag===3?r:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function y(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function b(t){if(c(t)!==t)throw Error(a(188))}function _(t){var n=t.alternate;if(!n){if(n=c(t),n===null)throw Error(a(188));return n!==t?null:t}for(var r=t,o=n;;){var h=r.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){r=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===r)return b(h),t;if(f===o)return b(h),n;f=f.sibling}throw Error(a(188))}if(r.return!==o.return)r=h,o=f;else{for(var p=!1,T=h.child;T;){if(T===r){p=!0,r=h,o=f;break}if(T===o){p=!0,o=h,r=f;break}T=T.sibling}if(!p){for(T=f.child;T;){if(T===r){p=!0,r=f,o=h;break}if(T===o){p=!0,o=f,r=h;break}T=T.sibling}if(!p)throw Error(a(189))}}if(r.alternate!==o)throw Error(a(190))}if(r.tag!==3)throw Error(a(188));return r.stateNode.current===r?t:n}function A(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=A(t),n!==null)return n;t=t.sibling}return null}var x=Object.assign,L=Symbol.for("react.element"),X=Symbol.for("react.transitional.element"),se=Symbol.for("react.portal"),oe=Symbol.for("react.fragment"),le=Symbol.for("react.strict_mode"),ye=Symbol.for("react.profiler"),xe=Symbol.for("react.consumer"),_e=Symbol.for("react.context"),Ke=Symbol.for("react.forward_ref"),et=Symbol.for("react.suspense"),Me=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),D=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function j(t){return t===null||typeof t!="object"?null:(t=N&&t[N]||t["@@iterator"],typeof t=="function"?t:null)}var R=Symbol.for("react.client.reference");function st(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===R?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case oe:return"Fragment";case ye:return"Profiler";case le:return"StrictMode";case et:return"Suspense";case Me:return"SuspenseList";case D:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case se:return"Portal";case _e:return t.displayName||"Context";case xe:return(t._context.displayName||"Context")+".Consumer";case Ke:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case I:return n=t.displayName||null,n!==null?n:st(t.type)||"Memo";case w:n=t._payload,t=t._init;try{return st(t(n))}catch{}}return null}var pt=Array.isArray,K=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ce={pending:!1,data:null,method:null,action:null},Oe=[],fe=-1;function O(t){return{current:t}}function W(t){0>fe||(t.current=Oe[fe],Oe[fe]=null,fe--)}function ie(t,n){fe++,Oe[fe]=t.current,t.current=n}var ae=O(null),be=O(null),Ae=O(null),Pe=O(null);function _t(t,n){switch(ie(Ae,n),ie(be,t),ie(ae,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?$y(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=$y(n),t=Zy(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}W(ae),ie(ae,t)}function tt(){W(ae),W(be),W(Ae)}function fn(t){t.memoizedState!==null&&ie(Pe,t);var n=ae.current,r=Zy(n,t.type);n!==r&&(ie(be,t),ie(ae,r))}function ci(t){be.current===t&&(W(ae),W(be)),Pe.current===t&&(W(Pe),fl._currentValue=ce)}var vr,_r;function Mn(t){if(vr===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);vr=n&&n[1]||"",_r=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+vr+t+_r}var hi=!1;function On(t,n){if(!t||hi)return"";hi=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var J=function(){throw Error()};if(Object.defineProperty(J.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(J,[])}catch(G){var q=G}Reflect.construct(t,[],J)}else{try{J.call()}catch(G){q=G}t.call(J.prototype)}}else{try{throw Error()}catch(G){q=G}(J=t())&&typeof J.catch=="function"&&J.catch(function(){})}}catch(G){if(G&&q&&typeof G.stack=="string")return[G.stack,q.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),p=f[0],T=f[1];if(p&&T){var C=p.split(`
`),H=T.split(`
`);for(h=o=0;o<C.length&&!C[o].includes("DetermineComponentFrameRoot");)o++;for(;h<H.length&&!H[h].includes("DetermineComponentFrameRoot");)h++;if(o===C.length||h===H.length)for(o=C.length-1,h=H.length-1;1<=o&&0<=h&&C[o]!==H[h];)h--;for(;1<=o&&0<=h;o--,h--)if(C[o]!==H[h]){if(o!==1||h!==1)do if(o--,h--,0>h||C[o]!==H[h]){var Y=`
`+C[o].replace(" at new "," at ");return t.displayName&&Y.includes("<anonymous>")&&(Y=Y.replace("<anonymous>",t.displayName)),Y}while(1<=o&&0<=h);break}}}finally{hi=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?Mn(r):""}function Bi(t,n){switch(t.tag){case 26:case 27:case 5:return Mn(t.type);case 16:return Mn("Lazy");case 13:return t.child!==n&&n!==null?Mn("Suspense Fallback"):Mn("Suspense");case 19:return Mn("SuspenseList");case 0:case 15:return On(t.type,!1);case 11:return On(t.type.render,!1);case 1:return On(t.type,!0);case 31:return Mn("Activity");default:return""}}function Hi(t){try{var n="",r=null;do n+=Bi(t,r),r=t,t=t.return;while(t);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var ht=Object.prototype.hasOwnProperty,St=s.unstable_scheduleCallback,dn=s.unstable_cancelCallback,br=s.unstable_shouldYield,sa=s.unstable_requestPaint,Yt=s.unstable_now,qi=s.unstable_getCurrentPriorityLevel,ps=s.unstable_ImmediatePriority,ms=s.unstable_UserBlockingPriority,S=s.unstable_NormalPriority,B=s.unstable_LowPriority,M=s.unstable_IdlePriority,ee=s.log,ne=s.unstable_setDisableYieldValue,ge=null,de=null;function Re(t){if(typeof ee=="function"&&ne(t),de&&typeof de.setStrictMode=="function")try{de.setStrictMode(ge,t)}catch{}}var Le=Math.clz32?Math.clz32:Tr,Ht=Math.log,rn=Math.LN2;function Tr(t){return t>>>=0,t===0?32:31-(Ht(t)/rn|0)|0}var fi=256,ys=262144,It=4194304;function di(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function gi(t,n,r){var o=t.pendingLanes;if(o===0)return 0;var h=0,f=t.suspendedLanes,p=t.pingedLanes;t=t.warmLanes;var T=o&134217727;return T!==0?(o=T&~f,o!==0?h=di(o):(p&=T,p!==0?h=di(p):r||(r=T&~t,r!==0&&(h=di(r))))):(T=o&~f,T!==0?h=di(T):p!==0?h=di(p):r||(r=o&~t,r!==0&&(h=di(r)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,r=n&-n,f>=r||f===32&&(r&4194048)!==0)?n:h}function Yn(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Rh(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $l(){var t=It;return It<<=1,(It&62914560)===0&&(It=4194304),t}function pi(t){for(var n=[],r=0;31>r;r++)n.push(t);return n}function vs(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Ch(t,n,r,o,h,f){var p=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var T=t.entanglements,C=t.expirationTimes,H=t.hiddenUpdates;for(r=p&~r;0<r;){var Y=31-Le(r),J=1<<Y;T[Y]=0,C[Y]=-1;var q=H[Y];if(q!==null)for(H[Y]=null,Y=0;Y<q.length;Y++){var G=q[Y];G!==null&&(G.lane&=-536870913)}r&=~J}o!==0&&_s(t,o,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(p&~n))}function _s(t,n,r){t.pendingLanes|=n,t.suspendedLanes&=~n;var o=31-Le(n);t.entangledLanes|=n,t.entanglements[o]=t.entanglements[o]|1073741824|r&261930}function yo(t,n){var r=t.entangledLanes|=n;for(t=t.entanglements;r;){var o=31-Le(r),h=1<<o;h&n|t[o]&n&&(t[o]|=n),r&=~h}}function vo(t,n){var r=n&-n;return r=(r&42)!==0?1:bs(r),(r&(t.suspendedLanes|n))!==0?0:r}function bs(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Fi(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Zl(){var t=te.p;return t!==0?t:(t=window.event,t===void 0?32:S0(t.type))}function Qn(t,n){var r=te.p;try{return te.p=t,n()}finally{te.p=r}}var Xn=Math.random().toString(36).slice(2),Dt="__reactFiber$"+Xn,qt="__reactProps$"+Xn,mi="__reactContainer$"+Xn,aa="__reactEvents$"+Xn,Ih="__reactListeners$"+Xn,eu="__reactHandles$"+Xn,tu="__reactResources$"+Xn,yi="__reactMarker$"+Xn;function oa(t){delete t[Dt],delete t[qt],delete t[aa],delete t[Ih],delete t[eu]}function vi(t){var n=t[Dt];if(n)return n;for(var r=t.parentNode;r;){if(n=r[mi]||r[Dt]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(t=a0(t);t!==null;){if(r=t[Dt])return r;t=a0(t)}return n}t=r,r=t.parentNode}return null}function kn(t){if(t=t[Dt]||t[mi]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function Sn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(a(33))}function _i(t){var n=t[tu];return n||(n=t[tu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Mt(t){t[yi]=!0}var _o=new Set,bo={};function bi(t,n){Ti(t,n),Ti(t+"Capture",n)}function Ti(t,n){for(bo[t]=n,t=0;t<n.length;t++)_o.add(n[t])}var To=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),So={},Eo={};function nu(t){return ht.call(Eo,t)?!0:ht.call(So,t)?!1:To.test(t)?Eo[t]=!0:(So[t]=!0,!1)}function la(t,n,r){if(nu(n))if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+r)}}function En(t,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+r)}}function Ot(t,n,r,o){if(o===null)t.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(n,r,""+o)}}function Ft(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Sr(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Ao(t,n,r){var o=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(p){r=""+p,f.call(this,p)}}),Object.defineProperty(t,n,{enumerable:o.enumerable}),{getValue:function(){return r},setValue:function(p){r=""+p},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function nt(t){if(!t._valueTracker){var n=Sr(t)?"checked":"value";t._valueTracker=Ao(t,n,""+t[n])}}function Ts(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var r=n.getValue(),o="";return t&&(o=Sr(t)?t.checked?"true":"false":t.value),t=o,t!==r?(n.setValue(t),!0):!1}function Si(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Ss=/[\n"\\]/g;function gn(t){return t.replace(Ss,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function ua(t,n,r,o,h,f,p,T){t.name="",p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?t.type=p:t.removeAttribute("type"),n!=null?p==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Ft(n)):t.value!==""+Ft(n)&&(t.value=""+Ft(n)):p!=="submit"&&p!=="reset"||t.removeAttribute("value"),n!=null?wo(t,p,Ft(n)):r!=null?wo(t,p,Ft(r)):o!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+Ft(T):t.removeAttribute("name")}function iu(t,n,r,o,h,f,p,T){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){nt(t);return}r=r!=null?""+Ft(r):"",n=n!=null?""+Ft(n):r,T||n===t.value||(t.value=n),t.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=T?t.checked:!!o,t.defaultChecked=!!o,p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(t.name=p),nt(t)}function wo(t,n,r){n==="number"&&Si(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function Er(t,n,r,o){if(t=t.options,n){n={};for(var h=0;h<r.length;h++)n["$"+r[h]]=!0;for(r=0;r<t.length;r++)h=n.hasOwnProperty("$"+t[r].value),t[r].selected!==h&&(t[r].selected=h),h&&o&&(t[r].defaultSelected=!0)}else{for(r=""+Ft(r),n=null,h=0;h<t.length;h++){if(t[h].value===r){t[h].selected=!0,o&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function ru(t,n,r){if(n!=null&&(n=""+Ft(n),n!==t.value&&(t.value=n),r==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=r!=null?""+Ft(r):""}function Ar(t,n,r,o){if(n==null){if(o!=null){if(r!=null)throw Error(a(92));if(pt(o)){if(1<o.length)throw Error(a(93));o=o[0]}r=o}r==null&&(r=""),n=r}r=Ft(n),t.defaultValue=r,o=t.textContent,o===r&&o!==""&&o!==null&&(t.value=o),nt(t)}function pn(t,n){if(n){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=n;return}}t.textContent=n}var su=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function xo(t,n,r){var o=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?o?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":o?t.setProperty(n,r):typeof r!="number"||r===0||su.has(n)?n==="float"?t.cssFloat=r:t[n]=(""+r).trim():t[n]=r+"px"}function Ro(t,n,r){if(n!=null&&typeof n!="object")throw Error(a(62));if(t=t.style,r!=null){for(var o in r)!r.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&r[h]!==o&&xo(t,h,o)}else for(var f in n)n.hasOwnProperty(f)&&xo(t,f,n[f])}function ca(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var au=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),wr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ha(t){return wr.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Jn(){}var Co=null;function Nn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var xr=null,Ei=null;function Es(t){var n=kn(t);if(n&&(t=n.stateNode)){var r=t[qt]||null;e:switch(t=n.stateNode,n.type){case"input":if(ua(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+gn(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var o=r[n];if(o!==t&&o.form===t.form){var h=o[qt]||null;if(!h)throw Error(a(90));ua(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<r.length;n++)o=r[n],o.form===t.form&&Ts(o)}break e;case"textarea":ru(t,r.value,r.defaultValue);break e;case"select":n=r.value,n!=null&&Er(t,!!r.multiple,n,!1)}}}var fa=!1;function Rr(t,n,r){if(fa)return t(n,r);fa=!0;try{var o=t(n);return o}finally{if(fa=!1,(xr!==null||Ei!==null)&&(Zu(),xr&&(n=xr,t=Ei,Ei=xr=null,Es(n),t)))for(n=0;n<t.length;n++)Es(t[n])}}function $n(t,n){var r=t.stateNode;if(r===null)return null;var o=r[qt]||null;if(o===null)return null;r=o[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(a(231,n,typeof r));return r}var Vn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),As=!1;if(Vn)try{var at={};Object.defineProperty(at,"passive",{get:function(){As=!0}}),window.addEventListener("test",at,at),window.removeEventListener("test",at,at)}catch{As=!1}var Ai=null,Io=null,ws=null;function Do(){if(ws)return ws;var t,n=Io,r=n.length,o,h="value"in Ai?Ai.value:Ai.textContent,f=h.length;for(t=0;t<r&&n[t]===h[t];t++);var p=r-t;for(o=1;o<=p&&n[r-o]===h[f-o];o++);return ws=h.slice(t,1<o?1-o:void 0)}function xs(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Gi(){return!0}function Zn(){return!1}function Qt(t){function n(r,o,h,f,p){this._reactName=r,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=p,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(r=t[T],this[T]=r?r(f):f[T]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Gi:Zn,this.isPropagationStopped=Zn,this}return x(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Gi)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Gi)},persist:function(){},isPersistent:Gi}),n}var Ki={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},wi=Qt(Ki),Cr=x({},Ki,{view:0,detail:0}),Mo=Qt(Cr),Ir,da,xi,ga=x({},Cr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Dr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==xi&&(xi&&t.type==="mousemove"?(Ir=t.screenX-xi.screenX,da=t.screenY-xi.screenY):da=Ir=0,xi=t),Ir)},movementY:function(t){return"movementY"in t?t.movementY:da}}),Oo=Qt(ga),Rs=x({},ga,{dataTransfer:0}),ou=Qt(Rs),lu=x({},Cr,{relatedTarget:0}),Cs=Qt(lu),ko=x({},Ki,{animationName:0,elapsedTime:0,pseudoElement:0}),uu=Qt(ko),pa=x({},Ki,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),cu=Qt(pa),hu=x({},Ki,{data:0}),Ri=Qt(hu),fu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},du={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},gu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function pu(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=gu[t])?!!n[t]:!1}function Dr(){return pu}var cn=x({},Cr,{key:function(t){if(t.key){var n=fu[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=xs(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?du[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Dr,charCode:function(t){return t.type==="keypress"?xs(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?xs(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),mu=Qt(cn),yu=x({},ga,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Wi=Qt(yu),u=x({},Cr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Dr}),g=Qt(u),v=x({},Ki,{propertyName:0,elapsedTime:0,pseudoElement:0}),E=Qt(v),P=x({},ga,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),F=Qt(P),re=x({},Ki,{newState:0,oldState:0}),ke=Qt(re),wt=[9,13,27,32],Je=Vn&&"CompositionEvent"in window,mt=null;Vn&&"documentMode"in document&&(mt=document.documentMode);var Ln=Vn&&"TextEvent"in window&&!mt,Ci=Vn&&(!Je||mt&&8<mt&&11>=mt),ei=" ",ti=!1;function Is(t,n){switch(t){case"keyup":return wt.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ma(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ya=!1;function Mb(t,n){switch(t){case"compositionend":return ma(n);case"keypress":return n.which!==32?null:(ti=!0,ei);case"textInput":return t=n.data,t===ei&&ti?null:t;default:return null}}function Ob(t,n){if(ya)return t==="compositionend"||!Je&&Is(t,n)?(t=Do(),ws=Io=Ai=null,ya=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Ci&&n.locale!=="ko"?null:n.data;default:return null}}var kb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function up(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!kb[t.type]:n==="textarea"}function cp(t,n,r,o){xr?Ei?Ei.push(o):Ei=[o]:xr=o,n=ac(n,"onChange"),0<n.length&&(r=new wi("onChange","change",null,r,o),t.push({event:r,listeners:n}))}var No=null,Vo=null;function Nb(t){Ky(t,0)}function vu(t){var n=Sn(t);if(Ts(n))return t}function hp(t,n){if(t==="change")return n}var fp=!1;if(Vn){var Dh;if(Vn){var Mh="oninput"in document;if(!Mh){var dp=document.createElement("div");dp.setAttribute("oninput","return;"),Mh=typeof dp.oninput=="function"}Dh=Mh}else Dh=!1;fp=Dh&&(!document.documentMode||9<document.documentMode)}function gp(){No&&(No.detachEvent("onpropertychange",pp),Vo=No=null)}function pp(t){if(t.propertyName==="value"&&vu(Vo)){var n=[];cp(n,Vo,t,Nn(t)),Rr(Nb,n)}}function Vb(t,n,r){t==="focusin"?(gp(),No=n,Vo=r,No.attachEvent("onpropertychange",pp)):t==="focusout"&&gp()}function Lb(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return vu(Vo)}function zb(t,n){if(t==="click")return vu(n)}function jb(t,n){if(t==="input"||t==="change")return vu(n)}function Pb(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var An=typeof Object.is=="function"?Object.is:Pb;function Lo(t,n){if(An(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var r=Object.keys(t),o=Object.keys(n);if(r.length!==o.length)return!1;for(o=0;o<r.length;o++){var h=r[o];if(!ht.call(n,h)||!An(t[h],n[h]))return!1}return!0}function mp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function yp(t,n){var r=mp(t);t=0;for(var o;r;){if(r.nodeType===3){if(o=t+r.textContent.length,t<=n&&o>=n)return{node:r,offset:n-t};t=o}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=mp(r)}}function vp(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?vp(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function _p(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=Si(t.document);n instanceof t.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)t=n.contentWindow;else break;n=Si(t.document)}return n}function Oh(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var Ub=Vn&&"documentMode"in document&&11>=document.documentMode,va=null,kh=null,zo=null,Nh=!1;function bp(t,n,r){var o=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Nh||va==null||va!==Si(o)||(o=va,"selectionStart"in o&&Oh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),zo&&Lo(zo,o)||(zo=o,o=ac(kh,"onSelect"),0<o.length&&(n=new wi("onSelect","select",null,n,r),t.push({event:n,listeners:o}),n.target=va)))}function Ds(t,n){var r={};return r[t.toLowerCase()]=n.toLowerCase(),r["Webkit"+t]="webkit"+n,r["Moz"+t]="moz"+n,r}var _a={animationend:Ds("Animation","AnimationEnd"),animationiteration:Ds("Animation","AnimationIteration"),animationstart:Ds("Animation","AnimationStart"),transitionrun:Ds("Transition","TransitionRun"),transitionstart:Ds("Transition","TransitionStart"),transitioncancel:Ds("Transition","TransitionCancel"),transitionend:Ds("Transition","TransitionEnd")},Vh={},Tp={};Vn&&(Tp=document.createElement("div").style,"AnimationEvent"in window||(delete _a.animationend.animation,delete _a.animationiteration.animation,delete _a.animationstart.animation),"TransitionEvent"in window||delete _a.transitionend.transition);function Ms(t){if(Vh[t])return Vh[t];if(!_a[t])return t;var n=_a[t],r;for(r in n)if(n.hasOwnProperty(r)&&r in Tp)return Vh[t]=n[r];return t}var Sp=Ms("animationend"),Ep=Ms("animationiteration"),Ap=Ms("animationstart"),Bb=Ms("transitionrun"),Hb=Ms("transitionstart"),qb=Ms("transitioncancel"),wp=Ms("transitionend"),xp=new Map,Lh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Lh.push("scrollEnd");function ni(t,n){xp.set(t,n),bi(n,[t])}var _u=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},zn=[],ba=0,zh=0;function bu(){for(var t=ba,n=zh=ba=0;n<t;){var r=zn[n];zn[n++]=null;var o=zn[n];zn[n++]=null;var h=zn[n];zn[n++]=null;var f=zn[n];if(zn[n++]=null,o!==null&&h!==null){var p=o.pending;p===null?h.next=h:(h.next=p.next,p.next=h),o.pending=h}f!==0&&Rp(r,h,f)}}function Tu(t,n,r,o){zn[ba++]=t,zn[ba++]=n,zn[ba++]=r,zn[ba++]=o,zh|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function jh(t,n,r,o){return Tu(t,n,r,o),Su(t)}function Os(t,n){return Tu(t,null,null,n),Su(t)}function Rp(t,n,r){t.lanes|=r;var o=t.alternate;o!==null&&(o.lanes|=r);for(var h=!1,f=t.return;f!==null;)f.childLanes|=r,o=f.alternate,o!==null&&(o.childLanes|=r),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,h&&n!==null&&(h=31-Le(r),t=f.hiddenUpdates,o=t[h],o===null?t[h]=[n]:o.push(n),n.lane=r|536870912),f):null}function Su(t){if(50<sl)throw sl=0,Yf=null,Error(a(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Ta={};function Fb(t,n,r,o){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wn(t,n,r,o){return new Fb(t,n,r,o)}function Ph(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Yi(t,n){var r=t.alternate;return r===null?(r=wn(t.tag,n,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=n,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&65011712,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,n=t.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function Cp(t,n){t.flags&=65011714;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,n=r.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Eu(t,n,r,o,h,f){var p=0;if(o=t,typeof t=="function")Ph(t)&&(p=1);else if(typeof t=="string")p=Q2(t,r,ae.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case D:return t=wn(31,r,n,h),t.elementType=D,t.lanes=f,t;case oe:return ks(r.children,h,f,n);case le:p=8,h|=24;break;case ye:return t=wn(12,r,n,h|2),t.elementType=ye,t.lanes=f,t;case et:return t=wn(13,r,n,h),t.elementType=et,t.lanes=f,t;case Me:return t=wn(19,r,n,h),t.elementType=Me,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case _e:p=10;break e;case xe:p=9;break e;case Ke:p=11;break e;case I:p=14;break e;case w:p=16,o=null;break e}p=29,r=Error(a(130,t===null?"null":typeof t,"")),o=null}return n=wn(p,r,n,h),n.elementType=t,n.type=o,n.lanes=f,n}function ks(t,n,r,o){return t=wn(7,t,o,n),t.lanes=r,t}function Uh(t,n,r){return t=wn(6,t,null,n),t.lanes=r,t}function Ip(t){var n=wn(18,null,null,0);return n.stateNode=t,n}function Bh(t,n,r){return n=wn(4,t.children!==null?t.children:[],t.key,n),n.lanes=r,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Dp=new WeakMap;function jn(t,n){if(typeof t=="object"&&t!==null){var r=Dp.get(t);return r!==void 0?r:(n={value:t,source:n,stack:Hi(n)},Dp.set(t,n),n)}return{value:t,source:n,stack:Hi(n)}}var Sa=[],Ea=0,Au=null,jo=0,Pn=[],Un=0,Mr=null,Ii=1,Di="";function Qi(t,n){Sa[Ea++]=jo,Sa[Ea++]=Au,Au=t,jo=n}function Mp(t,n,r){Pn[Un++]=Ii,Pn[Un++]=Di,Pn[Un++]=Mr,Mr=t;var o=Ii;t=Di;var h=32-Le(o)-1;o&=~(1<<h),r+=1;var f=32-Le(n)+h;if(30<f){var p=h-h%5;f=(o&(1<<p)-1).toString(32),o>>=p,h-=p,Ii=1<<32-Le(n)+h|r<<h|o,Di=f+t}else Ii=1<<f|r<<h|o,Di=t}function Hh(t){t.return!==null&&(Qi(t,1),Mp(t,1,0))}function qh(t){for(;t===Au;)Au=Sa[--Ea],Sa[Ea]=null,jo=Sa[--Ea],Sa[Ea]=null;for(;t===Mr;)Mr=Pn[--Un],Pn[Un]=null,Di=Pn[--Un],Pn[Un]=null,Ii=Pn[--Un],Pn[Un]=null}function Op(t,n){Pn[Un++]=Ii,Pn[Un++]=Di,Pn[Un++]=Mr,Ii=n.id,Di=n.overflow,Mr=t}var Xt=null,ft=null,Ge=!1,Or=null,Bn=!1,Fh=Error(a(519));function kr(t){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Po(jn(n,t)),Fh}function kp(t){var n=t.stateNode,r=t.type,o=t.memoizedProps;switch(n[Dt]=t,n[qt]=o,r){case"dialog":je("cancel",n),je("close",n);break;case"iframe":case"object":case"embed":je("load",n);break;case"video":case"audio":for(r=0;r<ol.length;r++)je(ol[r],n);break;case"source":je("error",n);break;case"img":case"image":case"link":je("error",n),je("load",n);break;case"details":je("toggle",n);break;case"input":je("invalid",n),iu(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":je("invalid",n);break;case"textarea":je("invalid",n),Ar(n,o.value,o.defaultValue,o.children)}r=o.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||o.suppressHydrationWarning===!0||Xy(n.textContent,r)?(o.popover!=null&&(je("beforetoggle",n),je("toggle",n)),o.onScroll!=null&&je("scroll",n),o.onScrollEnd!=null&&je("scrollend",n),o.onClick!=null&&(n.onclick=Jn),n=!0):n=!1,n||kr(t,!0)}function Np(t){for(Xt=t.return;Xt;)switch(Xt.tag){case 5:case 31:case 13:Bn=!1;return;case 27:case 3:Bn=!0;return;default:Xt=Xt.return}}function Aa(t){if(t!==Xt)return!1;if(!Ge)return Np(t),Ge=!0,!1;var n=t.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||ud(t.type,t.memoizedProps)),r=!r),r&&ft&&kr(t),Np(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));ft=s0(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));ft=s0(t)}else n===27?(n=ft,Wr(t.type)?(t=gd,gd=null,ft=t):ft=n):ft=Xt?qn(t.stateNode.nextSibling):null;return!0}function Ns(){ft=Xt=null,Ge=!1}function Gh(){var t=Or;return t!==null&&(_n===null?_n=t:_n.push.apply(_n,t),Or=null),t}function Po(t){Or===null?Or=[t]:Or.push(t)}var Kh=O(null),Vs=null,Xi=null;function Nr(t,n,r){ie(Kh,n._currentValue),n._currentValue=r}function Ji(t){t._currentValue=Kh.current,W(Kh)}function Wh(t,n,r){for(;t!==null;){var o=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),t===r)break;t=t.return}}function Yh(t,n,r,o){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var p=h.child;f=f.firstContext;e:for(;f!==null;){var T=f;f=h;for(var C=0;C<n.length;C++)if(T.context===n[C]){f.lanes|=r,T=f.alternate,T!==null&&(T.lanes|=r),Wh(f.return,r,t),o||(p=null);break e}f=T.next}}else if(h.tag===18){if(p=h.return,p===null)throw Error(a(341));p.lanes|=r,f=p.alternate,f!==null&&(f.lanes|=r),Wh(p,r,t),p=null}else p=h.child;if(p!==null)p.return=h;else for(p=h;p!==null;){if(p===t){p=null;break}if(h=p.sibling,h!==null){h.return=p.return,p=h;break}p=p.return}h=p}}function wa(t,n,r,o){t=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var p=h.alternate;if(p===null)throw Error(a(387));if(p=p.memoizedProps,p!==null){var T=h.type;An(h.pendingProps.value,p.value)||(t!==null?t.push(T):t=[T])}}else if(h===Pe.current){if(p=h.alternate,p===null)throw Error(a(387));p.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(fl):t=[fl])}h=h.return}t!==null&&Yh(n,t,r,o),n.flags|=262144}function wu(t){for(t=t.firstContext;t!==null;){if(!An(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Ls(t){Vs=t,Xi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Jt(t){return Vp(Vs,t)}function xu(t,n){return Vs===null&&Ls(t),Vp(t,n)}function Vp(t,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},Xi===null){if(t===null)throw Error(a(308));Xi=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Xi=Xi.next=n;return r}var Gb=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(r,o){t.push(o)}};this.abort=function(){n.aborted=!0,t.forEach(function(r){return r()})}},Kb=s.unstable_scheduleCallback,Wb=s.unstable_NormalPriority,kt={$$typeof:_e,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Qh(){return{controller:new Gb,data:new Map,refCount:0}}function Uo(t){t.refCount--,t.refCount===0&&Kb(Wb,function(){t.controller.abort()})}var Bo=null,Xh=0,xa=0,Ra=null;function Yb(t,n){if(Bo===null){var r=Bo=[];Xh=0,xa=ed(),Ra={status:"pending",value:void 0,then:function(o){r.push(o)}}}return Xh++,n.then(Lp,Lp),n}function Lp(){if(--Xh===0&&Bo!==null){Ra!==null&&(Ra.status="fulfilled");var t=Bo;Bo=null,xa=0,Ra=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function Qb(t,n){var r=[],o={status:"pending",value:null,reason:null,then:function(h){r.push(h)}};return t.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<r.length;h++)(0,r[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<r.length;h++)(0,r[h])(void 0)}),o}var zp=K.S;K.S=function(t,n){by=Yt(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&Yb(t,n),zp!==null&&zp(t,n)};var zs=O(null);function Jh(){var t=zs.current;return t!==null?t:ct.pooledCache}function Ru(t,n){n===null?ie(zs,zs.current):ie(zs,n.pool)}function jp(){var t=Jh();return t===null?null:{parent:kt._currentValue,pool:t}}var Ca=Error(a(460)),$h=Error(a(474)),Cu=Error(a(542)),Iu={then:function(){}};function Pp(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Up(t,n,r){switch(r=t[r],r===void 0?t.push(n):r!==n&&(n.then(Jn,Jn),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Hp(t),t;default:if(typeof n.status=="string")n.then(Jn,Jn);else{if(t=ct,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=n,t.status="pending",t.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Hp(t),t}throw Ps=n,Ca}}function js(t){try{var n=t._init;return n(t._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(Ps=r,Ca):r}}var Ps=null;function Bp(){if(Ps===null)throw Error(a(459));var t=Ps;return Ps=null,t}function Hp(t){if(t===Ca||t===Cu)throw Error(a(483))}var Ia=null,Ho=0;function Du(t){var n=Ho;return Ho+=1,Ia===null&&(Ia=[]),Up(Ia,t,n)}function qo(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Mu(t,n){throw n.$$typeof===L?Error(a(525)):(t=Object.prototype.toString.call(n),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function qp(t){function n(z,k){if(t){var U=z.deletions;U===null?(z.deletions=[k],z.flags|=16):U.push(k)}}function r(z,k){if(!t)return null;for(;k!==null;)n(z,k),k=k.sibling;return null}function o(z){for(var k=new Map;z!==null;)z.key!==null?k.set(z.key,z):k.set(z.index,z),z=z.sibling;return k}function h(z,k){return z=Yi(z,k),z.index=0,z.sibling=null,z}function f(z,k,U){return z.index=U,t?(U=z.alternate,U!==null?(U=U.index,U<k?(z.flags|=67108866,k):U):(z.flags|=67108866,k)):(z.flags|=1048576,k)}function p(z){return t&&z.alternate===null&&(z.flags|=67108866),z}function T(z,k,U,Q){return k===null||k.tag!==6?(k=Uh(U,z.mode,Q),k.return=z,k):(k=h(k,U),k.return=z,k)}function C(z,k,U,Q){var ve=U.type;return ve===oe?Y(z,k,U.props.children,Q,U.key):k!==null&&(k.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===w&&js(ve)===k.type)?(k=h(k,U.props),qo(k,U),k.return=z,k):(k=Eu(U.type,U.key,U.props,null,z.mode,Q),qo(k,U),k.return=z,k)}function H(z,k,U,Q){return k===null||k.tag!==4||k.stateNode.containerInfo!==U.containerInfo||k.stateNode.implementation!==U.implementation?(k=Bh(U,z.mode,Q),k.return=z,k):(k=h(k,U.children||[]),k.return=z,k)}function Y(z,k,U,Q,ve){return k===null||k.tag!==7?(k=ks(U,z.mode,Q,ve),k.return=z,k):(k=h(k,U),k.return=z,k)}function J(z,k,U){if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return k=Uh(""+k,z.mode,U),k.return=z,k;if(typeof k=="object"&&k!==null){switch(k.$$typeof){case X:return U=Eu(k.type,k.key,k.props,null,z.mode,U),qo(U,k),U.return=z,U;case se:return k=Bh(k,z.mode,U),k.return=z,k;case w:return k=js(k),J(z,k,U)}if(pt(k)||j(k))return k=ks(k,z.mode,U,null),k.return=z,k;if(typeof k.then=="function")return J(z,Du(k),U);if(k.$$typeof===_e)return J(z,xu(z,k),U);Mu(z,k)}return null}function q(z,k,U,Q){var ve=k!==null?k.key:null;if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return ve!==null?null:T(z,k,""+U,Q);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case X:return U.key===ve?C(z,k,U,Q):null;case se:return U.key===ve?H(z,k,U,Q):null;case w:return U=js(U),q(z,k,U,Q)}if(pt(U)||j(U))return ve!==null?null:Y(z,k,U,Q,null);if(typeof U.then=="function")return q(z,k,Du(U),Q);if(U.$$typeof===_e)return q(z,k,xu(z,U),Q);Mu(z,U)}return null}function G(z,k,U,Q,ve){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return z=z.get(U)||null,T(k,z,""+Q,ve);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case X:return z=z.get(Q.key===null?U:Q.key)||null,C(k,z,Q,ve);case se:return z=z.get(Q.key===null?U:Q.key)||null,H(k,z,Q,ve);case w:return Q=js(Q),G(z,k,U,Q,ve)}if(pt(Q)||j(Q))return z=z.get(U)||null,Y(k,z,Q,ve,null);if(typeof Q.then=="function")return G(z,k,U,Du(Q),ve);if(Q.$$typeof===_e)return G(z,k,U,xu(k,Q),ve);Mu(k,Q)}return null}function he(z,k,U,Q){for(var ve=null,Ye=null,pe=k,Ve=k=0,Be=null;pe!==null&&Ve<U.length;Ve++){pe.index>Ve?(Be=pe,pe=null):Be=pe.sibling;var Qe=q(z,pe,U[Ve],Q);if(Qe===null){pe===null&&(pe=Be);break}t&&pe&&Qe.alternate===null&&n(z,pe),k=f(Qe,k,Ve),Ye===null?ve=Qe:Ye.sibling=Qe,Ye=Qe,pe=Be}if(Ve===U.length)return r(z,pe),Ge&&Qi(z,Ve),ve;if(pe===null){for(;Ve<U.length;Ve++)pe=J(z,U[Ve],Q),pe!==null&&(k=f(pe,k,Ve),Ye===null?ve=pe:Ye.sibling=pe,Ye=pe);return Ge&&Qi(z,Ve),ve}for(pe=o(pe);Ve<U.length;Ve++)Be=G(pe,z,Ve,U[Ve],Q),Be!==null&&(t&&Be.alternate!==null&&pe.delete(Be.key===null?Ve:Be.key),k=f(Be,k,Ve),Ye===null?ve=Be:Ye.sibling=Be,Ye=Be);return t&&pe.forEach(function($r){return n(z,$r)}),Ge&&Qi(z,Ve),ve}function Se(z,k,U,Q){if(U==null)throw Error(a(151));for(var ve=null,Ye=null,pe=k,Ve=k=0,Be=null,Qe=U.next();pe!==null&&!Qe.done;Ve++,Qe=U.next()){pe.index>Ve?(Be=pe,pe=null):Be=pe.sibling;var $r=q(z,pe,Qe.value,Q);if($r===null){pe===null&&(pe=Be);break}t&&pe&&$r.alternate===null&&n(z,pe),k=f($r,k,Ve),Ye===null?ve=$r:Ye.sibling=$r,Ye=$r,pe=Be}if(Qe.done)return r(z,pe),Ge&&Qi(z,Ve),ve;if(pe===null){for(;!Qe.done;Ve++,Qe=U.next())Qe=J(z,Qe.value,Q),Qe!==null&&(k=f(Qe,k,Ve),Ye===null?ve=Qe:Ye.sibling=Qe,Ye=Qe);return Ge&&Qi(z,Ve),ve}for(pe=o(pe);!Qe.done;Ve++,Qe=U.next())Qe=G(pe,z,Ve,Qe.value,Q),Qe!==null&&(t&&Qe.alternate!==null&&pe.delete(Qe.key===null?Ve:Qe.key),k=f(Qe,k,Ve),Ye===null?ve=Qe:Ye.sibling=Qe,Ye=Qe);return t&&pe.forEach(function(aT){return n(z,aT)}),Ge&&Qi(z,Ve),ve}function ut(z,k,U,Q){if(typeof U=="object"&&U!==null&&U.type===oe&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case X:e:{for(var ve=U.key;k!==null;){if(k.key===ve){if(ve=U.type,ve===oe){if(k.tag===7){r(z,k.sibling),Q=h(k,U.props.children),Q.return=z,z=Q;break e}}else if(k.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===w&&js(ve)===k.type){r(z,k.sibling),Q=h(k,U.props),qo(Q,U),Q.return=z,z=Q;break e}r(z,k);break}else n(z,k);k=k.sibling}U.type===oe?(Q=ks(U.props.children,z.mode,Q,U.key),Q.return=z,z=Q):(Q=Eu(U.type,U.key,U.props,null,z.mode,Q),qo(Q,U),Q.return=z,z=Q)}return p(z);case se:e:{for(ve=U.key;k!==null;){if(k.key===ve)if(k.tag===4&&k.stateNode.containerInfo===U.containerInfo&&k.stateNode.implementation===U.implementation){r(z,k.sibling),Q=h(k,U.children||[]),Q.return=z,z=Q;break e}else{r(z,k);break}else n(z,k);k=k.sibling}Q=Bh(U,z.mode,Q),Q.return=z,z=Q}return p(z);case w:return U=js(U),ut(z,k,U,Q)}if(pt(U))return he(z,k,U,Q);if(j(U)){if(ve=j(U),typeof ve!="function")throw Error(a(150));return U=ve.call(U),Se(z,k,U,Q)}if(typeof U.then=="function")return ut(z,k,Du(U),Q);if(U.$$typeof===_e)return ut(z,k,xu(z,U),Q);Mu(z,U)}return typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint"?(U=""+U,k!==null&&k.tag===6?(r(z,k.sibling),Q=h(k,U),Q.return=z,z=Q):(r(z,k),Q=Uh(U,z.mode,Q),Q.return=z,z=Q),p(z)):r(z,k)}return function(z,k,U,Q){try{Ho=0;var ve=ut(z,k,U,Q);return Ia=null,ve}catch(pe){if(pe===Ca||pe===Cu)throw pe;var Ye=wn(29,pe,null,z.mode);return Ye.lanes=Q,Ye.return=z,Ye}}}var Us=qp(!0),Fp=qp(!1),Vr=!1;function Zh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ef(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Lr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function zr(t,n,r){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,($e&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=Su(t),Rp(t,null,r),n}return Tu(t,o,n,r),Su(t)}function Fo(t,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var o=n.lanes;o&=t.pendingLanes,r|=o,n.lanes=r,yo(t,r)}}function tf(t,n){var r=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,r===o)){var h=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var p={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?h=f=p:f=f.next=p,r=r.next}while(r!==null);f===null?h=f=n:f=f.next=n}else h=f=n;r={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=n:t.next=n,r.lastBaseUpdate=n}var nf=!1;function Go(){if(nf){var t=Ra;if(t!==null)throw t}}function Ko(t,n,r,o){nf=!1;var h=t.updateQueue;Vr=!1;var f=h.firstBaseUpdate,p=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var C=T,H=C.next;C.next=null,p===null?f=H:p.next=H,p=C;var Y=t.alternate;Y!==null&&(Y=Y.updateQueue,T=Y.lastBaseUpdate,T!==p&&(T===null?Y.firstBaseUpdate=H:T.next=H,Y.lastBaseUpdate=C))}if(f!==null){var J=h.baseState;p=0,Y=H=C=null,T=f;do{var q=T.lane&-536870913,G=q!==T.lane;if(G?(Ue&q)===q:(o&q)===q){q!==0&&q===xa&&(nf=!0),Y!==null&&(Y=Y.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var he=t,Se=T;q=n;var ut=r;switch(Se.tag){case 1:if(he=Se.payload,typeof he=="function"){J=he.call(ut,J,q);break e}J=he;break e;case 3:he.flags=he.flags&-65537|128;case 0:if(he=Se.payload,q=typeof he=="function"?he.call(ut,J,q):he,q==null)break e;J=x({},J,q);break e;case 2:Vr=!0}}q=T.callback,q!==null&&(t.flags|=64,G&&(t.flags|=8192),G=h.callbacks,G===null?h.callbacks=[q]:G.push(q))}else G={lane:q,tag:T.tag,payload:T.payload,callback:T.callback,next:null},Y===null?(H=Y=G,C=J):Y=Y.next=G,p|=q;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;G=T,T=G.next,G.next=null,h.lastBaseUpdate=G,h.shared.pending=null}}while(!0);Y===null&&(C=J),h.baseState=C,h.firstBaseUpdate=H,h.lastBaseUpdate=Y,f===null&&(h.shared.lanes=0),Hr|=p,t.lanes=p,t.memoizedState=J}}function Gp(t,n){if(typeof t!="function")throw Error(a(191,t));t.call(n)}function Kp(t,n){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)Gp(r[t],n)}var Da=O(null),Ou=O(0);function Wp(t,n){t=ar,ie(Ou,t),ie(Da,n),ar=t|n.baseLanes}function rf(){ie(Ou,ar),ie(Da,Da.current)}function sf(){ar=Ou.current,W(Da),W(Ou)}var xn=O(null),Hn=null;function jr(t){var n=t.alternate;ie(xt,xt.current&1),ie(xn,t),Hn===null&&(n===null||Da.current!==null||n.memoizedState!==null)&&(Hn=t)}function af(t){ie(xt,xt.current),ie(xn,t),Hn===null&&(Hn=t)}function Yp(t){t.tag===22?(ie(xt,xt.current),ie(xn,t),Hn===null&&(Hn=t)):Pr()}function Pr(){ie(xt,xt.current),ie(xn,xn.current)}function Rn(t){W(xn),Hn===t&&(Hn=null),W(xt)}var xt=O(0);function ku(t){for(var n=t;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||fd(r)||dd(r)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var $i=0,Ne=null,ot=null,Nt=null,Nu=!1,Ma=!1,Bs=!1,Vu=0,Wo=0,Oa=null,Xb=0;function Et(){throw Error(a(321))}function of(t,n){if(n===null)return!1;for(var r=0;r<n.length&&r<t.length;r++)if(!An(t[r],n[r]))return!1;return!0}function lf(t,n,r,o,h,f){return $i=f,Ne=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,K.H=t===null||t.memoizedState===null?Mm:Ef,Bs=!1,f=r(o,h),Bs=!1,Ma&&(f=Xp(n,r,o,h)),Qp(t),f}function Qp(t){K.H=Xo;var n=ot!==null&&ot.next!==null;if($i=0,Nt=ot=Ne=null,Nu=!1,Wo=0,Oa=null,n)throw Error(a(300));t===null||Vt||(t=t.dependencies,t!==null&&wu(t)&&(Vt=!0))}function Xp(t,n,r,o){Ne=t;var h=0;do{if(Ma&&(Oa=null),Wo=0,Ma=!1,25<=h)throw Error(a(301));if(h+=1,Nt=ot=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}K.H=Om,f=n(r,o)}while(Ma);return f}function Jb(){var t=K.H,n=t.useState()[0];return n=typeof n.then=="function"?Yo(n):n,t=t.useState()[0],(ot!==null?ot.memoizedState:null)!==t&&(Ne.flags|=1024),n}function uf(){var t=Vu!==0;return Vu=0,t}function cf(t,n,r){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~r}function hf(t){if(Nu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Nu=!1}$i=0,Nt=ot=Ne=null,Ma=!1,Wo=Vu=0,Oa=null}function hn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Nt===null?Ne.memoizedState=Nt=t:Nt=Nt.next=t,Nt}function Rt(){if(ot===null){var t=Ne.alternate;t=t!==null?t.memoizedState:null}else t=ot.next;var n=Nt===null?Ne.memoizedState:Nt.next;if(n!==null)Nt=n,ot=t;else{if(t===null)throw Ne.alternate===null?Error(a(467)):Error(a(310));ot=t,t={memoizedState:ot.memoizedState,baseState:ot.baseState,baseQueue:ot.baseQueue,queue:ot.queue,next:null},Nt===null?Ne.memoizedState=Nt=t:Nt=Nt.next=t}return Nt}function Lu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Yo(t){var n=Wo;return Wo+=1,Oa===null&&(Oa=[]),t=Up(Oa,t,n),n=Ne,(Nt===null?n.memoizedState:Nt.next)===null&&(n=n.alternate,K.H=n===null||n.memoizedState===null?Mm:Ef),t}function zu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Yo(t);if(t.$$typeof===_e)return Jt(t)}throw Error(a(438,String(t)))}function ff(t){var n=null,r=Ne.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var o=Ne.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=Lu(),Ne.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(t),o=0;o<t;o++)r[o]=V;return n.index++,r}function Zi(t,n){return typeof n=="function"?n(t):n}function ju(t){var n=Rt();return df(n,ot,t)}function df(t,n,r){var o=t.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=r;var h=t.baseQueue,f=o.pending;if(f!==null){if(h!==null){var p=h.next;h.next=f.next,f.next=p}n.baseQueue=h=f,o.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{n=h.next;var T=p=null,C=null,H=n,Y=!1;do{var J=H.lane&-536870913;if(J!==H.lane?(Ue&J)===J:($i&J)===J){var q=H.revertLane;if(q===0)C!==null&&(C=C.next={lane:0,revertLane:0,gesture:null,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),J===xa&&(Y=!0);else if(($i&q)===q){H=H.next,q===xa&&(Y=!0);continue}else J={lane:0,revertLane:H.revertLane,gesture:null,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},C===null?(T=C=J,p=f):C=C.next=J,Ne.lanes|=q,Hr|=q;J=H.action,Bs&&r(f,J),f=H.hasEagerState?H.eagerState:r(f,J)}else q={lane:J,revertLane:H.revertLane,gesture:H.gesture,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},C===null?(T=C=q,p=f):C=C.next=q,Ne.lanes|=J,Hr|=J;H=H.next}while(H!==null&&H!==n);if(C===null?p=f:C.next=T,!An(f,t.memoizedState)&&(Vt=!0,Y&&(r=Ra,r!==null)))throw r;t.memoizedState=f,t.baseState=p,t.baseQueue=C,o.lastRenderedState=f}return h===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function gf(t){var n=Rt(),r=n.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=t;var o=r.dispatch,h=r.pending,f=n.memoizedState;if(h!==null){r.pending=null;var p=h=h.next;do f=t(f,p.action),p=p.next;while(p!==h);An(f,n.memoizedState)||(Vt=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,o]}function Jp(t,n,r){var o=Ne,h=Rt(),f=Ge;if(f){if(r===void 0)throw Error(a(407));r=r()}else r=n();var p=!An((ot||h).memoizedState,r);if(p&&(h.memoizedState=r,Vt=!0),h=h.queue,yf(em.bind(null,o,h,t),[t]),h.getSnapshot!==n||p||Nt!==null&&Nt.memoizedState.tag&1){if(o.flags|=2048,ka(9,{destroy:void 0},Zp.bind(null,o,h,r,n),null),ct===null)throw Error(a(349));f||($i&127)!==0||$p(o,n,r)}return r}function $p(t,n,r){t.flags|=16384,t={getSnapshot:n,value:r},n=Ne.updateQueue,n===null?(n=Lu(),Ne.updateQueue=n,n.stores=[t]):(r=n.stores,r===null?n.stores=[t]:r.push(t))}function Zp(t,n,r,o){n.value=r,n.getSnapshot=o,tm(n)&&nm(t)}function em(t,n,r){return r(function(){tm(n)&&nm(t)})}function tm(t){var n=t.getSnapshot;t=t.value;try{var r=n();return!An(t,r)}catch{return!0}}function nm(t){var n=Os(t,2);n!==null&&bn(n,t,2)}function pf(t){var n=hn();if(typeof t=="function"){var r=t;if(t=r(),Bs){Re(!0);try{r()}finally{Re(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zi,lastRenderedState:t},n}function im(t,n,r,o){return t.baseState=r,df(t,ot,typeof o=="function"?o:Zi)}function $b(t,n,r,o,h){if(Bu(t))throw Error(a(485));if(t=n.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(p){f.listeners.push(p)}};K.T!==null?r(!0):f.isTransition=!1,o(f),r=n.pending,r===null?(f.next=n.pending=f,rm(n,f)):(f.next=r.next,n.pending=r.next=f)}}function rm(t,n){var r=n.action,o=n.payload,h=t.state;if(n.isTransition){var f=K.T,p={};K.T=p;try{var T=r(h,o),C=K.S;C!==null&&C(p,T),sm(t,n,T)}catch(H){mf(t,n,H)}finally{f!==null&&p.types!==null&&(f.types=p.types),K.T=f}}else try{f=r(h,o),sm(t,n,f)}catch(H){mf(t,n,H)}}function sm(t,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(o){am(t,n,o)},function(o){return mf(t,n,o)}):am(t,n,r)}function am(t,n,r){n.status="fulfilled",n.value=r,om(n),t.state=r,n=t.pending,n!==null&&(r=n.next,r===n?t.pending=null:(r=r.next,n.next=r,rm(t,r)))}function mf(t,n,r){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=r,om(n),n=n.next;while(n!==o)}t.action=null}function om(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function lm(t,n){return n}function um(t,n){if(Ge){var r=ct.formState;if(r!==null){e:{var o=Ne;if(Ge){if(ft){t:{for(var h=ft,f=Bn;h.nodeType!==8;){if(!f){h=null;break t}if(h=qn(h.nextSibling),h===null){h=null;break t}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){ft=qn(h.nextSibling),o=h.data==="F!";break e}}kr(o)}o=!1}o&&(n=r[0])}}return r=hn(),r.memoizedState=r.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:lm,lastRenderedState:n},r.queue=o,r=Cm.bind(null,Ne,o),o.dispatch=r,o=pf(!1),f=Sf.bind(null,Ne,!1,o.queue),o=hn(),h={state:n,dispatch:null,action:t,pending:null},o.queue=h,r=$b.bind(null,Ne,h,f,r),h.dispatch=r,o.memoizedState=t,[n,r,!1]}function cm(t){var n=Rt();return hm(n,ot,t)}function hm(t,n,r){if(n=df(t,n,lm)[0],t=ju(Zi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=Yo(n)}catch(p){throw p===Ca?Cu:p}else o=n;n=Rt();var h=n.queue,f=h.dispatch;return r!==n.memoizedState&&(Ne.flags|=2048,ka(9,{destroy:void 0},Zb.bind(null,h,r),null)),[o,f,t]}function Zb(t,n){t.action=n}function fm(t){var n=Rt(),r=ot;if(r!==null)return hm(n,r,t);Rt(),n=n.memoizedState,r=Rt();var o=r.queue.dispatch;return r.memoizedState=t,[n,o,!1]}function ka(t,n,r,o){return t={tag:t,create:r,deps:o,inst:n,next:null},n=Ne.updateQueue,n===null&&(n=Lu(),Ne.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=t.next=t:(o=r.next,r.next=t,t.next=o,n.lastEffect=t),t}function dm(){return Rt().memoizedState}function Pu(t,n,r,o){var h=hn();Ne.flags|=t,h.memoizedState=ka(1|n,{destroy:void 0},r,o===void 0?null:o)}function Uu(t,n,r,o){var h=Rt();o=o===void 0?null:o;var f=h.memoizedState.inst;ot!==null&&o!==null&&of(o,ot.memoizedState.deps)?h.memoizedState=ka(n,f,r,o):(Ne.flags|=t,h.memoizedState=ka(1|n,f,r,o))}function gm(t,n){Pu(8390656,8,t,n)}function yf(t,n){Uu(2048,8,t,n)}function e2(t){Ne.flags|=4;var n=Ne.updateQueue;if(n===null)n=Lu(),Ne.updateQueue=n,n.events=[t];else{var r=n.events;r===null?n.events=[t]:r.push(t)}}function pm(t){var n=Rt().memoizedState;return e2({ref:n,nextImpl:t}),function(){if(($e&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function mm(t,n){return Uu(4,2,t,n)}function ym(t,n){return Uu(4,4,t,n)}function vm(t,n){if(typeof n=="function"){t=t();var r=n(t);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function _m(t,n,r){r=r!=null?r.concat([t]):null,Uu(4,4,vm.bind(null,n,t),r)}function vf(){}function bm(t,n){var r=Rt();n=n===void 0?null:n;var o=r.memoizedState;return n!==null&&of(n,o[1])?o[0]:(r.memoizedState=[t,n],t)}function Tm(t,n){var r=Rt();n=n===void 0?null:n;var o=r.memoizedState;if(n!==null&&of(n,o[1]))return o[0];if(o=t(),Bs){Re(!0);try{t()}finally{Re(!1)}}return r.memoizedState=[o,n],o}function _f(t,n,r){return r===void 0||($i&1073741824)!==0&&(Ue&261930)===0?t.memoizedState=n:(t.memoizedState=r,t=Sy(),Ne.lanes|=t,Hr|=t,r)}function Sm(t,n,r,o){return An(r,n)?r:Da.current!==null?(t=_f(t,r,o),An(t,n)||(Vt=!0),t):($i&42)===0||($i&1073741824)!==0&&(Ue&261930)===0?(Vt=!0,t.memoizedState=r):(t=Sy(),Ne.lanes|=t,Hr|=t,n)}function Em(t,n,r,o,h){var f=te.p;te.p=f!==0&&8>f?f:8;var p=K.T,T={};K.T=T,Sf(t,!1,n,r);try{var C=h(),H=K.S;if(H!==null&&H(T,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var Y=Qb(C,o);Qo(t,n,Y,Dn(t))}else Qo(t,n,o,Dn(t))}catch(J){Qo(t,n,{then:function(){},status:"rejected",reason:J},Dn())}finally{te.p=f,p!==null&&T.types!==null&&(p.types=T.types),K.T=p}}function t2(){}function bf(t,n,r,o){if(t.tag!==5)throw Error(a(476));var h=Am(t).queue;Em(t,h,n,ce,r===null?t2:function(){return wm(t),r(o)})}function Am(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:ce,baseState:ce,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zi,lastRenderedState:ce},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zi,lastRenderedState:r},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function wm(t){var n=Am(t);n.next===null&&(n=t.alternate.memoizedState),Qo(t,n.next.queue,{},Dn())}function Tf(){return Jt(fl)}function xm(){return Rt().memoizedState}function Rm(){return Rt().memoizedState}function n2(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var r=Dn();t=Lr(r);var o=zr(n,t,r);o!==null&&(bn(o,n,r),Fo(o,n,r)),n={cache:Qh()},t.payload=n;return}n=n.return}}function i2(t,n,r){var o=Dn();r={lane:o,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Bu(t)?Im(n,r):(r=jh(t,n,r,o),r!==null&&(bn(r,t,o),Dm(r,n,o)))}function Cm(t,n,r){var o=Dn();Qo(t,n,r,o)}function Qo(t,n,r,o){var h={lane:o,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(Bu(t))Im(n,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var p=n.lastRenderedState,T=f(p,r);if(h.hasEagerState=!0,h.eagerState=T,An(T,p))return Tu(t,n,h,0),ct===null&&bu(),!1}catch{}if(r=jh(t,n,h,o),r!==null)return bn(r,t,o),Dm(r,n,o),!0}return!1}function Sf(t,n,r,o){if(o={lane:2,revertLane:ed(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Bu(t)){if(n)throw Error(a(479))}else n=jh(t,r,o,2),n!==null&&bn(n,t,2)}function Bu(t){var n=t.alternate;return t===Ne||n!==null&&n===Ne}function Im(t,n){Ma=Nu=!0;var r=t.pending;r===null?n.next=n:(n.next=r.next,r.next=n),t.pending=n}function Dm(t,n,r){if((r&4194048)!==0){var o=n.lanes;o&=t.pendingLanes,r|=o,n.lanes=r,yo(t,r)}}var Xo={readContext:Jt,use:zu,useCallback:Et,useContext:Et,useEffect:Et,useImperativeHandle:Et,useLayoutEffect:Et,useInsertionEffect:Et,useMemo:Et,useReducer:Et,useRef:Et,useState:Et,useDebugValue:Et,useDeferredValue:Et,useTransition:Et,useSyncExternalStore:Et,useId:Et,useHostTransitionStatus:Et,useFormState:Et,useActionState:Et,useOptimistic:Et,useMemoCache:Et,useCacheRefresh:Et};Xo.useEffectEvent=Et;var Mm={readContext:Jt,use:zu,useCallback:function(t,n){return hn().memoizedState=[t,n===void 0?null:n],t},useContext:Jt,useEffect:gm,useImperativeHandle:function(t,n,r){r=r!=null?r.concat([t]):null,Pu(4194308,4,vm.bind(null,n,t),r)},useLayoutEffect:function(t,n){return Pu(4194308,4,t,n)},useInsertionEffect:function(t,n){Pu(4,2,t,n)},useMemo:function(t,n){var r=hn();n=n===void 0?null:n;var o=t();if(Bs){Re(!0);try{t()}finally{Re(!1)}}return r.memoizedState=[o,n],o},useReducer:function(t,n,r){var o=hn();if(r!==void 0){var h=r(n);if(Bs){Re(!0);try{r(n)}finally{Re(!1)}}}else h=n;return o.memoizedState=o.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},o.queue=t,t=t.dispatch=i2.bind(null,Ne,t),[o.memoizedState,t]},useRef:function(t){var n=hn();return t={current:t},n.memoizedState=t},useState:function(t){t=pf(t);var n=t.queue,r=Cm.bind(null,Ne,n);return n.dispatch=r,[t.memoizedState,r]},useDebugValue:vf,useDeferredValue:function(t,n){var r=hn();return _f(r,t,n)},useTransition:function(){var t=pf(!1);return t=Em.bind(null,Ne,t.queue,!0,!1),hn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,r){var o=Ne,h=hn();if(Ge){if(r===void 0)throw Error(a(407));r=r()}else{if(r=n(),ct===null)throw Error(a(349));(Ue&127)!==0||$p(o,n,r)}h.memoizedState=r;var f={value:r,getSnapshot:n};return h.queue=f,gm(em.bind(null,o,f,t),[t]),o.flags|=2048,ka(9,{destroy:void 0},Zp.bind(null,o,f,r,n),null),r},useId:function(){var t=hn(),n=ct.identifierPrefix;if(Ge){var r=Di,o=Ii;r=(o&~(1<<32-Le(o)-1)).toString(32)+r,n="_"+n+"R_"+r,r=Vu++,0<r&&(n+="H"+r.toString(32)),n+="_"}else r=Xb++,n="_"+n+"r_"+r.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:Tf,useFormState:um,useActionState:um,useOptimistic:function(t){var n=hn();n.memoizedState=n.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=Sf.bind(null,Ne,!0,r),r.dispatch=n,[t,n]},useMemoCache:ff,useCacheRefresh:function(){return hn().memoizedState=n2.bind(null,Ne)},useEffectEvent:function(t){var n=hn(),r={impl:t};return n.memoizedState=r,function(){if(($e&2)!==0)throw Error(a(440));return r.impl.apply(void 0,arguments)}}},Ef={readContext:Jt,use:zu,useCallback:bm,useContext:Jt,useEffect:yf,useImperativeHandle:_m,useInsertionEffect:mm,useLayoutEffect:ym,useMemo:Tm,useReducer:ju,useRef:dm,useState:function(){return ju(Zi)},useDebugValue:vf,useDeferredValue:function(t,n){var r=Rt();return Sm(r,ot.memoizedState,t,n)},useTransition:function(){var t=ju(Zi)[0],n=Rt().memoizedState;return[typeof t=="boolean"?t:Yo(t),n]},useSyncExternalStore:Jp,useId:xm,useHostTransitionStatus:Tf,useFormState:cm,useActionState:cm,useOptimistic:function(t,n){var r=Rt();return im(r,ot,t,n)},useMemoCache:ff,useCacheRefresh:Rm};Ef.useEffectEvent=pm;var Om={readContext:Jt,use:zu,useCallback:bm,useContext:Jt,useEffect:yf,useImperativeHandle:_m,useInsertionEffect:mm,useLayoutEffect:ym,useMemo:Tm,useReducer:gf,useRef:dm,useState:function(){return gf(Zi)},useDebugValue:vf,useDeferredValue:function(t,n){var r=Rt();return ot===null?_f(r,t,n):Sm(r,ot.memoizedState,t,n)},useTransition:function(){var t=gf(Zi)[0],n=Rt().memoizedState;return[typeof t=="boolean"?t:Yo(t),n]},useSyncExternalStore:Jp,useId:xm,useHostTransitionStatus:Tf,useFormState:fm,useActionState:fm,useOptimistic:function(t,n){var r=Rt();return ot!==null?im(r,ot,t,n):(r.baseState=t,[t,r.queue.dispatch])},useMemoCache:ff,useCacheRefresh:Rm};Om.useEffectEvent=pm;function Af(t,n,r,o){n=t.memoizedState,r=r(o,n),r=r==null?n:x({},n,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var wf={enqueueSetState:function(t,n,r){t=t._reactInternals;var o=Dn(),h=Lr(o);h.payload=n,r!=null&&(h.callback=r),n=zr(t,h,o),n!==null&&(bn(n,t,o),Fo(n,t,o))},enqueueReplaceState:function(t,n,r){t=t._reactInternals;var o=Dn(),h=Lr(o);h.tag=1,h.payload=n,r!=null&&(h.callback=r),n=zr(t,h,o),n!==null&&(bn(n,t,o),Fo(n,t,o))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var r=Dn(),o=Lr(r);o.tag=2,n!=null&&(o.callback=n),n=zr(t,o,r),n!==null&&(bn(n,t,r),Fo(n,t,r))}};function km(t,n,r,o,h,f,p){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,f,p):n.prototype&&n.prototype.isPureReactComponent?!Lo(r,o)||!Lo(h,f):!0}function Nm(t,n,r,o){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,o),n.state!==t&&wf.enqueueReplaceState(n,n.state,null)}function Hs(t,n){var r=n;if("ref"in n){r={};for(var o in n)o!=="ref"&&(r[o]=n[o])}if(t=t.defaultProps){r===n&&(r=x({},r));for(var h in t)r[h]===void 0&&(r[h]=t[h])}return r}function Vm(t){_u(t)}function Lm(t){console.error(t)}function zm(t){_u(t)}function Hu(t,n){try{var r=t.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function jm(t,n,r){try{var o=t.onCaughtError;o(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function xf(t,n,r){return r=Lr(r),r.tag=3,r.payload={element:null},r.callback=function(){Hu(t,n)},r}function Pm(t){return t=Lr(t),t.tag=3,t}function Um(t,n,r,o){var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;t.payload=function(){return h(f)},t.callback=function(){jm(n,r,o)}}var p=r.stateNode;p!==null&&typeof p.componentDidCatch=="function"&&(t.callback=function(){jm(n,r,o),typeof h!="function"&&(qr===null?qr=new Set([this]):qr.add(this));var T=o.stack;this.componentDidCatch(o.value,{componentStack:T!==null?T:""})})}function r2(t,n,r,o,h){if(r.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=r.alternate,n!==null&&wa(n,r,h,!0),r=xn.current,r!==null){switch(r.tag){case 31:case 13:return Hn===null?ec():r.alternate===null&&At===0&&(At=3),r.flags&=-257,r.flags|=65536,r.lanes=h,o===Iu?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([o]):n.add(o),Jf(t,o,h)),!1;case 22:return r.flags|=65536,o===Iu?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([o]):r.add(o)),Jf(t,o,h)),!1}throw Error(a(435,r.tag))}return Jf(t,o,h),ec(),!1}if(Ge)return n=xn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==Fh&&(t=Error(a(422),{cause:o}),Po(jn(t,r)))):(o!==Fh&&(n=Error(a(423),{cause:o}),Po(jn(n,r))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,o=jn(o,r),h=xf(t.stateNode,o,h),tf(t,h),At!==4&&(At=2)),!1;var f=Error(a(520),{cause:o});if(f=jn(f,r),rl===null?rl=[f]:rl.push(f),At!==4&&(At=2),n===null)return!0;o=jn(o,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,t=h&-h,r.lanes|=t,t=xf(r.stateNode,o,t),tf(r,t),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(qr===null||!qr.has(f))))return r.flags|=65536,h&=-h,r.lanes|=h,h=Pm(h),Um(h,t,r,o),tf(r,h),!1}r=r.return}while(r!==null);return!1}var Rf=Error(a(461)),Vt=!1;function $t(t,n,r,o){n.child=t===null?Fp(n,null,r,o):Us(n,t.child,r,o)}function Bm(t,n,r,o,h){r=r.render;var f=n.ref;if("ref"in o){var p={};for(var T in o)T!=="ref"&&(p[T]=o[T])}else p=o;return Ls(n),o=lf(t,n,r,p,f,h),T=uf(),t!==null&&!Vt?(cf(t,n,h),er(t,n,h)):(Ge&&T&&Hh(n),n.flags|=1,$t(t,n,o,h),n.child)}function Hm(t,n,r,o,h){if(t===null){var f=r.type;return typeof f=="function"&&!Ph(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,qm(t,n,f,o,h)):(t=Eu(r.type,null,o,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!Vf(t,h)){var p=f.memoizedProps;if(r=r.compare,r=r!==null?r:Lo,r(p,o)&&t.ref===n.ref)return er(t,n,h)}return n.flags|=1,t=Yi(f,o),t.ref=n.ref,t.return=n,n.child=t}function qm(t,n,r,o,h){if(t!==null){var f=t.memoizedProps;if(Lo(f,o)&&t.ref===n.ref)if(Vt=!1,n.pendingProps=o=f,Vf(t,h))(t.flags&131072)!==0&&(Vt=!0);else return n.lanes=t.lanes,er(t,n,h)}return Cf(t,n,r,o,h)}function Fm(t,n,r,o){var h=o.children,f=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|r:r,t!==null){for(o=n.child=t.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return Gm(t,n,f,r,o)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Ru(n,f!==null?f.cachePool:null),f!==null?Wp(n,f):rf(),Yp(n);else return o=n.lanes=536870912,Gm(t,n,f!==null?f.baseLanes|r:r,r,o)}else f!==null?(Ru(n,f.cachePool),Wp(n,f),Pr(),n.memoizedState=null):(t!==null&&Ru(n,null),rf(),Pr());return $t(t,n,h,r),n.child}function Jo(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Gm(t,n,r,o,h){var f=Jh();return f=f===null?null:{parent:kt._currentValue,pool:f},n.memoizedState={baseLanes:r,cachePool:f},t!==null&&Ru(n,null),rf(),Yp(n),t!==null&&wa(t,n,o,!0),n.childLanes=h,null}function qu(t,n){return n=Gu({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function Km(t,n,r){return Us(n,t.child,null,r),t=qu(n,n.pendingProps),t.flags|=2,Rn(n),n.memoizedState=null,t}function s2(t,n,r){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(Ge){if(o.mode==="hidden")return t=qu(n,o),n.lanes=536870912,Jo(null,t);if(af(n),(t=ft)?(t=r0(t,Bn),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Mr!==null?{id:Ii,overflow:Di}:null,retryLane:536870912,hydrationErrors:null},r=Ip(t),r.return=n,n.child=r,Xt=n,ft=null)):t=null,t===null)throw kr(n);return n.lanes=536870912,null}return qu(n,o)}var f=t.memoizedState;if(f!==null){var p=f.dehydrated;if(af(n),h)if(n.flags&256)n.flags&=-257,n=Km(t,n,r);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(a(558));else if(Vt||wa(t,n,r,!1),h=(r&t.childLanes)!==0,Vt||h){if(o=ct,o!==null&&(p=vo(o,r),p!==0&&p!==f.retryLane))throw f.retryLane=p,Os(t,p),bn(o,t,p),Rf;ec(),n=Km(t,n,r)}else t=f.treeContext,ft=qn(p.nextSibling),Xt=n,Ge=!0,Or=null,Bn=!1,t!==null&&Op(n,t),n=qu(n,o),n.flags|=4096;return n}return t=Yi(t.child,{mode:o.mode,children:o.children}),t.ref=n.ref,n.child=t,t.return=n,t}function Fu(t,n){var r=n.ref;if(r===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(a(284));(t===null||t.ref!==r)&&(n.flags|=4194816)}}function Cf(t,n,r,o,h){return Ls(n),r=lf(t,n,r,o,void 0,h),o=uf(),t!==null&&!Vt?(cf(t,n,h),er(t,n,h)):(Ge&&o&&Hh(n),n.flags|=1,$t(t,n,r,h),n.child)}function Wm(t,n,r,o,h,f){return Ls(n),n.updateQueue=null,r=Xp(n,o,r,h),Qp(t),o=uf(),t!==null&&!Vt?(cf(t,n,f),er(t,n,f)):(Ge&&o&&Hh(n),n.flags|=1,$t(t,n,r,f),n.child)}function Ym(t,n,r,o,h){if(Ls(n),n.stateNode===null){var f=Ta,p=r.contextType;typeof p=="object"&&p!==null&&(f=Jt(p)),f=new r(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=wf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},Zh(n),p=r.contextType,f.context=typeof p=="object"&&p!==null?Jt(p):Ta,f.state=n.memoizedState,p=r.getDerivedStateFromProps,typeof p=="function"&&(Af(n,r,p,o),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(p=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),p!==f.state&&wf.enqueueReplaceState(f,f.state,null),Ko(n,o,f,h),Go(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(t===null){f=n.stateNode;var T=n.memoizedProps,C=Hs(r,T);f.props=C;var H=f.context,Y=r.contextType;p=Ta,typeof Y=="object"&&Y!==null&&(p=Jt(Y));var J=r.getDerivedStateFromProps;Y=typeof J=="function"||typeof f.getSnapshotBeforeUpdate=="function",T=n.pendingProps!==T,Y||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(T||H!==p)&&Nm(n,f,o,p),Vr=!1;var q=n.memoizedState;f.state=q,Ko(n,o,f,h),Go(),H=n.memoizedState,T||q!==H||Vr?(typeof J=="function"&&(Af(n,r,J,o),H=n.memoizedState),(C=Vr||km(n,r,C,o,q,H,p))?(Y||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=H),f.props=o,f.state=H,f.context=p,o=C):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,ef(t,n),p=n.memoizedProps,Y=Hs(r,p),f.props=Y,J=n.pendingProps,q=f.context,H=r.contextType,C=Ta,typeof H=="object"&&H!==null&&(C=Jt(H)),T=r.getDerivedStateFromProps,(H=typeof T=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(p!==J||q!==C)&&Nm(n,f,o,C),Vr=!1,q=n.memoizedState,f.state=q,Ko(n,o,f,h),Go();var G=n.memoizedState;p!==J||q!==G||Vr||t!==null&&t.dependencies!==null&&wu(t.dependencies)?(typeof T=="function"&&(Af(n,r,T,o),G=n.memoizedState),(Y=Vr||km(n,r,Y,o,q,G,C)||t!==null&&t.dependencies!==null&&wu(t.dependencies))?(H||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,G,C),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,G,C)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||p===t.memoizedProps&&q===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===t.memoizedProps&&q===t.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=G),f.props=o,f.state=G,f.context=C,o=Y):(typeof f.componentDidUpdate!="function"||p===t.memoizedProps&&q===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===t.memoizedProps&&q===t.memoizedState||(n.flags|=1024),o=!1)}return f=o,Fu(t,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,r=o&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&o?(n.child=Us(n,t.child,null,h),n.child=Us(n,null,r,h)):$t(t,n,r,h),n.memoizedState=f.state,t=n.child):t=er(t,n,h),t}function Qm(t,n,r,o){return Ns(),n.flags|=256,$t(t,n,r,o),n.child}var If={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Df(t){return{baseLanes:t,cachePool:jp()}}function Mf(t,n,r){return t=t!==null?t.childLanes&~r:0,n&&(t|=In),t}function Xm(t,n,r){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,p;if((p=f)||(p=t!==null&&t.memoizedState===null?!1:(xt.current&2)!==0),p&&(h=!0,n.flags&=-129),p=(n.flags&32)!==0,n.flags&=-33,t===null){if(Ge){if(h?jr(n):Pr(),(t=ft)?(t=r0(t,Bn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Mr!==null?{id:Ii,overflow:Di}:null,retryLane:536870912,hydrationErrors:null},r=Ip(t),r.return=n,n.child=r,Xt=n,ft=null)):t=null,t===null)throw kr(n);return dd(t)?n.lanes=32:n.lanes=536870912,null}var T=o.children;return o=o.fallback,h?(Pr(),h=n.mode,T=Gu({mode:"hidden",children:T},h),o=ks(o,h,r,null),T.return=n,o.return=n,T.sibling=o,n.child=T,o=n.child,o.memoizedState=Df(r),o.childLanes=Mf(t,p,r),n.memoizedState=If,Jo(null,o)):(jr(n),Of(n,T))}var C=t.memoizedState;if(C!==null&&(T=C.dehydrated,T!==null)){if(f)n.flags&256?(jr(n),n.flags&=-257,n=kf(t,n,r)):n.memoizedState!==null?(Pr(),n.child=t.child,n.flags|=128,n=null):(Pr(),T=o.fallback,h=n.mode,o=Gu({mode:"visible",children:o.children},h),T=ks(T,h,r,null),T.flags|=2,o.return=n,T.return=n,o.sibling=T,n.child=o,Us(n,t.child,null,r),o=n.child,o.memoizedState=Df(r),o.childLanes=Mf(t,p,r),n.memoizedState=If,n=Jo(null,o));else if(jr(n),dd(T)){if(p=T.nextSibling&&T.nextSibling.dataset,p)var H=p.dgst;p=H,o=Error(a(419)),o.stack="",o.digest=p,Po({value:o,source:null,stack:null}),n=kf(t,n,r)}else if(Vt||wa(t,n,r,!1),p=(r&t.childLanes)!==0,Vt||p){if(p=ct,p!==null&&(o=vo(p,r),o!==0&&o!==C.retryLane))throw C.retryLane=o,Os(t,o),bn(p,t,o),Rf;fd(T)||ec(),n=kf(t,n,r)}else fd(T)?(n.flags|=192,n.child=t.child,n=null):(t=C.treeContext,ft=qn(T.nextSibling),Xt=n,Ge=!0,Or=null,Bn=!1,t!==null&&Op(n,t),n=Of(n,o.children),n.flags|=4096);return n}return h?(Pr(),T=o.fallback,h=n.mode,C=t.child,H=C.sibling,o=Yi(C,{mode:"hidden",children:o.children}),o.subtreeFlags=C.subtreeFlags&65011712,H!==null?T=Yi(H,T):(T=ks(T,h,r,null),T.flags|=2),T.return=n,o.return=n,o.sibling=T,n.child=o,Jo(null,o),o=n.child,T=t.child.memoizedState,T===null?T=Df(r):(h=T.cachePool,h!==null?(C=kt._currentValue,h=h.parent!==C?{parent:C,pool:C}:h):h=jp(),T={baseLanes:T.baseLanes|r,cachePool:h}),o.memoizedState=T,o.childLanes=Mf(t,p,r),n.memoizedState=If,Jo(t.child,o)):(jr(n),r=t.child,t=r.sibling,r=Yi(r,{mode:"visible",children:o.children}),r.return=n,r.sibling=null,t!==null&&(p=n.deletions,p===null?(n.deletions=[t],n.flags|=16):p.push(t)),n.child=r,n.memoizedState=null,r)}function Of(t,n){return n=Gu({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function Gu(t,n){return t=wn(22,t,null,n),t.lanes=0,t}function kf(t,n,r){return Us(n,t.child,null,r),t=Of(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function Jm(t,n,r){t.lanes|=n;var o=t.alternate;o!==null&&(o.lanes|=n),Wh(t.return,n,r)}function Nf(t,n,r,o,h,f){var p=t.memoizedState;p===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:r,tailMode:h,treeForkCount:f}:(p.isBackwards=n,p.rendering=null,p.renderingStartTime=0,p.last=o,p.tail=r,p.tailMode=h,p.treeForkCount=f)}function $m(t,n,r){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var p=xt.current,T=(p&2)!==0;if(T?(p=p&1|2,n.flags|=128):p&=1,ie(xt,p),$t(t,n,o,r),o=Ge?jo:0,!T&&t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Jm(t,r,n);else if(t.tag===19)Jm(t,r,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(r=n.child,h=null;r!==null;)t=r.alternate,t!==null&&ku(t)===null&&(h=r),r=r.sibling;r=h,r===null?(h=n.child,n.child=null):(h=r.sibling,r.sibling=null),Nf(n,!1,h,r,f,o);break;case"backwards":case"unstable_legacy-backwards":for(r=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&ku(t)===null){n.child=h;break}t=h.sibling,h.sibling=r,r=h,h=t}Nf(n,!0,r,null,f,o);break;case"together":Nf(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function er(t,n,r){if(t!==null&&(n.dependencies=t.dependencies),Hr|=n.lanes,(r&n.childLanes)===0)if(t!==null){if(wa(t,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(a(153));if(n.child!==null){for(t=n.child,r=Yi(t,t.pendingProps),n.child=r,r.return=n;t.sibling!==null;)t=t.sibling,r=r.sibling=Yi(t,t.pendingProps),r.return=n;r.sibling=null}return n.child}function Vf(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&wu(t)))}function a2(t,n,r){switch(n.tag){case 3:_t(n,n.stateNode.containerInfo),Nr(n,kt,t.memoizedState.cache),Ns();break;case 27:case 5:fn(n);break;case 4:_t(n,n.stateNode.containerInfo);break;case 10:Nr(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,af(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(jr(n),n.flags|=128,null):(r&n.child.childLanes)!==0?Xm(t,n,r):(jr(n),t=er(t,n,r),t!==null?t.sibling:null);jr(n);break;case 19:var h=(t.flags&128)!==0;if(o=(r&n.childLanes)!==0,o||(wa(t,n,r,!1),o=(r&n.childLanes)!==0),h){if(o)return $m(t,n,r);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ie(xt,xt.current),o)break;return null;case 22:return n.lanes=0,Fm(t,n,r,n.pendingProps);case 24:Nr(n,kt,t.memoizedState.cache)}return er(t,n,r)}function Zm(t,n,r){if(t!==null)if(t.memoizedProps!==n.pendingProps)Vt=!0;else{if(!Vf(t,r)&&(n.flags&128)===0)return Vt=!1,a2(t,n,r);Vt=(t.flags&131072)!==0}else Vt=!1,Ge&&(n.flags&1048576)!==0&&Mp(n,jo,n.index);switch(n.lanes=0,n.tag){case 16:e:{var o=n.pendingProps;if(t=js(n.elementType),n.type=t,typeof t=="function")Ph(t)?(o=Hs(t,o),n.tag=1,n=Ym(null,n,t,o,r)):(n.tag=0,n=Cf(null,n,t,o,r));else{if(t!=null){var h=t.$$typeof;if(h===Ke){n.tag=11,n=Bm(null,n,t,o,r);break e}else if(h===I){n.tag=14,n=Hm(null,n,t,o,r);break e}}throw n=st(t)||t,Error(a(306,n,""))}}return n;case 0:return Cf(t,n,n.type,n.pendingProps,r);case 1:return o=n.type,h=Hs(o,n.pendingProps),Ym(t,n,o,h,r);case 3:e:{if(_t(n,n.stateNode.containerInfo),t===null)throw Error(a(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,ef(t,n),Ko(n,o,null,r);var p=n.memoizedState;if(o=p.cache,Nr(n,kt,o),o!==f.cache&&Yh(n,[kt],r,!0),Go(),o=p.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:p.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Qm(t,n,o,r);break e}else if(o!==h){h=jn(Error(a(424)),n),Po(h),n=Qm(t,n,o,r);break e}else for(t=n.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,ft=qn(t.firstChild),Xt=n,Ge=!0,Or=null,Bn=!0,r=Fp(n,null,o,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Ns(),o===h){n=er(t,n,r);break e}$t(t,n,o,r)}n=n.child}return n;case 26:return Fu(t,n),t===null?(r=c0(n.type,null,n.pendingProps,null))?n.memoizedState=r:Ge||(r=n.type,t=n.pendingProps,o=oc(Ae.current).createElement(r),o[Dt]=n,o[qt]=t,Zt(o,r,t),Mt(o),n.stateNode=o):n.memoizedState=c0(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return fn(n),t===null&&Ge&&(o=n.stateNode=o0(n.type,n.pendingProps,Ae.current),Xt=n,Bn=!0,h=ft,Wr(n.type)?(gd=h,ft=qn(o.firstChild)):ft=h),$t(t,n,n.pendingProps.children,r),Fu(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Ge&&((h=o=ft)&&(o=L2(o,n.type,n.pendingProps,Bn),o!==null?(n.stateNode=o,Xt=n,ft=qn(o.firstChild),Bn=!1,h=!0):h=!1),h||kr(n)),fn(n),h=n.type,f=n.pendingProps,p=t!==null?t.memoizedProps:null,o=f.children,ud(h,f)?o=null:p!==null&&ud(h,p)&&(n.flags|=32),n.memoizedState!==null&&(h=lf(t,n,Jb,null,null,r),fl._currentValue=h),Fu(t,n),$t(t,n,o,r),n.child;case 6:return t===null&&Ge&&((t=r=ft)&&(r=z2(r,n.pendingProps,Bn),r!==null?(n.stateNode=r,Xt=n,ft=null,t=!0):t=!1),t||kr(n)),null;case 13:return Xm(t,n,r);case 4:return _t(n,n.stateNode.containerInfo),o=n.pendingProps,t===null?n.child=Us(n,null,o,r):$t(t,n,o,r),n.child;case 11:return Bm(t,n,n.type,n.pendingProps,r);case 7:return $t(t,n,n.pendingProps,r),n.child;case 8:return $t(t,n,n.pendingProps.children,r),n.child;case 12:return $t(t,n,n.pendingProps.children,r),n.child;case 10:return o=n.pendingProps,Nr(n,n.type,o.value),$t(t,n,o.children,r),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,Ls(n),h=Jt(h),o=o(h),n.flags|=1,$t(t,n,o,r),n.child;case 14:return Hm(t,n,n.type,n.pendingProps,r);case 15:return qm(t,n,n.type,n.pendingProps,r);case 19:return $m(t,n,r);case 31:return s2(t,n,r);case 22:return Fm(t,n,r,n.pendingProps);case 24:return Ls(n),o=Jt(kt),t===null?(h=Jh(),h===null&&(h=ct,f=Qh(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=r),h=f),n.memoizedState={parent:o,cache:h},Zh(n),Nr(n,kt,h)):((t.lanes&r)!==0&&(ef(t,n),Ko(n,null,null,r),Go()),h=t.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Nr(n,kt,o)):(o=f.cache,Nr(n,kt,o),o!==h.cache&&Yh(n,[kt],r,!0))),$t(t,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function tr(t){t.flags|=4}function Lf(t,n,r,o,h){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(xy())t.flags|=8192;else throw Ps=Iu,$h}else t.flags&=-16777217}function ey(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!p0(n))if(xy())t.flags|=8192;else throw Ps=Iu,$h}function Ku(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?$l():536870912,t.lanes|=n,za|=n)}function $o(t,n){if(!Ge)switch(t.tailMode){case"hidden":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function dt(t){var n=t.alternate!==null&&t.alternate.child===t.child,r=0,o=0;if(n)for(var h=t.child;h!==null;)r|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)r|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=o,t.childLanes=r,n}function o2(t,n,r){var o=n.pendingProps;switch(qh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return dt(n),null;case 1:return dt(n),null;case 3:return r=n.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),Ji(kt),tt(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Aa(n)?tr(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Gh())),dt(n),null;case 26:var h=n.type,f=n.memoizedState;return t===null?(tr(n),f!==null?(dt(n),ey(n,f)):(dt(n),Lf(n,h,null,o,r))):f?f!==t.memoizedState?(tr(n),dt(n),ey(n,f)):(dt(n),n.flags&=-16777217):(t=t.memoizedProps,t!==o&&tr(n),dt(n),Lf(n,h,t,o,r)),null;case 27:if(ci(n),r=Ae.current,h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&tr(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return dt(n),null}t=ae.current,Aa(n)?kp(n):(t=o0(h,o,r),n.stateNode=t,tr(n))}return dt(n),null;case 5:if(ci(n),h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&tr(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return dt(n),null}if(f=ae.current,Aa(n))kp(n);else{var p=oc(Ae.current);switch(f){case 1:f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=p.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?p.createElement("select",{is:o.is}):p.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?p.createElement(h,{is:o.is}):p.createElement(h)}}f[Dt]=n,f[qt]=o;e:for(p=n.child;p!==null;){if(p.tag===5||p.tag===6)f.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===n)break e;for(;p.sibling===null;){if(p.return===null||p.return===n)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}n.stateNode=f;e:switch(Zt(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&tr(n)}}return dt(n),Lf(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,r),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==o&&tr(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(a(166));if(t=Ae.current,Aa(n)){if(t=n.stateNode,r=n.memoizedProps,o=null,h=Xt,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}t[Dt]=n,t=!!(t.nodeValue===r||o!==null&&o.suppressHydrationWarning===!0||Xy(t.nodeValue,r)),t||kr(n,!0)}else t=oc(t).createTextNode(o),t[Dt]=n,n.stateNode=t}return dt(n),null;case 31:if(r=n.memoizedState,t===null||t.memoizedState!==null){if(o=Aa(n),r!==null){if(t===null){if(!o)throw Error(a(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(557));t[Dt]=n}else Ns(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;dt(n),t=!1}else r=Gh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=r),t=!0;if(!t)return n.flags&256?(Rn(n),n):(Rn(n),null);if((n.flags&128)!==0)throw Error(a(558))}return dt(n),null;case 13:if(o=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Aa(n),o!==null&&o.dehydrated!==null){if(t===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[Dt]=n}else Ns(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;dt(n),h=!1}else h=Gh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(Rn(n),n):(Rn(n),null)}return Rn(n),(n.flags&128)!==0?(n.lanes=r,n):(r=o!==null,t=t!==null&&t.memoizedState!==null,r&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),r!==t&&r&&(n.child.flags|=8192),Ku(n,n.updateQueue),dt(n),null);case 4:return tt(),t===null&&rd(n.stateNode.containerInfo),dt(n),null;case 10:return Ji(n.type),dt(n),null;case 19:if(W(xt),o=n.memoizedState,o===null)return dt(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)$o(o,!1);else{if(At!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=ku(t),f!==null){for(n.flags|=128,$o(o,!1),t=f.updateQueue,n.updateQueue=t,Ku(n,t),n.subtreeFlags=0,t=r,r=n.child;r!==null;)Cp(r,t),r=r.sibling;return ie(xt,xt.current&1|2),Ge&&Qi(n,o.treeForkCount),n.child}t=t.sibling}o.tail!==null&&Yt()>Ju&&(n.flags|=128,h=!0,$o(o,!1),n.lanes=4194304)}else{if(!h)if(t=ku(f),t!==null){if(n.flags|=128,h=!0,t=t.updateQueue,n.updateQueue=t,Ku(n,t),$o(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!Ge)return dt(n),null}else 2*Yt()-o.renderingStartTime>Ju&&r!==536870912&&(n.flags|=128,h=!0,$o(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(t=o.last,t!==null?t.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Yt(),t.sibling=null,r=xt.current,ie(xt,h?r&1|2:r&1),Ge&&Qi(n,o.treeForkCount),t):(dt(n),null);case 22:case 23:return Rn(n),sf(),o=n.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(r&536870912)!==0&&(n.flags&128)===0&&(dt(n),n.subtreeFlags&6&&(n.flags|=8192)):dt(n),r=n.updateQueue,r!==null&&Ku(n,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==r&&(n.flags|=2048),t!==null&&W(zs),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),Ji(kt),dt(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function l2(t,n){switch(qh(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Ji(kt),tt(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return ci(n),null;case 31:if(n.memoizedState!==null){if(Rn(n),n.alternate===null)throw Error(a(340));Ns()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(Rn(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Ns()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return W(xt),null;case 4:return tt(),null;case 10:return Ji(n.type),null;case 22:case 23:return Rn(n),sf(),t!==null&&W(zs),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Ji(kt),null;case 25:return null;default:return null}}function ty(t,n){switch(qh(n),n.tag){case 3:Ji(kt),tt();break;case 26:case 27:case 5:ci(n);break;case 4:tt();break;case 31:n.memoizedState!==null&&Rn(n);break;case 13:Rn(n);break;case 19:W(xt);break;case 10:Ji(n.type);break;case 22:case 23:Rn(n),sf(),t!==null&&W(zs);break;case 24:Ji(kt)}}function Zo(t,n){try{var r=n.updateQueue,o=r!==null?r.lastEffect:null;if(o!==null){var h=o.next;r=h;do{if((r.tag&t)===t){o=void 0;var f=r.create,p=r.inst;o=f(),p.destroy=o}r=r.next}while(r!==h)}}catch(T){rt(n,n.return,T)}}function Ur(t,n,r){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&t)===t){var p=o.inst,T=p.destroy;if(T!==void 0){p.destroy=void 0,h=n;var C=r,H=T;try{H()}catch(Y){rt(h,C,Y)}}}o=o.next}while(o!==f)}}catch(Y){rt(n,n.return,Y)}}function ny(t){var n=t.updateQueue;if(n!==null){var r=t.stateNode;try{Kp(n,r)}catch(o){rt(t,t.return,o)}}}function iy(t,n,r){r.props=Hs(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(o){rt(t,n,o)}}function el(t,n){try{var r=t.ref;if(r!==null){switch(t.tag){case 26:case 27:case 5:var o=t.stateNode;break;case 30:o=t.stateNode;break;default:o=t.stateNode}typeof r=="function"?t.refCleanup=r(o):r.current=o}}catch(h){rt(t,n,h)}}function Mi(t,n){var r=t.ref,o=t.refCleanup;if(r!==null)if(typeof o=="function")try{o()}catch(h){rt(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(h){rt(t,n,h)}else r.current=null}function ry(t){var n=t.type,r=t.memoizedProps,o=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&o.focus();break e;case"img":r.src?o.src=r.src:r.srcSet&&(o.srcset=r.srcSet)}}catch(h){rt(t,t.return,h)}}function zf(t,n,r){try{var o=t.stateNode;D2(o,t.type,r,n),o[qt]=n}catch(h){rt(t,t.return,h)}}function sy(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Wr(t.type)||t.tag===4}function jf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||sy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Wr(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Pf(t,n,r){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(t,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(t),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=Jn));else if(o!==4&&(o===27&&Wr(t.type)&&(r=t.stateNode,n=null),t=t.child,t!==null))for(Pf(t,n,r),t=t.sibling;t!==null;)Pf(t,n,r),t=t.sibling}function Wu(t,n,r){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?r.insertBefore(t,n):r.appendChild(t);else if(o!==4&&(o===27&&Wr(t.type)&&(r=t.stateNode),t=t.child,t!==null))for(Wu(t,n,r),t=t.sibling;t!==null;)Wu(t,n,r),t=t.sibling}function ay(t){var n=t.stateNode,r=t.memoizedProps;try{for(var o=t.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);Zt(n,o,r),n[Dt]=t,n[qt]=r}catch(f){rt(t,t.return,f)}}var nr=!1,Lt=!1,Uf=!1,oy=typeof WeakSet=="function"?WeakSet:Set,Gt=null;function u2(t,n){if(t=t.containerInfo,od=gc,t=_p(t),Oh(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var o=r.getSelection&&r.getSelection();if(o&&o.rangeCount!==0){r=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break e}var p=0,T=-1,C=-1,H=0,Y=0,J=t,q=null;t:for(;;){for(var G;J!==r||h!==0&&J.nodeType!==3||(T=p+h),J!==f||o!==0&&J.nodeType!==3||(C=p+o),J.nodeType===3&&(p+=J.nodeValue.length),(G=J.firstChild)!==null;)q=J,J=G;for(;;){if(J===t)break t;if(q===r&&++H===h&&(T=p),q===f&&++Y===o&&(C=p),(G=J.nextSibling)!==null)break;J=q,q=J.parentNode}J=G}r=T===-1||C===-1?null:{start:T,end:C}}else r=null}r=r||{start:0,end:0}}else r=null;for(ld={focusedElem:t,selectionRange:r},gc=!1,Gt=n;Gt!==null;)if(n=Gt,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,Gt=t;else for(;Gt!==null;){switch(n=Gt,f=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(r=0;r<t.length;r++)h=t[r],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,r=n,h=f.memoizedProps,f=f.memoizedState,o=r.stateNode;try{var he=Hs(r.type,h);t=o.getSnapshotBeforeUpdate(he,f),o.__reactInternalSnapshotBeforeUpdate=t}catch(Se){rt(r,r.return,Se)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,r=t.nodeType,r===9)hd(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":hd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=n.sibling,t!==null){t.return=n.return,Gt=t;break}Gt=n.return}}function ly(t,n,r){var o=r.flags;switch(r.tag){case 0:case 11:case 15:rr(t,r),o&4&&Zo(5,r);break;case 1:if(rr(t,r),o&4)if(t=r.stateNode,n===null)try{t.componentDidMount()}catch(p){rt(r,r.return,p)}else{var h=Hs(r.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(p){rt(r,r.return,p)}}o&64&&ny(r),o&512&&el(r,r.return);break;case 3:if(rr(t,r),o&64&&(t=r.updateQueue,t!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{Kp(t,n)}catch(p){rt(r,r.return,p)}}break;case 27:n===null&&o&4&&ay(r);case 26:case 5:rr(t,r),n===null&&o&4&&ry(r),o&512&&el(r,r.return);break;case 12:rr(t,r);break;case 31:rr(t,r),o&4&&hy(t,r);break;case 13:rr(t,r),o&4&&fy(t,r),o&64&&(t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(r=v2.bind(null,r),j2(t,r))));break;case 22:if(o=r.memoizedState!==null||nr,!o){n=n!==null&&n.memoizedState!==null||Lt,h=nr;var f=Lt;nr=o,(Lt=n)&&!f?sr(t,r,(r.subtreeFlags&8772)!==0):rr(t,r),nr=h,Lt=f}break;case 30:break;default:rr(t,r)}}function uy(t){var n=t.alternate;n!==null&&(t.alternate=null,uy(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&oa(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var yt=null,mn=!1;function ir(t,n,r){for(r=r.child;r!==null;)cy(t,n,r),r=r.sibling}function cy(t,n,r){if(de&&typeof de.onCommitFiberUnmount=="function")try{de.onCommitFiberUnmount(ge,r)}catch{}switch(r.tag){case 26:Lt||Mi(r,n),ir(t,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:Lt||Mi(r,n);var o=yt,h=mn;Wr(r.type)&&(yt=r.stateNode,mn=!1),ir(t,n,r),ul(r.stateNode),yt=o,mn=h;break;case 5:Lt||Mi(r,n);case 6:if(o=yt,h=mn,yt=null,ir(t,n,r),yt=o,mn=h,yt!==null)if(mn)try{(yt.nodeType===9?yt.body:yt.nodeName==="HTML"?yt.ownerDocument.body:yt).removeChild(r.stateNode)}catch(f){rt(r,n,f)}else try{yt.removeChild(r.stateNode)}catch(f){rt(r,n,f)}break;case 18:yt!==null&&(mn?(t=yt,n0(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,r.stateNode),Ga(t)):n0(yt,r.stateNode));break;case 4:o=yt,h=mn,yt=r.stateNode.containerInfo,mn=!0,ir(t,n,r),yt=o,mn=h;break;case 0:case 11:case 14:case 15:Ur(2,r,n),Lt||Ur(4,r,n),ir(t,n,r);break;case 1:Lt||(Mi(r,n),o=r.stateNode,typeof o.componentWillUnmount=="function"&&iy(r,n,o)),ir(t,n,r);break;case 21:ir(t,n,r);break;case 22:Lt=(o=Lt)||r.memoizedState!==null,ir(t,n,r),Lt=o;break;default:ir(t,n,r)}}function hy(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Ga(t)}catch(r){rt(n,n.return,r)}}}function fy(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Ga(t)}catch(r){rt(n,n.return,r)}}function c2(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new oy),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new oy),n;default:throw Error(a(435,t.tag))}}function Yu(t,n){var r=c2(t);n.forEach(function(o){if(!r.has(o)){r.add(o);var h=_2.bind(null,t,o);o.then(h,h)}})}function yn(t,n){var r=n.deletions;if(r!==null)for(var o=0;o<r.length;o++){var h=r[o],f=t,p=n,T=p;e:for(;T!==null;){switch(T.tag){case 27:if(Wr(T.type)){yt=T.stateNode,mn=!1;break e}break;case 5:yt=T.stateNode,mn=!1;break e;case 3:case 4:yt=T.stateNode.containerInfo,mn=!0;break e}T=T.return}if(yt===null)throw Error(a(160));cy(f,p,h),yt=null,mn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)dy(n,t),n=n.sibling}var ii=null;function dy(t,n){var r=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:yn(n,t),vn(t),o&4&&(Ur(3,t,t.return),Zo(3,t),Ur(5,t,t.return));break;case 1:yn(n,t),vn(t),o&512&&(Lt||r===null||Mi(r,r.return)),o&64&&nr&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?o:r.concat(o))));break;case 26:var h=ii;if(yn(n,t),vn(t),o&512&&(Lt||r===null||Mi(r,r.return)),o&4){var f=r!==null?r.memoizedState:null;if(o=t.memoizedState,r===null)if(o===null)if(t.stateNode===null){e:{o=t.type,r=t.memoizedProps,h=h.ownerDocument||h;t:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[yi]||f[Dt]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),Zt(f,o,r),f[Dt]=t,Mt(f),o=f;break e;case"link":var p=d0("link","href",h).get(o+(r.href||""));if(p){for(var T=0;T<p.length;T++)if(f=p[T],f.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){p.splice(T,1);break t}}f=h.createElement(o),Zt(f,o,r),h.head.appendChild(f);break;case"meta":if(p=d0("meta","content",h).get(o+(r.content||""))){for(T=0;T<p.length;T++)if(f=p[T],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){p.splice(T,1);break t}}f=h.createElement(o),Zt(f,o,r),h.head.appendChild(f);break;default:throw Error(a(468,o))}f[Dt]=t,Mt(f),o=f}t.stateNode=o}else g0(h,t.type,t.stateNode);else t.stateNode=f0(h,o,t.memoizedProps);else f!==o?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,o===null?g0(h,t.type,t.stateNode):f0(h,o,t.memoizedProps)):o===null&&t.stateNode!==null&&zf(t,t.memoizedProps,r.memoizedProps)}break;case 27:yn(n,t),vn(t),o&512&&(Lt||r===null||Mi(r,r.return)),r!==null&&o&4&&zf(t,t.memoizedProps,r.memoizedProps);break;case 5:if(yn(n,t),vn(t),o&512&&(Lt||r===null||Mi(r,r.return)),t.flags&32){h=t.stateNode;try{pn(h,"")}catch(he){rt(t,t.return,he)}}o&4&&t.stateNode!=null&&(h=t.memoizedProps,zf(t,h,r!==null?r.memoizedProps:h)),o&1024&&(Uf=!0);break;case 6:if(yn(n,t),vn(t),o&4){if(t.stateNode===null)throw Error(a(162));o=t.memoizedProps,r=t.stateNode;try{r.nodeValue=o}catch(he){rt(t,t.return,he)}}break;case 3:if(cc=null,h=ii,ii=lc(n.containerInfo),yn(n,t),ii=h,vn(t),o&4&&r!==null&&r.memoizedState.isDehydrated)try{Ga(n.containerInfo)}catch(he){rt(t,t.return,he)}Uf&&(Uf=!1,gy(t));break;case 4:o=ii,ii=lc(t.stateNode.containerInfo),yn(n,t),vn(t),ii=o;break;case 12:yn(n,t),vn(t);break;case 31:yn(n,t),vn(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Yu(t,o)));break;case 13:yn(n,t),vn(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(Xu=Yt()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Yu(t,o)));break;case 22:h=t.memoizedState!==null;var C=r!==null&&r.memoizedState!==null,H=nr,Y=Lt;if(nr=H||h,Lt=Y||C,yn(n,t),Lt=Y,nr=H,vn(t),o&8192)e:for(n=t.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(r===null||C||nr||Lt||qs(t)),r=null,n=t;;){if(n.tag===5||n.tag===26){if(r===null){C=r=n;try{if(f=C.stateNode,h)p=f.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{T=C.stateNode;var J=C.memoizedProps.style,q=J!=null&&J.hasOwnProperty("display")?J.display:null;T.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(he){rt(C,C.return,he)}}}else if(n.tag===6){if(r===null){C=n;try{C.stateNode.nodeValue=h?"":C.memoizedProps}catch(he){rt(C,C.return,he)}}}else if(n.tag===18){if(r===null){C=n;try{var G=C.stateNode;h?i0(G,!0):i0(C.stateNode,!1)}catch(he){rt(C,C.return,he)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=t.updateQueue,o!==null&&(r=o.retryQueue,r!==null&&(o.retryQueue=null,Yu(t,r))));break;case 19:yn(n,t),vn(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Yu(t,o)));break;case 30:break;case 21:break;default:yn(n,t),vn(t)}}function vn(t){var n=t.flags;if(n&2){try{for(var r,o=t.return;o!==null;){if(sy(o)){r=o;break}o=o.return}if(r==null)throw Error(a(160));switch(r.tag){case 27:var h=r.stateNode,f=jf(t);Wu(t,f,h);break;case 5:var p=r.stateNode;r.flags&32&&(pn(p,""),r.flags&=-33);var T=jf(t);Wu(t,T,p);break;case 3:case 4:var C=r.stateNode.containerInfo,H=jf(t);Pf(t,H,C);break;default:throw Error(a(161))}}catch(Y){rt(t,t.return,Y)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function gy(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;gy(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function rr(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)ly(t,n.alternate,n),n=n.sibling}function qs(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Ur(4,n,n.return),qs(n);break;case 1:Mi(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&iy(n,n.return,r),qs(n);break;case 27:ul(n.stateNode);case 26:case 5:Mi(n,n.return),qs(n);break;case 22:n.memoizedState===null&&qs(n);break;case 30:qs(n);break;default:qs(n)}t=t.sibling}}function sr(t,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=t,f=n,p=f.flags;switch(f.tag){case 0:case 11:case 15:sr(h,f,r),Zo(4,f);break;case 1:if(sr(h,f,r),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(H){rt(o,o.return,H)}if(o=f,h=o.updateQueue,h!==null){var T=o.stateNode;try{var C=h.shared.hiddenCallbacks;if(C!==null)for(h.shared.hiddenCallbacks=null,h=0;h<C.length;h++)Gp(C[h],T)}catch(H){rt(o,o.return,H)}}r&&p&64&&ny(f),el(f,f.return);break;case 27:ay(f);case 26:case 5:sr(h,f,r),r&&o===null&&p&4&&ry(f),el(f,f.return);break;case 12:sr(h,f,r);break;case 31:sr(h,f,r),r&&p&4&&hy(h,f);break;case 13:sr(h,f,r),r&&p&4&&fy(h,f);break;case 22:f.memoizedState===null&&sr(h,f,r),el(f,f.return);break;case 30:break;default:sr(h,f,r)}n=n.sibling}}function Bf(t,n){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&Uo(r))}function Hf(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Uo(t))}function ri(t,n,r,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)py(t,n,r,o),n=n.sibling}function py(t,n,r,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:ri(t,n,r,o),h&2048&&Zo(9,n);break;case 1:ri(t,n,r,o);break;case 3:ri(t,n,r,o),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Uo(t)));break;case 12:if(h&2048){ri(t,n,r,o),t=n.stateNode;try{var f=n.memoizedProps,p=f.id,T=f.onPostCommit;typeof T=="function"&&T(p,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(C){rt(n,n.return,C)}}else ri(t,n,r,o);break;case 31:ri(t,n,r,o);break;case 13:ri(t,n,r,o);break;case 23:break;case 22:f=n.stateNode,p=n.alternate,n.memoizedState!==null?f._visibility&2?ri(t,n,r,o):tl(t,n):f._visibility&2?ri(t,n,r,o):(f._visibility|=2,Na(t,n,r,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Bf(p,n);break;case 24:ri(t,n,r,o),h&2048&&Hf(n.alternate,n);break;default:ri(t,n,r,o)}}function Na(t,n,r,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=t,p=n,T=r,C=o,H=p.flags;switch(p.tag){case 0:case 11:case 15:Na(f,p,T,C,h),Zo(8,p);break;case 23:break;case 22:var Y=p.stateNode;p.memoizedState!==null?Y._visibility&2?Na(f,p,T,C,h):tl(f,p):(Y._visibility|=2,Na(f,p,T,C,h)),h&&H&2048&&Bf(p.alternate,p);break;case 24:Na(f,p,T,C,h),h&&H&2048&&Hf(p.alternate,p);break;default:Na(f,p,T,C,h)}n=n.sibling}}function tl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=t,o=n,h=o.flags;switch(o.tag){case 22:tl(r,o),h&2048&&Bf(o.alternate,o);break;case 24:tl(r,o),h&2048&&Hf(o.alternate,o);break;default:tl(r,o)}n=n.sibling}}var nl=8192;function Va(t,n,r){if(t.subtreeFlags&nl)for(t=t.child;t!==null;)my(t,n,r),t=t.sibling}function my(t,n,r){switch(t.tag){case 26:Va(t,n,r),t.flags&nl&&t.memoizedState!==null&&X2(r,ii,t.memoizedState,t.memoizedProps);break;case 5:Va(t,n,r);break;case 3:case 4:var o=ii;ii=lc(t.stateNode.containerInfo),Va(t,n,r),ii=o;break;case 22:t.memoizedState===null&&(o=t.alternate,o!==null&&o.memoizedState!==null?(o=nl,nl=16777216,Va(t,n,r),nl=o):Va(t,n,r));break;default:Va(t,n,r)}}function yy(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function il(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];Gt=o,_y(o,t)}yy(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)vy(t),t=t.sibling}function vy(t){switch(t.tag){case 0:case 11:case 15:il(t),t.flags&2048&&Ur(9,t,t.return);break;case 3:il(t);break;case 12:il(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,Qu(t)):il(t);break;default:il(t)}}function Qu(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];Gt=o,_y(o,t)}yy(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Ur(8,n,n.return),Qu(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,Qu(n));break;default:Qu(n)}t=t.sibling}}function _y(t,n){for(;Gt!==null;){var r=Gt;switch(r.tag){case 0:case 11:case 15:Ur(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var o=r.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Uo(r.memoizedState.cache)}if(o=r.child,o!==null)o.return=r,Gt=o;else e:for(r=t;Gt!==null;){o=Gt;var h=o.sibling,f=o.return;if(uy(o),o===r){Gt=null;break e}if(h!==null){h.return=f,Gt=h;break e}Gt=f}}}var h2={getCacheForType:function(t){var n=Jt(kt),r=n.data.get(t);return r===void 0&&(r=t(),n.data.set(t,r)),r},cacheSignal:function(){return Jt(kt).controller.signal}},f2=typeof WeakMap=="function"?WeakMap:Map,$e=0,ct=null,ze=null,Ue=0,it=0,Cn=null,Br=!1,La=!1,qf=!1,ar=0,At=0,Hr=0,Fs=0,Ff=0,In=0,za=0,rl=null,_n=null,Gf=!1,Xu=0,by=0,Ju=1/0,$u=null,qr=null,Pt=0,Fr=null,ja=null,or=0,Kf=0,Wf=null,Ty=null,sl=0,Yf=null;function Dn(){return($e&2)!==0&&Ue!==0?Ue&-Ue:K.T!==null?ed():Zl()}function Sy(){if(In===0)if((Ue&536870912)===0||Ge){var t=ys;ys<<=1,(ys&3932160)===0&&(ys=262144),In=t}else In=536870912;return t=xn.current,t!==null&&(t.flags|=32),In}function bn(t,n,r){(t===ct&&(it===2||it===9)||t.cancelPendingCommit!==null)&&(Pa(t,0),Gr(t,Ue,In,!1)),vs(t,r),(($e&2)===0||t!==ct)&&(t===ct&&(($e&2)===0&&(Fs|=r),At===4&&Gr(t,Ue,In,!1)),Oi(t))}function Ey(t,n,r){if(($e&6)!==0)throw Error(a(327));var o=!r&&(n&127)===0&&(n&t.expiredLanes)===0||Yn(t,n),h=o?p2(t,n):Xf(t,n,!0),f=o;do{if(h===0){La&&!o&&Gr(t,n,0,!1);break}else{if(r=t.current.alternate,f&&!d2(r)){h=Xf(t,n,!1),f=!1;continue}if(h===2){if(f=n,t.errorRecoveryDisabledLanes&f)var p=0;else p=t.pendingLanes&-536870913,p=p!==0?p:p&536870912?536870912:0;if(p!==0){n=p;e:{var T=t;h=rl;var C=T.current.memoizedState.isDehydrated;if(C&&(Pa(T,p).flags|=256),p=Xf(T,p,!1),p!==2){if(qf&&!C){T.errorRecoveryDisabledLanes|=f,Fs|=f,h=4;break e}f=_n,_n=h,f!==null&&(_n===null?_n=f:_n.push.apply(_n,f))}h=p}if(f=!1,h!==2)continue}}if(h===1){Pa(t,0),Gr(t,n,0,!0);break}e:{switch(o=t,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:Gr(o,n,In,!Br);break e;case 2:_n=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=Xu+300-Yt(),10<h)){if(Gr(o,n,In,!Br),gi(o,0,!0)!==0)break e;or=n,o.timeoutHandle=e0(Ay.bind(null,o,r,_n,$u,Gf,n,In,Fs,za,Br,f,"Throttled",-0,0),h);break e}Ay(o,r,_n,$u,Gf,n,In,Fs,za,Br,f,null,-0,0)}}break}while(!0);Oi(t)}function Ay(t,n,r,o,h,f,p,T,C,H,Y,J,q,G){if(t.timeoutHandle=-1,J=n.subtreeFlags,J&8192||(J&16785408)===16785408){J={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Jn},my(n,f,J);var he=(f&62914560)===f?Xu-Yt():(f&4194048)===f?by-Yt():0;if(he=J2(J,he),he!==null){or=f,t.cancelPendingCommit=he(Oy.bind(null,t,n,f,r,o,h,p,T,C,Y,J,null,q,G)),Gr(t,f,p,!H);return}}Oy(t,n,f,r,o,h,p,T,C)}function d2(t){for(var n=t;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var o=0;o<r.length;o++){var h=r[o],f=h.getSnapshot;h=h.value;try{if(!An(f(),h))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Gr(t,n,r,o){n&=~Ff,n&=~Fs,t.suspendedLanes|=n,t.pingedLanes&=~n,o&&(t.warmLanes|=n),o=t.expirationTimes;for(var h=n;0<h;){var f=31-Le(h),p=1<<f;o[f]=-1,h&=~p}r!==0&&_s(t,r,n)}function Zu(){return($e&6)===0?(al(0),!1):!0}function Qf(){if(ze!==null){if(it===0)var t=ze.return;else t=ze,Xi=Vs=null,hf(t),Ia=null,Ho=0,t=ze;for(;t!==null;)ty(t.alternate,t),t=t.return;ze=null}}function Pa(t,n){var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,k2(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),or=0,Qf(),ct=t,ze=r=Yi(t.current,null),Ue=n,it=0,Cn=null,Br=!1,La=Yn(t,n),qf=!1,za=In=Ff=Fs=Hr=At=0,_n=rl=null,Gf=!1,(n&8)!==0&&(n|=n&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=n;0<o;){var h=31-Le(o),f=1<<h;n|=t[h],o&=~f}return ar=n,bu(),r}function wy(t,n){Ne=null,K.H=Xo,n===Ca||n===Cu?(n=Bp(),it=3):n===$h?(n=Bp(),it=4):it=n===Rf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Cn=n,ze===null&&(At=1,Hu(t,jn(n,t.current)))}function xy(){var t=xn.current;return t===null?!0:(Ue&4194048)===Ue?Hn===null:(Ue&62914560)===Ue||(Ue&536870912)!==0?t===Hn:!1}function Ry(){var t=K.H;return K.H=Xo,t===null?Xo:t}function Cy(){var t=K.A;return K.A=h2,t}function ec(){At=4,Br||(Ue&4194048)!==Ue&&xn.current!==null||(La=!0),(Hr&134217727)===0&&(Fs&134217727)===0||ct===null||Gr(ct,Ue,In,!1)}function Xf(t,n,r){var o=$e;$e|=2;var h=Ry(),f=Cy();(ct!==t||Ue!==n)&&($u=null,Pa(t,n)),n=!1;var p=At;e:do try{if(it!==0&&ze!==null){var T=ze,C=Cn;switch(it){case 8:Qf(),p=6;break e;case 3:case 2:case 9:case 6:xn.current===null&&(n=!0);var H=it;if(it=0,Cn=null,Ua(t,T,C,H),r&&La){p=0;break e}break;default:H=it,it=0,Cn=null,Ua(t,T,C,H)}}g2(),p=At;break}catch(Y){wy(t,Y)}while(!0);return n&&t.shellSuspendCounter++,Xi=Vs=null,$e=o,K.H=h,K.A=f,ze===null&&(ct=null,Ue=0,bu()),p}function g2(){for(;ze!==null;)Iy(ze)}function p2(t,n){var r=$e;$e|=2;var o=Ry(),h=Cy();ct!==t||Ue!==n?($u=null,Ju=Yt()+500,Pa(t,n)):La=Yn(t,n);e:do try{if(it!==0&&ze!==null){n=ze;var f=Cn;t:switch(it){case 1:it=0,Cn=null,Ua(t,n,f,1);break;case 2:case 9:if(Pp(f)){it=0,Cn=null,Dy(n);break}n=function(){it!==2&&it!==9||ct!==t||(it=7),Oi(t)},f.then(n,n);break e;case 3:it=7;break e;case 4:it=5;break e;case 7:Pp(f)?(it=0,Cn=null,Dy(n)):(it=0,Cn=null,Ua(t,n,f,7));break;case 5:var p=null;switch(ze.tag){case 26:p=ze.memoizedState;case 5:case 27:var T=ze;if(p?p0(p):T.stateNode.complete){it=0,Cn=null;var C=T.sibling;if(C!==null)ze=C;else{var H=T.return;H!==null?(ze=H,tc(H)):ze=null}break t}}it=0,Cn=null,Ua(t,n,f,5);break;case 6:it=0,Cn=null,Ua(t,n,f,6);break;case 8:Qf(),At=6;break e;default:throw Error(a(462))}}m2();break}catch(Y){wy(t,Y)}while(!0);return Xi=Vs=null,K.H=o,K.A=h,$e=r,ze!==null?0:(ct=null,Ue=0,bu(),At)}function m2(){for(;ze!==null&&!br();)Iy(ze)}function Iy(t){var n=Zm(t.alternate,t,ar);t.memoizedProps=t.pendingProps,n===null?tc(t):ze=n}function Dy(t){var n=t,r=n.alternate;switch(n.tag){case 15:case 0:n=Wm(r,n,n.pendingProps,n.type,void 0,Ue);break;case 11:n=Wm(r,n,n.pendingProps,n.type.render,n.ref,Ue);break;case 5:hf(n);default:ty(r,n),n=ze=Cp(n,ar),n=Zm(r,n,ar)}t.memoizedProps=t.pendingProps,n===null?tc(t):ze=n}function Ua(t,n,r,o){Xi=Vs=null,hf(n),Ia=null,Ho=0;var h=n.return;try{if(r2(t,h,n,r,Ue)){At=1,Hu(t,jn(r,t.current)),ze=null;return}}catch(f){if(h!==null)throw ze=h,f;At=1,Hu(t,jn(r,t.current)),ze=null;return}n.flags&32768?(Ge||o===1?t=!0:La||(Ue&536870912)!==0?t=!1:(Br=t=!0,(o===2||o===9||o===3||o===6)&&(o=xn.current,o!==null&&o.tag===13&&(o.flags|=16384))),My(n,t)):tc(n)}function tc(t){var n=t;do{if((n.flags&32768)!==0){My(n,Br);return}t=n.return;var r=o2(n.alternate,n,ar);if(r!==null){ze=r;return}if(n=n.sibling,n!==null){ze=n;return}ze=n=t}while(n!==null);At===0&&(At=5)}function My(t,n){do{var r=l2(t.alternate,t);if(r!==null){r.flags&=32767,ze=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(t=t.sibling,t!==null)){ze=t;return}ze=t=r}while(t!==null);At=6,ze=null}function Oy(t,n,r,o,h,f,p,T,C){t.cancelPendingCommit=null;do nc();while(Pt!==0);if(($e&6)!==0)throw Error(a(327));if(n!==null){if(n===t.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=zh,Ch(t,r,f,p,T,C),t===ct&&(ze=ct=null,Ue=0),ja=n,Fr=t,or=r,Kf=f,Wf=h,Ty=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,b2(S,function(){return zy(),null})):(t.callbackNode=null,t.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=K.T,K.T=null,h=te.p,te.p=2,p=$e,$e|=4;try{u2(t,n,r)}finally{$e=p,te.p=h,K.T=o}}Pt=1,ky(),Ny(),Vy()}}function ky(){if(Pt===1){Pt=0;var t=Fr,n=ja,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=K.T,K.T=null;var o=te.p;te.p=2;var h=$e;$e|=4;try{dy(n,t);var f=ld,p=_p(t.containerInfo),T=f.focusedElem,C=f.selectionRange;if(p!==T&&T&&T.ownerDocument&&vp(T.ownerDocument.documentElement,T)){if(C!==null&&Oh(T)){var H=C.start,Y=C.end;if(Y===void 0&&(Y=H),"selectionStart"in T)T.selectionStart=H,T.selectionEnd=Math.min(Y,T.value.length);else{var J=T.ownerDocument||document,q=J&&J.defaultView||window;if(q.getSelection){var G=q.getSelection(),he=T.textContent.length,Se=Math.min(C.start,he),ut=C.end===void 0?Se:Math.min(C.end,he);!G.extend&&Se>ut&&(p=ut,ut=Se,Se=p);var z=yp(T,Se),k=yp(T,ut);if(z&&k&&(G.rangeCount!==1||G.anchorNode!==z.node||G.anchorOffset!==z.offset||G.focusNode!==k.node||G.focusOffset!==k.offset)){var U=J.createRange();U.setStart(z.node,z.offset),G.removeAllRanges(),Se>ut?(G.addRange(U),G.extend(k.node,k.offset)):(U.setEnd(k.node,k.offset),G.addRange(U))}}}}for(J=[],G=T;G=G.parentNode;)G.nodeType===1&&J.push({element:G,left:G.scrollLeft,top:G.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<J.length;T++){var Q=J[T];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}gc=!!od,ld=od=null}finally{$e=h,te.p=o,K.T=r}}t.current=n,Pt=2}}function Ny(){if(Pt===2){Pt=0;var t=Fr,n=ja,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=K.T,K.T=null;var o=te.p;te.p=2;var h=$e;$e|=4;try{ly(t,n.alternate,n)}finally{$e=h,te.p=o,K.T=r}}Pt=3}}function Vy(){if(Pt===4||Pt===3){Pt=0,sa();var t=Fr,n=ja,r=or,o=Ty;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Pt=5:(Pt=0,ja=Fr=null,Ly(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(qr=null),Fi(r),n=n.stateNode,de&&typeof de.onCommitFiberRoot=="function")try{de.onCommitFiberRoot(ge,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=K.T,h=te.p,te.p=2,K.T=null;try{for(var f=t.onRecoverableError,p=0;p<o.length;p++){var T=o[p];f(T.value,{componentStack:T.stack})}}finally{K.T=n,te.p=h}}(or&3)!==0&&nc(),Oi(t),h=t.pendingLanes,(r&261930)!==0&&(h&42)!==0?t===Yf?sl++:(sl=0,Yf=t):sl=0,al(0)}}function Ly(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,Uo(n)))}function nc(){return ky(),Ny(),Vy(),zy()}function zy(){if(Pt!==5)return!1;var t=Fr,n=Kf;Kf=0;var r=Fi(or),o=K.T,h=te.p;try{te.p=32>r?32:r,K.T=null,r=Wf,Wf=null;var f=Fr,p=or;if(Pt=0,ja=Fr=null,or=0,($e&6)!==0)throw Error(a(331));var T=$e;if($e|=4,vy(f.current),py(f,f.current,p,r),$e=T,al(0,!1),de&&typeof de.onPostCommitFiberRoot=="function")try{de.onPostCommitFiberRoot(ge,f)}catch{}return!0}finally{te.p=h,K.T=o,Ly(t,n)}}function jy(t,n,r){n=jn(r,n),n=xf(t.stateNode,n,2),t=zr(t,n,2),t!==null&&(vs(t,2),Oi(t))}function rt(t,n,r){if(t.tag===3)jy(t,t,r);else for(;n!==null;){if(n.tag===3){jy(n,t,r);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(qr===null||!qr.has(o))){t=jn(r,t),r=Pm(2),o=zr(n,r,2),o!==null&&(Um(r,o,n,t),vs(o,2),Oi(o));break}}n=n.return}}function Jf(t,n,r){var o=t.pingCache;if(o===null){o=t.pingCache=new f2;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(r)||(qf=!0,h.add(r),t=y2.bind(null,t,n,r),n.then(t,t))}function y2(t,n,r){var o=t.pingCache;o!==null&&o.delete(n),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,ct===t&&(Ue&r)===r&&(At===4||At===3&&(Ue&62914560)===Ue&&300>Yt()-Xu?($e&2)===0&&Pa(t,0):Ff|=r,za===Ue&&(za=0)),Oi(t)}function Py(t,n){n===0&&(n=$l()),t=Os(t,n),t!==null&&(vs(t,n),Oi(t))}function v2(t){var n=t.memoizedState,r=0;n!==null&&(r=n.retryLane),Py(t,r)}function _2(t,n){var r=0;switch(t.tag){case 31:case 13:var o=t.stateNode,h=t.memoizedState;h!==null&&(r=h.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(a(314))}o!==null&&o.delete(n),Py(t,r)}function b2(t,n){return St(t,n)}var ic=null,Ba=null,$f=!1,rc=!1,Zf=!1,Kr=0;function Oi(t){t!==Ba&&t.next===null&&(Ba===null?ic=Ba=t:Ba=Ba.next=t),rc=!0,$f||($f=!0,S2())}function al(t,n){if(!Zf&&rc){Zf=!0;do for(var r=!1,o=ic;o!==null;){if(t!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var p=o.suspendedLanes,T=o.pingedLanes;f=(1<<31-Le(42|t)+1)-1,f&=h&~(p&~T),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(r=!0,qy(o,f))}else f=Ue,f=gi(o,o===ct?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||Yn(o,f)||(r=!0,qy(o,f));o=o.next}while(r);Zf=!1}}function T2(){Uy()}function Uy(){rc=$f=!1;var t=0;Kr!==0&&O2()&&(t=Kr);for(var n=Yt(),r=null,o=ic;o!==null;){var h=o.next,f=By(o,n);f===0?(o.next=null,r===null?ic=h:r.next=h,h===null&&(Ba=r)):(r=o,(t!==0||(f&3)!==0)&&(rc=!0)),o=h}Pt!==0&&Pt!==5||al(t),Kr!==0&&(Kr=0)}function By(t,n){for(var r=t.suspendedLanes,o=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var p=31-Le(f),T=1<<p,C=h[p];C===-1?((T&r)===0||(T&o)!==0)&&(h[p]=Rh(T,n)):C<=n&&(t.expiredLanes|=T),f&=~T}if(n=ct,r=Ue,r=gi(t,t===n?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o=t.callbackNode,r===0||t===n&&(it===2||it===9)||t.cancelPendingCommit!==null)return o!==null&&o!==null&&dn(o),t.callbackNode=null,t.callbackPriority=0;if((r&3)===0||Yn(t,r)){if(n=r&-r,n===t.callbackPriority)return n;switch(o!==null&&dn(o),Fi(r)){case 2:case 8:r=ms;break;case 32:r=S;break;case 268435456:r=M;break;default:r=S}return o=Hy.bind(null,t),r=St(r,o),t.callbackPriority=n,t.callbackNode=r,n}return o!==null&&o!==null&&dn(o),t.callbackPriority=2,t.callbackNode=null,2}function Hy(t,n){if(Pt!==0&&Pt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var r=t.callbackNode;if(nc()&&t.callbackNode!==r)return null;var o=Ue;return o=gi(t,t===ct?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o===0?null:(Ey(t,o,n),By(t,Yt()),t.callbackNode!=null&&t.callbackNode===r?Hy.bind(null,t):null)}function qy(t,n){if(nc())return null;Ey(t,n,!0)}function S2(){N2(function(){($e&6)!==0?St(ps,T2):Uy()})}function ed(){if(Kr===0){var t=xa;t===0&&(t=fi,fi<<=1,(fi&261888)===0&&(fi=256)),Kr=t}return Kr}function Fy(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ha(""+t)}function Gy(t,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,t.id&&r.setAttribute("form",t.id),n.parentNode.insertBefore(r,n),t=new FormData(t),r.parentNode.removeChild(r),t}function E2(t,n,r,o,h){if(n==="submit"&&r&&r.stateNode===h){var f=Fy((h[qt]||null).action),p=o.submitter;p&&(n=(n=p[qt]||null)?Fy(n.formAction):p.getAttribute("formAction"),n!==null&&(f=n,p=null));var T=new wi("action","action",null,o,h);t.push({event:T,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Kr!==0){var C=p?Gy(h,p):new FormData(h);bf(r,{pending:!0,data:C,method:h.method,action:f},null,C)}}else typeof f=="function"&&(T.preventDefault(),C=p?Gy(h,p):new FormData(h),bf(r,{pending:!0,data:C,method:h.method,action:f},f,C))},currentTarget:h}]})}}for(var td=0;td<Lh.length;td++){var nd=Lh[td],A2=nd.toLowerCase(),w2=nd[0].toUpperCase()+nd.slice(1);ni(A2,"on"+w2)}ni(Sp,"onAnimationEnd"),ni(Ep,"onAnimationIteration"),ni(Ap,"onAnimationStart"),ni("dblclick","onDoubleClick"),ni("focusin","onFocus"),ni("focusout","onBlur"),ni(Bb,"onTransitionRun"),ni(Hb,"onTransitionStart"),ni(qb,"onTransitionCancel"),ni(wp,"onTransitionEnd"),Ti("onMouseEnter",["mouseout","mouseover"]),Ti("onMouseLeave",["mouseout","mouseover"]),Ti("onPointerEnter",["pointerout","pointerover"]),Ti("onPointerLeave",["pointerout","pointerover"]),bi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),bi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),bi("onBeforeInput",["compositionend","keypress","textInput","paste"]),bi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),bi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),bi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ol="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),x2=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ol));function Ky(t,n){n=(n&4)!==0;for(var r=0;r<t.length;r++){var o=t[r],h=o.event;o=o.listeners;e:{var f=void 0;if(n)for(var p=o.length-1;0<=p;p--){var T=o[p],C=T.instance,H=T.currentTarget;if(T=T.listener,C!==f&&h.isPropagationStopped())break e;f=T,h.currentTarget=H;try{f(h)}catch(Y){_u(Y)}h.currentTarget=null,f=C}else for(p=0;p<o.length;p++){if(T=o[p],C=T.instance,H=T.currentTarget,T=T.listener,C!==f&&h.isPropagationStopped())break e;f=T,h.currentTarget=H;try{f(h)}catch(Y){_u(Y)}h.currentTarget=null,f=C}}}}function je(t,n){var r=n[aa];r===void 0&&(r=n[aa]=new Set);var o=t+"__bubble";r.has(o)||(Wy(n,t,2,!1),r.add(o))}function id(t,n,r){var o=0;n&&(o|=4),Wy(r,t,o,n)}var sc="_reactListening"+Math.random().toString(36).slice(2);function rd(t){if(!t[sc]){t[sc]=!0,_o.forEach(function(r){r!=="selectionchange"&&(x2.has(r)||id(r,!1,t),id(r,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[sc]||(n[sc]=!0,id("selectionchange",!1,n))}}function Wy(t,n,r,o){switch(S0(n)){case 2:var h=eT;break;case 8:h=tT;break;default:h=_d}r=h.bind(null,n,r,t),h=void 0,!As||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?t.addEventListener(n,r,{capture:!0,passive:h}):t.addEventListener(n,r,!0):h!==void 0?t.addEventListener(n,r,{passive:h}):t.addEventListener(n,r,!1)}function sd(t,n,r,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)e:for(;;){if(o===null)return;var p=o.tag;if(p===3||p===4){var T=o.stateNode.containerInfo;if(T===h)break;if(p===4)for(p=o.return;p!==null;){var C=p.tag;if((C===3||C===4)&&p.stateNode.containerInfo===h)return;p=p.return}for(;T!==null;){if(p=vi(T),p===null)return;if(C=p.tag,C===5||C===6||C===26||C===27){o=f=p;continue e}T=T.parentNode}}o=o.return}Rr(function(){var H=f,Y=Nn(r),J=[];e:{var q=xp.get(t);if(q!==void 0){var G=wi,he=t;switch(t){case"keypress":if(xs(r)===0)break e;case"keydown":case"keyup":G=mu;break;case"focusin":he="focus",G=Cs;break;case"focusout":he="blur",G=Cs;break;case"beforeblur":case"afterblur":G=Cs;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":G=Oo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":G=ou;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":G=g;break;case Sp:case Ep:case Ap:G=uu;break;case wp:G=E;break;case"scroll":case"scrollend":G=Mo;break;case"wheel":G=F;break;case"copy":case"cut":case"paste":G=cu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":G=Wi;break;case"toggle":case"beforetoggle":G=ke}var Se=(n&4)!==0,ut=!Se&&(t==="scroll"||t==="scrollend"),z=Se?q!==null?q+"Capture":null:q;Se=[];for(var k=H,U;k!==null;){var Q=k;if(U=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||U===null||z===null||(Q=$n(k,z),Q!=null&&Se.push(ll(k,Q,U))),ut)break;k=k.return}0<Se.length&&(q=new G(q,he,null,r,Y),J.push({event:q,listeners:Se}))}}if((n&7)===0){e:{if(q=t==="mouseover"||t==="pointerover",G=t==="mouseout"||t==="pointerout",q&&r!==Co&&(he=r.relatedTarget||r.fromElement)&&(vi(he)||he[mi]))break e;if((G||q)&&(q=Y.window===Y?Y:(q=Y.ownerDocument)?q.defaultView||q.parentWindow:window,G?(he=r.relatedTarget||r.toElement,G=H,he=he?vi(he):null,he!==null&&(ut=c(he),Se=he.tag,he!==ut||Se!==5&&Se!==27&&Se!==6)&&(he=null)):(G=null,he=H),G!==he)){if(Se=Oo,Q="onMouseLeave",z="onMouseEnter",k="mouse",(t==="pointerout"||t==="pointerover")&&(Se=Wi,Q="onPointerLeave",z="onPointerEnter",k="pointer"),ut=G==null?q:Sn(G),U=he==null?q:Sn(he),q=new Se(Q,k+"leave",G,r,Y),q.target=ut,q.relatedTarget=U,Q=null,vi(Y)===H&&(Se=new Se(z,k+"enter",he,r,Y),Se.target=U,Se.relatedTarget=ut,Q=Se),ut=Q,G&&he)t:{for(Se=R2,z=G,k=he,U=0,Q=z;Q;Q=Se(Q))U++;Q=0;for(var ve=k;ve;ve=Se(ve))Q++;for(;0<U-Q;)z=Se(z),U--;for(;0<Q-U;)k=Se(k),Q--;for(;U--;){if(z===k||k!==null&&z===k.alternate){Se=z;break t}z=Se(z),k=Se(k)}Se=null}else Se=null;G!==null&&Yy(J,q,G,Se,!1),he!==null&&ut!==null&&Yy(J,ut,he,Se,!0)}}e:{if(q=H?Sn(H):window,G=q.nodeName&&q.nodeName.toLowerCase(),G==="select"||G==="input"&&q.type==="file")var Ye=hp;else if(up(q))if(fp)Ye=jb;else{Ye=Lb;var pe=Vb}else G=q.nodeName,!G||G.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?H&&ca(H.elementType)&&(Ye=hp):Ye=zb;if(Ye&&(Ye=Ye(t,H))){cp(J,Ye,r,Y);break e}pe&&pe(t,q,H),t==="focusout"&&H&&q.type==="number"&&H.memoizedProps.value!=null&&wo(q,"number",q.value)}switch(pe=H?Sn(H):window,t){case"focusin":(up(pe)||pe.contentEditable==="true")&&(va=pe,kh=H,zo=null);break;case"focusout":zo=kh=va=null;break;case"mousedown":Nh=!0;break;case"contextmenu":case"mouseup":case"dragend":Nh=!1,bp(J,r,Y);break;case"selectionchange":if(Ub)break;case"keydown":case"keyup":bp(J,r,Y)}var Ve;if(Je)e:{switch(t){case"compositionstart":var Be="onCompositionStart";break e;case"compositionend":Be="onCompositionEnd";break e;case"compositionupdate":Be="onCompositionUpdate";break e}Be=void 0}else ya?Is(t,r)&&(Be="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(Be="onCompositionStart");Be&&(Ci&&r.locale!=="ko"&&(ya||Be!=="onCompositionStart"?Be==="onCompositionEnd"&&ya&&(Ve=Do()):(Ai=Y,Io="value"in Ai?Ai.value:Ai.textContent,ya=!0)),pe=ac(H,Be),0<pe.length&&(Be=new Ri(Be,t,null,r,Y),J.push({event:Be,listeners:pe}),Ve?Be.data=Ve:(Ve=ma(r),Ve!==null&&(Be.data=Ve)))),(Ve=Ln?Mb(t,r):Ob(t,r))&&(Be=ac(H,"onBeforeInput"),0<Be.length&&(pe=new Ri("onBeforeInput","beforeinput",null,r,Y),J.push({event:pe,listeners:Be}),pe.data=Ve)),E2(J,t,H,r,Y)}Ky(J,n)})}function ll(t,n,r){return{instance:t,listener:n,currentTarget:r}}function ac(t,n){for(var r=n+"Capture",o=[];t!==null;){var h=t,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=$n(t,r),h!=null&&o.unshift(ll(t,h,f)),h=$n(t,n),h!=null&&o.push(ll(t,h,f))),t.tag===3)return o;t=t.return}return[]}function R2(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Yy(t,n,r,o,h){for(var f=n._reactName,p=[];r!==null&&r!==o;){var T=r,C=T.alternate,H=T.stateNode;if(T=T.tag,C!==null&&C===o)break;T!==5&&T!==26&&T!==27||H===null||(C=H,h?(H=$n(r,f),H!=null&&p.unshift(ll(r,H,C))):h||(H=$n(r,f),H!=null&&p.push(ll(r,H,C)))),r=r.return}p.length!==0&&t.push({event:n,listeners:p})}var C2=/\r\n?/g,I2=/\u0000|\uFFFD/g;function Qy(t){return(typeof t=="string"?t:""+t).replace(C2,`
`).replace(I2,"")}function Xy(t,n){return n=Qy(n),Qy(t)===n}function lt(t,n,r,o,h,f){switch(r){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||pn(t,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&pn(t,""+o);break;case"className":En(t,"class",o);break;case"tabIndex":En(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":En(t,r,o);break;case"style":Ro(t,o,f);break;case"data":if(n!=="object"){En(t,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||r!=="href")){t.removeAttribute(r);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(r);break}o=ha(""+o),t.setAttribute(r,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&lt(t,n,"name",h.name,h,null),lt(t,n,"formEncType",h.formEncType,h,null),lt(t,n,"formMethod",h.formMethod,h,null),lt(t,n,"formTarget",h.formTarget,h,null)):(lt(t,n,"encType",h.encType,h,null),lt(t,n,"method",h.method,h,null),lt(t,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(r);break}o=ha(""+o),t.setAttribute(r,o);break;case"onClick":o!=null&&(t.onclick=Jn);break;case"onScroll":o!=null&&je("scroll",t);break;case"onScrollEnd":o!=null&&je("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(r=o.__html,r!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}r=ha(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(r,""+o):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":o===!0?t.setAttribute(r,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(r,o):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(r,o):t.removeAttribute(r);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(r):t.setAttribute(r,o);break;case"popover":je("beforetoggle",t),je("toggle",t),la(t,"popover",o);break;case"xlinkActuate":Ot(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Ot(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Ot(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Ot(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Ot(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Ot(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Ot(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Ot(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Ot(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":la(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=au.get(r)||r,la(t,r,o))}}function ad(t,n,r,o,h,f){switch(r){case"style":Ro(t,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(r=o.__html,r!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"children":typeof o=="string"?pn(t,o):(typeof o=="number"||typeof o=="bigint")&&pn(t,""+o);break;case"onScroll":o!=null&&je("scroll",t);break;case"onScrollEnd":o!=null&&je("scrollend",t);break;case"onClick":o!=null&&(t.onclick=Jn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!bo.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(h=r.endsWith("Capture"),n=r.slice(2,h?r.length-7:void 0),f=t[qt]||null,f=f!=null?f[r]:null,typeof f=="function"&&t.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(n,o,h);break e}r in t?t[r]=o:o===!0?t.setAttribute(r,""):la(t,r,o)}}}function Zt(t,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":je("error",t),je("load",t);var o=!1,h=!1,f;for(f in r)if(r.hasOwnProperty(f)){var p=r[f];if(p!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:lt(t,n,f,p,r,null)}}h&&lt(t,n,"srcSet",r.srcSet,r,null),o&&lt(t,n,"src",r.src,r,null);return;case"input":je("invalid",t);var T=f=p=h=null,C=null,H=null;for(o in r)if(r.hasOwnProperty(o)){var Y=r[o];if(Y!=null)switch(o){case"name":h=Y;break;case"type":p=Y;break;case"checked":C=Y;break;case"defaultChecked":H=Y;break;case"value":f=Y;break;case"defaultValue":T=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(a(137,n));break;default:lt(t,n,o,Y,r,null)}}iu(t,f,T,C,H,p,h,!1);return;case"select":je("invalid",t),o=p=f=null;for(h in r)if(r.hasOwnProperty(h)&&(T=r[h],T!=null))switch(h){case"value":f=T;break;case"defaultValue":p=T;break;case"multiple":o=T;default:lt(t,n,h,T,r,null)}n=f,r=p,t.multiple=!!o,n!=null?Er(t,!!o,n,!1):r!=null&&Er(t,!!o,r,!0);return;case"textarea":je("invalid",t),f=h=o=null;for(p in r)if(r.hasOwnProperty(p)&&(T=r[p],T!=null))switch(p){case"value":o=T;break;case"defaultValue":h=T;break;case"children":f=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(a(91));break;default:lt(t,n,p,T,r,null)}Ar(t,o,h,f);return;case"option":for(C in r)r.hasOwnProperty(C)&&(o=r[C],o!=null)&&(C==="selected"?t.selected=o&&typeof o!="function"&&typeof o!="symbol":lt(t,n,C,o,r,null));return;case"dialog":je("beforetoggle",t),je("toggle",t),je("cancel",t),je("close",t);break;case"iframe":case"object":je("load",t);break;case"video":case"audio":for(o=0;o<ol.length;o++)je(ol[o],t);break;case"image":je("error",t),je("load",t);break;case"details":je("toggle",t);break;case"embed":case"source":case"link":je("error",t),je("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(H in r)if(r.hasOwnProperty(H)&&(o=r[H],o!=null))switch(H){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:lt(t,n,H,o,r,null)}return;default:if(ca(n)){for(Y in r)r.hasOwnProperty(Y)&&(o=r[Y],o!==void 0&&ad(t,n,Y,o,r,void 0));return}}for(T in r)r.hasOwnProperty(T)&&(o=r[T],o!=null&&lt(t,n,T,o,r,null))}function D2(t,n,r,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,p=null,T=null,C=null,H=null,Y=null;for(G in r){var J=r[G];if(r.hasOwnProperty(G)&&J!=null)switch(G){case"checked":break;case"value":break;case"defaultValue":C=J;default:o.hasOwnProperty(G)||lt(t,n,G,null,o,J)}}for(var q in o){var G=o[q];if(J=r[q],o.hasOwnProperty(q)&&(G!=null||J!=null))switch(q){case"type":f=G;break;case"name":h=G;break;case"checked":H=G;break;case"defaultChecked":Y=G;break;case"value":p=G;break;case"defaultValue":T=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(a(137,n));break;default:G!==J&&lt(t,n,q,G,o,J)}}ua(t,p,T,C,H,Y,f,h);return;case"select":G=p=T=q=null;for(f in r)if(C=r[f],r.hasOwnProperty(f)&&C!=null)switch(f){case"value":break;case"multiple":G=C;default:o.hasOwnProperty(f)||lt(t,n,f,null,o,C)}for(h in o)if(f=o[h],C=r[h],o.hasOwnProperty(h)&&(f!=null||C!=null))switch(h){case"value":q=f;break;case"defaultValue":T=f;break;case"multiple":p=f;default:f!==C&&lt(t,n,h,f,o,C)}n=T,r=p,o=G,q!=null?Er(t,!!r,q,!1):!!o!=!!r&&(n!=null?Er(t,!!r,n,!0):Er(t,!!r,r?[]:"",!1));return;case"textarea":G=q=null;for(T in r)if(h=r[T],r.hasOwnProperty(T)&&h!=null&&!o.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:lt(t,n,T,null,o,h)}for(p in o)if(h=o[p],f=r[p],o.hasOwnProperty(p)&&(h!=null||f!=null))switch(p){case"value":q=h;break;case"defaultValue":G=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&lt(t,n,p,h,o,f)}ru(t,q,G);return;case"option":for(var he in r)q=r[he],r.hasOwnProperty(he)&&q!=null&&!o.hasOwnProperty(he)&&(he==="selected"?t.selected=!1:lt(t,n,he,null,o,q));for(C in o)q=o[C],G=r[C],o.hasOwnProperty(C)&&q!==G&&(q!=null||G!=null)&&(C==="selected"?t.selected=q&&typeof q!="function"&&typeof q!="symbol":lt(t,n,C,q,o,G));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Se in r)q=r[Se],r.hasOwnProperty(Se)&&q!=null&&!o.hasOwnProperty(Se)&&lt(t,n,Se,null,o,q);for(H in o)if(q=o[H],G=r[H],o.hasOwnProperty(H)&&q!==G&&(q!=null||G!=null))switch(H){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(a(137,n));break;default:lt(t,n,H,q,o,G)}return;default:if(ca(n)){for(var ut in r)q=r[ut],r.hasOwnProperty(ut)&&q!==void 0&&!o.hasOwnProperty(ut)&&ad(t,n,ut,void 0,o,q);for(Y in o)q=o[Y],G=r[Y],!o.hasOwnProperty(Y)||q===G||q===void 0&&G===void 0||ad(t,n,Y,q,o,G);return}}for(var z in r)q=r[z],r.hasOwnProperty(z)&&q!=null&&!o.hasOwnProperty(z)&&lt(t,n,z,null,o,q);for(J in o)q=o[J],G=r[J],!o.hasOwnProperty(J)||q===G||q==null&&G==null||lt(t,n,J,q,o,G)}function Jy(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function M2(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,r=performance.getEntriesByType("resource"),o=0;o<r.length;o++){var h=r[o],f=h.transferSize,p=h.initiatorType,T=h.duration;if(f&&T&&Jy(p)){for(p=0,T=h.responseEnd,o+=1;o<r.length;o++){var C=r[o],H=C.startTime;if(H>T)break;var Y=C.transferSize,J=C.initiatorType;Y&&Jy(J)&&(C=C.responseEnd,p+=Y*(C<T?1:(T-H)/(C-H)))}if(--o,n+=8*(f+p)/(h.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var od=null,ld=null;function oc(t){return t.nodeType===9?t:t.ownerDocument}function $y(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Zy(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function ud(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var cd=null;function O2(){var t=window.event;return t&&t.type==="popstate"?t===cd?!1:(cd=t,!0):(cd=null,!1)}var e0=typeof setTimeout=="function"?setTimeout:void 0,k2=typeof clearTimeout=="function"?clearTimeout:void 0,t0=typeof Promise=="function"?Promise:void 0,N2=typeof queueMicrotask=="function"?queueMicrotask:typeof t0<"u"?function(t){return t0.resolve(null).then(t).catch(V2)}:e0;function V2(t){setTimeout(function(){throw t})}function Wr(t){return t==="head"}function n0(t,n){var r=n,o=0;do{var h=r.nextSibling;if(t.removeChild(r),h&&h.nodeType===8)if(r=h.data,r==="/$"||r==="/&"){if(o===0){t.removeChild(h),Ga(n);return}o--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")o++;else if(r==="html")ul(t.ownerDocument.documentElement);else if(r==="head"){r=t.ownerDocument.head,ul(r);for(var f=r.firstChild;f;){var p=f.nextSibling,T=f.nodeName;f[yi]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&f.rel.toLowerCase()==="stylesheet"||r.removeChild(f),f=p}}else r==="body"&&ul(t.ownerDocument.body);r=h}while(r);Ga(n)}function i0(t,n){var r=t;t=0;do{var o=r.nextSibling;if(r.nodeType===1?n?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(n?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),o&&o.nodeType===8)if(r=o.data,r==="/$"){if(t===0)break;t--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||t++;r=o}while(r)}function hd(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":hd(r),oa(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function L2(t,n,r,o){for(;t.nodeType===1;){var h=r;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[yi])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=qn(t.nextSibling),t===null)break}return null}function z2(t,n,r){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=qn(t.nextSibling),t===null))return null;return t}function r0(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=qn(t.nextSibling),t===null))return null;return t}function fd(t){return t.data==="$?"||t.data==="$~"}function dd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function j2(t,n){var r=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||r.readyState!=="loading")n();else{var o=function(){n(),r.removeEventListener("DOMContentLoaded",o)};r.addEventListener("DOMContentLoaded",o),t._reactRetry=o}}function qn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var gd=null;function s0(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"||r==="/&"){if(n===0)return qn(t.nextSibling);n--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||n++}t=t.nextSibling}return null}function a0(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(n===0)return t;n--}else r!=="/$"&&r!=="/&"||n++}t=t.previousSibling}return null}function o0(t,n,r){switch(n=oc(r),t){case"html":if(t=n.documentElement,!t)throw Error(a(452));return t;case"head":if(t=n.head,!t)throw Error(a(453));return t;case"body":if(t=n.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function ul(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);oa(t)}var Fn=new Map,l0=new Set;function lc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var lr=te.d;te.d={f:P2,r:U2,D:B2,C:H2,L:q2,m:F2,X:K2,S:G2,M:W2};function P2(){var t=lr.f(),n=Zu();return t||n}function U2(t){var n=kn(t);n!==null&&n.tag===5&&n.type==="form"?wm(n):lr.r(t)}var Ha=typeof document>"u"?null:document;function u0(t,n,r){var o=Ha;if(o&&typeof n=="string"&&n){var h=gn(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof r=="string"&&(h+='[crossorigin="'+r+'"]'),l0.has(h)||(l0.add(h),t={rel:t,crossOrigin:r,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),Zt(n,"link",t),Mt(n),o.head.appendChild(n)))}}function B2(t){lr.D(t),u0("dns-prefetch",t,null)}function H2(t,n){lr.C(t,n),u0("preconnect",t,n)}function q2(t,n,r){lr.L(t,n,r);var o=Ha;if(o&&t&&n){var h='link[rel="preload"][as="'+gn(n)+'"]';n==="image"&&r&&r.imageSrcSet?(h+='[imagesrcset="'+gn(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(h+='[imagesizes="'+gn(r.imageSizes)+'"]')):h+='[href="'+gn(t)+'"]';var f=h;switch(n){case"style":f=qa(t);break;case"script":f=Fa(t)}Fn.has(f)||(t=x({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:t,as:n},r),Fn.set(f,t),o.querySelector(h)!==null||n==="style"&&o.querySelector(cl(f))||n==="script"&&o.querySelector(hl(f))||(n=o.createElement("link"),Zt(n,"link",t),Mt(n),o.head.appendChild(n)))}}function F2(t,n){lr.m(t,n);var r=Ha;if(r&&t){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+gn(o)+'"][href="'+gn(t)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Fa(t)}if(!Fn.has(f)&&(t=x({rel:"modulepreload",href:t},n),Fn.set(f,t),r.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(hl(f)))return}o=r.createElement("link"),Zt(o,"link",t),Mt(o),r.head.appendChild(o)}}}function G2(t,n,r){lr.S(t,n,r);var o=Ha;if(o&&t){var h=_i(o).hoistableStyles,f=qa(t);n=n||"default";var p=h.get(f);if(!p){var T={loading:0,preload:null};if(p=o.querySelector(cl(f)))T.loading=5;else{t=x({rel:"stylesheet",href:t,"data-precedence":n},r),(r=Fn.get(f))&&pd(t,r);var C=p=o.createElement("link");Mt(C),Zt(C,"link",t),C._p=new Promise(function(H,Y){C.onload=H,C.onerror=Y}),C.addEventListener("load",function(){T.loading|=1}),C.addEventListener("error",function(){T.loading|=2}),T.loading|=4,uc(p,n,o)}p={type:"stylesheet",instance:p,count:1,state:T},h.set(f,p)}}}function K2(t,n){lr.X(t,n);var r=Ha;if(r&&t){var o=_i(r).hoistableScripts,h=Fa(t),f=o.get(h);f||(f=r.querySelector(hl(h)),f||(t=x({src:t,async:!0},n),(n=Fn.get(h))&&md(t,n),f=r.createElement("script"),Mt(f),Zt(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function W2(t,n){lr.M(t,n);var r=Ha;if(r&&t){var o=_i(r).hoistableScripts,h=Fa(t),f=o.get(h);f||(f=r.querySelector(hl(h)),f||(t=x({src:t,async:!0,type:"module"},n),(n=Fn.get(h))&&md(t,n),f=r.createElement("script"),Mt(f),Zt(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function c0(t,n,r,o){var h=(h=Ae.current)?lc(h):null;if(!h)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=qa(r.href),r=_i(h).hoistableStyles,o=r.get(n),o||(o={type:"style",instance:null,count:0,state:null},r.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=qa(r.href);var f=_i(h).hoistableStyles,p=f.get(t);if(p||(h=h.ownerDocument||h,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,p),(f=h.querySelector(cl(t)))&&!f._p&&(p.instance=f,p.state.loading=5),Fn.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Fn.set(t,r),f||Y2(h,t,r,p.state))),n&&o===null)throw Error(a(528,""));return p}if(n&&o!==null)throw Error(a(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Fa(r),r=_i(h).hoistableScripts,o=r.get(n),o||(o={type:"script",instance:null,count:0,state:null},r.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function qa(t){return'href="'+gn(t)+'"'}function cl(t){return'link[rel="stylesheet"]['+t+"]"}function h0(t){return x({},t,{"data-precedence":t.precedence,precedence:null})}function Y2(t,n,r,o){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=t.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),Zt(n,"link",r),Mt(n),t.head.appendChild(n))}function Fa(t){return'[src="'+gn(t)+'"]'}function hl(t){return"script[async]"+t}function f0(t,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var o=t.querySelector('style[data-href~="'+gn(r.href)+'"]');if(o)return n.instance=o,Mt(o),o;var h=x({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),Mt(o),Zt(o,"style",h),uc(o,r.precedence,t),n.instance=o;case"stylesheet":h=qa(r.href);var f=t.querySelector(cl(h));if(f)return n.state.loading|=4,n.instance=f,Mt(f),f;o=h0(r),(h=Fn.get(h))&&pd(o,h),f=(t.ownerDocument||t).createElement("link"),Mt(f);var p=f;return p._p=new Promise(function(T,C){p.onload=T,p.onerror=C}),Zt(f,"link",o),n.state.loading|=4,uc(f,r.precedence,t),n.instance=f;case"script":return f=Fa(r.src),(h=t.querySelector(hl(f)))?(n.instance=h,Mt(h),h):(o=r,(h=Fn.get(f))&&(o=x({},r),md(o,h)),t=t.ownerDocument||t,h=t.createElement("script"),Mt(h),Zt(h,"link",o),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,uc(o,r.precedence,t));return n.instance}function uc(t,n,r){for(var o=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,p=0;p<o.length;p++){var T=o[p];if(T.dataset.precedence===n)f=T;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(t,n.firstChild))}function pd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function md(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var cc=null;function d0(t,n,r){if(cc===null){var o=new Map,h=cc=new Map;h.set(r,o)}else h=cc,o=h.get(r),o||(o=new Map,h.set(r,o));if(o.has(t))return o;for(o.set(t,null),r=r.getElementsByTagName(t),h=0;h<r.length;h++){var f=r[h];if(!(f[yi]||f[Dt]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var p=f.getAttribute(n)||"";p=t+p;var T=o.get(p);T?T.push(f):o.set(p,[f])}}return o}function g0(t,n,r){t=t.ownerDocument||t,t.head.insertBefore(r,n==="title"?t.querySelector("head > title"):null)}function Q2(t,n,r){if(r===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(t=n.disabled,typeof n.precedence=="string"&&t==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function p0(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function X2(t,n,r,o){if(r.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=qa(o.href),f=n.querySelector(cl(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=hc.bind(t),n.then(t,t)),r.state.loading|=4,r.instance=f,Mt(f);return}f=n.ownerDocument||n,o=h0(o),(h=Fn.get(h))&&pd(o,h),f=f.createElement("link"),Mt(f);var p=f;p._p=new Promise(function(T,C){p.onload=T,p.onerror=C}),Zt(f,"link",o),r.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(t.count++,r=hc.bind(t),n.addEventListener("load",r),n.addEventListener("error",r))}}var yd=0;function J2(t,n){return t.stylesheets&&t.count===0&&dc(t,t.stylesheets),0<t.count||0<t.imgCount?function(r){var o=setTimeout(function(){if(t.stylesheets&&dc(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+n);0<t.imgBytes&&yd===0&&(yd=62500*M2());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&dc(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>yd?50:800)+n);return t.unsuspend=r,function(){t.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function hc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)dc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var fc=null;function dc(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,fc=new Map,n.forEach($2,t),fc=null,hc.call(t))}function $2(t,n){if(!(n.state.loading&4)){var r=fc.get(t);if(r)var o=r.get(null);else{r=new Map,fc.set(t,r);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var p=h[f];(p.nodeName==="LINK"||p.getAttribute("media")!=="not all")&&(r.set(p.dataset.precedence,p),o=p)}o&&r.set(null,o)}h=n.instance,p=h.getAttribute("data-precedence"),f=r.get(p)||o,f===o&&r.set(null,h),r.set(p,h),this.count++,o=hc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var fl={$$typeof:_e,Provider:null,Consumer:null,_currentValue:ce,_currentValue2:ce,_threadCount:0};function Z2(t,n,r,o,h,f,p,T,C){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=pi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=pi(0),this.hiddenUpdates=pi(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=p,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function m0(t,n,r,o,h,f,p,T,C,H,Y,J){return t=new Z2(t,n,r,p,C,H,Y,J,T),n=1,f===!0&&(n|=24),f=wn(3,null,null,n),t.current=f,f.stateNode=t,n=Qh(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:r,cache:n},Zh(f),t}function y0(t){return t?(t=Ta,t):Ta}function v0(t,n,r,o,h,f){h=y0(h),o.context===null?o.context=h:o.pendingContext=h,o=Lr(n),o.payload={element:r},f=f===void 0?null:f,f!==null&&(o.callback=f),r=zr(t,o,n),r!==null&&(bn(r,t,n),Fo(r,t,n))}function _0(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<n?r:n}}function vd(t,n){_0(t,n),(t=t.alternate)&&_0(t,n)}function b0(t){if(t.tag===13||t.tag===31){var n=Os(t,67108864);n!==null&&bn(n,t,67108864),vd(t,67108864)}}function T0(t){if(t.tag===13||t.tag===31){var n=Dn();n=bs(n);var r=Os(t,n);r!==null&&bn(r,t,n),vd(t,n)}}var gc=!0;function eT(t,n,r,o){var h=K.T;K.T=null;var f=te.p;try{te.p=2,_d(t,n,r,o)}finally{te.p=f,K.T=h}}function tT(t,n,r,o){var h=K.T;K.T=null;var f=te.p;try{te.p=8,_d(t,n,r,o)}finally{te.p=f,K.T=h}}function _d(t,n,r,o){if(gc){var h=bd(o);if(h===null)sd(t,n,o,pc,r),E0(t,o);else if(iT(h,t,n,r,o))o.stopPropagation();else if(E0(t,o),n&4&&-1<nT.indexOf(t)){for(;h!==null;){var f=kn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var p=di(f.pendingLanes);if(p!==0){var T=f;for(T.pendingLanes|=2,T.entangledLanes|=2;p;){var C=1<<31-Le(p);T.entanglements[1]|=C,p&=~C}Oi(f),($e&6)===0&&(Ju=Yt()+500,al(0))}}break;case 31:case 13:T=Os(f,2),T!==null&&bn(T,f,2),Zu(),vd(f,2)}if(f=bd(o),f===null&&sd(t,n,o,pc,r),f===h)break;h=f}h!==null&&o.stopPropagation()}else sd(t,n,o,null,r)}}function bd(t){return t=Nn(t),Td(t)}var pc=null;function Td(t){if(pc=null,t=vi(t),t!==null){var n=c(t);if(n===null)t=null;else{var r=n.tag;if(r===13){if(t=d(n),t!==null)return t;t=null}else if(r===31){if(t=y(n),t!==null)return t;t=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return pc=t,null}function S0(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(qi()){case ps:return 2;case ms:return 8;case S:case B:return 32;case M:return 268435456;default:return 32}default:return 32}}var Sd=!1,Yr=null,Qr=null,Xr=null,dl=new Map,gl=new Map,Jr=[],nT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function E0(t,n){switch(t){case"focusin":case"focusout":Yr=null;break;case"dragenter":case"dragleave":Qr=null;break;case"mouseover":case"mouseout":Xr=null;break;case"pointerover":case"pointerout":dl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":gl.delete(n.pointerId)}}function pl(t,n,r,o,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:r,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=kn(n),n!==null&&b0(n)),t):(t.eventSystemFlags|=o,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function iT(t,n,r,o,h){switch(n){case"focusin":return Yr=pl(Yr,t,n,r,o,h),!0;case"dragenter":return Qr=pl(Qr,t,n,r,o,h),!0;case"mouseover":return Xr=pl(Xr,t,n,r,o,h),!0;case"pointerover":var f=h.pointerId;return dl.set(f,pl(dl.get(f)||null,t,n,r,o,h)),!0;case"gotpointercapture":return f=h.pointerId,gl.set(f,pl(gl.get(f)||null,t,n,r,o,h)),!0}return!1}function A0(t){var n=vi(t.target);if(n!==null){var r=c(n);if(r!==null){if(n=r.tag,n===13){if(n=d(r),n!==null){t.blockedOn=n,Qn(t.priority,function(){T0(r)});return}}else if(n===31){if(n=y(r),n!==null){t.blockedOn=n,Qn(t.priority,function(){T0(r)});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function mc(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var r=bd(t.nativeEvent);if(r===null){r=t.nativeEvent;var o=new r.constructor(r.type,r);Co=o,r.target.dispatchEvent(o),Co=null}else return n=kn(r),n!==null&&b0(n),t.blockedOn=r,!1;n.shift()}return!0}function w0(t,n,r){mc(t)&&r.delete(n)}function rT(){Sd=!1,Yr!==null&&mc(Yr)&&(Yr=null),Qr!==null&&mc(Qr)&&(Qr=null),Xr!==null&&mc(Xr)&&(Xr=null),dl.forEach(w0),gl.forEach(w0)}function yc(t,n){t.blockedOn===n&&(t.blockedOn=null,Sd||(Sd=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,rT)))}var vc=null;function x0(t){vc!==t&&(vc=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){vc===t&&(vc=null);for(var n=0;n<t.length;n+=3){var r=t[n],o=t[n+1],h=t[n+2];if(typeof o!="function"){if(Td(o||r)===null)continue;break}var f=kn(r);f!==null&&(t.splice(n,3),n-=3,bf(f,{pending:!0,data:h,method:r.method,action:o},o,h))}}))}function Ga(t){function n(C){return yc(C,t)}Yr!==null&&yc(Yr,t),Qr!==null&&yc(Qr,t),Xr!==null&&yc(Xr,t),dl.forEach(n),gl.forEach(n);for(var r=0;r<Jr.length;r++){var o=Jr[r];o.blockedOn===t&&(o.blockedOn=null)}for(;0<Jr.length&&(r=Jr[0],r.blockedOn===null);)A0(r),r.blockedOn===null&&Jr.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(o=0;o<r.length;o+=3){var h=r[o],f=r[o+1],p=h[qt]||null;if(typeof f=="function")p||x0(r);else if(p){var T=null;if(f&&f.hasAttribute("formAction")){if(h=f,p=f[qt]||null)T=p.formAction;else if(Td(h)!==null)continue}else T=p.action;typeof T=="function"?r[o+1]=T:(r.splice(o,3),o-=3),x0(r)}}}function R0(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(p){return h=p})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(r,20)}function r(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(r,100),function(){o=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Ed(t){this._internalRoot=t}_c.prototype.render=Ed.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(a(409));var r=n.current,o=Dn();v0(r,o,t,n,null,null)},_c.prototype.unmount=Ed.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;v0(t.current,2,null,t,null,null),Zu(),n[mi]=null}};function _c(t){this._internalRoot=t}_c.prototype.unstable_scheduleHydration=function(t){if(t){var n=Zl();t={blockedOn:null,target:t,priority:n};for(var r=0;r<Jr.length&&n!==0&&n<Jr[r].priority;r++);Jr.splice(r,0,t),r===0&&A0(t)}};var C0=e.version;if(C0!=="19.2.4")throw Error(a(527,C0,"19.2.4"));te.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=_(n),t=t!==null?A(t):null,t=t===null?null:t.stateNode,t};var sT={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var bc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!bc.isDisabled&&bc.supportsFiber)try{ge=bc.inject(sT),de=bc}catch{}}return yl.createRoot=function(t,n){if(!l(t))throw Error(a(299));var r=!1,o="",h=Vm,f=Lm,p=zm;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(p=n.onRecoverableError)),n=m0(t,1,!1,null,null,r,o,null,h,f,p,R0),t[mi]=n.current,rd(t),new Ed(n)},yl.hydrateRoot=function(t,n,r){if(!l(t))throw Error(a(299));var o=!1,h="",f=Vm,p=Lm,T=zm,C=null;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(h=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(p=r.onCaughtError),r.onRecoverableError!==void 0&&(T=r.onRecoverableError),r.formState!==void 0&&(C=r.formState)),n=m0(t,1,!0,n,r??null,o,h,C,f,p,T,R0),n.context=y0(null),r=n.current,o=Dn(),o=bs(o),h=Lr(o),h.callback=null,zr(r,h,o),r=o,n.current.lanes=r,vs(n,r),Oi(n),t[mi]=n.current,rd(t),new _c(n)},yl.version="19.2.4",yl}var j0;function pT(){if(j0)return xd.exports;j0=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),xd.exports=gT(),xd.exports}var mT=pT();const yT=()=>{};var P0={};const h_=function(s){const e=[];let i=0;for(let a=0;a<s.length;a++){let l=s.charCodeAt(a);l<128?e[i++]=l:l<2048?(e[i++]=l>>6|192,e[i++]=l&63|128):(l&64512)===55296&&a+1<s.length&&(s.charCodeAt(a+1)&64512)===56320?(l=65536+((l&1023)<<10)+(s.charCodeAt(++a)&1023),e[i++]=l>>18|240,e[i++]=l>>12&63|128,e[i++]=l>>6&63|128,e[i++]=l&63|128):(e[i++]=l>>12|224,e[i++]=l>>6&63|128,e[i++]=l&63|128)}return e},vT=function(s){const e=[];let i=0,a=0;for(;i<s.length;){const l=s[i++];if(l<128)e[a++]=String.fromCharCode(l);else if(l>191&&l<224){const c=s[i++];e[a++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=s[i++],d=s[i++],y=s[i++],b=((l&7)<<18|(c&63)<<12|(d&63)<<6|y&63)-65536;e[a++]=String.fromCharCode(55296+(b>>10)),e[a++]=String.fromCharCode(56320+(b&1023))}else{const c=s[i++],d=s[i++];e[a++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return e.join("")},f_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let l=0;l<s.length;l+=3){const c=s[l],d=l+1<s.length,y=d?s[l+1]:0,b=l+2<s.length,_=b?s[l+2]:0,A=c>>2,x=(c&3)<<4|y>>4;let L=(y&15)<<2|_>>6,X=_&63;b||(X=64,d||(L=64)),a.push(i[A],i[x],i[L],i[X])}return a.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(h_(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):vT(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let l=0;l<s.length;){const c=i[s.charAt(l++)],y=l<s.length?i[s.charAt(l)]:0;++l;const _=l<s.length?i[s.charAt(l)]:64;++l;const x=l<s.length?i[s.charAt(l)]:64;if(++l,c==null||y==null||_==null||x==null)throw new _T;const L=c<<2|y>>4;if(a.push(L),_!==64){const X=y<<4&240|_>>2;if(a.push(X),x!==64){const se=_<<6&192|x;a.push(se)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class _T extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const bT=function(s){const e=h_(s);return f_.encodeByteArray(e,!0)},Gc=function(s){return bT(s).replace(/\./g,"")},d_=function(s){try{return f_.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function TT(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const ST=()=>TT().__FIREBASE_DEFAULTS__,ET=()=>{if(typeof process>"u"||typeof P0>"u")return;const s=P0.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},AT=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&d_(s[1]);return e&&JSON.parse(e)},hh=()=>{try{return yT()||ST()||ET()||AT()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},g_=s=>hh()?.emulatorHosts?.[s],wT=s=>{const e=g_(s);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),a]:[e.substring(0,i),a]},p_=()=>hh()?.config,m_=s=>hh()?.[`_${s}`];class xT{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,a))}}}function uo(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function y_(s){return(await fetch(s,{credentials:"include"})).ok}function RT(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=e||"demo-project",l=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...s};return[Gc(JSON.stringify(i)),Gc(JSON.stringify(d)),""].join(".")}const wl={};function CT(){const s={prod:[],emulator:[]};for(const e of Object.keys(wl))wl[e]?s.emulator.push(e):s.prod.push(e);return s}function IT(s){let e=document.getElementById(s),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),i=!0),{created:i,element:e}}let U0=!1;function v_(s,e){if(typeof window>"u"||typeof document>"u"||!uo(window.location.host)||wl[s]===e||wl[s]||U0)return;wl[s]=e;function i(L){return`__firebase__banner__${L}`}const a="__firebase__banner",c=CT().prod.length>0;function d(){const L=document.getElementById(a);L&&L.remove()}function y(L){L.style.display="flex",L.style.background="#7faaf0",L.style.position="fixed",L.style.bottom="5px",L.style.left="5px",L.style.padding=".5em",L.style.borderRadius="5px",L.style.alignItems="center"}function b(L,X){L.setAttribute("width","24"),L.setAttribute("id",X),L.setAttribute("height","24"),L.setAttribute("viewBox","0 0 24 24"),L.setAttribute("fill","none"),L.style.marginLeft="-6px"}function _(){const L=document.createElement("span");return L.style.cursor="pointer",L.style.marginLeft="16px",L.style.fontSize="24px",L.innerHTML=" &times;",L.onclick=()=>{U0=!0,d()},L}function A(L,X){L.setAttribute("id",X),L.innerText="Learn more",L.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",L.setAttribute("target","__blank"),L.style.paddingLeft="5px",L.style.textDecoration="underline"}function x(){const L=IT(a),X=i("text"),se=document.getElementById(X)||document.createElement("span"),oe=i("learnmore"),le=document.getElementById(oe)||document.createElement("a"),ye=i("preprendIcon"),xe=document.getElementById(ye)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(L.created){const _e=L.element;y(_e),A(le,oe);const Ke=_();b(xe,ye),_e.append(xe,se,le,Ke),document.body.appendChild(_e)}c?(se.innerText="Preview backend disconnected.",xe.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(xe.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,se.innerText="Preview backend running in this workspace."),se.setAttribute("id",X)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",x):x()}function un(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function DT(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(un())}function MT(){const s=hh()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function OT(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function kT(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function NT(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function VT(){const s=un();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function LT(){return!MT()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function zT(){try{return typeof indexedDB=="object"}catch{return!1}}function jT(){return new Promise((s,e)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(a);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(a),s(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{e(l.error?.message||"")}}catch(i){e(i)}})}const PT="FirebaseError";class yr extends Error{constructor(e,i,a){super(i),this.code=e,this.customData=a,this.name=PT,Object.setPrototypeOf(this,yr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Hl.prototype.create)}}class Hl{constructor(e,i,a){this.service=e,this.serviceName=i,this.errors=a}create(e,...i){const a=i[0]||{},l=`${this.service}/${e}`,c=this.errors[e],d=c?UT(c,a):"Error",y=`${this.serviceName}: ${d} (${l}).`;return new yr(l,y,a)}}function UT(s,e){return s.replace(BT,(i,a)=>{const l=e[a];return l!=null?String(l):`<${a}?>`})}const BT=/\{\$([^}]+)}/g;function HT(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function Xs(s,e){if(s===e)return!0;const i=Object.keys(s),a=Object.keys(e);for(const l of i){if(!a.includes(l))return!1;const c=s[l],d=e[l];if(B0(c)&&B0(d)){if(!Xs(c,d))return!1}else if(c!==d)return!1}for(const l of a)if(!i.includes(l))return!1;return!0}function B0(s){return s!==null&&typeof s=="object"}function ql(s){const e=[];for(const[i,a]of Object.entries(s))Array.isArray(a)?a.forEach(l=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):e.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return e.length?"&"+e.join("&"):""}function qT(s,e){const i=new FT(s,e);return i.subscribe.bind(i)}class FT{constructor(e,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{e(this)}).catch(a=>{this.error(a)})}next(e){this.forEachObserver(i=>{i.next(e)})}error(e){this.forEachObserver(i=>{i.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,i,a){let l;if(e===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");GT(e,["next","error","complete"])?l=e:l={next:e,error:i,complete:a},l.next===void 0&&(l.next=Dd),l.error===void 0&&(l.error=Dd),l.complete===void 0&&(l.complete=Dd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,e)}sendOne(e,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{i(this.observers[e])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function GT(s,e){if(typeof s!="object"||s===null)return!1;for(const i of e)if(i in s&&typeof s[i]=="function")return!0;return!1}function Dd(){}function Wn(s){return s&&s._delegate?s._delegate:s}class Js{constructor(e,i,a){this.name=e,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Gs="[DEFAULT]";class KT{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const a=new xT;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&a.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),a=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(YT(e))try{this.getOrInitializeService({instanceIdentifier:Gs})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});a.resolve(c)}catch{}}}}clearInstance(e=Gs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Gs){return this.instances.has(e)}getOptions(e=Gs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,d]of this.instancesDeferred.entries()){const y=this.normalizeInstanceIdentifier(c);a===y&&d.resolve(l)}return l}onInit(e,i){const a=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(a)??new Set;l.add(e),this.onInitCallbacks.set(a,l);const c=this.instances.get(a);return c&&e(c,a),()=>{l.delete(e)}}invokeOnInitCallbacks(e,i){const a=this.onInitCallbacks.get(i);if(a)for(const l of a)try{l(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:WT(e),options:i}),this.instances.set(e,a),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=Gs){return this.component?this.component.multipleInstances?e:Gs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function WT(s){return s===Gs?void 0:s}function YT(s){return s.instantiationMode==="EAGER"}class QT{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new KT(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}var He;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(He||(He={}));const XT={debug:He.DEBUG,verbose:He.VERBOSE,info:He.INFO,warn:He.WARN,error:He.ERROR,silent:He.SILENT},JT=He.INFO,$T={[He.DEBUG]:"log",[He.VERBOSE]:"log",[He.INFO]:"info",[He.WARN]:"warn",[He.ERROR]:"error"},ZT=(s,e,...i)=>{if(e<s.logLevel)return;const a=new Date().toISOString(),l=$T[e];if(l)console[l](`[${a}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class vg{constructor(e){this.name=e,this._logLevel=JT,this._logHandler=ZT,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in He))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?XT[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,He.DEBUG,...e),this._logHandler(this,He.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,He.VERBOSE,...e),this._logHandler(this,He.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,He.INFO,...e),this._logHandler(this,He.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,He.WARN,...e),this._logHandler(this,He.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,He.ERROR,...e),this._logHandler(this,He.ERROR,...e)}}const eS=(s,e)=>e.some(i=>s instanceof i);let H0,q0;function tS(){return H0||(H0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function nS(){return q0||(q0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const __=new WeakMap,Wd=new WeakMap,b_=new WeakMap,Md=new WeakMap,_g=new WeakMap;function iS(s){const e=new Promise((i,a)=>{const l=()=>{s.removeEventListener("success",c),s.removeEventListener("error",d)},c=()=>{i(rs(s.result)),l()},d=()=>{a(s.error),l()};s.addEventListener("success",c),s.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&__.set(i,s)}).catch(()=>{}),_g.set(e,s),e}function rS(s){if(Wd.has(s))return;const e=new Promise((i,a)=>{const l=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",d),s.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{a(s.error||new DOMException("AbortError","AbortError")),l()};s.addEventListener("complete",c),s.addEventListener("error",d),s.addEventListener("abort",d)});Wd.set(s,e)}let Yd={get(s,e,i){if(s instanceof IDBTransaction){if(e==="done")return Wd.get(s);if(e==="objectStoreNames")return s.objectStoreNames||b_.get(s);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return rs(s[e])},set(s,e,i){return s[e]=i,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function sS(s){Yd=s(Yd)}function aS(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const a=s.call(Od(this),e,...i);return b_.set(a,e.sort?e.sort():[e]),rs(a)}:nS().includes(s)?function(...e){return s.apply(Od(this),e),rs(__.get(this))}:function(...e){return rs(s.apply(Od(this),e))}}function oS(s){return typeof s=="function"?aS(s):(s instanceof IDBTransaction&&rS(s),eS(s,tS())?new Proxy(s,Yd):s)}function rs(s){if(s instanceof IDBRequest)return iS(s);if(Md.has(s))return Md.get(s);const e=oS(s);return e!==s&&(Md.set(s,e),_g.set(e,s)),e}const Od=s=>_g.get(s);function lS(s,e,{blocked:i,upgrade:a,blocking:l,terminated:c}={}){const d=indexedDB.open(s,e),y=rs(d);return a&&d.addEventListener("upgradeneeded",b=>{a(rs(d.result),b.oldVersion,b.newVersion,rs(d.transaction),b)}),i&&d.addEventListener("blocked",b=>i(b.oldVersion,b.newVersion,b)),y.then(b=>{c&&b.addEventListener("close",()=>c()),l&&b.addEventListener("versionchange",_=>l(_.oldVersion,_.newVersion,_))}).catch(()=>{}),y}const uS=["get","getKey","getAll","getAllKeys","count"],cS=["put","add","delete","clear"],kd=new Map;function F0(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(kd.get(e))return kd.get(e);const i=e.replace(/FromIndex$/,""),a=e!==i,l=cS.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(l||uS.includes(i)))return;const c=async function(d,...y){const b=this.transaction(d,l?"readwrite":"readonly");let _=b.store;return a&&(_=_.index(y.shift())),(await Promise.all([_[i](...y),l&&b.done]))[0]};return kd.set(e,c),c}sS(s=>({...s,get:(e,i,a)=>F0(e,i)||s.get(e,i,a),has:(e,i)=>!!F0(e,i)||s.has(e,i)}));class hS{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(fS(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function fS(s){return s.getComponent()?.type==="VERSION"}const Qd="@firebase/app",G0="0.14.7";const dr=new vg("@firebase/app"),dS="@firebase/app-compat",gS="@firebase/analytics-compat",pS="@firebase/analytics",mS="@firebase/app-check-compat",yS="@firebase/app-check",vS="@firebase/auth",_S="@firebase/auth-compat",bS="@firebase/database",TS="@firebase/data-connect",SS="@firebase/database-compat",ES="@firebase/functions",AS="@firebase/functions-compat",wS="@firebase/installations",xS="@firebase/installations-compat",RS="@firebase/messaging",CS="@firebase/messaging-compat",IS="@firebase/performance",DS="@firebase/performance-compat",MS="@firebase/remote-config",OS="@firebase/remote-config-compat",kS="@firebase/storage",NS="@firebase/storage-compat",VS="@firebase/firestore",LS="@firebase/ai",zS="@firebase/firestore-compat",jS="firebase",PS="12.8.0";const Xd="[DEFAULT]",US={[Qd]:"fire-core",[dS]:"fire-core-compat",[pS]:"fire-analytics",[gS]:"fire-analytics-compat",[yS]:"fire-app-check",[mS]:"fire-app-check-compat",[vS]:"fire-auth",[_S]:"fire-auth-compat",[bS]:"fire-rtdb",[TS]:"fire-data-connect",[SS]:"fire-rtdb-compat",[ES]:"fire-fn",[AS]:"fire-fn-compat",[wS]:"fire-iid",[xS]:"fire-iid-compat",[RS]:"fire-fcm",[CS]:"fire-fcm-compat",[IS]:"fire-perf",[DS]:"fire-perf-compat",[MS]:"fire-rc",[OS]:"fire-rc-compat",[kS]:"fire-gcs",[NS]:"fire-gcs-compat",[VS]:"fire-fst",[zS]:"fire-fst-compat",[LS]:"fire-vertex","fire-js":"fire-js",[jS]:"fire-js-all"};const Kc=new Map,BS=new Map,Jd=new Map;function K0(s,e){try{s.container.addComponent(e)}catch(i){dr.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,i)}}function to(s){const e=s.name;if(Jd.has(e))return dr.debug(`There were multiple attempts to register component ${e}.`),!1;Jd.set(e,s);for(const i of Kc.values())K0(i,s);for(const i of BS.values())K0(i,s);return!0}function bg(s,e){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(e)}function si(s){return s==null?!1:s.settings!==void 0}const HS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ss=new Hl("app","Firebase",HS);class qS{constructor(e,i,a){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Js("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ss.create("app-deleted",{appName:this._name})}}const co=PS;function T_(s,e={}){let i=s;typeof e!="object"&&(e={name:e});const a={name:Xd,automaticDataCollectionEnabled:!0,...e},l=a.name;if(typeof l!="string"||!l)throw ss.create("bad-app-name",{appName:String(l)});if(i||(i=p_()),!i)throw ss.create("no-options");const c=Kc.get(l);if(c){if(Xs(i,c.options)&&Xs(a,c.config))return c;throw ss.create("duplicate-app",{appName:l})}const d=new QT(l);for(const b of Jd.values())d.addComponent(b);const y=new qS(i,a,d);return Kc.set(l,y),y}function S_(s=Xd){const e=Kc.get(s);if(!e&&s===Xd&&p_())return T_();if(!e)throw ss.create("no-app",{appName:s});return e}function as(s,e,i){let a=US[s]??s;i&&(a+=`-${i}`);const l=a.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const d=[`Unable to register library "${a}" with version "${e}":`];l&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),dr.warn(d.join(" "));return}to(new Js(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}const FS="firebase-heartbeat-database",GS=1,Ol="firebase-heartbeat-store";let Nd=null;function E_(){return Nd||(Nd=lS(FS,GS,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(Ol)}catch(i){console.warn(i)}}}}).catch(s=>{throw ss.create("idb-open",{originalErrorMessage:s.message})})),Nd}async function KS(s){try{const i=(await E_()).transaction(Ol),a=await i.objectStore(Ol).get(A_(s));return await i.done,a}catch(e){if(e instanceof yr)dr.warn(e.message);else{const i=ss.create("idb-get",{originalErrorMessage:e?.message});dr.warn(i.message)}}}async function W0(s,e){try{const a=(await E_()).transaction(Ol,"readwrite");await a.objectStore(Ol).put(e,A_(s)),await a.done}catch(i){if(i instanceof yr)dr.warn(i.message);else{const a=ss.create("idb-set",{originalErrorMessage:i?.message});dr.warn(a.message)}}}function A_(s){return`${s.name}!${s.options.appId}`}const WS=1024,YS=30;class QS{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new JS(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=Y0();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>YS){const l=$S(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){dr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Y0(),{heartbeatsToSend:i,unsentEntries:a}=XS(this._heartbeatsCache.heartbeats),l=Gc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(e){return dr.warn(e),""}}}function Y0(){return new Date().toISOString().substring(0,10)}function XS(s,e=WS){const i=[];let a=s.slice();for(const l of s){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),Q0(i)>e){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),Q0(i)>e){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class JS{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return zT()?jT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await KS(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return W0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return W0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function Q0(s){return Gc(JSON.stringify({version:2,heartbeats:s})).length}function $S(s){if(s.length===0)return-1;let e=0,i=s[0].date;for(let a=1;a<s.length;a++)s[a].date<i&&(i=s[a].date,e=a);return e}function ZS(s){to(new Js("platform-logger",e=>new hS(e),"PRIVATE")),to(new Js("heartbeat",e=>new QS(e),"PRIVATE")),as(Qd,G0,s),as(Qd,G0,"esm2020"),as("fire-js","")}ZS("");function w_(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const eE=w_,x_=new Hl("auth","Firebase",w_());const Wc=new vg("@firebase/auth");function tE(s,...e){Wc.logLevel<=He.WARN&&Wc.warn(`Auth (${co}): ${s}`,...e)}function Vc(s,...e){Wc.logLevel<=He.ERROR&&Wc.error(`Auth (${co}): ${s}`,...e)}function ji(s,...e){throw Sg(s,...e)}function li(s,...e){return Sg(s,...e)}function Tg(s,e,i){const a={...eE(),[e]:i};return new Hl("auth","Firebase",a).create(e,{appName:s.name})}function Ys(s){return Tg(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function nE(s,e,i){const a=i;if(!(e instanceof a))throw a.name!==e.constructor.name&&ji(s,"argument-error"),Tg(s,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Sg(s,...e){if(typeof s!="string"){const i=e[0],a=[...e.slice(1)];return a[0]&&(a[0].appName=s.name),s._errorFactory.create(i,...a)}return x_.create(s,...e)}function we(s,e,...i){if(!s)throw Sg(e,...i)}function cr(s){const e="INTERNAL ASSERTION FAILED: "+s;throw Vc(e),new Error(e)}function gr(s,e){s||cr(e)}function $d(){return typeof self<"u"&&self.location?.href||""}function iE(){return X0()==="http:"||X0()==="https:"}function X0(){return typeof self<"u"&&self.location?.protocol||null}function rE(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(iE()||kT()||"connection"in navigator)?navigator.onLine:!0}function sE(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class Fl{constructor(e,i){this.shortDelay=e,this.longDelay=i,gr(i>e,"Short delay should be less than long delay!"),this.isMobile=DT()||NT()}get(){return rE()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Eg(s,e){gr(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return e?`${i}${e.startsWith("/")?e.slice(1):e}`:i}class R_{static initialize(e,i,a){this.fetchImpl=e,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;cr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;cr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;cr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const aE={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const oE=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],lE=new Fl(3e4,6e4);function Ag(s,e){return s.tenantId&&!e.tenantId?{...e,tenantId:s.tenantId}:e}async function ho(s,e,i,a,l={}){return C_(s,l,async()=>{let c={},d={};a&&(e==="GET"?d=a:c={body:JSON.stringify(a)});const y=ql({key:s.config.apiKey,...d}).slice(1),b=await s._getAdditionalHeaders();b["Content-Type"]="application/json",s.languageCode&&(b["X-Firebase-Locale"]=s.languageCode);const _={method:e,headers:b,...c};return OT()||(_.referrerPolicy="no-referrer"),s.emulatorConfig&&uo(s.emulatorConfig.host)&&(_.credentials="include"),R_.fetch()(await I_(s,s.config.apiHost,i,y),_)})}async function C_(s,e,i){s._canInitEmulator=!1;const a={...aE,...e};try{const l=new cE(s),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Tc(s,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const y=c.ok?d.errorMessage:d.error.message,[b,_]=y.split(" : ");if(b==="FEDERATED_USER_ID_ALREADY_LINKED")throw Tc(s,"credential-already-in-use",d);if(b==="EMAIL_EXISTS")throw Tc(s,"email-already-in-use",d);if(b==="USER_DISABLED")throw Tc(s,"user-disabled",d);const A=a[b]||b.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw Tg(s,A,_);ji(s,A)}}catch(l){if(l instanceof yr)throw l;ji(s,"network-request-failed",{message:String(l)})}}async function uE(s,e,i,a,l={}){const c=await ho(s,e,i,a,l);return"mfaPendingCredential"in c&&ji(s,"multi-factor-auth-required",{_serverResponse:c}),c}async function I_(s,e,i,a){const l=`${e}${i}?${a}`,c=s,d=c.config.emulator?Eg(s.config,l):`${s.config.apiScheme}://${l}`;return oE.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class cE{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(li(this.auth,"network-request-failed")),lE.get())})}}function Tc(s,e,i){const a={appName:s.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const l=li(s,e,a);return l.customData._tokenResponse=i,l}async function hE(s,e){return ho(s,"POST","/v1/accounts:delete",e)}async function Yc(s,e){return ho(s,"POST","/v1/accounts:lookup",e)}function xl(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function fE(s,e=!1){const i=Wn(s),a=await i.getIdToken(e),l=wg(a);we(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:a,authTime:xl(Vd(l.auth_time)),issuedAtTime:xl(Vd(l.iat)),expirationTime:xl(Vd(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Vd(s){return Number(s)*1e3}function wg(s){const[e,i,a]=s.split(".");if(e===void 0||i===void 0||a===void 0)return Vc("JWT malformed, contained fewer than 3 sections"),null;try{const l=d_(i);return l?JSON.parse(l):(Vc("Failed to decode base64 JWT payload"),null)}catch(l){return Vc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function J0(s){const e=wg(s);return we(e,"internal-error"),we(typeof e.exp<"u","internal-error"),we(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function kl(s,e,i=!1){if(i)return e;try{return await e}catch(a){throw a instanceof yr&&dE(a)&&s.auth.currentUser===s&&await s.auth.signOut(),a}}function dE({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class gE{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Zd{constructor(e,i){this.createdAt=e,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=xl(this.lastLoginAt),this.creationTime=xl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Qc(s){const e=s.auth,i=await s.getIdToken(),a=await kl(s,Yc(e,{idToken:i}));we(a?.users.length,e,"internal-error");const l=a.users[0];s._notifyReloadListener(l);const c=l.providerUserInfo?.length?D_(l.providerUserInfo):[],d=mE(s.providerData,c),y=s.isAnonymous,b=!(s.email&&l.passwordHash)&&!d?.length,_=y?b:!1,A={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new Zd(l.createdAt,l.lastLoginAt),isAnonymous:_};Object.assign(s,A)}async function pE(s){const e=Wn(s);await Qc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function mE(s,e){return[...s.filter(a=>!e.some(l=>l.providerId===a.providerId)),...e]}function D_(s){return s.map(({providerId:e,...i})=>({providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function yE(s,e){const i=await C_(s,{},async()=>{const a=ql({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:l,apiKey:c}=s.config,d=await I_(s,l,"/v1/token",`key=${c}`),y=await s._getAdditionalHeaders();y["Content-Type"]="application/x-www-form-urlencoded";const b={method:"POST",headers:y,body:a};return s.emulatorConfig&&uo(s.emulatorConfig.host)&&(b.credentials="include"),R_.fetch()(d,b)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function vE(s,e){return ho(s,"POST","/v2/accounts:revokeToken",Ag(s,e))}class Xa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){we(e.idToken,"internal-error"),we(typeof e.idToken<"u","internal-error"),we(typeof e.refreshToken<"u","internal-error");const i="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):J0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,i)}updateFromIdToken(e){we(e.length!==0,"internal-error");const i=J0(e);this.updateTokensAndExpiration(e,null,i)}async getToken(e,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(we(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,i){const{accessToken:a,refreshToken:l,expiresIn:c}=await yE(e,i);this.updateTokensAndExpiration(a,l,Number(c))}updateTokensAndExpiration(e,i,a){this.refreshToken=i||null,this.accessToken=e||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(e,i){const{refreshToken:a,accessToken:l,expirationTime:c}=i,d=new Xa;return a&&(we(typeof a=="string","internal-error",{appName:e}),d.refreshToken=a),l&&(we(typeof l=="string","internal-error",{appName:e}),d.accessToken=l),c&&(we(typeof c=="number","internal-error",{appName:e}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Xa,this.toJSON())}_performRefresh(){return cr("not implemented")}}function Zr(s,e){we(typeof s=="string"||typeof s>"u","internal-error",{appName:e})}class ai{constructor({uid:e,auth:i,stsTokenManager:a,...l}){this.providerId="firebase",this.proactiveRefresh=new gE(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Zd(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const i=await kl(this,this.stsTokenManager.getToken(this.auth,e));return we(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(e){return fE(this,e)}reload(){return pE(this)}_assign(e){this!==e&&(we(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(i=>({...i})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const i=new ai({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(e){we(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,i=!1){let a=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),a=!0),i&&await Qc(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(si(this.auth.app))return Promise.reject(Ys(this.auth));const e=await this.getIdToken();return await kl(this,hE(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,i){const a=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,y=i.tenantId??void 0,b=i._redirectEventId??void 0,_=i.createdAt??void 0,A=i.lastLoginAt??void 0,{uid:x,emailVerified:L,isAnonymous:X,providerData:se,stsTokenManager:oe}=i;we(x&&oe,e,"internal-error");const le=Xa.fromJSON(this.name,oe);we(typeof x=="string",e,"internal-error"),Zr(a,e.name),Zr(l,e.name),we(typeof L=="boolean",e,"internal-error"),we(typeof X=="boolean",e,"internal-error"),Zr(c,e.name),Zr(d,e.name),Zr(y,e.name),Zr(b,e.name),Zr(_,e.name),Zr(A,e.name);const ye=new ai({uid:x,auth:e,email:l,emailVerified:L,displayName:a,isAnonymous:X,photoURL:d,phoneNumber:c,tenantId:y,stsTokenManager:le,createdAt:_,lastLoginAt:A});return se&&Array.isArray(se)&&(ye.providerData=se.map(xe=>({...xe}))),b&&(ye._redirectEventId=b),ye}static async _fromIdTokenResponse(e,i,a=!1){const l=new Xa;l.updateFromServerResponse(i);const c=new ai({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:a});return await Qc(c),c}static async _fromGetAccountInfoResponse(e,i,a){const l=i.users[0];we(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?D_(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,y=new Xa;y.updateFromIdToken(a);const b=new ai({uid:l.localId,auth:e,stsTokenManager:y,isAnonymous:d}),_={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new Zd(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(b,_),b}}const $0=new Map;function hr(s){gr(s instanceof Function,"Expected a class definition");let e=$0.get(s);return e?(gr(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,$0.set(s,e),e)}class M_{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,i){this.storage[e]=i}async _get(e){const i=this.storage[e];return i===void 0?null:i}async _remove(e){delete this.storage[e]}_addListener(e,i){}_removeListener(e,i){}}M_.type="NONE";const Z0=M_;function Lc(s,e,i){return`firebase:${s}:${e}:${i}`}class Ja{constructor(e,i,a){this.persistence=e,this.auth=i,this.userKey=a;const{config:l,name:c}=this.auth;this.fullUserKey=Lc(this.userKey,l.apiKey,c),this.fullPersistenceKey=Lc("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const i=await Yc(this.auth,{idToken:e}).catch(()=>{});return i?ai._fromGetAccountInfoResponse(this.auth,i,e):null}return ai._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,i,a="authUser"){if(!i.length)return new Ja(hr(Z0),e,a);const l=(await Promise.all(i.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let c=l[0]||hr(Z0);const d=Lc(a,e.config.apiKey,e.name);let y=null;for(const _ of i)try{const A=await _._get(d);if(A){let x;if(typeof A=="string"){const L=await Yc(e,{idToken:A}).catch(()=>{});if(!L)break;x=await ai._fromGetAccountInfoResponse(e,L,A)}else x=ai._fromJSON(e,A);_!==c&&(y=x),c=_;break}}catch{}const b=l.filter(_=>_._shouldAllowMigration);return!c._shouldAllowMigration||!b.length?new Ja(c,e,a):(c=b[0],y&&await c._set(d,y.toJSON()),await Promise.all(i.map(async _=>{if(_!==c)try{await _._remove(d)}catch{}})),new Ja(c,e,a))}}function ev(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(V_(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(O_(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(z_(e))return"Blackberry";if(j_(e))return"Webos";if(k_(e))return"Safari";if((e.includes("chrome/")||N_(e))&&!e.includes("edge/"))return"Chrome";if(L_(e))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=s.match(i);if(a?.length===2)return a[1]}return"Other"}function O_(s=un()){return/firefox\//i.test(s)}function k_(s=un()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function N_(s=un()){return/crios\//i.test(s)}function V_(s=un()){return/iemobile/i.test(s)}function L_(s=un()){return/android/i.test(s)}function z_(s=un()){return/blackberry/i.test(s)}function j_(s=un()){return/webos/i.test(s)}function xg(s=un()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function _E(s=un()){return xg(s)&&!!window.navigator?.standalone}function bE(){return VT()&&document.documentMode===10}function P_(s=un()){return xg(s)||L_(s)||j_(s)||z_(s)||/windows phone/i.test(s)||V_(s)}function U_(s,e=[]){let i;switch(s){case"Browser":i=ev(un());break;case"Worker":i=`${ev(un())}-${s}`;break;default:i=s}const a=e.length?e.join(","):"FirebaseCore-web";return`${i}/JsCore/${co}/${a}`}class TE{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,i){const a=c=>new Promise((d,y)=>{try{const b=e(c);d(b)}catch(b){y(b)}});a.onAbort=i,this.queue.push(a);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const i=[];try{for(const a of this.queue)await a(e),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function SE(s,e={}){return ho(s,"GET","/v2/passwordPolicy",Ag(s,e))}const EE=6;class AE{constructor(e){const i=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??EE,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,i),this.validatePasswordCharacterOptions(e,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(e,i){const a=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=e.length>=a),l&&(i.meetsMaxPasswordLength=e.length<=l)}validatePasswordCharacterOptions(e,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let l=0;l<e.length;l++)a=e.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(e,i,a,l,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}class wE{constructor(e,i,a,l){this.app=e,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new tv(this),this.idTokenSubscription=new tv(this),this.beforeStateQueue=new TE(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=x_,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,i){return i&&(this._popupRedirectResolver=hr(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Ja.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const i=await Yc(this,{idToken:e}),a=await ai._fromGetAccountInfoResponse(this,i,e);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(si(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=a?._redirectEventId,y=await this.tryRedirectSignIn(e);(!c||c===d)&&y?.user&&(a=y.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return we(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(e){try{await Qc(e)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=sE()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(si(this.app))return Promise.reject(Ys(this));const i=e?Wn(e):null;return i&&we(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(e,i=!1){if(!this._deleted)return e&&we(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return si(this.app)?Promise.reject(Ys(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return si(this.app)?Promise.reject(Ys(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(hr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await SE(this),i=new AE(e);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Hl("auth","Firebase",e())}onAuthStateChanged(e,i,a){return this.registerStateListener(this.authStateSubscription,e,i,a)}beforeAuthStateChanged(e,i){return this.beforeStateQueue.pushCallback(e,i)}onIdTokenChanged(e,i,a){return this.registerStateListener(this.idTokenSubscription,e,i,a)}authStateReady(){return new Promise((e,i)=>{if(this.currentUser)e();else{const a=this.onAuthStateChanged(()=>{a(),e()},i)}})}async revokeAccessToken(e){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await vE(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,i){const a=await this.getOrInitRedirectPersistenceManager(i);return e===null?a.removeCurrentUser():a.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const i=e&&hr(e)||this._popupRedirectResolver;we(i,this,"argument-error"),this.redirectPersistenceManager=await Ja.create(this,[hr(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,i,a,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const y=this._isInitialized?Promise.resolve():this._initializationPromise;if(we(y,this,"internal-error"),y.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const b=e.addObserver(i,a,l);return()=>{d=!0,b()}}else{const b=e.addObserver(i);return()=>{d=!0,b()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return we(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=U_(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(e["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(e["X-Firebase-AppCheck"]=a),e}async _getAppCheckToken(){if(si(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&tE(`Error while retrieving App Check token: ${e.error}`),e?.token}}function fh(s){return Wn(s)}class tv{constructor(e){this.auth=e,this.observer=null,this.addObserver=qT(i=>this.observer=i)}get next(){return we(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Rg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function xE(s){Rg=s}function RE(s){return Rg.loadJS(s)}function CE(){return Rg.gapiScript}function IE(s){return`__${s}${Math.floor(Math.random()*1e6)}`}function DE(s,e){const i=bg(s,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(Xs(c,e??{}))return l;ji(l,"already-initialized")}return i.initialize({options:e})}function ME(s,e){const i=e?.persistence||[],a=(Array.isArray(i)?i:[i]).map(hr);e?.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(a,e?.popupRedirectResolver)}function OE(s,e,i){const a=fh(s);we(/^https?:\/\//.test(e),a,"invalid-emulator-scheme");const l=!1,c=B_(e),{host:d,port:y}=kE(e),b=y===null?"":`:${y}`,_={url:`${c}//${d}${b}/`},A=Object.freeze({host:d,port:y,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!a._canInitEmulator){we(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),we(Xs(_,a.config.emulator)&&Xs(A,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=_,a.emulatorConfig=A,a.settings.appVerificationDisabledForTesting=!0,uo(d)?(y_(`${c}//${d}${b}`),v_("Auth",!0)):NE()}function B_(s){const e=s.indexOf(":");return e<0?"":s.substr(0,e+1)}function kE(s){const e=B_(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(e.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(a);if(l){const c=l[1];return{host:c,port:nv(a.substr(c.length+1))}}else{const[c,d]=a.split(":");return{host:c,port:nv(d)}}}function nv(s){if(!s)return null;const e=Number(s);return isNaN(e)?null:e}function NE(){function s(){const e=document.createElement("p"),i=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class H_{constructor(e,i){this.providerId=e,this.signInMethod=i}toJSON(){return cr("not implemented")}_getIdTokenResponse(e){return cr("not implemented")}_linkToIdToken(e,i){return cr("not implemented")}_getReauthenticationResolver(e){return cr("not implemented")}}async function $a(s,e){return uE(s,"POST","/v1/accounts:signInWithIdp",Ag(s,e))}const VE="http://localhost";class $s extends H_{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const i=new $s(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(i.idToken=e.idToken),e.accessToken&&(i.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(i.nonce=e.nonce),e.pendingToken&&(i.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(i.accessToken=e.oauthToken,i.secret=e.oauthTokenSecret):ji("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e,{providerId:a,signInMethod:l,...c}=i;if(!a||!l)return null;const d=new $s(a,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(e){const i=this.buildRequest();return $a(e,i)}_linkToIdToken(e,i){const a=this.buildRequest();return a.idToken=i,$a(e,a)}_getReauthenticationResolver(e){const i=this.buildRequest();return i.autoCreate=!1,$a(e,i)}buildRequest(){const e={requestUri:VE,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),e.postBody=ql(i)}return e}}class Cg{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Gl extends Cg{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class es extends Gl{constructor(){super("facebook.com")}static credential(e){return $s._fromParams({providerId:es.PROVIDER_ID,signInMethod:es.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return es.credentialFromTaggedObject(e)}static credentialFromError(e){return es.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return es.credential(e.oauthAccessToken)}catch{return null}}}es.FACEBOOK_SIGN_IN_METHOD="facebook.com";es.PROVIDER_ID="facebook.com";class ur extends Gl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,i){return $s._fromParams({providerId:ur.PROVIDER_ID,signInMethod:ur.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:i})}static credentialFromResult(e){return ur.credentialFromTaggedObject(e)}static credentialFromError(e){return ur.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:i,oauthAccessToken:a}=e;if(!i&&!a)return null;try{return ur.credential(i,a)}catch{return null}}}ur.GOOGLE_SIGN_IN_METHOD="google.com";ur.PROVIDER_ID="google.com";class ts extends Gl{constructor(){super("github.com")}static credential(e){return $s._fromParams({providerId:ts.PROVIDER_ID,signInMethod:ts.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ts.credentialFromTaggedObject(e)}static credentialFromError(e){return ts.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ts.credential(e.oauthAccessToken)}catch{return null}}}ts.GITHUB_SIGN_IN_METHOD="github.com";ts.PROVIDER_ID="github.com";class ns extends Gl{constructor(){super("twitter.com")}static credential(e,i){return $s._fromParams({providerId:ns.PROVIDER_ID,signInMethod:ns.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:i})}static credentialFromResult(e){return ns.credentialFromTaggedObject(e)}static credentialFromError(e){return ns.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=e;if(!i||!a)return null;try{return ns.credential(i,a)}catch{return null}}}ns.TWITTER_SIGN_IN_METHOD="twitter.com";ns.PROVIDER_ID="twitter.com";class no{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,i,a,l=!1){const c=await ai._fromIdTokenResponse(e,a,l),d=iv(a);return new no({user:c,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(e,i,a){await e._updateTokensIfNecessary(a,!0);const l=iv(a);return new no({user:e,providerId:l,_tokenResponse:a,operationType:i})}}function iv(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}class Xc extends yr{constructor(e,i,a,l){super(i.code,i.message),this.operationType=a,this.user=l,Object.setPrototypeOf(this,Xc.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(e,i,a,l){return new Xc(e,i,a,l)}}function q_(s,e,i,a){return(e==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Xc._fromErrorAndOperation(s,c,e,a):c})}async function LE(s,e,i=!1){const a=await kl(s,e._linkToIdToken(s.auth,await s.getIdToken()),i);return no._forOperation(s,"link",a)}async function zE(s,e,i=!1){const{auth:a}=s;if(si(a.app))return Promise.reject(Ys(a));const l="reauthenticate";try{const c=await kl(s,q_(a,l,e,s),i);we(c.idToken,a,"internal-error");const d=wg(c.idToken);we(d,a,"internal-error");const{sub:y}=d;return we(s.uid===y,a,"user-mismatch"),no._forOperation(s,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&ji(a,"user-mismatch"),c}}async function jE(s,e,i=!1){if(si(s.app))return Promise.reject(Ys(s));const a="signIn",l=await q_(s,a,e),c=await no._fromIdTokenResponse(s,a,l);return i||await s._updateCurrentUser(c.user),c}function PE(s,e,i,a){return Wn(s).onIdTokenChanged(e,i,a)}function UE(s,e,i){return Wn(s).beforeAuthStateChanged(e,i)}function BE(s,e,i,a){return Wn(s).onAuthStateChanged(e,i,a)}function HE(s){return Wn(s).signOut()}const Jc="__sak";class F_{constructor(e,i){this.storageRetriever=e,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(Jc,"1"),this.storage.removeItem(Jc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,i){return this.storage.setItem(e,JSON.stringify(i)),Promise.resolve()}_get(e){const i=this.storage.getItem(e);return Promise.resolve(i?JSON.parse(i):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const qE=1e3,FE=10;class G_ extends F_{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,i)=>this.onStorageEvent(e,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=P_(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),l=this.localCache[i];a!==l&&e(i,l,a)}}onStorageEvent(e,i=!1){if(!e.key){this.forAllChangedKeys((d,y,b)=>{this.notifyListeners(d,b)});return}const a=e.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},c=this.storage.getItem(a);bE()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(l,FE):l()}notifyListeners(e,i){this.localCache[e]=i;const a=this.listeners[e];if(a)for(const l of Array.from(a))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:i,newValue:a}),!0)})},qE)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,i){await super._set(e,i),this.localCache[e]=JSON.stringify(i)}async _get(e){const i=await super._get(e);return this.localCache[e]=JSON.stringify(i),i}async _remove(e){await super._remove(e),delete this.localCache[e]}}G_.type="LOCAL";const GE=G_;class K_ extends F_{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,i){}_removeListener(e,i){}}K_.type="SESSION";const W_=K_;function KE(s){return Promise.all(s.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(i){return{fulfilled:!1,reason:i}}}))}class dh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const i=this.receivers.find(l=>l.isListeningto(e));if(i)return i;const a=new dh(e);return this.receivers.push(a),a}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const i=e,{eventId:a,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:l});const y=Array.from(d).map(async _=>_(i.origin,c)),b=await KE(y);i.ports[0].postMessage({status:"done",eventId:a,eventType:l,response:b})}_subscribe(e,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(i)}_unsubscribe(e,i){this.handlersMap[e]&&i&&this.handlersMap[e].delete(i),(!i||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}dh.receivers=[];function Ig(s="",e=10){let i="";for(let a=0;a<e;a++)i+=Math.floor(Math.random()*10);return s+i}class WE{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,i,a=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((y,b)=>{const _=Ig("",20);l.port1.start();const A=setTimeout(()=>{b(new Error("unsupported_event"))},a);d={messageChannel:l,onMessage(x){const L=x;if(L.data.eventId===_)switch(L.data.status){case"ack":clearTimeout(A),c=setTimeout(()=>{b(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),y(L.data.response);break;default:clearTimeout(A),clearTimeout(c),b(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:_,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Ni(){return window}function YE(s){Ni().location.href=s}function Y_(){return typeof Ni().WorkerGlobalScope<"u"&&typeof Ni().importScripts=="function"}async function QE(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function XE(){return navigator?.serviceWorker?.controller||null}function JE(){return Y_()?self:null}const Q_="firebaseLocalStorageDb",$E=1,$c="firebaseLocalStorage",X_="fbase_key";class Kl{constructor(e){this.request=e}toPromise(){return new Promise((e,i)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function gh(s,e){return s.transaction([$c],e?"readwrite":"readonly").objectStore($c)}function ZE(){const s=indexedDB.deleteDatabase(Q_);return new Kl(s).toPromise()}function eg(){const s=indexedDB.open(Q_,$E);return new Promise((e,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const a=s.result;try{a.createObjectStore($c,{keyPath:X_})}catch(l){i(l)}}),s.addEventListener("success",async()=>{const a=s.result;a.objectStoreNames.contains($c)?e(a):(a.close(),await ZE(),e(await eg()))})})}async function rv(s,e,i){const a=gh(s,!0).put({[X_]:e,value:i});return new Kl(a).toPromise()}async function e5(s,e){const i=gh(s,!1).get(e),a=await new Kl(i).toPromise();return a===void 0?null:a.value}function sv(s,e){const i=gh(s,!0).delete(e);return new Kl(i).toPromise()}const t5=800,n5=3;class J_{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await eg(),this.db)}async _withRetries(e){let i=0;for(;;)try{const a=await this._openDb();return await e(a)}catch(a){if(i++>n5)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Y_()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=dh._getInstance(JE()),this.receiver._subscribe("keyChanged",async(e,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(e,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await QE(),!this.activeServiceWorker)return;this.sender=new WE(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||XE()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await eg();return await rv(e,Jc,"1"),await sv(e,Jc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>rv(a,e,i)),this.localCache[e]=i,this.notifyServiceWorker(e)))}async _get(e){const i=await this._withRetries(a=>e5(a,e));return this.localCache[e]=i,i}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(i=>sv(i,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(l=>{const c=gh(l,!1).getAll();return new Kl(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(e.length!==0)for(const{fbase_key:l,value:c}of e)a.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!a.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(e,i){this.localCache[e]=i;const a=this.listeners[e];if(a)for(const l of Array.from(a))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),t5)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}J_.type="LOCAL";const i5=J_;new Fl(3e4,6e4);function $_(s,e){return e?hr(e):(we(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class Dg extends H_{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return $a(e,this._buildIdpRequest())}_linkToIdToken(e,i){return $a(e,this._buildIdpRequest(i))}_getReauthenticationResolver(e){return $a(e,this._buildIdpRequest())}_buildIdpRequest(e){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(i.idToken=e),i}}function r5(s){return jE(s.auth,new Dg(s),s.bypassAuthState)}function s5(s){const{auth:e,user:i}=s;return we(i,e,"internal-error"),zE(i,new Dg(s),s.bypassAuthState)}async function a5(s){const{auth:e,user:i}=s;return we(i,e,"internal-error"),LE(i,new Dg(s),s.bypassAuthState)}class Z_{constructor(e,i,a,l,c=!1){this.auth=e,this.resolver=a,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(e,i)=>{this.pendingPromise={resolve:e,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(e){const{urlResponse:i,sessionId:a,postBody:l,tenantId:c,error:d,type:y}=e;if(d){this.reject(d);return}const b={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(y)(b))}catch(_){this.reject(_)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return r5;case"linkViaPopup":case"linkViaRedirect":return a5;case"reauthViaPopup":case"reauthViaRedirect":return s5;default:ji(this.auth,"internal-error")}}resolve(e){gr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){gr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const o5=new Fl(2e3,1e4);async function l5(s,e,i){if(si(s.app))return Promise.reject(li(s,"operation-not-supported-in-this-environment"));const a=fh(s);nE(s,e,Cg);const l=$_(a,i);return new Ks(a,"signInViaPopup",e,l).executeNotNull()}class Ks extends Z_{constructor(e,i,a,l,c){super(e,i,l,c),this.provider=a,this.authWindow=null,this.pollId=null,Ks.currentPopupAction&&Ks.currentPopupAction.cancel(),Ks.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return we(e,this.auth,"internal-error"),e}async onExecution(){gr(this.filter.length===1,"Popup operations only handle one event");const e=Ig();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(li(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(li(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ks.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(li(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,o5.get())};e()}}Ks.currentPopupAction=null;const u5="pendingRedirect",zc=new Map;class c5 extends Z_{constructor(e,i,a=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let e=zc.get(this.auth._key());if(!e){try{const a=await h5(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(a)}catch(i){e=()=>Promise.reject(i)}zc.set(this.auth._key(),e)}return this.bypassAuthState||zc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const i=await this.auth._redirectUserForId(e.eventId);if(i)return this.user=i,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function h5(s,e){const i=g5(e),a=d5(s);if(!await a._isAvailable())return!1;const l=await a._get(i)==="true";return await a._remove(i),l}function f5(s,e){zc.set(s._key(),e)}function d5(s){return hr(s._redirectPersistence)}function g5(s){return Lc(u5,s.config.apiKey,s.name)}async function p5(s,e,i=!1){if(si(s.app))return Promise.reject(Ys(s));const a=fh(s),l=$_(a,e),d=await new c5(a,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,e)),d}const m5=600*1e3;class y5{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(e,a)&&(i=!0,this.sendToConsumer(e,a),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!v5(e)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=e,i=!0)),i}sendToConsumer(e,i){if(e.error&&!e1(e)){const a=e.error.code?.split("auth/")[1]||"internal-error";i.onError(li(this.auth,a))}else i.onAuthEvent(e)}isEventForConsumer(e,i){const a=i.eventId===null||!!e.eventId&&e.eventId===i.eventId;return i.filter.includes(e.type)&&a}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=m5&&this.cachedEventUids.clear(),this.cachedEventUids.has(av(e))}saveEventToCache(e){this.cachedEventUids.add(av(e)),this.lastProcessedEventTime=Date.now()}}function av(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(e=>e).join("-")}function e1({type:s,error:e}){return s==="unknown"&&e?.code==="auth/no-auth-event"}function v5(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return e1(s);default:return!1}}async function _5(s,e={}){return ho(s,"GET","/v1/projects",e)}const b5=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,T5=/^https?/;async function S5(s){if(s.config.emulator)return;const{authorizedDomains:e}=await _5(s);for(const i of e)try{if(E5(i))return}catch{}ji(s,"unauthorized-domain")}function E5(s){const e=$d(),{protocol:i,hostname:a}=new URL(e);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&a===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===e.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!T5.test(i))return!1;if(b5.test(s))return a===s;const l=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(a)}const A5=new Fl(3e4,6e4);function ov(){const s=Ni().___jsl;if(s?.H){for(const e of Object.keys(s.H))if(s.H[e].r=s.H[e].r||[],s.H[e].L=s.H[e].L||[],s.H[e].r=[...s.H[e].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function w5(s){return new Promise((e,i)=>{function a(){ov(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{ov(),i(li(s,"network-request-failed"))},timeout:A5.get()})}if(Ni().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Ni().gapi?.load)a();else{const l=IE("iframefcb");return Ni()[l]=()=>{gapi.load?a():i(li(s,"network-request-failed"))},RE(`${CE()}?onload=${l}`).catch(c=>i(c))}}).catch(e=>{throw jc=null,e})}let jc=null;function x5(s){return jc=jc||w5(s),jc}const R5=new Fl(5e3,15e3),C5="__/auth/iframe",I5="emulator/auth/iframe",D5={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},M5=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function O5(s){const e=s.config;we(e.authDomain,s,"auth-domain-config-required");const i=e.emulator?Eg(e,I5):`https://${s.config.authDomain}/${C5}`,a={apiKey:e.apiKey,appName:s.name,v:co},l=M5.get(s.config.apiHost);l&&(a.eid=l);const c=s._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${ql(a).slice(1)}`}async function k5(s){const e=await x5(s),i=Ni().gapi;return we(i,s,"internal-error"),e.open({where:document.body,url:O5(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:D5,dontclear:!0},a=>new Promise(async(l,c)=>{await a.restyle({setHideOnLeave:!1});const d=li(s,"network-request-failed"),y=Ni().setTimeout(()=>{c(d)},R5.get());function b(){Ni().clearTimeout(y),l(a)}a.ping(b).then(b,()=>{c(d)})}))}const N5={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},V5=500,L5=600,z5="_blank",j5="http://localhost";class lv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function P5(s,e,i,a=V5,l=L5){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let y="";const b={...N5,width:a.toString(),height:l.toString(),top:c,left:d},_=un().toLowerCase();i&&(y=N_(_)?z5:i),O_(_)&&(e=e||j5,b.scrollbars="yes");const A=Object.entries(b).reduce((L,[X,se])=>`${L}${X}=${se},`,"");if(_E(_)&&y!=="_self")return U5(e||"",y),new lv(null);const x=window.open(e||"",y,A);we(x,s,"popup-blocked");try{x.focus()}catch{}return new lv(x)}function U5(s,e){const i=document.createElement("a");i.href=s,i.target=e;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}const B5="__/auth/handler",H5="emulator/auth/handler",q5=encodeURIComponent("fac");async function uv(s,e,i,a,l,c){we(s.config.authDomain,s,"auth-domain-config-required"),we(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:a,v:co,eventId:l};if(e instanceof Cg){e.setDefaultLanguage(s.languageCode),d.providerId=e.providerId||"",HT(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[A,x]of Object.entries({}))d[A]=x}if(e instanceof Gl){const A=e.getScopes().filter(x=>x!=="");A.length>0&&(d.scopes=A.join(","))}s.tenantId&&(d.tid=s.tenantId);const y=d;for(const A of Object.keys(y))y[A]===void 0&&delete y[A];const b=await s._getAppCheckToken(),_=b?`#${q5}=${encodeURIComponent(b)}`:"";return`${F5(s)}?${ql(y).slice(1)}${_}`}function F5({config:s}){return s.emulator?Eg(s,H5):`https://${s.authDomain}/${B5}`}const Ld="webStorageSupport";class G5{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=W_,this._completeRedirectFn=p5,this._overrideRedirectResult=f5}async _openPopup(e,i,a,l){gr(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await uv(e,i,a,$d(),l);return P5(e,c,Ig())}async _openRedirect(e,i,a,l){await this._originValidation(e);const c=await uv(e,i,a,$d(),l);return YE(c),new Promise(()=>{})}_initialize(e){const i=e._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(gr(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(e);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(e){const i=await k5(e),a=new y5(e);return i.register("authEvent",l=>(we(l?.authEvent,e,"invalid-auth-event"),{status:a.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:a},this.iframes[e._key()]=i,a}_isIframeWebStorageSupported(e,i){this.iframes[e._key()].send(Ld,{type:Ld},l=>{const c=l?.[0]?.[Ld];c!==void 0&&i(!!c),ji(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const i=e._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=S5(e)),this.originValidationPromises[i]}get _shouldInitProactively(){return P_()||k_()||xg()}}const K5=G5;var cv="@firebase/auth",hv="1.12.0";class W5{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const i=this.auth.onIdTokenChanged(a=>{e(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,i),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const i=this.internalListeners.get(e);i&&(this.internalListeners.delete(e),i(),this.updateProactiveRefresh())}assertAuthConfigured(){we(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Y5(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Q5(s){to(new Js("auth",(e,{options:i})=>{const a=e.getProvider("app").getImmediate(),l=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:d,authDomain:y}=a.options;we(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const b={apiKey:d,authDomain:y,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:U_(s)},_=new wE(a,l,c,b);return ME(_,i),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,i,a)=>{e.getProvider("auth-internal").initialize()})),to(new Js("auth-internal",e=>{const i=fh(e.getProvider("auth").getImmediate());return(a=>new W5(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),as(cv,hv,Y5(s)),as(cv,hv,"esm2020")}const X5=300,J5=m_("authIdTokenMaxAge")||X5;let fv=null;const $5=s=>async e=>{const i=e&&await e.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>J5)return;const l=i?.token;fv!==l&&(fv=l,await fetch(s,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function Z5(s=S_()){const e=bg(s,"auth");if(e.isInitialized())return e.getImmediate();const i=DE(s,{popupRedirectResolver:K5,persistence:[i5,GE,W_]}),a=m_("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const d=$5(c.toString());UE(i,d,()=>d(i.currentUser)),PE(i,y=>d(y))}}const l=g_("auth");return l&&OE(i,`http://${l}`),i}function eA(){return document.getElementsByTagName("head")?.[0]??document}xE({loadJS(s){return new Promise((e,i)=>{const a=document.createElement("script");a.setAttribute("src",s),a.onload=e,a.onerror=l=>{const c=li("internal-error");c.customData=l,i(c)},a.type="text/javascript",a.charset="UTF-8",eA().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Q5("Browser");var dv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var os,t1;(function(){var s;function e(I,w){function D(){}D.prototype=w.prototype,I.F=w.prototype,I.prototype=new D,I.prototype.constructor=I,I.D=function(V,N,j){for(var R=Array(arguments.length-2),st=2;st<arguments.length;st++)R[st-2]=arguments[st];return w.prototype[N].apply(V,R)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(I,w,D){D||(D=0);const V=Array(16);if(typeof w=="string")for(var N=0;N<16;++N)V[N]=w.charCodeAt(D++)|w.charCodeAt(D++)<<8|w.charCodeAt(D++)<<16|w.charCodeAt(D++)<<24;else for(N=0;N<16;++N)V[N]=w[D++]|w[D++]<<8|w[D++]<<16|w[D++]<<24;w=I.g[0],D=I.g[1],N=I.g[2];let j=I.g[3],R;R=w+(j^D&(N^j))+V[0]+3614090360&4294967295,w=D+(R<<7&4294967295|R>>>25),R=j+(N^w&(D^N))+V[1]+3905402710&4294967295,j=w+(R<<12&4294967295|R>>>20),R=N+(D^j&(w^D))+V[2]+606105819&4294967295,N=j+(R<<17&4294967295|R>>>15),R=D+(w^N&(j^w))+V[3]+3250441966&4294967295,D=N+(R<<22&4294967295|R>>>10),R=w+(j^D&(N^j))+V[4]+4118548399&4294967295,w=D+(R<<7&4294967295|R>>>25),R=j+(N^w&(D^N))+V[5]+1200080426&4294967295,j=w+(R<<12&4294967295|R>>>20),R=N+(D^j&(w^D))+V[6]+2821735955&4294967295,N=j+(R<<17&4294967295|R>>>15),R=D+(w^N&(j^w))+V[7]+4249261313&4294967295,D=N+(R<<22&4294967295|R>>>10),R=w+(j^D&(N^j))+V[8]+1770035416&4294967295,w=D+(R<<7&4294967295|R>>>25),R=j+(N^w&(D^N))+V[9]+2336552879&4294967295,j=w+(R<<12&4294967295|R>>>20),R=N+(D^j&(w^D))+V[10]+4294925233&4294967295,N=j+(R<<17&4294967295|R>>>15),R=D+(w^N&(j^w))+V[11]+2304563134&4294967295,D=N+(R<<22&4294967295|R>>>10),R=w+(j^D&(N^j))+V[12]+1804603682&4294967295,w=D+(R<<7&4294967295|R>>>25),R=j+(N^w&(D^N))+V[13]+4254626195&4294967295,j=w+(R<<12&4294967295|R>>>20),R=N+(D^j&(w^D))+V[14]+2792965006&4294967295,N=j+(R<<17&4294967295|R>>>15),R=D+(w^N&(j^w))+V[15]+1236535329&4294967295,D=N+(R<<22&4294967295|R>>>10),R=w+(N^j&(D^N))+V[1]+4129170786&4294967295,w=D+(R<<5&4294967295|R>>>27),R=j+(D^N&(w^D))+V[6]+3225465664&4294967295,j=w+(R<<9&4294967295|R>>>23),R=N+(w^D&(j^w))+V[11]+643717713&4294967295,N=j+(R<<14&4294967295|R>>>18),R=D+(j^w&(N^j))+V[0]+3921069994&4294967295,D=N+(R<<20&4294967295|R>>>12),R=w+(N^j&(D^N))+V[5]+3593408605&4294967295,w=D+(R<<5&4294967295|R>>>27),R=j+(D^N&(w^D))+V[10]+38016083&4294967295,j=w+(R<<9&4294967295|R>>>23),R=N+(w^D&(j^w))+V[15]+3634488961&4294967295,N=j+(R<<14&4294967295|R>>>18),R=D+(j^w&(N^j))+V[4]+3889429448&4294967295,D=N+(R<<20&4294967295|R>>>12),R=w+(N^j&(D^N))+V[9]+568446438&4294967295,w=D+(R<<5&4294967295|R>>>27),R=j+(D^N&(w^D))+V[14]+3275163606&4294967295,j=w+(R<<9&4294967295|R>>>23),R=N+(w^D&(j^w))+V[3]+4107603335&4294967295,N=j+(R<<14&4294967295|R>>>18),R=D+(j^w&(N^j))+V[8]+1163531501&4294967295,D=N+(R<<20&4294967295|R>>>12),R=w+(N^j&(D^N))+V[13]+2850285829&4294967295,w=D+(R<<5&4294967295|R>>>27),R=j+(D^N&(w^D))+V[2]+4243563512&4294967295,j=w+(R<<9&4294967295|R>>>23),R=N+(w^D&(j^w))+V[7]+1735328473&4294967295,N=j+(R<<14&4294967295|R>>>18),R=D+(j^w&(N^j))+V[12]+2368359562&4294967295,D=N+(R<<20&4294967295|R>>>12),R=w+(D^N^j)+V[5]+4294588738&4294967295,w=D+(R<<4&4294967295|R>>>28),R=j+(w^D^N)+V[8]+2272392833&4294967295,j=w+(R<<11&4294967295|R>>>21),R=N+(j^w^D)+V[11]+1839030562&4294967295,N=j+(R<<16&4294967295|R>>>16),R=D+(N^j^w)+V[14]+4259657740&4294967295,D=N+(R<<23&4294967295|R>>>9),R=w+(D^N^j)+V[1]+2763975236&4294967295,w=D+(R<<4&4294967295|R>>>28),R=j+(w^D^N)+V[4]+1272893353&4294967295,j=w+(R<<11&4294967295|R>>>21),R=N+(j^w^D)+V[7]+4139469664&4294967295,N=j+(R<<16&4294967295|R>>>16),R=D+(N^j^w)+V[10]+3200236656&4294967295,D=N+(R<<23&4294967295|R>>>9),R=w+(D^N^j)+V[13]+681279174&4294967295,w=D+(R<<4&4294967295|R>>>28),R=j+(w^D^N)+V[0]+3936430074&4294967295,j=w+(R<<11&4294967295|R>>>21),R=N+(j^w^D)+V[3]+3572445317&4294967295,N=j+(R<<16&4294967295|R>>>16),R=D+(N^j^w)+V[6]+76029189&4294967295,D=N+(R<<23&4294967295|R>>>9),R=w+(D^N^j)+V[9]+3654602809&4294967295,w=D+(R<<4&4294967295|R>>>28),R=j+(w^D^N)+V[12]+3873151461&4294967295,j=w+(R<<11&4294967295|R>>>21),R=N+(j^w^D)+V[15]+530742520&4294967295,N=j+(R<<16&4294967295|R>>>16),R=D+(N^j^w)+V[2]+3299628645&4294967295,D=N+(R<<23&4294967295|R>>>9),R=w+(N^(D|~j))+V[0]+4096336452&4294967295,w=D+(R<<6&4294967295|R>>>26),R=j+(D^(w|~N))+V[7]+1126891415&4294967295,j=w+(R<<10&4294967295|R>>>22),R=N+(w^(j|~D))+V[14]+2878612391&4294967295,N=j+(R<<15&4294967295|R>>>17),R=D+(j^(N|~w))+V[5]+4237533241&4294967295,D=N+(R<<21&4294967295|R>>>11),R=w+(N^(D|~j))+V[12]+1700485571&4294967295,w=D+(R<<6&4294967295|R>>>26),R=j+(D^(w|~N))+V[3]+2399980690&4294967295,j=w+(R<<10&4294967295|R>>>22),R=N+(w^(j|~D))+V[10]+4293915773&4294967295,N=j+(R<<15&4294967295|R>>>17),R=D+(j^(N|~w))+V[1]+2240044497&4294967295,D=N+(R<<21&4294967295|R>>>11),R=w+(N^(D|~j))+V[8]+1873313359&4294967295,w=D+(R<<6&4294967295|R>>>26),R=j+(D^(w|~N))+V[15]+4264355552&4294967295,j=w+(R<<10&4294967295|R>>>22),R=N+(w^(j|~D))+V[6]+2734768916&4294967295,N=j+(R<<15&4294967295|R>>>17),R=D+(j^(N|~w))+V[13]+1309151649&4294967295,D=N+(R<<21&4294967295|R>>>11),R=w+(N^(D|~j))+V[4]+4149444226&4294967295,w=D+(R<<6&4294967295|R>>>26),R=j+(D^(w|~N))+V[11]+3174756917&4294967295,j=w+(R<<10&4294967295|R>>>22),R=N+(w^(j|~D))+V[2]+718787259&4294967295,N=j+(R<<15&4294967295|R>>>17),R=D+(j^(N|~w))+V[9]+3951481745&4294967295,I.g[0]=I.g[0]+w&4294967295,I.g[1]=I.g[1]+(N+(R<<21&4294967295|R>>>11))&4294967295,I.g[2]=I.g[2]+N&4294967295,I.g[3]=I.g[3]+j&4294967295}a.prototype.v=function(I,w){w===void 0&&(w=I.length);const D=w-this.blockSize,V=this.C;let N=this.h,j=0;for(;j<w;){if(N==0)for(;j<=D;)l(this,I,j),j+=this.blockSize;if(typeof I=="string"){for(;j<w;)if(V[N++]=I.charCodeAt(j++),N==this.blockSize){l(this,V),N=0;break}}else for(;j<w;)if(V[N++]=I[j++],N==this.blockSize){l(this,V),N=0;break}}this.h=N,this.o+=w},a.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var w=1;w<I.length-8;++w)I[w]=0;w=this.o*8;for(var D=I.length-8;D<I.length;++D)I[D]=w&255,w/=256;for(this.v(I),I=Array(16),w=0,D=0;D<4;++D)for(let V=0;V<32;V+=8)I[w++]=this.g[D]>>>V&255;return I};function c(I,w){var D=y;return Object.prototype.hasOwnProperty.call(D,I)?D[I]:D[I]=w(I)}function d(I,w){this.h=w;const D=[];let V=!0;for(let N=I.length-1;N>=0;N--){const j=I[N]|0;V&&j==w||(D[N]=j,V=!1)}this.g=D}var y={};function b(I){return-128<=I&&I<128?c(I,function(w){return new d([w|0],w<0?-1:0)}):new d([I|0],I<0?-1:0)}function _(I){if(isNaN(I)||!isFinite(I))return x;if(I<0)return le(_(-I));const w=[];let D=1;for(let V=0;I>=D;V++)w[V]=I/D|0,D*=4294967296;return new d(w,0)}function A(I,w){if(I.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(I.charAt(0)=="-")return le(A(I.substring(1),w));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const D=_(Math.pow(w,8));let V=x;for(let j=0;j<I.length;j+=8){var N=Math.min(8,I.length-j);const R=parseInt(I.substring(j,j+N),w);N<8?(N=_(Math.pow(w,N)),V=V.j(N).add(_(R))):(V=V.j(D),V=V.add(_(R)))}return V}var x=b(0),L=b(1),X=b(16777216);s=d.prototype,s.m=function(){if(oe(this))return-le(this).m();let I=0,w=1;for(let D=0;D<this.g.length;D++){const V=this.i(D);I+=(V>=0?V:4294967296+V)*w,w*=4294967296}return I},s.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(se(this))return"0";if(oe(this))return"-"+le(this).toString(I);const w=_(Math.pow(I,6));var D=this;let V="";for(;;){const N=Ke(D,w).g;D=ye(D,N.j(w));let j=((D.g.length>0?D.g[0]:D.h)>>>0).toString(I);if(D=N,se(D))return j+V;for(;j.length<6;)j="0"+j;V=j+V}},s.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function se(I){if(I.h!=0)return!1;for(let w=0;w<I.g.length;w++)if(I.g[w]!=0)return!1;return!0}function oe(I){return I.h==-1}s.l=function(I){return I=ye(this,I),oe(I)?-1:se(I)?0:1};function le(I){const w=I.g.length,D=[];for(let V=0;V<w;V++)D[V]=~I.g[V];return new d(D,~I.h).add(L)}s.abs=function(){return oe(this)?le(this):this},s.add=function(I){const w=Math.max(this.g.length,I.g.length),D=[];let V=0;for(let N=0;N<=w;N++){let j=V+(this.i(N)&65535)+(I.i(N)&65535),R=(j>>>16)+(this.i(N)>>>16)+(I.i(N)>>>16);V=R>>>16,j&=65535,R&=65535,D[N]=R<<16|j}return new d(D,D[D.length-1]&-2147483648?-1:0)};function ye(I,w){return I.add(le(w))}s.j=function(I){if(se(this)||se(I))return x;if(oe(this))return oe(I)?le(this).j(le(I)):le(le(this).j(I));if(oe(I))return le(this.j(le(I)));if(this.l(X)<0&&I.l(X)<0)return _(this.m()*I.m());const w=this.g.length+I.g.length,D=[];for(var V=0;V<2*w;V++)D[V]=0;for(V=0;V<this.g.length;V++)for(let N=0;N<I.g.length;N++){const j=this.i(V)>>>16,R=this.i(V)&65535,st=I.i(N)>>>16,pt=I.i(N)&65535;D[2*V+2*N]+=R*pt,xe(D,2*V+2*N),D[2*V+2*N+1]+=j*pt,xe(D,2*V+2*N+1),D[2*V+2*N+1]+=R*st,xe(D,2*V+2*N+1),D[2*V+2*N+2]+=j*st,xe(D,2*V+2*N+2)}for(I=0;I<w;I++)D[I]=D[2*I+1]<<16|D[2*I];for(I=w;I<2*w;I++)D[I]=0;return new d(D,0)};function xe(I,w){for(;(I[w]&65535)!=I[w];)I[w+1]+=I[w]>>>16,I[w]&=65535,w++}function _e(I,w){this.g=I,this.h=w}function Ke(I,w){if(se(w))throw Error("division by zero");if(se(I))return new _e(x,x);if(oe(I))return w=Ke(le(I),w),new _e(le(w.g),le(w.h));if(oe(w))return w=Ke(I,le(w)),new _e(le(w.g),w.h);if(I.g.length>30){if(oe(I)||oe(w))throw Error("slowDivide_ only works with positive integers.");for(var D=L,V=w;V.l(I)<=0;)D=et(D),V=et(V);var N=Me(D,1),j=Me(V,1);for(V=Me(V,2),D=Me(D,2);!se(V);){var R=j.add(V);R.l(I)<=0&&(N=N.add(D),j=R),V=Me(V,1),D=Me(D,1)}return w=ye(I,N.j(w)),new _e(N,w)}for(N=x;I.l(w)>=0;){for(D=Math.max(1,Math.floor(I.m()/w.m())),V=Math.ceil(Math.log(D)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),j=_(D),R=j.j(w);oe(R)||R.l(I)>0;)D-=V,j=_(D),R=j.j(w);se(j)&&(j=L),N=N.add(j),I=ye(I,R)}return new _e(N,I)}s.B=function(I){return Ke(this,I).h},s.and=function(I){const w=Math.max(this.g.length,I.g.length),D=[];for(let V=0;V<w;V++)D[V]=this.i(V)&I.i(V);return new d(D,this.h&I.h)},s.or=function(I){const w=Math.max(this.g.length,I.g.length),D=[];for(let V=0;V<w;V++)D[V]=this.i(V)|I.i(V);return new d(D,this.h|I.h)},s.xor=function(I){const w=Math.max(this.g.length,I.g.length),D=[];for(let V=0;V<w;V++)D[V]=this.i(V)^I.i(V);return new d(D,this.h^I.h)};function et(I){const w=I.g.length+1,D=[];for(let V=0;V<w;V++)D[V]=I.i(V)<<1|I.i(V-1)>>>31;return new d(D,I.h)}function Me(I,w){const D=w>>5;w%=32;const V=I.g.length-D,N=[];for(let j=0;j<V;j++)N[j]=w>0?I.i(j+D)>>>w|I.i(j+D+1)<<32-w:I.i(j+D);return new d(N,I.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,t1=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=A,os=d}).apply(typeof dv<"u"?dv:typeof self<"u"?self:typeof window<"u"?window:{});var Sc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var n1,Tl,i1,Pc,tg,r1,s1,a1;(function(){var s,e=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Sc=="object"&&Sc];for(var g=0;g<u.length;++g){var v=u[g];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var a=i(this);function l(u,g){if(g)e:{var v=a;u=u.split(".");for(var E=0;E<u.length-1;E++){var P=u[E];if(!(P in v))break e;v=v[P]}u=u[u.length-1],E=v[u],g=g(E),g!=E&&g!=null&&e(v,u,{configurable:!0,writable:!0,value:g})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(g){var v=[],E;for(E in g)Object.prototype.hasOwnProperty.call(g,E)&&v.push([E,g[E]]);return v}});var c=c||{},d=this||self;function y(u){var g=typeof u;return g=="object"&&u!=null||g=="function"}function b(u,g,v){return u.call.apply(u.bind,arguments)}function _(u,g,v){return _=b,_.apply(null,arguments)}function A(u,g){var v=Array.prototype.slice.call(arguments,1);return function(){var E=v.slice();return E.push.apply(E,arguments),u.apply(this,E)}}function x(u,g){function v(){}v.prototype=g.prototype,u.Z=g.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(E,P,F){for(var re=Array(arguments.length-2),ke=2;ke<arguments.length;ke++)re[ke-2]=arguments[ke];return g.prototype[P].apply(E,re)}}var L=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function X(u){const g=u.length;if(g>0){const v=Array(g);for(let E=0;E<g;E++)v[E]=u[E];return v}return[]}function se(u,g){for(let E=1;E<arguments.length;E++){const P=arguments[E];var v=typeof P;if(v=v!="object"?v:P?Array.isArray(P)?"array":v:"null",v=="array"||v=="object"&&typeof P.length=="number"){v=u.length||0;const F=P.length||0;u.length=v+F;for(let re=0;re<F;re++)u[v+re]=P[re]}else u.push(P)}}class oe{constructor(g,v){this.i=g,this.j=v,this.h=0,this.g=null}get(){let g;return this.h>0?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function le(u){d.setTimeout(()=>{throw u},0)}function ye(){var u=I;let g=null;return u.g&&(g=u.g,u.g=u.g.next,u.g||(u.h=null),g.next=null),g}class xe{constructor(){this.h=this.g=null}add(g,v){const E=_e.get();E.set(g,v),this.h?this.h.next=E:this.g=E,this.h=E}}var _e=new oe(()=>new Ke,u=>u.reset());class Ke{constructor(){this.next=this.g=this.h=null}set(g,v){this.h=g,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let et,Me=!1,I=new xe,w=()=>{const u=Promise.resolve(void 0);et=()=>{u.then(D)}};function D(){for(var u;u=ye();){try{u.h.call(u.g)}catch(v){le(v)}var g=_e;g.j(u),g.h<100&&(g.h++,u.next=g.g,g.g=u)}Me=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(u,g){this.type=u,this.g=this.target=g,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var j=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,g=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,g),d.removeEventListener("test",v,g)}catch{}return u})();function R(u){return/^[\s\xa0]*$/.test(u)}function st(u,g){N.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,g)}x(st,N),st.prototype.init=function(u,g){const v=this.type=u.type,E=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=g,g=u.relatedTarget,g||(v=="mouseover"?g=u.fromElement:v=="mouseout"&&(g=u.toElement)),this.relatedTarget=g,E?(this.clientX=E.clientX!==void 0?E.clientX:E.pageX,this.clientY=E.clientY!==void 0?E.clientY:E.pageY,this.screenX=E.screenX||0,this.screenY=E.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&st.Z.h.call(this)},st.prototype.h=function(){st.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var pt="closure_listenable_"+(Math.random()*1e6|0),K=0;function te(u,g,v,E,P){this.listener=u,this.proxy=null,this.src=g,this.type=v,this.capture=!!E,this.ha=P,this.key=++K,this.da=this.fa=!1}function ce(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Oe(u,g,v){for(const E in u)g.call(v,u[E],E,u)}function fe(u,g){for(const v in u)g.call(void 0,u[v],v,u)}function O(u){const g={};for(const v in u)g[v]=u[v];return g}const W="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ie(u,g){let v,E;for(let P=1;P<arguments.length;P++){E=arguments[P];for(v in E)u[v]=E[v];for(let F=0;F<W.length;F++)v=W[F],Object.prototype.hasOwnProperty.call(E,v)&&(u[v]=E[v])}}function ae(u){this.src=u,this.g={},this.h=0}ae.prototype.add=function(u,g,v,E,P){const F=u.toString();u=this.g[F],u||(u=this.g[F]=[],this.h++);const re=Ae(u,g,E,P);return re>-1?(g=u[re],v||(g.fa=!1)):(g=new te(g,this.src,F,!!E,P),g.fa=v,u.push(g)),g};function be(u,g){const v=g.type;if(v in u.g){var E=u.g[v],P=Array.prototype.indexOf.call(E,g,void 0),F;(F=P>=0)&&Array.prototype.splice.call(E,P,1),F&&(ce(g),u.g[v].length==0&&(delete u.g[v],u.h--))}}function Ae(u,g,v,E){for(let P=0;P<u.length;++P){const F=u[P];if(!F.da&&F.listener==g&&F.capture==!!v&&F.ha==E)return P}return-1}var Pe="closure_lm_"+(Math.random()*1e6|0),_t={};function tt(u,g,v,E,P){if(Array.isArray(g)){for(let F=0;F<g.length;F++)tt(u,g[F],v,E,P);return null}return v=Hi(v),u&&u[pt]?u.J(g,v,y(E)?!!E.capture:!1,P):fn(u,g,v,!1,E,P)}function fn(u,g,v,E,P,F){if(!g)throw Error("Invalid event type");const re=y(P)?!!P.capture:!!P;let ke=On(u);if(ke||(u[Pe]=ke=new ae(u)),v=ke.add(g,v,E,re,F),v.proxy)return v;if(E=ci(),v.proxy=E,E.src=u,E.listener=v,u.addEventListener)j||(P=re),P===void 0&&(P=!1),u.addEventListener(g.toString(),E,P);else if(u.attachEvent)u.attachEvent(Mn(g.toString()),E);else if(u.addListener&&u.removeListener)u.addListener(E);else throw Error("addEventListener and attachEvent are unavailable.");return v}function ci(){function u(v){return g.call(u.src,u.listener,v)}const g=hi;return u}function vr(u,g,v,E,P){if(Array.isArray(g))for(var F=0;F<g.length;F++)vr(u,g[F],v,E,P);else E=y(E)?!!E.capture:!!E,v=Hi(v),u&&u[pt]?(u=u.i,F=String(g).toString(),F in u.g&&(g=u.g[F],v=Ae(g,v,E,P),v>-1&&(ce(g[v]),Array.prototype.splice.call(g,v,1),g.length==0&&(delete u.g[F],u.h--)))):u&&(u=On(u))&&(g=u.g[g.toString()],u=-1,g&&(u=Ae(g,v,E,P)),(v=u>-1?g[u]:null)&&_r(v))}function _r(u){if(typeof u!="number"&&u&&!u.da){var g=u.src;if(g&&g[pt])be(g.i,u);else{var v=u.type,E=u.proxy;g.removeEventListener?g.removeEventListener(v,E,u.capture):g.detachEvent?g.detachEvent(Mn(v),E):g.addListener&&g.removeListener&&g.removeListener(E),(v=On(g))?(be(v,u),v.h==0&&(v.src=null,g[Pe]=null)):ce(u)}}}function Mn(u){return u in _t?_t[u]:_t[u]="on"+u}function hi(u,g){if(u.da)u=!0;else{g=new st(g,this);const v=u.listener,E=u.ha||u.src;u.fa&&_r(u),u=v.call(E,g)}return u}function On(u){return u=u[Pe],u instanceof ae?u:null}var Bi="__closure_events_fn_"+(Math.random()*1e9>>>0);function Hi(u){return typeof u=="function"?u:(u[Bi]||(u[Bi]=function(g){return u.handleEvent(g)}),u[Bi])}function ht(){V.call(this),this.i=new ae(this),this.M=this,this.G=null}x(ht,V),ht.prototype[pt]=!0,ht.prototype.removeEventListener=function(u,g,v,E){vr(this,u,g,v,E)};function St(u,g){var v,E=u.G;if(E)for(v=[];E;E=E.G)v.push(E);if(u=u.M,E=g.type||g,typeof g=="string")g=new N(g,u);else if(g instanceof N)g.target=g.target||u;else{var P=g;g=new N(E,u),ie(g,P)}P=!0;let F,re;if(v)for(re=v.length-1;re>=0;re--)F=g.g=v[re],P=dn(F,E,!0,g)&&P;if(F=g.g=u,P=dn(F,E,!0,g)&&P,P=dn(F,E,!1,g)&&P,v)for(re=0;re<v.length;re++)F=g.g=v[re],P=dn(F,E,!1,g)&&P}ht.prototype.N=function(){if(ht.Z.N.call(this),this.i){var u=this.i;for(const g in u.g){const v=u.g[g];for(let E=0;E<v.length;E++)ce(v[E]);delete u.g[g],u.h--}}this.G=null},ht.prototype.J=function(u,g,v,E){return this.i.add(String(u),g,!1,v,E)},ht.prototype.K=function(u,g,v,E){return this.i.add(String(u),g,!0,v,E)};function dn(u,g,v,E){if(g=u.i.g[String(g)],!g)return!0;g=g.concat();let P=!0;for(let F=0;F<g.length;++F){const re=g[F];if(re&&!re.da&&re.capture==v){const ke=re.listener,wt=re.ha||re.src;re.fa&&be(u.i,re),P=ke.call(wt,E)!==!1&&P}}return P&&!E.defaultPrevented}function br(u,g){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=_(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(g)>2147483647?-1:d.setTimeout(u,g||0)}function sa(u){u.g=br(()=>{u.g=null,u.i&&(u.i=!1,sa(u))},u.l);const g=u.h;u.h=null,u.m.apply(null,g)}class Yt extends V{constructor(g,v){super(),this.m=g,this.l=v,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:sa(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function qi(u){V.call(this),this.h=u,this.g={}}x(qi,V);var ps=[];function ms(u){Oe(u.g,function(g,v){this.g.hasOwnProperty(v)&&_r(g)},u),u.g={}}qi.prototype.N=function(){qi.Z.N.call(this),ms(this)},qi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var S=d.JSON.stringify,B=d.JSON.parse,M=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function ee(){}function ne(){}var ge={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function de(){N.call(this,"d")}x(de,N);function Re(){N.call(this,"c")}x(Re,N);var Le={},Ht=null;function rn(){return Ht=Ht||new ht}Le.Ia="serverreachability";function Tr(u){N.call(this,Le.Ia,u)}x(Tr,N);function fi(u){const g=rn();St(g,new Tr(g))}Le.STAT_EVENT="statevent";function ys(u,g){N.call(this,Le.STAT_EVENT,u),this.stat=g}x(ys,N);function It(u){const g=rn();St(g,new ys(g,u))}Le.Ja="timingevent";function di(u,g){N.call(this,Le.Ja,u),this.size=g}x(di,N);function gi(u,g){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},g)}function Yn(){this.g=!0}Yn.prototype.ua=function(){this.g=!1};function Rh(u,g,v,E,P,F){u.info(function(){if(u.g)if(F){var re="",ke=F.split("&");for(let Je=0;Je<ke.length;Je++){var wt=ke[Je].split("=");if(wt.length>1){const mt=wt[0];wt=wt[1];const Ln=mt.split("_");re=Ln.length>=2&&Ln[1]=="type"?re+(mt+"="+wt+"&"):re+(mt+"=redacted&")}}}else re=null;else re=F;return"XMLHTTP REQ ("+E+") [attempt "+P+"]: "+g+`
`+v+`
`+re})}function $l(u,g,v,E,P,F,re){u.info(function(){return"XMLHTTP RESP ("+E+") [ attempt "+P+"]: "+g+`
`+v+`
`+F+" "+re})}function pi(u,g,v,E){u.info(function(){return"XMLHTTP TEXT ("+g+"): "+Ch(u,v)+(E?" "+E:"")})}function vs(u,g){u.info(function(){return"TIMEOUT: "+g})}Yn.prototype.info=function(){};function Ch(u,g){if(!u.g)return g;if(!g)return null;try{const F=JSON.parse(g);if(F){for(u=0;u<F.length;u++)if(Array.isArray(F[u])){var v=F[u];if(!(v.length<2)){var E=v[1];if(Array.isArray(E)&&!(E.length<1)){var P=E[0];if(P!="noop"&&P!="stop"&&P!="close")for(let re=1;re<E.length;re++)E[re]=""}}}}return S(F)}catch{return g}}var _s={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},yo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},vo;function bs(){}x(bs,ee),bs.prototype.g=function(){return new XMLHttpRequest},vo=new bs;function Fi(u){return encodeURIComponent(String(u))}function Zl(u){var g=1;u=u.split(":");const v=[];for(;g>0&&u.length;)v.push(u.shift()),g--;return u.length&&v.push(u.join(":")),v}function Qn(u,g,v,E){this.j=u,this.i=g,this.l=v,this.S=E||1,this.V=new qi(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Xn}function Xn(){this.i=null,this.g="",this.h=!1}var Dt={},qt={};function mi(u,g,v){u.M=1,u.A=Ts(Ot(g)),u.u=v,u.R=!0,aa(u,null)}function aa(u,g){u.F=Date.now(),yi(u),u.B=Ot(u.A);var v=u.B,E=u.S;Array.isArray(E)||(E=[String(E)]),ca(v.i,"t",E),u.C=0,v=u.j.L,u.h=new Xn,u.g=gu(u.j,v?g:null,!u.u),u.P>0&&(u.O=new Yt(_(u.Y,u,u.g),u.P)),g=u.V,v=u.g,E=u.ba;var P="readystatechange";Array.isArray(P)||(P&&(ps[0]=P.toString()),P=ps);for(let F=0;F<P.length;F++){const re=tt(v,P[F],E||g.handleEvent,!1,g.h||g);if(!re)break;g.g[re.key]=re}g=u.J?O(u.J):{},u.u?(u.v||(u.v="POST"),g["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,g)):(u.v="GET",u.g.ea(u.B,u.v,null,g)),fi(),Rh(u.i,u.v,u.B,u.l,u.S,u.u)}Qn.prototype.ba=function(u){u=u.target;const g=this.O;g&&Zn(u)==3?g.j():this.Y(u)},Qn.prototype.Y=function(u){try{if(u==this.g)e:{const ke=Zn(this.g),wt=this.g.ya(),Je=this.g.ca();if(!(ke<3)&&(ke!=3||this.g&&(this.h.h||this.g.la()||Qt(this.g)))){this.K||ke!=4||wt==7||(wt==8||Je<=0?fi(3):fi(2)),vi(this);var g=this.g.ca();this.X=g;var v=Ih(this);if(this.o=g==200,$l(this.i,this.v,this.B,this.l,this.S,ke,g),this.o){if(this.U&&!this.L){t:{if(this.g){var E,P=this.g;if((E=P.g?P.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(E)){var F=E;break t}}F=null}if(u=F)pi(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,_i(this,u);else{this.o=!1,this.m=3,It(12),Sn(this),kn(this);break e}}if(this.R){u=!0;let mt;for(;!this.K&&this.C<v.length;)if(mt=tu(this,v),mt==qt){ke==4&&(this.m=4,It(14),u=!1),pi(this.i,this.l,null,"[Incomplete Response]");break}else if(mt==Dt){this.m=4,It(15),pi(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else pi(this.i,this.l,mt,null),_i(this,mt);if(eu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ke!=4||v.length!=0||this.h.h||(this.m=1,It(16),u=!1),this.o=this.o&&u,!u)pi(this.i,this.l,v,"[Invalid Chunked Response]"),Sn(this),kn(this);else if(v.length>0&&!this.W){this.W=!0;var re=this.j;re.g==this&&re.aa&&!re.P&&(re.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),ko(re),re.P=!0,It(11))}}else pi(this.i,this.l,v,null),_i(this,v);ke==4&&Sn(this),this.o&&!this.K&&(ke==4?cu(this.j,this):(this.o=!1,yi(this)))}else Ki(this.g),g==400&&v.indexOf("Unknown SID")>0?(this.m=3,It(12)):(this.m=0,It(13)),Sn(this),kn(this)}}}catch{}};function Ih(u){if(!eu(u))return u.g.la();const g=Qt(u.g);if(g==="")return"";let v="";const E=g.length,P=Zn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return Sn(u),kn(u),"";u.h.i=new d.TextDecoder}for(let F=0;F<E;F++)u.h.h=!0,v+=u.h.i.decode(g[F],{stream:!(P&&F==E-1)});return g.length=0,u.h.g+=v,u.C=0,u.h.g}function eu(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function tu(u,g){var v=u.C,E=g.indexOf(`
`,v);return E==-1?qt:(v=Number(g.substring(v,E)),isNaN(v)?Dt:(E+=1,E+v>g.length?qt:(g=g.slice(E,E+v),u.C=E+v,g)))}Qn.prototype.cancel=function(){this.K=!0,Sn(this)};function yi(u){u.T=Date.now()+u.H,oa(u,u.H)}function oa(u,g){if(u.D!=null)throw Error("WatchDog timer not null");u.D=gi(_(u.aa,u),g)}function vi(u){u.D&&(d.clearTimeout(u.D),u.D=null)}Qn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(vs(this.i,this.B),this.M!=2&&(fi(),It(17)),Sn(this),this.m=2,kn(this)):oa(this,this.T-u)};function kn(u){u.j.I==0||u.K||cu(u.j,u)}function Sn(u){vi(u);var g=u.O;g&&typeof g.dispose=="function"&&g.dispose(),u.O=null,ms(u.V),u.g&&(g=u.g,u.g=null,g.abort(),g.dispose())}function _i(u,g){try{var v=u.j;if(v.I!=0&&(v.g==u||Ti(v.h,u))){if(!u.L&&Ti(v.h,u)&&v.I==3){try{var E=v.Ba.g.parse(g)}catch{E=null}if(Array.isArray(E)&&E.length==3){var P=E;if(P[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)pa(v),Ir(v);else break e;Cs(v),It(18)}}else v.xa=P[1],0<v.xa-v.K&&P[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=gi(_(v.Va,v),6e3));bi(v.h)<=1&&v.ta&&(v.ta=void 0)}else Ri(v,11)}else if((u.L||v.g==u)&&pa(v),!R(g))for(P=v.Ba.g.parse(g),g=0;g<P.length;g++){let Je=P[g];const mt=Je[0];if(!(mt<=v.K))if(v.K=mt,Je=Je[1],v.I==2)if(Je[0]=="c"){v.M=Je[1],v.ba=Je[2];const Ln=Je[3];Ln!=null&&(v.ka=Ln,v.j.info("VER="+v.ka));const Ci=Je[4];Ci!=null&&(v.za=Ci,v.j.info("SVER="+v.za));const ei=Je[5];ei!=null&&typeof ei=="number"&&ei>0&&(E=1.5*ei,v.O=E,v.j.info("backChannelRequestTimeoutMs_="+E)),E=v;const ti=u.g;if(ti){const Is=ti.g?ti.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Is){var F=E.h;F.g||Is.indexOf("spdy")==-1&&Is.indexOf("quic")==-1&&Is.indexOf("h2")==-1||(F.j=F.l,F.g=new Set,F.h&&(To(F,F.h),F.h=null))}if(E.G){const ma=ti.g?ti.g.getResponseHeader("X-HTTP-Session-Id"):null;ma&&(E.wa=ma,nt(E.J,E.G,ma))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),E=v;var re=u;if(E.na=du(E,E.L?E.ba:null,E.W),re.L){So(E.h,re);var ke=re,wt=E.O;wt&&(ke.H=wt),ke.D&&(vi(ke),yi(ke)),E.g=re}else lu(E);v.i.length>0&&xi(v)}else Je[0]!="stop"&&Je[0]!="close"||Ri(v,7);else v.I==3&&(Je[0]=="stop"||Je[0]=="close"?Je[0]=="stop"?Ri(v,7):Mo(v):Je[0]!="noop"&&v.l&&v.l.qa(Je),v.A=0)}}fi(4)}catch{}}var Mt=class{constructor(u,g){this.g=u,this.map=g}};function _o(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function bo(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function bi(u){return u.h?1:u.g?u.g.size:0}function Ti(u,g){return u.h?u.h==g:u.g?u.g.has(g):!1}function To(u,g){u.g?u.g.add(g):u.h=g}function So(u,g){u.h&&u.h==g?u.h=null:u.g&&u.g.has(g)&&u.g.delete(g)}_o.prototype.cancel=function(){if(this.i=Eo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Eo(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let g=u.i;for(const v of u.g.values())g=g.concat(v.G);return g}return X(u.i)}var nu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function la(u,g){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const E=u[v].indexOf("=");let P,F=null;E>=0?(P=u[v].substring(0,E),F=u[v].substring(E+1)):P=u[v],g(P,F?decodeURIComponent(F.replace(/\+/g," ")):"")}}}function En(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let g;u instanceof En?(this.l=u.l,Ft(this,u.j),this.o=u.o,this.g=u.g,Sr(this,u.u),this.h=u.h,Ao(this,au(u.i)),this.m=u.m):u&&(g=String(u).match(nu))?(this.l=!1,Ft(this,g[1]||"",!0),this.o=Si(g[2]||""),this.g=Si(g[3]||"",!0),Sr(this,g[4]),this.h=Si(g[5]||"",!0),Ao(this,g[6]||"",!0),this.m=Si(g[7]||"")):(this.l=!1,this.i=new Ar(null,this.l))}En.prototype.toString=function(){const u=[];var g=this.j;g&&u.push(Ss(g,ua,!0),":");var v=this.g;return(v||g=="file")&&(u.push("//"),(g=this.o)&&u.push(Ss(g,ua,!0),"@"),u.push(Fi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(Ss(v,v.charAt(0)=="/"?wo:iu,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",Ss(v,ru)),u.join("")},En.prototype.resolve=function(u){const g=Ot(this);let v=!!u.j;v?Ft(g,u.j):v=!!u.o,v?g.o=u.o:v=!!u.g,v?g.g=u.g:v=u.u!=null;var E=u.h;if(v)Sr(g,u.u);else if(v=!!u.h){if(E.charAt(0)!="/")if(this.g&&!this.h)E="/"+E;else{var P=g.h.lastIndexOf("/");P!=-1&&(E=g.h.slice(0,P+1)+E)}if(P=E,P==".."||P==".")E="";else if(P.indexOf("./")!=-1||P.indexOf("/.")!=-1){E=P.lastIndexOf("/",0)==0,P=P.split("/");const F=[];for(let re=0;re<P.length;){const ke=P[re++];ke=="."?E&&re==P.length&&F.push(""):ke==".."?((F.length>1||F.length==1&&F[0]!="")&&F.pop(),E&&re==P.length&&F.push("")):(F.push(ke),E=!0)}E=F.join("/")}else E=P}return v?g.h=E:v=u.i.toString()!=="",v?Ao(g,au(u.i)):v=!!u.m,v&&(g.m=u.m),g};function Ot(u){return new En(u)}function Ft(u,g,v){u.j=v?Si(g,!0):g,u.j&&(u.j=u.j.replace(/:$/,""))}function Sr(u,g){if(g){if(g=Number(g),isNaN(g)||g<0)throw Error("Bad port number "+g);u.u=g}else u.u=null}function Ao(u,g,v){g instanceof Ar?(u.i=g,ha(u.i,u.l)):(v||(g=Ss(g,Er)),u.i=new Ar(g,u.l))}function nt(u,g,v){u.i.set(g,v)}function Ts(u){return nt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function Si(u,g){return u?g?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Ss(u,g,v){return typeof u=="string"?(u=encodeURI(u).replace(g,gn),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function gn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var ua=/[#\/\?@]/g,iu=/[#\?:]/g,wo=/[#\?]/g,Er=/[#\?@]/g,ru=/#/g;function Ar(u,g){this.h=this.g=null,this.i=u||null,this.j=!!g}function pn(u){u.g||(u.g=new Map,u.h=0,u.i&&la(u.i,function(g,v){u.add(decodeURIComponent(g.replace(/\+/g," ")),v)}))}s=Ar.prototype,s.add=function(u,g){pn(this),this.i=null,u=wr(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(g),this.h+=1,this};function su(u,g){pn(u),g=wr(u,g),u.g.has(g)&&(u.i=null,u.h-=u.g.get(g).length,u.g.delete(g))}function xo(u,g){return pn(u),g=wr(u,g),u.g.has(g)}s.forEach=function(u,g){pn(this),this.g.forEach(function(v,E){v.forEach(function(P){u.call(g,P,E,this)},this)},this)};function Ro(u,g){pn(u);let v=[];if(typeof g=="string")xo(u,g)&&(v=v.concat(u.g.get(wr(u,g))));else for(u=Array.from(u.g.values()),g=0;g<u.length;g++)v=v.concat(u[g]);return v}s.set=function(u,g){return pn(this),this.i=null,u=wr(this,u),xo(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[g]),this.h+=1,this},s.get=function(u,g){return u?(u=Ro(this,u),u.length>0?String(u[0]):g):g};function ca(u,g,v){su(u,g),v.length>0&&(u.i=null,u.g.set(wr(u,g),X(v)),u.h+=v.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],g=Array.from(this.g.keys());for(let E=0;E<g.length;E++){var v=g[E];const P=Fi(v);v=Ro(this,v);for(let F=0;F<v.length;F++){let re=P;v[F]!==""&&(re+="="+Fi(v[F])),u.push(re)}}return this.i=u.join("&")};function au(u){const g=new Ar;return g.i=u.i,u.g&&(g.g=new Map(u.g),g.h=u.h),g}function wr(u,g){return g=String(g),u.j&&(g=g.toLowerCase()),g}function ha(u,g){g&&!u.j&&(pn(u),u.i=null,u.g.forEach(function(v,E){const P=E.toLowerCase();E!=P&&(su(this,E),ca(this,P,v))},u)),u.j=g}function Jn(u,g){const v=new Yn;if(d.Image){const E=new Image;E.onload=A(Nn,v,"TestLoadImage: loaded",!0,g,E),E.onerror=A(Nn,v,"TestLoadImage: error",!1,g,E),E.onabort=A(Nn,v,"TestLoadImage: abort",!1,g,E),E.ontimeout=A(Nn,v,"TestLoadImage: timeout",!1,g,E),d.setTimeout(function(){E.ontimeout&&E.ontimeout()},1e4),E.src=u}else g(!1)}function Co(u,g){const v=new Yn,E=new AbortController,P=setTimeout(()=>{E.abort(),Nn(v,"TestPingServer: timeout",!1,g)},1e4);fetch(u,{signal:E.signal}).then(F=>{clearTimeout(P),F.ok?Nn(v,"TestPingServer: ok",!0,g):Nn(v,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(P),Nn(v,"TestPingServer: error",!1,g)})}function Nn(u,g,v,E,P){try{P&&(P.onload=null,P.onerror=null,P.onabort=null,P.ontimeout=null),E(v)}catch{}}function xr(){this.g=new M}function Ei(u){this.i=u.Sb||null,this.h=u.ab||!1}x(Ei,ee),Ei.prototype.g=function(){return new Es(this.i,this.h)};function Es(u,g){ht.call(this),this.H=u,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}x(Es,ht),s=Es.prototype,s.open=function(u,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=g,this.readyState=1,$n(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const g={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(g.body=u),(this.H||d).fetch(new Request(this.D,g)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Rr(this)),this.readyState=0},s.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,$n(this)),this.g&&(this.readyState=3,$n(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;fa(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function fa(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}s.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var g=u.value?u.value:new Uint8Array(0);(g=this.B.decode(g,{stream:!u.done}))&&(this.response=this.responseText+=g)}u.done?Rr(this):$n(this),this.readyState==3&&fa(this)}},s.Oa=function(u){this.g&&(this.response=this.responseText=u,Rr(this))},s.Na=function(u){this.g&&(this.response=u,Rr(this))},s.ga=function(){this.g&&Rr(this)};function Rr(u){u.readyState=4,u.l=null,u.j=null,u.B=null,$n(u)}s.setRequestHeader=function(u,g){this.A.append(u,g)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],g=this.h.entries();for(var v=g.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=g.next();return u.join(`\r
`)};function $n(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Es.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Vn(u){let g="";return Oe(u,function(v,E){g+=E,g+=":",g+=v,g+=`\r
`}),g}function As(u,g,v){e:{for(E in v){var E=!1;break e}E=!0}E||(v=Vn(v),typeof u=="string"?v!=null&&Fi(v):nt(u,g,v))}function at(u){ht.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}x(at,ht);var Ai=/^https?$/i,Io=["POST","PUT"];s=at.prototype,s.Fa=function(u){this.H=u},s.ea=function(u,g,v,E){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);g=g?g.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():vo.g(),this.g.onreadystatechange=L(_(this.Ca,this));try{this.B=!0,this.g.open(g,String(u),!0),this.B=!1}catch(F){ws(this,F);return}if(u=v||"",v=new Map(this.headers),E)if(Object.getPrototypeOf(E)===Object.prototype)for(var P in E)v.set(P,E[P]);else if(typeof E.keys=="function"&&typeof E.get=="function")for(const F of E.keys())v.set(F,E.get(F));else throw Error("Unknown input type for opt_headers: "+String(E));E=Array.from(v.keys()).find(F=>F.toLowerCase()=="content-type"),P=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Io,g,void 0)>=0)||E||P||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[F,re]of v)this.g.setRequestHeader(F,re);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(F){ws(this,F)}};function ws(u,g){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=g,u.o=5,Do(u),Gi(u)}function Do(u){u.A||(u.A=!0,St(u,"complete"),St(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,St(this,"complete"),St(this,"abort"),Gi(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Gi(this,!0)),at.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?xs(this):this.Xa())},s.Xa=function(){xs(this)};function xs(u){if(u.h&&typeof c<"u"){if(u.v&&Zn(u)==4)setTimeout(u.Ca.bind(u),0);else if(St(u,"readystatechange"),Zn(u)==4){u.h=!1;try{const F=u.ca();e:switch(F){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var v;if(!(v=g)){var E;if(E=F===0){let re=String(u.D).match(nu)[1]||null;!re&&d.self&&d.self.location&&(re=d.self.location.protocol.slice(0,-1)),E=!Ai.test(re?re.toLowerCase():"")}v=E}if(v)St(u,"complete"),St(u,"success");else{u.o=6;try{var P=Zn(u)>2?u.g.statusText:""}catch{P=""}u.l=P+" ["+u.ca()+"]",Do(u)}}finally{Gi(u)}}}}function Gi(u,g){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,g||St(u,"ready");try{v.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function Zn(u){return u.g?u.g.readyState:0}s.ca=function(){try{return Zn(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(u){if(this.g){var g=this.g.responseText;return u&&g.indexOf(u)==0&&(g=g.substring(u.length)),B(g)}};function Qt(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Ki(u){const g={};u=(u.g&&Zn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let E=0;E<u.length;E++){if(R(u[E]))continue;var v=Zl(u[E]);const P=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const F=g[P]||[];g[P]=F,F.push(v)}fe(g,function(E){return E.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function wi(u,g,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||g}function Cr(u){this.za=0,this.i=[],this.j=new Yn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=wi("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=wi("baseRetryDelayMs",5e3,u),this.Za=wi("retryDelaySeedMs",1e4,u),this.Ta=wi("forwardChannelMaxRetries",2,u),this.va=wi("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new _o(u&&u.concurrentRequestLimit),this.Ba=new xr,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=Cr.prototype,s.ka=8,s.I=1,s.connect=function(u,g,v,E){It(0),this.W=u,this.H=g||{},v&&E!==void 0&&(this.H.OSID=v,this.H.OAID=E),this.F=this.X,this.J=du(this,null,this.W),xi(this)};function Mo(u){if(da(u),u.I==3){var g=u.V++,v=Ot(u.J);if(nt(v,"SID",u.M),nt(v,"RID",g),nt(v,"TYPE","terminate"),Rs(u,v),g=new Qn(u,u.j,g),g.M=2,g.A=Ts(Ot(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(g.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=g.A,v=!0),v||(g.g=gu(g.j,null),g.g.ea(g.A)),g.F=Date.now(),yi(g)}fu(u)}function Ir(u){u.g&&(ko(u),u.g.cancel(),u.g=null)}function da(u){Ir(u),u.v&&(d.clearTimeout(u.v),u.v=null),pa(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function xi(u){if(!bo(u.h)&&!u.m){u.m=!0;var g=u.Ea;et||w(),Me||(et(),Me=!0),I.add(g,u),u.D=0}}function ga(u,g){return bi(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=g.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=gi(_(u.Ea,u,g),hu(u,u.D)),u.D++,!0)}s.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const P=new Qn(this,this.j,u);let F=this.o;if(this.U&&(F?(F=O(F),ie(F,this.U)):F=this.U),this.u!==null||this.R||(P.J=F,F=null),this.S)e:{for(var g=0,v=0;v<this.i.length;v++){t:{var E=this.i[v];if("__data__"in E.map&&(E=E.map.__data__,typeof E=="string")){E=E.length;break t}E=void 0}if(E===void 0)break;if(g+=E,g>4096){g=v;break e}if(g===4096||v===this.i.length-1){g=v+1;break e}}g=1e3}else g=1e3;g=ou(this,P,g),v=Ot(this.J),nt(v,"RID",u),nt(v,"CVER",22),this.G&&nt(v,"X-HTTP-Session-Id",this.G),Rs(this,v),F&&(this.R?g="headers="+Fi(Vn(F))+"&"+g:this.u&&As(v,this.u,F)),To(this.h,P),this.Ra&&nt(v,"TYPE","init"),this.S?(nt(v,"$req",g),nt(v,"SID","null"),P.U=!0,mi(P,v,null)):mi(P,v,g),this.I=2}}else this.I==3&&(u?Oo(this,u):this.i.length==0||bo(this.h)||Oo(this))};function Oo(u,g){var v;g?v=g.l:v=u.V++;const E=Ot(u.J);nt(E,"SID",u.M),nt(E,"RID",v),nt(E,"AID",u.K),Rs(u,E),u.u&&u.o&&As(E,u.u,u.o),v=new Qn(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),g&&(u.i=g.G.concat(u.i)),g=ou(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),To(u.h,v),mi(v,E,g)}function Rs(u,g){u.H&&Oe(u.H,function(v,E){nt(g,E,v)}),u.l&&Oe({},function(v,E){nt(g,E,v)})}function ou(u,g,v){v=Math.min(u.i.length,v);const E=u.l?_(u.l.Ka,u.l,u):null;e:{var P=u.i;let ke=-1;for(;;){const wt=["count="+v];ke==-1?v>0?(ke=P[0].g,wt.push("ofs="+ke)):ke=0:wt.push("ofs="+ke);let Je=!0;for(let mt=0;mt<v;mt++){var F=P[mt].g;const Ln=P[mt].map;if(F-=ke,F<0)ke=Math.max(0,P[mt].g-100),Je=!1;else try{F="req"+F+"_"||"";try{var re=Ln instanceof Map?Ln:Object.entries(Ln);for(const[Ci,ei]of re){let ti=ei;y(ei)&&(ti=S(ei)),wt.push(F+Ci+"="+encodeURIComponent(ti))}}catch(Ci){throw wt.push(F+"type="+encodeURIComponent("_badmap")),Ci}}catch{E&&E(Ln)}}if(Je){re=wt.join("&");break e}}re=void 0}return u=u.i.splice(0,v),g.G=u,re}function lu(u){if(!u.g&&!u.v){u.Y=1;var g=u.Da;et||w(),Me||(et(),Me=!0),I.add(g,u),u.A=0}}function Cs(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=gi(_(u.Da,u),hu(u,u.A)),u.A++,!0)}s.Da=function(){if(this.v=null,uu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=gi(_(this.Wa,this),u)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,It(10),Ir(this),uu(this))};function ko(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function uu(u){u.g=new Qn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var g=Ot(u.na);nt(g,"RID","rpc"),nt(g,"SID",u.M),nt(g,"AID",u.K),nt(g,"CI",u.F?"0":"1"),!u.F&&u.ia&&nt(g,"TO",u.ia),nt(g,"TYPE","xmlhttp"),Rs(u,g),u.u&&u.o&&As(g,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=Ts(Ot(g)),v.u=null,v.R=!0,aa(v,u)}s.Va=function(){this.C!=null&&(this.C=null,Ir(this),Cs(this),It(19))};function pa(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function cu(u,g){var v=null;if(u.g==g){pa(u),ko(u),u.g=null;var E=2}else if(Ti(u.h,g))v=g.G,So(u.h,g),E=1;else return;if(u.I!=0){if(g.o)if(E==1){v=g.u?g.u.length:0,g=Date.now()-g.F;var P=u.D;E=rn(),St(E,new di(E,v)),xi(u)}else lu(u);else if(P=g.m,P==3||P==0&&g.X>0||!(E==1&&ga(u,g)||E==2&&Cs(u)))switch(v&&v.length>0&&(g=u.h,g.i=g.i.concat(v)),P){case 1:Ri(u,5);break;case 4:Ri(u,10);break;case 3:Ri(u,6);break;default:Ri(u,2)}}}function hu(u,g){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*g}function Ri(u,g){if(u.j.info("Error code "+g),g==2){var v=_(u.bb,u),E=u.Ua;const P=!E;E=new En(E||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Ft(E,"https"),Ts(E),P?Jn(E.toString(),v):Co(E.toString(),v)}else It(2);u.I=0,u.l&&u.l.pa(g),fu(u),da(u)}s.bb=function(u){u?(this.j.info("Successfully pinged google.com"),It(2)):(this.j.info("Failed to ping google.com"),It(1))};function fu(u){if(u.I=0,u.ja=[],u.l){const g=Eo(u.h);(g.length!=0||u.i.length!=0)&&(se(u.ja,g),se(u.ja,u.i),u.h.i.length=0,X(u.i),u.i.length=0),u.l.oa()}}function du(u,g,v){var E=v instanceof En?Ot(v):new En(v);if(E.g!="")g&&(E.g=g+"."+E.g),Sr(E,E.u);else{var P=d.location;E=P.protocol,g=g?g+"."+P.hostname:P.hostname,P=+P.port;const F=new En(null);E&&Ft(F,E),g&&(F.g=g),P&&Sr(F,P),v&&(F.h=v),E=F}return v=u.G,g=u.wa,v&&g&&nt(E,v,g),nt(E,"VER",u.ka),Rs(u,E),E}function gu(u,g,v){if(g&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return g=u.Aa&&!u.ma?new at(new Ei({ab:v})):new at(u.ma),g.Fa(u.L),g}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function pu(){}s=pu.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function Dr(){}Dr.prototype.g=function(u,g){return new cn(u,g)};function cn(u,g){ht.call(this),this.g=new Cr(g),this.l=u,this.h=g&&g.messageUrlParams||null,u=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(u?u["X-WebChannel-Content-Type"]=g.messageContentType:u={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.sa&&(u?u["X-WebChannel-Client-Profile"]=g.sa:u={"X-WebChannel-Client-Profile":g.sa}),this.g.U=u,(u=g&&g.Qb)&&!R(u)&&(this.g.u=u),this.A=g&&g.supportsCrossDomainXhr||!1,this.v=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!R(g)&&(this.g.G=g,u=this.h,u!==null&&g in u&&(u=this.h,g in u&&delete u[g])),this.j=new Wi(this)}x(cn,ht),cn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},cn.prototype.close=function(){Mo(this.g)},cn.prototype.o=function(u){var g=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=S(u),u=v);g.i.push(new Mt(g.Ya++,u)),g.I==3&&xi(g)},cn.prototype.N=function(){this.g.l=null,delete this.j,Mo(this.g),delete this.g,cn.Z.N.call(this)};function mu(u){de.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var g=u.__sm__;if(g){e:{for(const v in g){u=v;break e}u=void 0}(this.i=u)&&(u=this.i,g=g!==null&&u in g?g[u]:void 0),this.data=g}else this.data=u}x(mu,de);function yu(){Re.call(this),this.status=1}x(yu,Re);function Wi(u){this.g=u}x(Wi,pu),Wi.prototype.ra=function(){St(this.g,"a")},Wi.prototype.qa=function(u){St(this.g,new mu(u))},Wi.prototype.pa=function(u){St(this.g,new yu)},Wi.prototype.oa=function(){St(this.g,"b")},Dr.prototype.createWebChannel=Dr.prototype.g,cn.prototype.send=cn.prototype.o,cn.prototype.open=cn.prototype.m,cn.prototype.close=cn.prototype.close,a1=function(){return new Dr},s1=function(){return rn()},r1=Le,tg={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},_s.NO_ERROR=0,_s.TIMEOUT=8,_s.HTTP_ERROR=6,Pc=_s,yo.COMPLETE="complete",i1=yo,ne.EventType=ge,ge.OPEN="a",ge.CLOSE="b",ge.ERROR="c",ge.MESSAGE="d",ht.prototype.listen=ht.prototype.J,Tl=ne,at.prototype.listenOnce=at.prototype.K,at.prototype.getLastError=at.prototype.Ha,at.prototype.getLastErrorCode=at.prototype.ya,at.prototype.getStatus=at.prototype.ca,at.prototype.getResponseJson=at.prototype.La,at.prototype.getResponseText=at.prototype.la,at.prototype.send=at.prototype.ea,at.prototype.setWithCredentials=at.prototype.Fa,n1=at}).apply(typeof Sc<"u"?Sc:typeof self<"u"?self:typeof window<"u"?window:{});class on{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}on.UNAUTHENTICATED=new on(null),on.GOOGLE_CREDENTIALS=new on("google-credentials-uid"),on.FIRST_PARTY=new on("first-party-uid"),on.MOCK_USER=new on("mock-user");let fo="12.8.0";function tA(s){fo=s}const Zs=new vg("@firebase/firestore");function Ka(){return Zs.logLevel}function ue(s,...e){if(Zs.logLevel<=He.DEBUG){const i=e.map(Mg);Zs.debug(`Firestore (${fo}): ${s}`,...i)}}function pr(s,...e){if(Zs.logLevel<=He.ERROR){const i=e.map(Mg);Zs.error(`Firestore (${fo}): ${s}`,...i)}}function io(s,...e){if(Zs.logLevel<=He.WARN){const i=e.map(Mg);Zs.warn(`Firestore (${fo}): ${s}`,...i)}}function Mg(s){if(typeof s=="string")return s;try{return(function(i){return JSON.stringify(i)})(s)}catch{return s}}function Ee(s,e,i){let a="Unexpected state";typeof e=="string"?a=e:i=e,o1(s,a,i)}function o1(s,e,i){let a=`FIRESTORE (${fo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw pr(a),new Error(a)}function Ze(s,e,i,a){let l="Unexpected state";typeof i=="string"?l=i:a=i,s||o1(e,l,a)}function De(s,e){return s}const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class me extends yr{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ls{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}class l1{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class nA{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(on.UNAUTHENTICATED)))}shutdown(){}}class iA{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class rA{constructor(e){this.t=e,this.currentUser=on.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){Ze(this.o===void 0,42304);let a=this.i;const l=b=>this.i!==a?(a=this.i,i(b)):Promise.resolve();let c=new ls;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new ls,e.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const b=c;e.enqueueRetryable((async()=>{await b.promise,await l(this.currentUser)}))},y=b=>{ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=b,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((b=>y(b))),setTimeout((()=>{if(!this.auth){const b=this.t.getImmediate({optional:!0});b?y(b):(ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new ls)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==e?(ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Ze(typeof a.accessToken=="string",31837,{l:a}),new l1(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ze(e===null||typeof e=="string",2055,{h:e}),new on(e)}}class sA{constructor(e,i,a){this.P=e,this.T=i,this.I=a,this.type="FirstParty",this.user=on.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class aA{constructor(e,i,a){this.P=e,this.T=i,this.I=a}getToken(){return Promise.resolve(new sA(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(on.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class gv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class oA{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,si(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){Ze(this.o===void 0,3512);const a=c=>{c.error!=null&&ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,ue("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>a(c)))};const l=c=>{ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new gv(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(Ze(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new gv(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function lA(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let a=0;a<s;a++)i[a]=Math.floor(256*Math.random());return i}class Og{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const l=lA(40);for(let c=0;c<l.length;++c)a.length<20&&l[c]<i&&(a+=e.charAt(l[c]%62))}return a}}function qe(s,e){return s<e?-1:s>e?1:0}function ng(s,e){const i=Math.min(s.length,e.length);for(let a=0;a<i;a++){const l=s.charAt(a),c=e.charAt(a);if(l!==c)return zd(l)===zd(c)?qe(l,c):zd(l)?1:-1}return qe(s.length,e.length)}const uA=55296,cA=57343;function zd(s){const e=s.charCodeAt(0);return e>=uA&&e<=cA}function ro(s,e,i){return s.length===e.length&&s.every(((a,l)=>i(a,e[l])))}const pv="__name__";class ki{constructor(e,i,a){i===void 0?i=0:i>e.length&&Ee(637,{offset:i,range:e.length}),a===void 0?a=e.length-i:a>e.length-i&&Ee(1746,{length:a,range:e.length-i}),this.segments=e,this.offset=i,this.len=a}get length(){return this.len}isEqual(e){return ki.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof ki?e.forEach((a=>{i.push(a)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,a=this.limit();i<a;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const a=Math.min(e.length,i.length);for(let l=0;l<a;l++){const c=ki.compareSegments(e.get(l),i.get(l));if(c!==0)return c}return qe(e.length,i.length)}static compareSegments(e,i){const a=ki.isNumericId(e),l=ki.isNumericId(i);return a&&!l?-1:!a&&l?1:a&&l?ki.extractNumericId(e).compare(ki.extractNumericId(i)):ng(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return os.fromString(e.substring(4,e.length-2))}}class bt extends ki{construct(e,i,a){return new bt(e,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const a of e){if(a.indexOf("//")>=0)throw new me(Z.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((l=>l.length>0)))}return new bt(i)}static emptyPath(){return new bt([])}}const hA=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class tn extends ki{construct(e,i,a){return new tn(e,i,a)}static isValidIdentifier(e){return hA.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),tn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===pv}static keyField(){return new tn([pv])}static fromServerFormat(e){const i=[];let a="",l=0;const c=()=>{if(a.length===0)throw new me(Z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;l<e.length;){const y=e[l];if(y==="\\"){if(l+1===e.length)throw new me(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const b=e[l+1];if(b!=="\\"&&b!=="."&&b!=="`")throw new me(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=b,l+=2}else y==="`"?(d=!d,l++):y!=="."||d?(a+=y,l++):(c(),l++)}if(c(),d)throw new me(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new tn(i)}static emptyPath(){return new tn([])}}class Te{constructor(e){this.path=e}static fromPath(e){return new Te(bt.fromString(e))}static fromName(e){return new Te(bt.fromString(e).popFirst(5))}static empty(){return new Te(bt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&bt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return bt.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Te(new bt(e.slice()))}}function fA(s,e,i){if(!i)throw new me(Z.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function dA(s,e,i,a){if(e===!0&&a===!0)throw new me(Z.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function mv(s){if(!Te.isDocumentKey(s))throw new me(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function u1(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function kg(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=(function(a){return a.constructor?a.constructor.name:null})(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":Ee(12329,{type:typeof s})}function Nl(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new me(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=kg(s);throw new me(Z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return s}function jt(s,e){const i={typeString:s};return e&&(i.value=e),i}function Wl(s,e){if(!u1(s))throw new me(Z.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in e)if(e[a]){const l=e[a].typeString,c="value"in e[a]?{value:e[a].value}:void 0;if(!(a in s)){i=`JSON missing required field: '${a}'`;break}const d=s[a];if(l&&typeof d!==l){i=`JSON field '${a}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${a}' field to equal '${c.value}'`;break}}if(i)throw new me(Z.INVALID_ARGUMENT,i);return!0}const yv=-62135596800,vv=1e6;class gt{static now(){return gt.fromMillis(Date.now())}static fromDate(e){return gt.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),a=Math.floor((e-1e3*i)*vv);return new gt(i,a)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new me(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new me(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<yv)throw new me(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new me(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/vv}_compareTo(e){return this.seconds===e.seconds?qe(this.nanoseconds,e.nanoseconds):qe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:gt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Wl(e,gt._jsonSchema))return new gt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-yv;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}gt._jsonSchemaVersion="firestore/timestamp/1.0",gt._jsonSchema={type:jt("string",gt._jsonSchemaVersion),seconds:jt("number"),nanoseconds:jt("number")};class Ce{static fromTimestamp(e){return new Ce(e)}static min(){return new Ce(new gt(0,0))}static max(){return new Ce(new gt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Vl=-1;function gA(s,e){const i=s.toTimestamp().seconds,a=s.toTimestamp().nanoseconds+1,l=Ce.fromTimestamp(a===1e9?new gt(i+1,0):new gt(i,a));return new us(l,Te.empty(),e)}function pA(s){return new us(s.readTime,s.key,Vl)}class us{constructor(e,i,a){this.readTime=e,this.documentKey=i,this.largestBatchId=a}static min(){return new us(Ce.min(),Te.empty(),Vl)}static max(){return new us(Ce.max(),Te.empty(),Vl)}}function mA(s,e){let i=s.readTime.compareTo(e.readTime);return i!==0?i:(i=Te.comparator(s.documentKey,e.documentKey),i!==0?i:qe(s.largestBatchId,e.largestBatchId))}const yA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class vA{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function go(s){if(s.code!==Z.FAILED_PRECONDITION||s.message!==yA)throw s;ue("LocalStore","Unexpectedly lost primary lease")}class ${constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&Ee(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new $(((a,l)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(a,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,l)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof $?i:$.resolve(i)}catch(i){return $.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):$.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):$.reject(i)}static resolve(e){return new $(((i,a)=>{i(e)}))}static reject(e){return new $(((i,a)=>{a(e)}))}static waitFor(e){return new $(((i,a)=>{let l=0,c=0,d=!1;e.forEach((y=>{++l,y.next((()=>{++c,d&&c===l&&i()}),(b=>a(b)))})),d=!0,c===l&&i()}))}static or(e){let i=$.resolve(!1);for(const a of e)i=i.next((l=>l?$.resolve(l):a()));return i}static forEach(e,i){const a=[];return e.forEach(((l,c)=>{a.push(i.call(this,l,c))})),this.waitFor(a)}static mapArray(e,i){return new $(((a,l)=>{const c=e.length,d=new Array(c);let y=0;for(let b=0;b<c;b++){const _=b;i(e[_]).next((A=>{d[_]=A,++y,y===c&&a(d)}),(A=>l(A)))}}))}static doWhile(e,i){return new $(((a,l)=>{const c=()=>{e()===!0?i().next((()=>{c()}),l):a()};c()}))}}function _A(s){const e=s.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function po(s){return s.name==="IndexedDbTransactionError"}class ph{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}ph.ce=-1;const Ng=-1;function mh(s){return s==null}function Zc(s){return s===0&&1/s==-1/0}function bA(s){return typeof s=="number"&&Number.isInteger(s)&&!Zc(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const c1="";function TA(s){let e="";for(let i=0;i<s.length;i++)e.length>0&&(e=_v(e)),e=SA(s.get(i),e);return _v(e)}function SA(s,e){let i=e;const a=s.length;for(let l=0;l<a;l++){const c=s.charAt(l);switch(c){case"\0":i+="";break;case c1:i+="";break;default:i+=c}}return i}function _v(s){return s+c1+""}function bv(s){let e=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e++;return e}function ta(s,e){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e(i,s[i])}function h1(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}class Tt{constructor(e,i){this.comparator=e,this.root=i||en.EMPTY}insert(e,i){return new Tt(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,en.BLACK,null,null))}remove(e){return new Tt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,en.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(e){let i=0,a=this.root;for(;!a.isEmpty();){const l=this.comparator(e,a.key);if(l===0)return i+a.left.size;l<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,a)=>(e(i,a),!1)))}toString(){const e=[];return this.inorderTraversal(((i,a)=>(e.push(`${i}:${a}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ec(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ec(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ec(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ec(this.root,e,this.comparator,!0)}}class Ec{constructor(e,i,a,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=i?a(e.key,i):1,i&&l&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class en{constructor(e,i,a,l,c){this.key=e,this.value=i,this.color=a??en.RED,this.left=l??en.EMPTY,this.right=c??en.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,a,l,c){return new en(e??this.key,i??this.value,a??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,a){let l=this;const c=a(e,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(e,i,a),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(e,i,a)),l.fixUp()}removeMin(){if(this.left.isEmpty())return en.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let a,l=this;if(i(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(e,l.key)===0){if(l.right.isEmpty())return en.EMPTY;a=l.right.min(),l=l.copy(a.key,a.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,en.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,en.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ee(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ee(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ee(27949);return e+(this.isRed()?0:1)}}en.EMPTY=null,en.RED=!0,en.BLACK=!1;en.EMPTY=new class{constructor(){this.size=0}get key(){throw Ee(57766)}get value(){throw Ee(16141)}get color(){throw Ee(16727)}get left(){throw Ee(29726)}get right(){throw Ee(36894)}copy(e,i,a,l,c){return this}insert(e,i,a){return new en(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Bt{constructor(e){this.comparator=e,this.data=new Tt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,a)=>(e(i),!1)))}forEachInRange(e,i){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const l=a.getNext();if(this.comparator(l.key,e[1])>=0)return;i(l.key)}}forEachWhile(e,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new Tv(this.data.getIterator())}getIteratorFrom(e){return new Tv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((a=>{i=i.add(a)})),i}isEqual(e){if(!(e instanceof Bt)||this.size!==e.size)return!1;const i=this.data.getIterator(),a=e.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new Bt(this.comparator);return i.data=e,i}}class Tv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class oi{constructor(e){this.fields=e,e.sort(tn.comparator)}static empty(){return new oi([])}unionWith(e){let i=new Bt(tn.comparator);for(const a of this.fields)i=i.add(a);for(const a of e)i=i.add(a);return new oi(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return ro(this.fields,e.fields,((i,a)=>i.isEqual(a)))}}class f1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class nn{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new f1("Invalid base64 string: "+c):c}})(e);return new nn(i)}static fromUint8Array(e){const i=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(e);return new nn(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let l=0;l<i.length;l++)a[l]=i.charCodeAt(l);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return qe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}nn.EMPTY_BYTE_STRING=new nn("");const EA=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function cs(s){if(Ze(!!s,39018),typeof s=="string"){let e=0;const i=EA.exec(s);if(Ze(!!i,46558,{timestamp:s}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),e=Number(l)}const a=new Date(s);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:Ct(s.seconds),nanos:Ct(s.nanos)}}function Ct(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function hs(s){return typeof s=="string"?nn.fromBase64String(s):nn.fromUint8Array(s)}const d1="server_timestamp",g1="__type__",p1="__previous_value__",m1="__local_write_time__";function Vg(s){return(s?.mapValue?.fields||{})[g1]?.stringValue===d1}function yh(s){const e=s.mapValue.fields[p1];return Vg(e)?yh(e):e}function Ll(s){const e=cs(s.mapValue.fields[m1].timestampValue);return new gt(e.seconds,e.nanos)}class AA{constructor(e,i,a,l,c,d,y,b,_,A,x){this.databaseId=e,this.appId=i,this.persistenceKey=a,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=y,this.longPollingOptions=b,this.useFetchStreams=_,this.isUsingEmulator=A,this.apiKey=x}}const eh="(default)";class zl{constructor(e,i){this.projectId=e,this.database=i||eh}static empty(){return new zl("","")}get isDefaultDatabase(){return this.database===eh}isEqual(e){return e instanceof zl&&e.projectId===this.projectId&&e.database===this.database}}function wA(s,e){if(!Object.prototype.hasOwnProperty.apply(s.options,["projectId"]))throw new me(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new zl(s.options.projectId,e)}const y1="__type__",xA="__max__",Ac={mapValue:{}},v1="__vector__",th="value";function fs(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Vg(s)?4:CA(s)?9007199254740991:RA(s)?10:11:Ee(28295,{value:s})}function Pi(s,e){if(s===e)return!0;const i=fs(s);if(i!==fs(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return Ll(s).isEqual(Ll(e));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=cs(l.timestampValue),y=cs(c.timestampValue);return d.seconds===y.seconds&&d.nanos===y.nanos})(s,e);case 5:return s.stringValue===e.stringValue;case 6:return(function(l,c){return hs(l.bytesValue).isEqual(hs(c.bytesValue))})(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return(function(l,c){return Ct(l.geoPointValue.latitude)===Ct(c.geoPointValue.latitude)&&Ct(l.geoPointValue.longitude)===Ct(c.geoPointValue.longitude)})(s,e);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return Ct(l.integerValue)===Ct(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=Ct(l.doubleValue),y=Ct(c.doubleValue);return d===y?Zc(d)===Zc(y):isNaN(d)&&isNaN(y)}return!1})(s,e);case 9:return ro(s.arrayValue.values||[],e.arrayValue.values||[],Pi);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},y=c.mapValue.fields||{};if(bv(d)!==bv(y))return!1;for(const b in d)if(d.hasOwnProperty(b)&&(y[b]===void 0||!Pi(d[b],y[b])))return!1;return!0})(s,e);default:return Ee(52216,{left:s})}}function jl(s,e){return(s.values||[]).find((i=>Pi(i,e)))!==void 0}function so(s,e){if(s===e)return 0;const i=fs(s),a=fs(e);if(i!==a)return qe(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return qe(s.booleanValue,e.booleanValue);case 2:return(function(c,d){const y=Ct(c.integerValue||c.doubleValue),b=Ct(d.integerValue||d.doubleValue);return y<b?-1:y>b?1:y===b?0:isNaN(y)?isNaN(b)?0:-1:1})(s,e);case 3:return Sv(s.timestampValue,e.timestampValue);case 4:return Sv(Ll(s),Ll(e));case 5:return ng(s.stringValue,e.stringValue);case 6:return(function(c,d){const y=hs(c),b=hs(d);return y.compareTo(b)})(s.bytesValue,e.bytesValue);case 7:return(function(c,d){const y=c.split("/"),b=d.split("/");for(let _=0;_<y.length&&_<b.length;_++){const A=qe(y[_],b[_]);if(A!==0)return A}return qe(y.length,b.length)})(s.referenceValue,e.referenceValue);case 8:return(function(c,d){const y=qe(Ct(c.latitude),Ct(d.latitude));return y!==0?y:qe(Ct(c.longitude),Ct(d.longitude))})(s.geoPointValue,e.geoPointValue);case 9:return Ev(s.arrayValue,e.arrayValue);case 10:return(function(c,d){const y=c.fields||{},b=d.fields||{},_=y[th]?.arrayValue,A=b[th]?.arrayValue,x=qe(_?.values?.length||0,A?.values?.length||0);return x!==0?x:Ev(_,A)})(s.mapValue,e.mapValue);case 11:return(function(c,d){if(c===Ac.mapValue&&d===Ac.mapValue)return 0;if(c===Ac.mapValue)return 1;if(d===Ac.mapValue)return-1;const y=c.fields||{},b=Object.keys(y),_=d.fields||{},A=Object.keys(_);b.sort(),A.sort();for(let x=0;x<b.length&&x<A.length;++x){const L=ng(b[x],A[x]);if(L!==0)return L;const X=so(y[b[x]],_[A[x]]);if(X!==0)return X}return qe(b.length,A.length)})(s.mapValue,e.mapValue);default:throw Ee(23264,{he:i})}}function Sv(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return qe(s,e);const i=cs(s),a=cs(e),l=qe(i.seconds,a.seconds);return l!==0?l:qe(i.nanos,a.nanos)}function Ev(s,e){const i=s.values||[],a=e.values||[];for(let l=0;l<i.length&&l<a.length;++l){const c=so(i[l],a[l]);if(c)return c}return qe(i.length,a.length)}function ao(s){return ig(s)}function ig(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(i){const a=cs(i);return`time(${a.seconds},${a.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(i){return hs(i).toBase64()})(s.bytesValue):"referenceValue"in s?(function(i){return Te.fromName(i).toString()})(s.referenceValue):"geoPointValue"in s?(function(i){return`geo(${i.latitude},${i.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(i){let a="[",l=!0;for(const c of i.values||[])l?l=!1:a+=",",a+=ig(c);return a+"]"})(s.arrayValue):"mapValue"in s?(function(i){const a=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of a)c?c=!1:l+=",",l+=`${d}:${ig(i.fields[d])}`;return l+"}"})(s.mapValue):Ee(61005,{value:s})}function Uc(s){switch(fs(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=yh(s);return e?16+Uc(e):16;case 5:return 2*s.stringValue.length;case 6:return hs(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((l,c)=>l+Uc(c)),0)})(s.arrayValue);case 10:case 11:return(function(a){let l=0;return ta(a.fields,((c,d)=>{l+=c.length+Uc(d)})),l})(s.mapValue);default:throw Ee(13486,{value:s})}}function rg(s){return!!s&&"integerValue"in s}function Lg(s){return!!s&&"arrayValue"in s}function Av(s){return!!s&&"nullValue"in s}function wv(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Bc(s){return!!s&&"mapValue"in s}function RA(s){return(s?.mapValue?.fields||{})[y1]?.stringValue===v1}function Rl(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const e={mapValue:{fields:{}}};return ta(s.mapValue.fields,((i,a)=>e.mapValue.fields[i]=Rl(a))),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Rl(s.arrayValue.values[i]);return e}return{...s}}function CA(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===xA}class Gn{constructor(e){this.value=e}static empty(){return new Gn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let a=0;a<e.length-1;++a)if(i=(i.mapValue.fields||{})[e.get(a)],!Bc(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Rl(i)}setAll(e){let i=tn.emptyPath(),a={},l=[];e.forEach(((d,y)=>{if(!i.isImmediateParentOf(y)){const b=this.getFieldsMap(i);this.applyChanges(b,a,l),a={},l=[],i=y.popLast()}d?a[y.lastSegment()]=Rl(d):l.push(y.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,a,l)}delete(e){const i=this.field(e.popLast());Bc(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return Pi(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<e.length;++a){let l=i.mapValue.fields[e.get(a)];Bc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[e.get(a)]=l),i=l}return i.mapValue.fields}applyChanges(e,i,a){ta(i,((l,c)=>e[l]=c));for(const l of a)delete e[l]}clone(){return new Gn(Rl(this.value))}}function _1(s){const e=[];return ta(s.fields,((i,a)=>{const l=new tn([i]);if(Bc(a)){const c=_1(a.mapValue).fields;if(c.length===0)e.push(l);else for(const d of c)e.push(l.child(d))}else e.push(l)})),new oi(e)}class ln{constructor(e,i,a,l,c,d,y){this.key=e,this.documentType=i,this.version=a,this.readTime=l,this.createTime=c,this.data=d,this.documentState=y}static newInvalidDocument(e){return new ln(e,0,Ce.min(),Ce.min(),Ce.min(),Gn.empty(),0)}static newFoundDocument(e,i,a,l){return new ln(e,1,i,Ce.min(),a,l,0)}static newNoDocument(e,i){return new ln(e,2,i,Ce.min(),Ce.min(),Gn.empty(),0)}static newUnknownDocument(e,i){return new ln(e,3,i,Ce.min(),Ce.min(),Gn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(Ce.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Gn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Gn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ce.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof ln&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ln(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class nh{constructor(e,i){this.position=e,this.inclusive=i}}function xv(s,e,i){let a=0;for(let l=0;l<s.position.length;l++){const c=e[l],d=s.position[l];if(c.field.isKeyField()?a=Te.comparator(Te.fromName(d.referenceValue),i.key):a=so(d,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function Rv(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!Pi(s.position[i],e.position[i]))return!1;return!0}class ih{constructor(e,i="asc"){this.field=e,this.dir=i}}function IA(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}class b1{}class Ut extends b1{constructor(e,i,a){super(),this.field=e,this.op=i,this.value=a}static create(e,i,a){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,a):new MA(e,i,a):i==="array-contains"?new NA(e,a):i==="in"?new VA(e,a):i==="not-in"?new LA(e,a):i==="array-contains-any"?new zA(e,a):new Ut(e,i,a)}static createKeyFieldInFilter(e,i,a){return i==="in"?new OA(e,a):new kA(e,a)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(so(i,this.value)):i!==null&&fs(this.value)===fs(i)&&this.matchesComparison(so(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ee(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ui extends b1{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new Ui(e,i)}matches(e){return T1(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function T1(s){return s.op==="and"}function S1(s){return DA(s)&&T1(s)}function DA(s){for(const e of s.filters)if(e instanceof Ui)return!1;return!0}function sg(s){if(s instanceof Ut)return s.field.canonicalString()+s.op.toString()+ao(s.value);if(S1(s))return s.filters.map((e=>sg(e))).join(",");{const e=s.filters.map((i=>sg(i))).join(",");return`${s.op}(${e})`}}function E1(s,e){return s instanceof Ut?(function(a,l){return l instanceof Ut&&a.op===l.op&&a.field.isEqual(l.field)&&Pi(a.value,l.value)})(s,e):s instanceof Ui?(function(a,l){return l instanceof Ui&&a.op===l.op&&a.filters.length===l.filters.length?a.filters.reduce(((c,d,y)=>c&&E1(d,l.filters[y])),!0):!1})(s,e):void Ee(19439)}function A1(s){return s instanceof Ut?(function(i){return`${i.field.canonicalString()} ${i.op} ${ao(i.value)}`})(s):s instanceof Ui?(function(i){return i.op.toString()+" {"+i.getFilters().map(A1).join(" ,")+"}"})(s):"Filter"}class MA extends Ut{constructor(e,i,a){super(e,i,a),this.key=Te.fromName(a.referenceValue)}matches(e){const i=Te.comparator(e.key,this.key);return this.matchesComparison(i)}}class OA extends Ut{constructor(e,i){super(e,"in",i),this.keys=w1("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class kA extends Ut{constructor(e,i){super(e,"not-in",i),this.keys=w1("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function w1(s,e){return(e.arrayValue?.values||[]).map((i=>Te.fromName(i.referenceValue)))}class NA extends Ut{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return Lg(i)&&jl(i.arrayValue,this.value)}}class VA extends Ut{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&jl(this.value.arrayValue,i)}}class LA extends Ut{constructor(e,i){super(e,"not-in",i)}matches(e){if(jl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!jl(this.value.arrayValue,i)}}class zA extends Ut{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!Lg(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>jl(this.value.arrayValue,a)))}}class jA{constructor(e,i=null,a=[],l=[],c=null,d=null,y=null){this.path=e,this.collectionGroup=i,this.orderBy=a,this.filters=l,this.limit=c,this.startAt=d,this.endAt=y,this.Te=null}}function Cv(s,e=null,i=[],a=[],l=null,c=null,d=null){return new jA(s,e,i,a,l,c,d)}function zg(s){const e=De(s);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((a=>sg(a))).join(","),i+="|ob:",i+=e.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),mh(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((a=>ao(a))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((a=>ao(a))).join(",")),e.Te=i}return e.Te}function jg(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!IA(s.orderBy[i],e.orderBy[i]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!E1(s.filters[i],e.filters[i]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!Rv(s.startAt,e.startAt)&&Rv(s.endAt,e.endAt)}function ag(s){return Te.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class vh{constructor(e,i=null,a=[],l=[],c=null,d="F",y=null,b=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=l,this.limit=c,this.limitType=d,this.startAt=y,this.endAt=b,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function PA(s,e,i,a,l,c,d,y){return new vh(s,e,i,a,l,c,d,y)}function Pg(s){return new vh(s)}function Iv(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function UA(s){return Te.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}function BA(s){return s.collectionGroup!==null}function Cl(s){const e=De(s);if(e.Ie===null){e.Ie=[];const i=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),i.add(c.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let y=new Bt(tn.comparator);return d.filters.forEach((b=>{b.getFlattenedFilters().forEach((_=>{_.isInequality()&&(y=y.add(_.field))}))})),y})(e).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new ih(c,a))})),i.has(tn.keyField().canonicalString())||e.Ie.push(new ih(tn.keyField(),a))}return e.Ie}function Vi(s){const e=De(s);return e.Ee||(e.Ee=HA(e,Cl(s))),e.Ee}function HA(s,e){if(s.limitType==="F")return Cv(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new ih(l.field,c)}));const i=s.endAt?new nh(s.endAt.position,s.endAt.inclusive):null,a=s.startAt?new nh(s.startAt.position,s.startAt.inclusive):null;return Cv(s.path,s.collectionGroup,e,s.filters,s.limit,i,a)}}function og(s,e,i){return new vh(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,i,s.startAt,s.endAt)}function _h(s,e){return jg(Vi(s),Vi(e))&&s.limitType===e.limitType}function x1(s){return`${zg(Vi(s))}|lt:${s.limitType}`}function Wa(s){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((l=>A1(l))).join(", ")}]`),mh(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((l=>ao(l))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((l=>ao(l))).join(",")),`Target(${a})`})(Vi(s))}; limitType=${s.limitType})`}function bh(s,e){return e.isFoundDocument()&&(function(a,l){const c=l.key.path;return a.collectionGroup!==null?l.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):Te.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(s,e)&&(function(a,l){for(const c of Cl(a))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(s,e)&&(function(a,l){for(const c of a.filters)if(!c.matches(l))return!1;return!0})(s,e)&&(function(a,l){return!(a.startAt&&!(function(d,y,b){const _=xv(d,y,b);return d.inclusive?_<=0:_<0})(a.startAt,Cl(a),l)||a.endAt&&!(function(d,y,b){const _=xv(d,y,b);return d.inclusive?_>=0:_>0})(a.endAt,Cl(a),l))})(s,e)}function qA(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function R1(s){return(e,i)=>{let a=!1;for(const l of Cl(s)){const c=FA(l,e,i);if(c!==0)return c;a=a||l.field.isKeyField()}return 0}}function FA(s,e,i){const a=s.field.isKeyField()?Te.comparator(e.key,i.key):(function(c,d,y){const b=d.data.field(c),_=y.data.field(c);return b!==null&&_!==null?so(b,_):Ee(42886)})(s.field,e,i);switch(s.dir){case"asc":return a;case"desc":return-1*a;default:return Ee(19790,{direction:s.dir})}}class na{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a!==void 0){for(const[l,c]of a)if(this.equalsFn(l,e))return c}}has(e){return this.get(e)!==void 0}set(e,i){const a=this.mapKeyFn(e),l=this.inner[a];if(l===void 0)return this.inner[a]=[[e,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],e))return void(l[c]=[e,i]);l.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return!1;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return a.length===1?delete this.inner[i]:a.splice(l,1),this.innerSize--,!0;return!1}forEach(e){ta(this.inner,((i,a)=>{for(const[l,c]of a)e(l,c)}))}isEmpty(){return h1(this.inner)}size(){return this.innerSize}}const GA=new Tt(Te.comparator);function mr(){return GA}const C1=new Tt(Te.comparator);function Sl(...s){let e=C1;for(const i of s)e=e.insert(i.key,i);return e}function I1(s){let e=C1;return s.forEach(((i,a)=>e=e.insert(i,a.overlayedDocument))),e}function Ws(){return Il()}function D1(){return Il()}function Il(){return new na((s=>s.toString()),((s,e)=>s.isEqual(e)))}const KA=new Tt(Te.comparator),WA=new Bt(Te.comparator);function Fe(...s){let e=WA;for(const i of s)e=e.add(i);return e}const YA=new Bt(qe);function QA(){return YA}function Ug(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Zc(e)?"-0":e}}function M1(s){return{integerValue:""+s}}function XA(s,e){return bA(e)?M1(e):Ug(s,e)}class Th{constructor(){this._=void 0}}function JA(s,e,i){return s instanceof rh?(function(l,c){const d={fields:{[g1]:{stringValue:d1},[m1]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&Vg(c)&&(c=yh(c)),c&&(d.fields[p1]=c),{mapValue:d}})(i,e):s instanceof Pl?k1(s,e):s instanceof Ul?N1(s,e):(function(l,c){const d=O1(l,c),y=Dv(d)+Dv(l.Ae);return rg(d)&&rg(l.Ae)?M1(y):Ug(l.serializer,y)})(s,e)}function $A(s,e,i){return s instanceof Pl?k1(s,e):s instanceof Ul?N1(s,e):i}function O1(s,e){return s instanceof sh?(function(a){return rg(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(e)?e:{integerValue:0}:null}class rh extends Th{}class Pl extends Th{constructor(e){super(),this.elements=e}}function k1(s,e){const i=V1(e);for(const a of s.elements)i.some((l=>Pi(l,a)))||i.push(a);return{arrayValue:{values:i}}}class Ul extends Th{constructor(e){super(),this.elements=e}}function N1(s,e){let i=V1(e);for(const a of s.elements)i=i.filter((l=>!Pi(l,a)));return{arrayValue:{values:i}}}class sh extends Th{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function Dv(s){return Ct(s.integerValue||s.doubleValue)}function V1(s){return Lg(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function ZA(s,e){return s.field.isEqual(e.field)&&(function(a,l){return a instanceof Pl&&l instanceof Pl||a instanceof Ul&&l instanceof Ul?ro(a.elements,l.elements,Pi):a instanceof sh&&l instanceof sh?Pi(a.Ae,l.Ae):a instanceof rh&&l instanceof rh})(s.transform,e.transform)}class ew{constructor(e,i){this.version=e,this.transformResults=i}}class fr{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new fr}static exists(e){return new fr(void 0,e)}static updateTime(e){return new fr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Hc(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class Sh{}function L1(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new j1(s.key,fr.none()):new Yl(s.key,s.data,fr.none());{const i=s.data,a=Gn.empty();let l=new Bt(tn.comparator);for(let c of e.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?a.delete(c):a.set(c,d),l=l.add(c)}return new ia(s.key,a,new oi(l.toArray()),fr.none())}}function tw(s,e,i){s instanceof Yl?(function(l,c,d){const y=l.value.clone(),b=Ov(l.fieldTransforms,c,d.transformResults);y.setAll(b),c.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(s,e,i):s instanceof ia?(function(l,c,d){if(!Hc(l.precondition,c))return void c.convertToUnknownDocument(d.version);const y=Ov(l.fieldTransforms,c,d.transformResults),b=c.data;b.setAll(z1(l)),b.setAll(y),c.convertToFoundDocument(d.version,b).setHasCommittedMutations()})(s,e,i):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function Dl(s,e,i,a){return s instanceof Yl?(function(c,d,y,b){if(!Hc(c.precondition,d))return y;const _=c.value.clone(),A=kv(c.fieldTransforms,b,d);return _.setAll(A),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(s,e,i,a):s instanceof ia?(function(c,d,y,b){if(!Hc(c.precondition,d))return y;const _=kv(c.fieldTransforms,b,d),A=d.data;return A.setAll(z1(c)),A.setAll(_),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),y===null?null:y.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((x=>x.field)))})(s,e,i,a):(function(c,d,y){return Hc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):y})(s,e,i)}function nw(s,e){let i=null;for(const a of s.fieldTransforms){const l=e.data.field(a.field),c=O1(a.transform,l||null);c!=null&&(i===null&&(i=Gn.empty()),i.set(a.field,c))}return i||null}function Mv(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!(function(a,l){return a===void 0&&l===void 0||!(!a||!l)&&ro(a,l,((c,d)=>ZA(c,d)))})(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class Yl extends Sh{constructor(e,i,a,l=[]){super(),this.key=e,this.value=i,this.precondition=a,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class ia extends Sh{constructor(e,i,a,l,c=[]){super(),this.key=e,this.data=i,this.fieldMask=a,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function z1(s){const e=new Map;return s.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=s.data.field(i);e.set(i,a)}})),e}function Ov(s,e,i){const a=new Map;Ze(s.length===i.length,32656,{Ve:i.length,de:s.length});for(let l=0;l<i.length;l++){const c=s[l],d=c.transform,y=e.data.field(c.field);a.set(c.field,$A(d,y,i[l]))}return a}function kv(s,e,i){const a=new Map;for(const l of s){const c=l.transform,d=i.data.field(l.field);a.set(l.field,JA(c,d,e))}return a}class j1 extends Sh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class iw extends Sh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class rw{constructor(e,i,a,l){this.batchId=e,this.localWriteTime=i,this.baseMutations=a,this.mutations=l}applyToRemoteDocument(e,i){const a=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(e.key)&&tw(c,e,a[l])}}applyToLocalView(e,i){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(i=Dl(a,e,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(i=Dl(a,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const a=D1();return this.mutations.forEach((l=>{const c=e.get(l.key),d=c.overlayedDocument;let y=this.applyToLocalView(d,c.mutatedFields);y=i.has(l.key)?null:y;const b=L1(d,y);b!==null&&a.set(l.key,b),d.isValidDocument()||d.convertToNoDocument(Ce.min())})),a}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),Fe())}isEqual(e){return this.batchId===e.batchId&&ro(this.mutations,e.mutations,((i,a)=>Mv(i,a)))&&ro(this.baseMutations,e.baseMutations,((i,a)=>Mv(i,a)))}}class Bg{constructor(e,i,a,l){this.batch=e,this.commitVersion=i,this.mutationResults=a,this.docVersions=l}static from(e,i,a){Ze(e.mutations.length===a.length,58842,{me:e.mutations.length,fe:a.length});let l=(function(){return KA})();const c=e.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,a[d].version);return new Bg(e,i,a,l)}}class sw{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class aw{constructor(e,i){this.count=e,this.unchangedNames=i}}var zt,We;function ow(s){switch(s){case Z.OK:return Ee(64938);case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0;default:return Ee(15467,{code:s})}}function P1(s){if(s===void 0)return pr("GRPC error has no .code"),Z.UNKNOWN;switch(s){case zt.OK:return Z.OK;case zt.CANCELLED:return Z.CANCELLED;case zt.UNKNOWN:return Z.UNKNOWN;case zt.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case zt.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case zt.INTERNAL:return Z.INTERNAL;case zt.UNAVAILABLE:return Z.UNAVAILABLE;case zt.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case zt.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case zt.NOT_FOUND:return Z.NOT_FOUND;case zt.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case zt.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case zt.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case zt.ABORTED:return Z.ABORTED;case zt.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case zt.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case zt.DATA_LOSS:return Z.DATA_LOSS;default:return Ee(39323,{code:s})}}(We=zt||(zt={}))[We.OK=0]="OK",We[We.CANCELLED=1]="CANCELLED",We[We.UNKNOWN=2]="UNKNOWN",We[We.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",We[We.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",We[We.NOT_FOUND=5]="NOT_FOUND",We[We.ALREADY_EXISTS=6]="ALREADY_EXISTS",We[We.PERMISSION_DENIED=7]="PERMISSION_DENIED",We[We.UNAUTHENTICATED=16]="UNAUTHENTICATED",We[We.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",We[We.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",We[We.ABORTED=10]="ABORTED",We[We.OUT_OF_RANGE=11]="OUT_OF_RANGE",We[We.UNIMPLEMENTED=12]="UNIMPLEMENTED",We[We.INTERNAL=13]="INTERNAL",We[We.UNAVAILABLE=14]="UNAVAILABLE",We[We.DATA_LOSS=15]="DATA_LOSS";function lw(){return new TextEncoder}const uw=new os([4294967295,4294967295],0);function Nv(s){const e=lw().encode(s),i=new t1;return i.update(e),new Uint8Array(i.digest())}function Vv(s){const e=new DataView(s.buffer),i=e.getUint32(0,!0),a=e.getUint32(4,!0),l=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new os([i,a],0),new os([l,c],0)]}class Hg{constructor(e,i,a){if(this.bitmap=e,this.padding=i,this.hashCount=a,i<0||i>=8)throw new El(`Invalid padding: ${i}`);if(a<0)throw new El(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new El(`Invalid hash count: ${a}`);if(e.length===0&&i!==0)throw new El(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=os.fromNumber(this.ge)}ye(e,i,a){let l=e.add(i.multiply(os.fromNumber(a)));return l.compare(uw)===1&&(l=new os([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=Nv(e),[a,l]=Vv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);if(!this.we(d))return!1}return!0}static create(e,i,a){const l=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),d=new Hg(c,l,i);return a.forEach((y=>d.insert(y))),d}insert(e){if(this.ge===0)return;const i=Nv(e),[a,l]=Vv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);this.be(d)}}be(e){const i=Math.floor(e/8),a=e%8;this.bitmap[i]|=1<<a}}class El extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Eh{constructor(e,i,a,l,c){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,i,a){const l=new Map;return l.set(e,Ql.createSynthesizedTargetChangeForCurrentChange(e,i,a)),new Eh(Ce.min(),l,new Tt(qe),mr(),Fe())}}class Ql{constructor(e,i,a,l,c){this.resumeToken=e,this.current=i,this.addedDocuments=a,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,i,a){return new Ql(a,i,Fe(),Fe(),Fe())}}class qc{constructor(e,i,a,l){this.Se=e,this.removedTargetIds=i,this.key=a,this.De=l}}class U1{constructor(e,i){this.targetId=e,this.Ce=i}}class B1{constructor(e,i,a=nn.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=i,this.resumeToken=a,this.cause=l}}class Lv{constructor(){this.ve=0,this.Fe=zv(),this.Me=nn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Fe(),i=Fe(),a=Fe();return this.Fe.forEach(((l,c)=>{switch(c){case 0:e=e.add(l);break;case 2:i=i.add(l);break;case 1:a=a.add(l);break;default:Ee(38017,{changeType:c})}})),new Ql(this.Me,this.xe,e,i,a)}Ke(){this.Oe=!1,this.Fe=zv()}qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,Ze(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class cw{constructor(e){this.Ge=e,this.ze=new Map,this.je=mr(),this.He=wc(),this.Je=wc(),this.Ze=new Tt(qe)}Xe(e){for(const i of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const a=this.nt(i);switch(e.state){case 0:this.rt(i)&&a.Le(e.resumeToken);break;case 1:a.We(),a.Ne||a.Ke(),a.Le(e.resumeToken);break;case 2:a.We(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.Qe(),a.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(e.resumeToken));break;default:Ee(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((a,l)=>{this.rt(l)&&i(l)}))}st(e){const i=e.targetId,a=e.Ce.count,l=this.ot(i);if(l){const c=l.target;if(ag(c))if(a===0){const d=new Te(c.path);this.et(i,d,ln.newNoDocument(d,Ce.min()))}else Ze(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const y=this.ut(e),b=y?this.ct(y,e,d):1;if(b!==0){this.it(i);const _=b===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(i,_)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:l=0},hashCount:c=0}=i;let d,y;try{d=hs(a).toUint8Array()}catch(b){if(b instanceof f1)return io("Decoding the base64 bloom filter in existence filter failed ("+b.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw b}try{y=new Hg(d,l,c)}catch(b){return io(b instanceof El?"BloomFilter error: ":"Applying bloom filter failed: ",b),null}return y.ge===0?null:y}ct(e,i,a){return i.Ce.count===a-this.Pt(e,i.targetId)?0:2}Pt(e,i){const a=this.Ge.getRemoteKeysForTarget(i);let l=0;return a.forEach((c=>{const d=this.Ge.ht(),y=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;e.mightContain(y)||(this.et(i,c,null),l++)})),l}Tt(e){const i=new Map;this.ze.forEach(((c,d)=>{const y=this.ot(d);if(y){if(c.current&&ag(y.target)){const b=new Te(y.target.path);this.It(b).has(d)||this.Et(d,b)||this.et(d,b,ln.newNoDocument(b,e))}c.Be&&(i.set(d,c.ke()),c.Ke())}}));let a=Fe();this.Je.forEach(((c,d)=>{let y=!0;d.forEachWhile((b=>{const _=this.ot(b);return!_||_.purpose==="TargetPurposeLimboResolution"||(y=!1,!1)})),y&&(a=a.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(e)));const l=new Eh(e,i,this.Ze,this.je,a);return this.je=mr(),this.He=wc(),this.Je=wc(),this.Ze=new Tt(qe),l}Ye(e,i){if(!this.rt(e))return;const a=this.Et(e,i.key)?2:0;this.nt(e).qe(i.key,a),this.je=this.je.insert(i.key,i),this.He=this.He.insert(i.key,this.It(i.key).add(e)),this.Je=this.Je.insert(i.key,this.Rt(i.key).add(e))}et(e,i,a){if(!this.rt(e))return;const l=this.nt(e);this.Et(e,i)?l.qe(i,1):l.Ue(i),this.Je=this.Je.insert(i,this.Rt(i).delete(e)),this.Je=this.Je.insert(i,this.Rt(i).add(e)),a&&(this.je=this.je.insert(i,a))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let i=this.ze.get(e);return i||(i=new Lv,this.ze.set(e,i)),i}Rt(e){let i=this.Je.get(e);return i||(i=new Bt(qe),this.Je=this.Je.insert(e,i)),i}It(e){let i=this.He.get(e);return i||(i=new Bt(qe),this.He=this.He.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||ue("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Lv),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function wc(){return new Tt(Te.comparator)}function zv(){return new Tt(Te.comparator)}const hw={asc:"ASCENDING",desc:"DESCENDING"},fw={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},dw={and:"AND",or:"OR"};class gw{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function lg(s,e){return s.useProto3Json||mh(e)?e:{value:e}}function ah(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function H1(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function pw(s,e){return ah(s,e.toTimestamp())}function Li(s){return Ze(!!s,49232),Ce.fromTimestamp((function(i){const a=cs(i);return new gt(a.seconds,a.nanos)})(s))}function qg(s,e){return ug(s,e).canonicalString()}function ug(s,e){const i=(function(l){return new bt(["projects",l.projectId,"databases",l.database])})(s).child("documents");return e===void 0?i:i.child(e)}function q1(s){const e=bt.fromString(s);return Ze(Y1(e),10190,{key:e.toString()}),e}function cg(s,e){return qg(s.databaseId,e.path)}function jd(s,e){const i=q1(e);if(i.get(1)!==s.databaseId.projectId)throw new me(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new me(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new Te(G1(i))}function F1(s,e){return qg(s.databaseId,e)}function mw(s){const e=q1(s);return e.length===4?bt.emptyPath():G1(e)}function hg(s){return new bt(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function G1(s){return Ze(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function jv(s,e,i){return{name:cg(s,e),fields:i.value.mapValue.fields}}function yw(s,e){let i;if("targetChange"in e){e.targetChange;const a=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:Ee(39313,{state:_})})(e.targetChange.targetChangeType||"NO_CHANGE"),l=e.targetChange.targetIds||[],c=(function(_,A){return _.useProto3Json?(Ze(A===void 0||typeof A=="string",58123),nn.fromBase64String(A||"")):(Ze(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),nn.fromUint8Array(A||new Uint8Array))})(s,e.targetChange.resumeToken),d=e.targetChange.cause,y=d&&(function(_){const A=_.code===void 0?Z.UNKNOWN:P1(_.code);return new me(A,_.message||"")})(d);i=new B1(a,l,c,y||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const l=jd(s,a.document.name),c=Li(a.document.updateTime),d=a.document.createTime?Li(a.document.createTime):Ce.min(),y=new Gn({mapValue:{fields:a.document.fields}}),b=ln.newFoundDocument(l,c,d,y),_=a.targetIds||[],A=a.removedTargetIds||[];i=new qc(_,A,b.key,b)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const l=jd(s,a.document),c=a.readTime?Li(a.readTime):Ce.min(),d=ln.newNoDocument(l,c),y=a.removedTargetIds||[];i=new qc([],y,d.key,d)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const l=jd(s,a.document),c=a.removedTargetIds||[];i=new qc([],c,l,null)}else{if(!("filter"in e))return Ee(11601,{Vt:e});{e.filter;const a=e.filter;a.targetId;const{count:l=0,unchangedNames:c}=a,d=new aw(l,c),y=a.targetId;i=new U1(y,d)}}return i}function vw(s,e){let i;if(e instanceof Yl)i={update:jv(s,e.key,e.value)};else if(e instanceof j1)i={delete:cg(s,e.key)};else if(e instanceof ia)i={update:jv(s,e.key,e.data),updateMask:Rw(e.fieldMask)};else{if(!(e instanceof iw))return Ee(16599,{dt:e.type});i={verify:cg(s,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((a=>(function(c,d){const y=d.transform;if(y instanceof rh)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(y instanceof Pl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:y.elements}};if(y instanceof Ul)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:y.elements}};if(y instanceof sh)return{fieldPath:d.field.canonicalString(),increment:y.Ae};throw Ee(20930,{transform:d.transform})})(0,a)))),e.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:pw(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:Ee(27497)})(s,e.precondition)),i}function _w(s,e){return s&&s.length>0?(Ze(e!==void 0,14353),s.map((i=>(function(l,c){let d=l.updateTime?Li(l.updateTime):Li(c);return d.isEqual(Ce.min())&&(d=Li(c)),new ew(d,l.transformResults||[])})(i,e)))):[]}function bw(s,e){return{documents:[F1(s,e.path)]}}function Tw(s,e){const i={structuredQuery:{}},a=e.path;let l;e.collectionGroup!==null?(l=a,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(l=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=F1(s,l);const c=(function(_){if(_.length!==0)return W1(Ui.create(_,"and"))})(e.filters);c&&(i.structuredQuery.where=c);const d=(function(_){if(_.length!==0)return _.map((A=>(function(L){return{field:Ya(L.field),direction:Aw(L.dir)}})(A)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const y=lg(s,e.limit);return y!==null&&(i.structuredQuery.limit=y),e.startAt&&(i.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(e.endAt)),{ft:i,parent:l}}function Sw(s){let e=mw(s.parent);const i=s.structuredQuery,a=i.from?i.from.length:0;let l=null;if(a>0){Ze(a===1,65062);const A=i.from[0];A.allDescendants?l=A.collectionId:e=e.child(A.collectionId)}let c=[];i.where&&(c=(function(x){const L=K1(x);return L instanceof Ui&&S1(L)?L.getFilters():[L]})(i.where));let d=[];i.orderBy&&(d=(function(x){return x.map((L=>(function(se){return new ih(Qa(se.field),(function(le){switch(le){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(se.direction))})(L)))})(i.orderBy));let y=null;i.limit&&(y=(function(x){let L;return L=typeof x=="object"?x.value:x,mh(L)?null:L})(i.limit));let b=null;i.startAt&&(b=(function(x){const L=!!x.before,X=x.values||[];return new nh(X,L)})(i.startAt));let _=null;return i.endAt&&(_=(function(x){const L=!x.before,X=x.values||[];return new nh(X,L)})(i.endAt)),PA(e,l,d,c,y,"F",b,_)}function Ew(s,e){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ee(28987,{purpose:l})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function K1(s){return s.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=Qa(i.unaryFilter.field);return Ut.create(a,"==",{doubleValue:NaN});case"IS_NULL":const l=Qa(i.unaryFilter.field);return Ut.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Qa(i.unaryFilter.field);return Ut.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Qa(i.unaryFilter.field);return Ut.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ee(61313);default:return Ee(60726)}})(s):s.fieldFilter!==void 0?(function(i){return Ut.create(Qa(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ee(58110);default:return Ee(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(i){return Ui.create(i.compositeFilter.filters.map((a=>K1(a))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return Ee(1026)}})(i.compositeFilter.op))})(s):Ee(30097,{filter:s})}function Aw(s){return hw[s]}function ww(s){return fw[s]}function xw(s){return dw[s]}function Ya(s){return{fieldPath:s.canonicalString()}}function Qa(s){return tn.fromServerFormat(s.fieldPath)}function W1(s){return s instanceof Ut?(function(i){if(i.op==="=="){if(wv(i.value))return{unaryFilter:{field:Ya(i.field),op:"IS_NAN"}};if(Av(i.value))return{unaryFilter:{field:Ya(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(wv(i.value))return{unaryFilter:{field:Ya(i.field),op:"IS_NOT_NAN"}};if(Av(i.value))return{unaryFilter:{field:Ya(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ya(i.field),op:ww(i.op),value:i.value}}})(s):s instanceof Ui?(function(i){const a=i.getFilters().map((l=>W1(l)));return a.length===1?a[0]:{compositeFilter:{op:xw(i.op),filters:a}}})(s):Ee(54877,{filter:s})}function Rw(s){const e=[];return s.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function Y1(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}function Q1(s){return!!s&&typeof s._toProto=="function"&&s._protoValueType==="ProtoValue"}class is{constructor(e,i,a,l,c=Ce.min(),d=Ce.min(),y=nn.EMPTY_BYTE_STRING,b=null){this.target=e,this.targetId=i,this.purpose=a,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=y,this.expectedCount=b}withSequenceNumber(e){return new is(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new is(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new is(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new is(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Cw{constructor(e){this.yt=e}}function Iw(s){const e=Sw({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?og(e,e.limit,"L"):e}class Dw{constructor(){this.Sn=new Mw}addToCollectionParentIndex(e,i){return this.Sn.add(i),$.resolve()}getCollectionParents(e,i){return $.resolve(this.Sn.getEntries(i))}addFieldIndex(e,i){return $.resolve()}deleteFieldIndex(e,i){return $.resolve()}deleteAllFieldIndexes(e){return $.resolve()}createTargetIndexes(e,i){return $.resolve()}getDocumentsMatchingTarget(e,i){return $.resolve(null)}getIndexType(e,i){return $.resolve(0)}getFieldIndexes(e,i){return $.resolve([])}getNextCollectionGroupToUpdate(e){return $.resolve(null)}getMinOffset(e,i){return $.resolve(us.min())}getMinOffsetFromCollectionGroup(e,i){return $.resolve(us.min())}updateCollectionGroup(e,i,a){return $.resolve()}updateIndexEntries(e,i){return $.resolve()}}class Mw{constructor(){this.index={}}add(e){const i=e.lastSegment(),a=e.popLast(),l=this.index[i]||new Bt(bt.comparator),c=!l.has(a);return this.index[i]=l.add(a),c}has(e){const i=e.lastSegment(),a=e.popLast(),l=this.index[i];return l&&l.has(a)}getEntries(e){return(this.index[e]||new Bt(bt.comparator)).toArray()}}const Pv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},X1=41943040;class Tn{static withCacheSize(e){return new Tn(e,Tn.DEFAULT_COLLECTION_PERCENTILE,Tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}Tn.DEFAULT_COLLECTION_PERCENTILE=10,Tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Tn.DEFAULT=new Tn(X1,Tn.DEFAULT_COLLECTION_PERCENTILE,Tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Tn.DISABLED=new Tn(-1,0,0);class oo{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new oo(0)}static ar(){return new oo(-1)}}const Uv="LruGarbageCollector",Ow=1048576;function Bv([s,e],[i,a]){const l=qe(s,i);return l===0?qe(e,a):l}class kw{constructor(e){this.Pr=e,this.buffer=new Bt(Bv),this.Tr=0}Ir(){return++this.Tr}Er(e){const i=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();Bv(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class Nw{constructor(e,i,a){this.garbageCollector=e,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){ue(Uv,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){po(i)?ue(Uv,"Ignoring IndexedDB error during garbage collection: ",i):await go(i)}await this.Ar(3e5)}))}}class Vw{constructor(e,i){this.Vr=e,this.params=i}calculateTargetCount(e,i){return this.Vr.dr(e).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(e,i){if(i===0)return $.resolve(ph.ce);const a=new kw(i);return this.Vr.forEachTarget(e,(l=>a.Er(l.sequenceNumber))).next((()=>this.Vr.mr(e,(l=>a.Er(l))))).next((()=>a.maxValue))}removeTargets(e,i,a){return this.Vr.removeTargets(e,i,a)}removeOrphanedDocuments(e,i){return this.Vr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(ue("LruGarbageCollector","Garbage collection skipped; disabled"),$.resolve(Pv)):this.getCacheSize(e).next((a=>a<this.params.cacheSizeCollectionThreshold?(ue("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Pv):this.gr(e,i)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,i){let a,l,c,d,y,b,_;const A=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((x=>(x>this.params.maximumSequenceNumbersToCollect?(ue("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${x}`),l=this.params.maximumSequenceNumbersToCollect):l=x,d=Date.now(),this.nthSequenceNumber(e,l)))).next((x=>(a=x,y=Date.now(),this.removeTargets(e,a,i)))).next((x=>(c=x,b=Date.now(),this.removeOrphanedDocuments(e,a)))).next((x=>(_=Date.now(),Ka()<=He.DEBUG&&ue("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${l} in `+(y-d)+`ms
	Removed ${c} targets in `+(b-y)+`ms
	Removed ${x} documents in `+(_-b)+`ms
Total Duration: ${_-A}ms`),$.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:x}))))}}function Lw(s,e){return new Vw(s,e)}class zw{constructor(){this.changes=new na((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,ln.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?$.resolve(a):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class jw{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}class Pw{constructor(e,i,a,l){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=l}getDocument(e,i){let a=null;return this.documentOverlayCache.getOverlay(e,i).next((l=>(a=l,this.remoteDocumentCache.getEntry(e,i)))).next((l=>(a!==null&&Dl(a.mutation,l,oi.empty(),gt.now()),l)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((a=>this.getLocalViewOfDocuments(e,a,Fe()).next((()=>a))))}getLocalViewOfDocuments(e,i,a=Fe()){const l=Ws();return this.populateOverlays(e,l,i).next((()=>this.computeViews(e,i,l,a).next((c=>{let d=Sl();return c.forEach(((y,b)=>{d=d.insert(y,b.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const a=Ws();return this.populateOverlays(e,a,i).next((()=>this.computeViews(e,i,a,Fe())))}populateOverlays(e,i,a){const l=[];return a.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(e,l).next((c=>{c.forEach(((d,y)=>{i.set(d,y)}))}))}computeViews(e,i,a,l){let c=mr();const d=Il(),y=(function(){return Il()})();return i.forEach(((b,_)=>{const A=a.get(_.key);l.has(_.key)&&(A===void 0||A.mutation instanceof ia)?c=c.insert(_.key,_):A!==void 0?(d.set(_.key,A.mutation.getFieldMask()),Dl(A.mutation,_,A.mutation.getFieldMask(),gt.now())):d.set(_.key,oi.empty())})),this.recalculateAndSaveOverlays(e,c).next((b=>(b.forEach(((_,A)=>d.set(_,A))),i.forEach(((_,A)=>y.set(_,new jw(A,d.get(_)??null)))),y)))}recalculateAndSaveOverlays(e,i){const a=Il();let l=new Tt(((d,y)=>d-y)),c=Fe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const y of d)y.keys().forEach((b=>{const _=i.get(b);if(_===null)return;let A=a.get(b)||oi.empty();A=y.applyToLocalView(_,A),a.set(b,A);const x=(l.get(y.batchId)||Fe()).add(b);l=l.insert(y.batchId,x)}))})).next((()=>{const d=[],y=l.getReverseIterator();for(;y.hasNext();){const b=y.getNext(),_=b.key,A=b.value,x=D1();A.forEach((L=>{if(!c.has(L)){const X=L1(i.get(L),a.get(L));X!==null&&x.set(L,X),c=c.add(L)}})),d.push(this.documentOverlayCache.saveOverlays(e,_,x))}return $.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((a=>this.recalculateAndSaveOverlays(e,a)))}getDocumentsMatchingQuery(e,i,a,l){return UA(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):BA(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,a,l):this.getDocumentsMatchingCollectionQuery(e,i,a,l)}getNextDocuments(e,i,a,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,a,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,a.largestBatchId,l-c.size):$.resolve(Ws());let y=Vl,b=c;return d.next((_=>$.forEach(_,((A,x)=>(y<x.largestBatchId&&(y=x.largestBatchId),c.get(A)?$.resolve():this.remoteDocumentCache.getEntry(e,A).next((L=>{b=b.insert(A,L)}))))).next((()=>this.populateOverlays(e,_,c))).next((()=>this.computeViews(e,b,_,Fe()))).next((A=>({batchId:y,changes:I1(A)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new Te(i)).next((a=>{let l=Sl();return a.isFoundDocument()&&(l=l.insert(a.key,a)),l}))}getDocumentsMatchingCollectionGroupQuery(e,i,a,l){const c=i.collectionGroup;let d=Sl();return this.indexManager.getCollectionParents(e,c).next((y=>$.forEach(y,(b=>{const _=(function(x,L){return new vh(L,null,x.explicitOrderBy.slice(),x.filters.slice(),x.limit,x.limitType,x.startAt,x.endAt)})(i,b.child(c));return this.getDocumentsMatchingCollectionQuery(e,_,a,l).next((A=>{A.forEach(((x,L)=>{d=d.insert(x,L)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,a,l){let c;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,a.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,a,c,l)))).next((d=>{c.forEach(((b,_)=>{const A=_.getKey();d.get(A)===null&&(d=d.insert(A,ln.newInvalidDocument(A)))}));let y=Sl();return d.forEach(((b,_)=>{const A=c.get(b);A!==void 0&&Dl(A.mutation,_,oi.empty(),gt.now()),bh(i,_)&&(y=y.insert(b,_))})),y}))}}class Uw{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,i){return $.resolve(this.Nr.get(i))}saveBundleMetadata(e,i){return this.Nr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:Li(l.createTime)}})(i)),$.resolve()}getNamedQuery(e,i){return $.resolve(this.Br.get(i))}saveNamedQuery(e,i){return this.Br.set(i.name,(function(l){return{name:l.name,query:Iw(l.bundledQuery),readTime:Li(l.readTime)}})(i)),$.resolve()}}class Bw{constructor(){this.overlays=new Tt(Te.comparator),this.Lr=new Map}getOverlay(e,i){return $.resolve(this.overlays.get(i))}getOverlays(e,i){const a=Ws();return $.forEach(i,(l=>this.getOverlay(e,l).next((c=>{c!==null&&a.set(l,c)})))).next((()=>a))}saveOverlays(e,i,a){return a.forEach(((l,c)=>{this.bt(e,i,c)})),$.resolve()}removeOverlaysForBatchId(e,i,a){const l=this.Lr.get(a);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.Lr.delete(a)),$.resolve()}getOverlaysForCollection(e,i,a){const l=Ws(),c=i.length+1,d=new Te(i.child("")),y=this.overlays.getIteratorFrom(d);for(;y.hasNext();){const b=y.getNext().value,_=b.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===c&&b.largestBatchId>a&&l.set(b.getKey(),b)}return $.resolve(l)}getOverlaysForCollectionGroup(e,i,a,l){let c=new Tt(((_,A)=>_-A));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>a){let A=c.get(_.largestBatchId);A===null&&(A=Ws(),c=c.insert(_.largestBatchId,A)),A.set(_.getKey(),_)}}const y=Ws(),b=c.getIterator();for(;b.hasNext()&&(b.getNext().value.forEach(((_,A)=>y.set(_,A))),!(y.size()>=l)););return $.resolve(y)}bt(e,i,a){const l=this.overlays.get(a.key);if(l!==null){const d=this.Lr.get(l.largestBatchId).delete(a.key);this.Lr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new sw(i,a));let c=this.Lr.get(i);c===void 0&&(c=Fe(),this.Lr.set(i,c)),this.Lr.set(i,c.add(a.key))}}class Hw{constructor(){this.sessionToken=nn.EMPTY_BYTE_STRING}getSessionToken(e){return $.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,$.resolve()}}class Fg{constructor(){this.kr=new Bt(Kt.Kr),this.qr=new Bt(Kt.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,i){const a=new Kt(e,i);this.kr=this.kr.add(a),this.qr=this.qr.add(a)}$r(e,i){e.forEach((a=>this.addReference(a,i)))}removeReference(e,i){this.Wr(new Kt(e,i))}Qr(e,i){e.forEach((a=>this.removeReference(a,i)))}Gr(e){const i=new Te(new bt([])),a=new Kt(i,e),l=new Kt(i,e+1),c=[];return this.qr.forEachInRange([a,l],(d=>{this.Wr(d),c.push(d.key)})),c}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const i=new Te(new bt([])),a=new Kt(i,e),l=new Kt(i,e+1);let c=Fe();return this.qr.forEachInRange([a,l],(d=>{c=c.add(d.key)})),c}containsKey(e){const i=new Kt(e,0),a=this.kr.firstAfterOrEqual(i);return a!==null&&e.isEqual(a.key)}}class Kt{constructor(e,i){this.key=e,this.Hr=i}static Kr(e,i){return Te.comparator(e.key,i.key)||qe(e.Hr,i.Hr)}static Ur(e,i){return qe(e.Hr,i.Hr)||Te.comparator(e.key,i.key)}}class qw{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.Yn=1,this.Jr=new Bt(Kt.Kr)}checkEmpty(e){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,a,l){const c=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new rw(c,i,a,l);this.mutationQueue.push(d);for(const y of l)this.Jr=this.Jr.add(new Kt(y.key,c)),this.indexManager.addToCollectionParentIndex(e,y.key.path.popLast());return $.resolve(d)}lookupMutationBatch(e,i){return $.resolve(this.Zr(i))}getNextMutationBatchAfterBatchId(e,i){const a=i+1,l=this.Xr(a),c=l<0?0:l;return $.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?Ng:this.Yn-1)}getAllMutationBatches(e){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const a=new Kt(i,0),l=new Kt(i,Number.POSITIVE_INFINITY),c=[];return this.Jr.forEachInRange([a,l],(d=>{const y=this.Zr(d.Hr);c.push(y)})),$.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,i){let a=new Bt(qe);return i.forEach((l=>{const c=new Kt(l,0),d=new Kt(l,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([c,d],(y=>{a=a.add(y.Hr)}))})),$.resolve(this.Yr(a))}getAllMutationBatchesAffectingQuery(e,i){const a=i.path,l=a.length+1;let c=a;Te.isDocumentKey(c)||(c=c.child(""));const d=new Kt(new Te(c),0);let y=new Bt(qe);return this.Jr.forEachWhile((b=>{const _=b.key.path;return!!a.isPrefixOf(_)&&(_.length===l&&(y=y.add(b.Hr)),!0)}),d),$.resolve(this.Yr(y))}Yr(e){const i=[];return e.forEach((a=>{const l=this.Zr(a);l!==null&&i.push(l)})),i}removeMutationBatch(e,i){Ze(this.ei(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Jr;return $.forEach(i.mutations,(l=>{const c=new Kt(l.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)})).next((()=>{this.Jr=a}))}nr(e){}containsKey(e,i){const a=new Kt(i,0),l=this.Jr.firstAfterOrEqual(a);return $.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(e){return this.mutationQueue.length,$.resolve()}ei(e,i){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const i=this.Xr(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class Fw{constructor(e){this.ti=e,this.docs=(function(){return new Tt(Te.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const a=i.key,l=this.docs.get(a),c=l?l.size:0,d=this.ti(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const a=this.docs.get(i);return $.resolve(a?a.document.mutableCopy():ln.newInvalidDocument(i))}getEntries(e,i){let a=mr();return i.forEach((l=>{const c=this.docs.get(l);a=a.insert(l,c?c.document.mutableCopy():ln.newInvalidDocument(l))})),$.resolve(a)}getDocumentsMatchingQuery(e,i,a,l){let c=mr();const d=i.path,y=new Te(d.child("__id-9223372036854775808__")),b=this.docs.getIteratorFrom(y);for(;b.hasNext();){const{key:_,value:{document:A}}=b.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||mA(pA(A),a)<=0||(l.has(A.key)||bh(i,A))&&(c=c.insert(A.key,A.mutableCopy()))}return $.resolve(c)}getAllFromCollectionGroup(e,i,a,l){Ee(9500)}ni(e,i){return $.forEach(this.docs,(a=>i(a)))}newChangeBuffer(e){return new Gw(this)}getSize(e){return $.resolve(this.size)}}class Gw extends zw{constructor(e){super(),this.Mr=e}applyChanges(e){const i=[];return this.changes.forEach(((a,l)=>{l.isValidDocument()?i.push(this.Mr.addEntry(e,l)):this.Mr.removeEntry(a)})),$.waitFor(i)}getFromCache(e,i){return this.Mr.getEntry(e,i)}getAllFromCache(e,i){return this.Mr.getEntries(e,i)}}class Kw{constructor(e){this.persistence=e,this.ri=new na((i=>zg(i)),jg),this.lastRemoteSnapshotVersion=Ce.min(),this.highestTargetId=0,this.ii=0,this.si=new Fg,this.targetCount=0,this.oi=oo._r()}forEachTarget(e,i){return this.ri.forEach(((a,l)=>i(l))),$.resolve()}getLastRemoteSnapshotVersion(e){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return $.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(e,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.ii&&(this.ii=i),$.resolve()}lr(e){this.ri.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.oi=new oo(i),this.highestTargetId=i),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,i){return this.lr(i),this.targetCount+=1,$.resolve()}updateTargetData(e,i){return this.lr(i),$.resolve()}removeTargetData(e,i){return this.ri.delete(i.target),this.si.Gr(i.targetId),this.targetCount-=1,$.resolve()}removeTargets(e,i,a){let l=0;const c=[];return this.ri.forEach(((d,y)=>{y.sequenceNumber<=i&&a.get(y.targetId)===null&&(this.ri.delete(d),c.push(this.removeMatchingKeysForTargetId(e,y.targetId)),l++)})),$.waitFor(c).next((()=>l))}getTargetCount(e){return $.resolve(this.targetCount)}getTargetData(e,i){const a=this.ri.get(i)||null;return $.resolve(a)}addMatchingKeys(e,i,a){return this.si.$r(i,a),$.resolve()}removeMatchingKeys(e,i,a){this.si.Qr(i,a);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((d=>{c.push(l.markPotentiallyOrphaned(e,d))})),$.waitFor(c)}removeMatchingKeysForTargetId(e,i){return this.si.Gr(i),$.resolve()}getMatchingKeysForTargetId(e,i){const a=this.si.jr(i);return $.resolve(a)}containsKey(e,i){return $.resolve(this.si.containsKey(i))}}class J1{constructor(e,i){this._i={},this.overlays={},this.ai=new ph(0),this.ui=!1,this.ui=!0,this.ci=new Hw,this.referenceDelegate=e(this),this.li=new Kw(this),this.indexManager=new Dw,this.remoteDocumentCache=(function(l){return new Fw(l)})((a=>this.referenceDelegate.hi(a))),this.serializer=new Cw(i),this.Pi=new Uw(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new Bw,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let a=this._i[e.toKey()];return a||(a=new qw(i,this.referenceDelegate),this._i[e.toKey()]=a),a}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,i,a){ue("MemoryPersistence","Starting transaction:",e);const l=new Ww(this.ai.next());return this.referenceDelegate.Ti(),a(l).next((c=>this.referenceDelegate.Ii(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ei(e,i){return $.or(Object.values(this._i).map((a=>()=>a.containsKey(e,i))))}}class Ww extends vA{constructor(e){super(),this.currentSequenceNumber=e}}class Gg{constructor(e){this.persistence=e,this.Ri=new Fg,this.Ai=null}static Vi(e){return new Gg(e)}get di(){if(this.Ai)return this.Ai;throw Ee(60996)}addReference(e,i,a){return this.Ri.addReference(a,i),this.di.delete(a.toString()),$.resolve()}removeReference(e,i,a){return this.Ri.removeReference(a,i),this.di.add(a.toString()),$.resolve()}markPotentiallyOrphaned(e,i){return this.di.add(i.toString()),$.resolve()}removeTarget(e,i){this.Ri.Gr(i.targetId).forEach((l=>this.di.add(l.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,i.targetId).next((l=>{l.forEach((c=>this.di.add(c.toString())))})).next((()=>a.removeTargetData(e,i)))}Ti(){this.Ai=new Set}Ii(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.di,(a=>{const l=Te.fromPath(a);return this.mi(e,l).next((c=>{c||i.removeEntry(l,Ce.min())}))})).next((()=>(this.Ai=null,i.apply(e))))}updateLimboDocument(e,i){return this.mi(e,i).next((a=>{a?this.di.delete(i.toString()):this.di.add(i.toString())}))}hi(e){return 0}mi(e,i){return $.or([()=>$.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ei(e,i)])}}class oh{constructor(e,i){this.persistence=e,this.fi=new na((a=>TA(a.path)),((a,l)=>a.isEqual(l))),this.garbageCollector=Lw(this,i)}static Vi(e,i){return new oh(e,i)}Ti(){}Ii(e){return $.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}dr(e){const i=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((a=>i.next((l=>a+l))))}pr(e){let i=0;return this.mr(e,(a=>{i++})).next((()=>i))}mr(e,i){return $.forEach(this.fi,((a,l)=>this.wr(e,a,l).next((c=>c?$.resolve():i(l)))))}removeTargets(e,i,a){return this.persistence.getTargetCache().removeTargets(e,i,a)}removeOrphanedDocuments(e,i){let a=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ni(e,(d=>this.wr(e,d,i).next((y=>{y||(a++,c.removeEntry(d,Ce.min()))})))).next((()=>c.apply(e))).next((()=>a))}markPotentiallyOrphaned(e,i){return this.fi.set(i,e.currentSequenceNumber),$.resolve()}removeTarget(e,i){const a=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,i,a){return this.fi.set(a,e.currentSequenceNumber),$.resolve()}removeReference(e,i,a){return this.fi.set(a,e.currentSequenceNumber),$.resolve()}updateLimboDocument(e,i){return this.fi.set(i,e.currentSequenceNumber),$.resolve()}hi(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Uc(e.data.value)),i}wr(e,i,a){return $.or([()=>this.persistence.Ei(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const l=this.fi.get(i);return $.resolve(l!==void 0&&l>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Kg{constructor(e,i,a,l){this.targetId=e,this.fromCache=i,this.Ts=a,this.Is=l}static Es(e,i){let a=Fe(),l=Fe();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new Kg(e,i.fromCache,a,l)}}class Yw{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Qw{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return LT()?8:_A(un())>0?6:4})()}initialize(e,i){this.fs=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,a,l){const c={result:null};return this.gs(e,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ps(e,i,l,a).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new Yw;return this.ys(e,i,d).next((y=>{if(c.result=y,this.As)return this.ws(e,i,d,y.size)}))})).next((()=>c.result))}ws(e,i,a,l){return a.documentReadCount<this.Vs?(Ka()<=He.DEBUG&&ue("QueryEngine","SDK will not create cache indexes for query:",Wa(i),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),$.resolve()):(Ka()<=He.DEBUG&&ue("QueryEngine","Query:",Wa(i),"scans",a.documentReadCount,"local documents and returns",l,"documents as results."),a.documentReadCount>this.ds*l?(Ka()<=He.DEBUG&&ue("QueryEngine","The SDK decides to create cache indexes for query:",Wa(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Vi(i))):$.resolve())}gs(e,i){if(Iv(i))return $.resolve(null);let a=Vi(i);return this.indexManager.getIndexType(e,a).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=og(i,null,"F"),a=Vi(i)),this.indexManager.getDocumentsMatchingTarget(e,a).next((c=>{const d=Fe(...c);return this.fs.getDocuments(e,d).next((y=>this.indexManager.getMinOffset(e,a).next((b=>{const _=this.bs(i,y);return this.Ss(i,_,d,b.readTime)?this.gs(e,og(i,null,"F")):this.Ds(e,_,i,b)}))))})))))}ps(e,i,a,l){return Iv(i)||l.isEqual(Ce.min())?$.resolve(null):this.fs.getDocuments(e,a).next((c=>{const d=this.bs(i,c);return this.Ss(i,d,a,l)?$.resolve(null):(Ka()<=He.DEBUG&&ue("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Wa(i)),this.Ds(e,d,i,gA(l,Vl)).next((y=>y)))}))}bs(e,i){let a=new Bt(R1(e));return i.forEach(((l,c)=>{bh(e,c)&&(a=a.add(c))})),a}Ss(e,i,a,l){if(e.limit===null)return!1;if(a.size!==i.size)return!0;const c=e.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}ys(e,i,a){return Ka()<=He.DEBUG&&ue("QueryEngine","Using full collection scan to execute query:",Wa(i)),this.fs.getDocumentsMatchingQuery(e,i,us.min(),a)}Ds(e,i,a,l){return this.fs.getDocumentsMatchingQuery(e,a,l).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const Wg="LocalStore",Xw=3e8;class Jw{constructor(e,i,a,l){this.persistence=e,this.Cs=i,this.serializer=l,this.vs=new Tt(qe),this.Fs=new na((c=>zg(c)),jg),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(a)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Pw(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.vs)))}}function $w(s,e,i,a){return new Jw(s,e,i,a)}async function $1(s,e){const i=De(s);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let l;return i.mutationQueue.getAllMutationBatches(a).next((c=>(l=c,i.Os(e),i.mutationQueue.getAllMutationBatches(a)))).next((c=>{const d=[],y=[];let b=Fe();for(const _ of l){d.push(_.batchId);for(const A of _.mutations)b=b.add(A.key)}for(const _ of c){y.push(_.batchId);for(const A of _.mutations)b=b.add(A.key)}return i.localDocuments.getDocuments(a,b).next((_=>({Ns:_,removedBatchIds:d,addedBatchIds:y})))}))}))}function Zw(s,e){const i=De(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const l=e.batch.keys(),c=i.xs.newChangeBuffer({trackRemovals:!0});return(function(y,b,_,A){const x=_.batch,L=x.keys();let X=$.resolve();return L.forEach((se=>{X=X.next((()=>A.getEntry(b,se))).next((oe=>{const le=_.docVersions.get(se);Ze(le!==null,48541),oe.version.compareTo(le)<0&&(x.applyToRemoteDocument(oe,_),oe.isValidDocument()&&(oe.setReadTime(_.commitVersion),A.addEntry(oe)))}))})),X.next((()=>y.mutationQueue.removeMutationBatch(b,x)))})(i,a,e,c).next((()=>c.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,l,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(y){let b=Fe();for(let _=0;_<y.mutationResults.length;++_)y.mutationResults[_].transformResults.length>0&&(b=b.add(y.batch.mutations[_].key));return b})(e)))).next((()=>i.localDocuments.getDocuments(a,l)))}))}function Z1(s){const e=De(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.li.getLastRemoteSnapshotVersion(i)))}function ex(s,e){const i=De(s),a=e.snapshotVersion;let l=i.vs;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.xs.newChangeBuffer({trackRemovals:!0});l=i.vs;const y=[];e.targetChanges.forEach(((A,x)=>{const L=l.get(x);if(!L)return;y.push(i.li.removeMatchingKeys(c,A.removedDocuments,x).next((()=>i.li.addMatchingKeys(c,A.addedDocuments,x))));let X=L.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(x)!==null?X=X.withResumeToken(nn.EMPTY_BYTE_STRING,Ce.min()).withLastLimboFreeSnapshotVersion(Ce.min()):A.resumeToken.approximateByteSize()>0&&(X=X.withResumeToken(A.resumeToken,a)),l=l.insert(x,X),(function(oe,le,ye){return oe.resumeToken.approximateByteSize()===0||le.snapshotVersion.toMicroseconds()-oe.snapshotVersion.toMicroseconds()>=Xw?!0:ye.addedDocuments.size+ye.modifiedDocuments.size+ye.removedDocuments.size>0})(L,X,A)&&y.push(i.li.updateTargetData(c,X))}));let b=mr(),_=Fe();if(e.documentUpdates.forEach((A=>{e.resolvedLimboDocuments.has(A)&&y.push(i.persistence.referenceDelegate.updateLimboDocument(c,A))})),y.push(tx(c,d,e.documentUpdates).next((A=>{b=A.Bs,_=A.Ls}))),!a.isEqual(Ce.min())){const A=i.li.getLastRemoteSnapshotVersion(c).next((x=>i.li.setTargetsMetadata(c,c.currentSequenceNumber,a)));y.push(A)}return $.waitFor(y).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,b,_))).next((()=>b))})).then((c=>(i.vs=l,c)))}function tx(s,e,i){let a=Fe(),l=Fe();return i.forEach((c=>a=a.add(c))),e.getEntries(s,a).next((c=>{let d=mr();return i.forEach(((y,b)=>{const _=c.get(y);b.isFoundDocument()!==_.isFoundDocument()&&(l=l.add(y)),b.isNoDocument()&&b.version.isEqual(Ce.min())?(e.removeEntry(y,b.readTime),d=d.insert(y,b)):!_.isValidDocument()||b.version.compareTo(_.version)>0||b.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(b),d=d.insert(y,b)):ue(Wg,"Ignoring outdated watch update for ",y,". Current version:",_.version," Watch version:",b.version)})),{Bs:d,Ls:l}}))}function nx(s,e){const i=De(s);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(e===void 0&&(e=Ng),i.mutationQueue.getNextMutationBatchAfterBatchId(a,e))))}function ix(s,e){const i=De(s);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let l;return i.li.getTargetData(a,e).next((c=>c?(l=c,$.resolve(l)):i.li.allocateTargetId(a).next((d=>(l=new is(e,d,"TargetPurposeListen",a.currentSequenceNumber),i.li.addTargetData(a,l).next((()=>l)))))))})).then((a=>{const l=i.vs.get(a.targetId);return(l===null||a.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.vs=i.vs.insert(a.targetId,a),i.Fs.set(e,a.targetId)),a}))}async function fg(s,e,i){const a=De(s),l=a.vs.get(e),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,(d=>a.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!po(d))throw d;ue(Wg,`Failed to update sequence numbers for target ${e}: ${d}`)}a.vs=a.vs.remove(e),a.Fs.delete(l.target)}function Hv(s,e,i){const a=De(s);let l=Ce.min(),c=Fe();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(b,_,A){const x=De(b),L=x.Fs.get(A);return L!==void 0?$.resolve(x.vs.get(L)):x.li.getTargetData(_,A)})(a,d,Vi(e)).next((y=>{if(y)return l=y.lastLimboFreeSnapshotVersion,a.li.getMatchingKeysForTargetId(d,y.targetId).next((b=>{c=b}))})).next((()=>a.Cs.getDocumentsMatchingQuery(d,e,i?l:Ce.min(),i?c:Fe()))).next((y=>(rx(a,qA(e),y),{documents:y,ks:c})))))}function rx(s,e,i){let a=s.Ms.get(e)||Ce.min();i.forEach(((l,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),s.Ms.set(e,a)}class qv{constructor(){this.activeTargetIds=QA()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class sx{constructor(){this.vo=new qv,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,a){}addLocalQueryTarget(e,i=!0){return i&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,i,a){this.Fo[e]=i}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new qv,Promise.resolve()}handleUserChange(e,i,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class ax{Mo(e){}shutdown(){}}const Fv="ConnectivityMonitor";class Gv{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){ue(Fv,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){ue(Fv,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let xc=null;function dg(){return xc===null?xc=(function(){return 268435456+Math.round(2147483648*Math.random())})():xc++,"0x"+xc.toString(16)}const Pd="RestConnection",ox={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class lx{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.qo=i+"://"+e.host,this.Uo=`projects/${a}/databases/${l}`,this.$o=this.databaseId.database===eh?`project_id=${a}`:`project_id=${a}&database_id=${l}`}Wo(e,i,a,l,c){const d=dg(),y=this.Qo(e,i.toUriEncodedString());ue(Pd,`Sending RPC '${e}' ${d}:`,y,a);const b={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(b,l,c);const{host:_}=new URL(y),A=uo(_);return this.zo(e,y,b,a,A).then((x=>(ue(Pd,`Received RPC '${e}' ${d}: `,x),x)),(x=>{throw io(Pd,`RPC '${e}' ${d} failed with error: `,x,"url: ",y,"request:",a),x}))}jo(e,i,a,l,c,d){return this.Wo(e,i,a,l,c)}Go(e,i,a){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+fo})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>e[c]=l)),a&&a.headers.forEach(((l,c)=>e[c]=l))}Qo(e,i){const a=ox[e];let l=`${this.qo}/v1/${i}:${a}`;return this.databaseInfo.apiKey&&(l=`${l}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),l}terminate(){}}class ux{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const an="WebChannelConnection",vl=(s,e,i)=>{s.listen(e,(a=>{try{i(a)}catch(l){setTimeout((()=>{throw l}),0)}}))};class Za extends lx{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!Za.c_){const e=s1();vl(e,r1.STAT_EVENT,(i=>{i.stat===tg.PROXY?ue(an,"STAT_EVENT: detected buffering proxy"):i.stat===tg.NOPROXY&&ue(an,"STAT_EVENT: detected no buffering proxy")})),Za.c_=!0}}zo(e,i,a,l,c){const d=dg();return new Promise(((y,b)=>{const _=new n1;_.setWithCredentials(!0),_.listenOnce(i1.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case Pc.NO_ERROR:const x=_.getResponseJson();ue(an,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(x)),y(x);break;case Pc.TIMEOUT:ue(an,`RPC '${e}' ${d} timed out`),b(new me(Z.DEADLINE_EXCEEDED,"Request time out"));break;case Pc.HTTP_ERROR:const L=_.getStatus();if(ue(an,`RPC '${e}' ${d} failed with status:`,L,"response text:",_.getResponseText()),L>0){let X=_.getResponseJson();Array.isArray(X)&&(X=X[0]);const se=X?.error;if(se&&se.status&&se.message){const oe=(function(ye){const xe=ye.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(xe)>=0?xe:Z.UNKNOWN})(se.status);b(new me(oe,se.message))}else b(new me(Z.UNKNOWN,"Server responded with status "+_.getStatus()))}else b(new me(Z.UNAVAILABLE,"Connection failed."));break;default:Ee(9055,{l_:e,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{ue(an,`RPC '${e}' ${d} completed.`)}}));const A=JSON.stringify(l);ue(an,`RPC '${e}' ${d} sending request:`,l),_.send(i,"POST",A,a,15)}))}T_(e,i,a){const l=dg(),c=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=this.createWebChannelTransport(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},b=this.longPollingOptions.timeoutSeconds;b!==void 0&&(y.longPollingTimeout=Math.round(1e3*b)),this.useFetchStreams&&(y.useFetchStreams=!0),this.Go(y.initMessageHeaders,i,a),y.encodeInitMessageHeaders=!0;const _=c.join("");ue(an,`Creating RPC '${e}' stream ${l}: ${_}`,y);const A=d.createWebChannel(_,y);this.I_(A);let x=!1,L=!1;const X=new ux({Ho:se=>{L?ue(an,`Not sending because RPC '${e}' stream ${l} is closed:`,se):(x||(ue(an,`Opening RPC '${e}' stream ${l} transport.`),A.open(),x=!0),ue(an,`RPC '${e}' stream ${l} sending:`,se),A.send(se))},Jo:()=>A.close()});return vl(A,Tl.EventType.OPEN,(()=>{L||(ue(an,`RPC '${e}' stream ${l} transport opened.`),X.i_())})),vl(A,Tl.EventType.CLOSE,(()=>{L||(L=!0,ue(an,`RPC '${e}' stream ${l} transport closed`),X.o_(),this.E_(A))})),vl(A,Tl.EventType.ERROR,(se=>{L||(L=!0,io(an,`RPC '${e}' stream ${l} transport errored. Name:`,se.name,"Message:",se.message),X.o_(new me(Z.UNAVAILABLE,"The operation could not be completed")))})),vl(A,Tl.EventType.MESSAGE,(se=>{if(!L){const oe=se.data[0];Ze(!!oe,16349);const le=oe,ye=le?.error||le[0]?.error;if(ye){ue(an,`RPC '${e}' stream ${l} received error:`,ye);const xe=ye.status;let _e=(function(Me){const I=zt[Me];if(I!==void 0)return P1(I)})(xe),Ke=ye.message;_e===void 0&&(_e=Z.INTERNAL,Ke="Unknown error status: "+xe+" with message "+ye.message),L=!0,X.o_(new me(_e,Ke)),A.close()}else ue(an,`RPC '${e}' stream ${l} received:`,oe),X.__(oe)}})),Za.u_(),setTimeout((()=>{X.s_()}),0),X}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((i=>i===e))}Go(e,i,a){super.Go(e,i,a),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return a1()}}function cx(s){return new Za(s)}function Ud(){return typeof document<"u"?document:null}function Ah(s){return new gw(s,!0)}Za.c_=!1;class eb{constructor(e,i,a=1e3,l=1.5,c=6e4){this.Ci=e,this.timerId=i,this.R_=a,this.A_=l,this.V_=c,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const i=Math.floor(this.d_+this.y_()),a=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-a);l>0&&ue("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.d_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const Kv="PersistentStream";class tb{constructor(e,i,a,l,c,d,y,b){this.Ci=e,this.b_=a,this.S_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=y,this.listener=b,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new eb(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===Z.RESOURCE_EXHAUSTED?(pr(i.toString()),pr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(i)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,l])=>{this.D_===i&&this.G_(a,l)}),(a=>{e((()=>{const l=new me(Z.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(l)}))}))}G_(e,i){const a=this.Q_(this.D_);this.stream=this.j_(e,i),this.stream.Zo((()=>{a((()=>this.listener.Zo()))})),this.stream.Yo((()=>{a((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((l=>{a((()=>this.z_(l)))})),this.stream.onMessage((l=>{a((()=>++this.F_==1?this.H_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ue(Kv,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return i=>{this.Ci.enqueueAndForget((()=>this.D_===e?i():(ue(Kv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class hx extends tb{constructor(e,i,a,l,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}j_(e,i){return this.connection.T_("Listen",e,i)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=yw(this.serializer,e),a=(function(c){if(!("targetChange"in c))return Ce.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?Ce.min():d.readTime?Li(d.readTime):Ce.min()})(e);return this.listener.J_(i,a)}Z_(e){const i={};i.database=hg(this.serializer),i.addTarget=(function(c,d){let y;const b=d.target;if(y=ag(b)?{documents:bw(c,b)}:{query:Tw(c,b).ft},y.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){y.resumeToken=H1(c,d.resumeToken);const _=lg(c,d.expectedCount);_!==null&&(y.expectedCount=_)}else if(d.snapshotVersion.compareTo(Ce.min())>0){y.readTime=ah(c,d.snapshotVersion.toTimestamp());const _=lg(c,d.expectedCount);_!==null&&(y.expectedCount=_)}return y})(this.serializer,e);const a=Ew(this.serializer,e);a&&(i.labels=a),this.K_(i)}X_(e){const i={};i.database=hg(this.serializer),i.removeTarget=e,this.K_(i)}}class fx extends tb{constructor(e,i,a,l,c,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}H_(e){return Ze(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ze(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ze(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=_w(e.writeResults,e.commitTime),a=Li(e.commitTime);return this.listener.na(a,i)}ra(){const e={};e.database=hg(this.serializer),this.K_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((a=>vw(this.serializer,a)))};this.K_(i)}}class dx{}class gx extends dx{constructor(e,i,a,l){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=a,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new me(Z.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,i,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Wo(e,ug(i,a),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new me(Z.UNKNOWN,c.toString())}))}jo(e,i,a,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,y])=>this.connection.jo(e,ug(i,a),l,d,y,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new me(Z.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function px(s,e,i,a){return new gx(s,e,i,a)}class mx{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(pr(i),this.aa=!1):ue("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const ea="RemoteStore";class yx{constructor(e,i,a,l,c){this.localStore=e,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=c,this.Aa.Mo((d=>{a.enqueueAndForget((async()=>{ra(this)&&(ue(ea,"Restarting streams for network reachability change."),await(async function(b){const _=De(b);_.Ea.add(4),await Xl(_),_.Va.set("Unknown"),_.Ea.delete(4),await wh(_)})(this))}))})),this.Va=new mx(a,l)}}async function wh(s){if(ra(s))for(const e of s.Ra)await e(!0)}async function Xl(s){for(const e of s.Ra)await e(!1)}function nb(s,e){const i=De(s);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),Jg(i)?Xg(i):mo(i).O_()&&Qg(i,e))}function Yg(s,e){const i=De(s),a=mo(i);i.Ia.delete(e),a.O_()&&ib(i,e),i.Ia.size===0&&(a.O_()?a.L_():ra(i)&&i.Va.set("Unknown"))}function Qg(s,e){if(s.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ce.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}mo(s).Z_(e)}function ib(s,e){s.da.$e(e),mo(s).X_(e)}function Xg(s){s.da=new cw({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),At:e=>s.Ia.get(e)||null,ht:()=>s.datastore.serializer.databaseId}),mo(s).start(),s.Va.ua()}function Jg(s){return ra(s)&&!mo(s).x_()&&s.Ia.size>0}function ra(s){return De(s).Ea.size===0}function rb(s){s.da=void 0}async function vx(s){s.Va.set("Online")}async function _x(s){s.Ia.forEach(((e,i)=>{Qg(s,e)}))}async function bx(s,e){rb(s),Jg(s)?(s.Va.ha(e),Xg(s)):s.Va.set("Unknown")}async function Tx(s,e,i){if(s.Va.set("Online"),e instanceof B1&&e.state===2&&e.cause)try{await(async function(l,c){const d=c.cause;for(const y of c.targetIds)l.Ia.has(y)&&(await l.remoteSyncer.rejectListen(y,d),l.Ia.delete(y),l.da.removeTarget(y))})(s,e)}catch(a){ue(ea,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await lh(s,a)}else if(e instanceof qc?s.da.Xe(e):e instanceof U1?s.da.st(e):s.da.tt(e),!i.isEqual(Ce.min()))try{const a=await Z1(s.localStore);i.compareTo(a)>=0&&await(function(c,d){const y=c.da.Tt(d);return y.targetChanges.forEach(((b,_)=>{if(b.resumeToken.approximateByteSize()>0){const A=c.Ia.get(_);A&&c.Ia.set(_,A.withResumeToken(b.resumeToken,d))}})),y.targetMismatches.forEach(((b,_)=>{const A=c.Ia.get(b);if(!A)return;c.Ia.set(b,A.withResumeToken(nn.EMPTY_BYTE_STRING,A.snapshotVersion)),ib(c,b);const x=new is(A.target,b,_,A.sequenceNumber);Qg(c,x)})),c.remoteSyncer.applyRemoteEvent(y)})(s,i)}catch(a){ue(ea,"Failed to raise snapshot:",a),await lh(s,a)}}async function lh(s,e,i){if(!po(e))throw e;s.Ea.add(1),await Xl(s),s.Va.set("Offline"),i||(i=()=>Z1(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{ue(ea,"Retrying IndexedDB access"),await i(),s.Ea.delete(1),await wh(s)}))}function sb(s,e){return e().catch((i=>lh(s,i,e)))}async function xh(s){const e=De(s),i=ds(e);let a=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Ng;for(;Sx(e);)try{const l=await nx(e.localStore,a);if(l===null){e.Ta.length===0&&i.L_();break}a=l.batchId,Ex(e,l)}catch(l){await lh(e,l)}ab(e)&&ob(e)}function Sx(s){return ra(s)&&s.Ta.length<10}function Ex(s,e){s.Ta.push(e);const i=ds(s);i.O_()&&i.Y_&&i.ea(e.mutations)}function ab(s){return ra(s)&&!ds(s).x_()&&s.Ta.length>0}function ob(s){ds(s).start()}async function Ax(s){ds(s).ra()}async function wx(s){const e=ds(s);for(const i of s.Ta)e.ea(i.mutations)}async function xx(s,e,i){const a=s.Ta.shift(),l=Bg.from(a,e,i);await sb(s,(()=>s.remoteSyncer.applySuccessfulWrite(l))),await xh(s)}async function Rx(s,e){e&&ds(s).Y_&&await(async function(a,l){if((function(d){return ow(d)&&d!==Z.ABORTED})(l.code)){const c=a.Ta.shift();ds(a).B_(),await sb(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,l))),await xh(a)}})(s,e),ab(s)&&ob(s)}async function Wv(s,e){const i=De(s);i.asyncQueue.verifyOperationInProgress(),ue(ea,"RemoteStore received new credentials");const a=ra(i);i.Ea.add(3),await Xl(i),a&&i.Va.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await wh(i)}async function Cx(s,e){const i=De(s);e?(i.Ea.delete(2),await wh(i)):e||(i.Ea.add(2),await Xl(i),i.Va.set("Unknown"))}function mo(s){return s.ma||(s.ma=(function(i,a,l){const c=De(i);return c.sa(),new hx(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Zo:vx.bind(null,s),Yo:_x.bind(null,s),t_:bx.bind(null,s),J_:Tx.bind(null,s)}),s.Ra.push((async e=>{e?(s.ma.B_(),Jg(s)?Xg(s):s.Va.set("Unknown")):(await s.ma.stop(),rb(s))}))),s.ma}function ds(s){return s.fa||(s.fa=(function(i,a,l){const c=De(i);return c.sa(),new fx(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Zo:()=>Promise.resolve(),Yo:Ax.bind(null,s),t_:Rx.bind(null,s),ta:wx.bind(null,s),na:xx.bind(null,s)}),s.Ra.push((async e=>{e?(s.fa.B_(),await xh(s)):(await s.fa.stop(),s.Ta.length>0&&(ue(ea,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class $g{constructor(e,i,a,l,c){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=a,this.op=l,this.removalCallback=c,this.deferred=new ls,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,a,l,c){const d=Date.now()+a,y=new $g(e,i,d,l,c);return y.start(a),y}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new me(Z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Zg(s,e){if(pr("AsyncQueue",`${e}: ${s}`),po(s))return new me(Z.UNAVAILABLE,`${e}: ${s}`);throw s}class eo{static emptySet(e){return new eo(e.comparator)}constructor(e){this.comparator=e?(i,a)=>e(i,a)||Te.comparator(i.key,a.key):(i,a)=>Te.comparator(i.key,a.key),this.keyedMap=Sl(),this.sortedSet=new Tt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,a)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof eo)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const a=new eo;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=i,a}}class Yv{constructor(){this.ga=new Tt(Te.comparator)}track(e){const i=e.doc.key,a=this.ga.get(i);a?e.type!==0&&a.type===3?this.ga=this.ga.insert(i,e):e.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.ga=this.ga.remove(i):e.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):Ee(63341,{Vt:e,pa:a}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,a)=>{e.push(a)})),e}}class lo{constructor(e,i,a,l,c,d,y,b,_){this.query=e,this.docs=i,this.oldDocs=a,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=y,this.excludesMetadataChanges=b,this.hasCachedResults=_}static fromInitialDocuments(e,i,a,l,c){const d=[];return i.forEach((y=>{d.push({type:0,doc:y})})),new lo(e,i,eo.emptySet(i),d,a,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&_h(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,a=e.docChanges;if(i.length!==a.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==a[l].type||!i[l].doc.isEqual(a[l].doc))return!1;return!0}}class Ix{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class Dx{constructor(){this.queries=Qv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const l=De(i),c=l.queries;l.queries=Qv(),c.forEach(((d,y)=>{for(const b of y.ba)b.onError(a)}))})(this,new me(Z.ABORTED,"Firestore shutting down"))}}function Qv(){return new na((s=>x1(s)),_h)}async function Mx(s,e){const i=De(s);let a=3;const l=e.query;let c=i.queries.get(l);c?!c.Sa()&&e.Da()&&(a=2):(c=new Ix,a=e.Da()?0:1);try{switch(a){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const y=Zg(d,`Initialization of query '${Wa(e.query)}' failed`);return void e.onError(y)}i.queries.set(l,c),c.ba.push(e),e.va(i.onlineState),c.wa&&e.Fa(c.wa)&&ep(i)}async function Ox(s,e){const i=De(s),a=e.query;let l=3;const c=i.queries.get(a);if(c){const d=c.ba.indexOf(e);d>=0&&(c.ba.splice(d,1),c.ba.length===0?l=e.Da()?0:1:!c.Sa()&&e.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function kx(s,e){const i=De(s);let a=!1;for(const l of e){const c=l.query,d=i.queries.get(c);if(d){for(const y of d.ba)y.Fa(l)&&(a=!0);d.wa=l}}a&&ep(i)}function Nx(s,e,i){const a=De(s),l=a.queries.get(e);if(l)for(const c of l.ba)c.onError(i);a.queries.delete(e)}function ep(s){s.Ca.forEach((e=>{e.next()}))}var gg,Xv;(Xv=gg||(gg={})).Ma="default",Xv.Cache="cache";class Vx{constructor(e,i,a){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(e){if(!this.options.includeMetadataChanges){const a=[];for(const l of e.docChanges)l.type!==3&&a.push(l);e=new lo(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.Ka||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=lo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==gg.Cache}}class lb{constructor(e){this.key=e}}class ub{constructor(e){this.key=e}}class Lx{constructor(e,i){this.query=e,this.Za=i,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Fe(),this.mutatedKeys=Fe(),this.eu=R1(e),this.tu=new eo(this.eu)}get nu(){return this.Za}ru(e,i){const a=i?i.iu:new Yv,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,y=!1;const b=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,_=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal(((A,x)=>{const L=l.get(A),X=bh(this.query,x)?x:null,se=!!L&&this.mutatedKeys.has(L.key),oe=!!X&&(X.hasLocalMutations||this.mutatedKeys.has(X.key)&&X.hasCommittedMutations);let le=!1;L&&X?L.data.isEqual(X.data)?se!==oe&&(a.track({type:3,doc:X}),le=!0):this.su(L,X)||(a.track({type:2,doc:X}),le=!0,(b&&this.eu(X,b)>0||_&&this.eu(X,_)<0)&&(y=!0)):!L&&X?(a.track({type:0,doc:X}),le=!0):L&&!X&&(a.track({type:1,doc:L}),le=!0,(b||_)&&(y=!0)),le&&(X?(d=d.add(X),c=oe?c.add(A):c.delete(A)):(d=d.delete(A),c=c.delete(A)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),c=c.delete(A.key),a.track({type:1,doc:A})}return{tu:d,iu:a,Ss:y,mutatedKeys:c}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,a,l){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((A,x)=>(function(X,se){const oe=le=>{switch(le){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ee(20277,{Vt:le})}};return oe(X)-oe(se)})(A.type,x.type)||this.eu(A.doc,x.doc))),this.ou(a),l=l??!1;const y=i&&!l?this._u():[],b=this.Ya.size===0&&this.current&&!l?1:0,_=b!==this.Xa;return this.Xa=b,d.length!==0||_?{snapshot:new lo(this.query,e.tu,c,d,e.mutatedKeys,b===0,_,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:y}:{au:y}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Yv,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Za=this.Za.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Za=this.Za.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=Fe(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Ya=this.Ya.add(a.key))}));const i=[];return e.forEach((a=>{this.Ya.has(a)||i.push(new ub(a))})),this.Ya.forEach((a=>{e.has(a)||i.push(new lb(a))})),i}cu(e){this.Za=e.ks,this.Ya=Fe();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return lo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const tp="SyncEngine";class zx{constructor(e,i,a){this.query=e,this.targetId=i,this.view=a}}class jx{constructor(e){this.key=e,this.hu=!1}}class Px{constructor(e,i,a,l,c,d){this.localStore=e,this.remoteStore=i,this.eventManager=a,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new na((y=>x1(y)),_h),this.Iu=new Map,this.Eu=new Set,this.Ru=new Tt(Te.comparator),this.Au=new Map,this.Vu=new Fg,this.du={},this.mu=new Map,this.fu=oo.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function Ux(s,e,i=!0){const a=pb(s);let l;const c=a.Tu.get(e);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await cb(a,e,i,!0),l}async function Bx(s,e){const i=pb(s);await cb(i,e,!0,!1)}async function cb(s,e,i,a){const l=await ix(s.localStore,Vi(e)),c=l.targetId,d=s.sharedClientState.addLocalQueryTarget(c,i);let y;return a&&(y=await Hx(s,e,c,d==="current",l.resumeToken)),s.isPrimaryClient&&i&&nb(s.remoteStore,l),y}async function Hx(s,e,i,a,l){s.pu=(x,L,X)=>(async function(oe,le,ye,xe){let _e=le.view.ru(ye);_e.Ss&&(_e=await Hv(oe.localStore,le.query,!1).then((({documents:I})=>le.view.ru(I,_e))));const Ke=xe&&xe.targetChanges.get(le.targetId),et=xe&&xe.targetMismatches.get(le.targetId)!=null,Me=le.view.applyChanges(_e,oe.isPrimaryClient,Ke,et);return $v(oe,le.targetId,Me.au),Me.snapshot})(s,x,L,X);const c=await Hv(s.localStore,e,!0),d=new Lx(e,c.ks),y=d.ru(c.documents),b=Ql.createSynthesizedTargetChangeForCurrentChange(i,a&&s.onlineState!=="Offline",l),_=d.applyChanges(y,s.isPrimaryClient,b);$v(s,i,_.au);const A=new zx(e,i,d);return s.Tu.set(e,A),s.Iu.has(i)?s.Iu.get(i).push(e):s.Iu.set(i,[e]),_.snapshot}async function qx(s,e,i){const a=De(s),l=a.Tu.get(e),c=a.Iu.get(l.targetId);if(c.length>1)return a.Iu.set(l.targetId,c.filter((d=>!_h(d,e)))),void a.Tu.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(l.targetId),a.sharedClientState.isActiveQueryTarget(l.targetId)||await fg(a.localStore,l.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(l.targetId),i&&Yg(a.remoteStore,l.targetId),pg(a,l.targetId)})).catch(go)):(pg(a,l.targetId),await fg(a.localStore,l.targetId,!0))}async function Fx(s,e){const i=De(s),a=i.Tu.get(e),l=i.Iu.get(a.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),Yg(i.remoteStore,a.targetId))}async function Gx(s,e,i){const a=$x(s);try{const l=await(function(d,y){const b=De(d),_=gt.now(),A=y.reduce(((X,se)=>X.add(se.key)),Fe());let x,L;return b.persistence.runTransaction("Locally write mutations","readwrite",(X=>{let se=mr(),oe=Fe();return b.xs.getEntries(X,A).next((le=>{se=le,se.forEach(((ye,xe)=>{xe.isValidDocument()||(oe=oe.add(ye))}))})).next((()=>b.localDocuments.getOverlayedDocuments(X,se))).next((le=>{x=le;const ye=[];for(const xe of y){const _e=nw(xe,x.get(xe.key).overlayedDocument);_e!=null&&ye.push(new ia(xe.key,_e,_1(_e.value.mapValue),fr.exists(!0)))}return b.mutationQueue.addMutationBatch(X,_,ye,y)})).next((le=>{L=le;const ye=le.applyToLocalDocumentSet(x,oe);return b.documentOverlayCache.saveOverlays(X,le.batchId,ye)}))})).then((()=>({batchId:L.batchId,changes:I1(x)})))})(a.localStore,e);a.sharedClientState.addPendingMutation(l.batchId),(function(d,y,b){let _=d.du[d.currentUser.toKey()];_||(_=new Tt(qe)),_=_.insert(y,b),d.du[d.currentUser.toKey()]=_})(a,l.batchId,i),await Jl(a,l.changes),await xh(a.remoteStore)}catch(l){const c=Zg(l,"Failed to persist write");i.reject(c)}}async function hb(s,e){const i=De(s);try{const a=await ex(i.localStore,e);e.targetChanges.forEach(((l,c)=>{const d=i.Au.get(c);d&&(Ze(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?Ze(d.hu,14607):l.removedDocuments.size>0&&(Ze(d.hu,42227),d.hu=!1))})),await Jl(i,a,e)}catch(a){await go(a)}}function Jv(s,e,i){const a=De(s);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const l=[];a.Tu.forEach(((c,d)=>{const y=d.view.va(e);y.snapshot&&l.push(y.snapshot)})),(function(d,y){const b=De(d);b.onlineState=y;let _=!1;b.queries.forEach(((A,x)=>{for(const L of x.ba)L.va(y)&&(_=!0)})),_&&ep(b)})(a.eventManager,e),l.length&&a.Pu.J_(l),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function Kx(s,e,i){const a=De(s);a.sharedClientState.updateQueryState(e,"rejected",i);const l=a.Au.get(e),c=l&&l.key;if(c){let d=new Tt(Te.comparator);d=d.insert(c,ln.newNoDocument(c,Ce.min()));const y=Fe().add(c),b=new Eh(Ce.min(),new Map,new Tt(qe),d,y);await hb(a,b),a.Ru=a.Ru.remove(c),a.Au.delete(e),np(a)}else await fg(a.localStore,e,!1).then((()=>pg(a,e,i))).catch(go)}async function Wx(s,e){const i=De(s),a=e.batch.batchId;try{const l=await Zw(i.localStore,e);db(i,a,null),fb(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await Jl(i,l)}catch(l){await go(l)}}async function Yx(s,e,i){const a=De(s);try{const l=await(function(d,y){const b=De(d);return b.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let A;return b.mutationQueue.lookupMutationBatch(_,y).next((x=>(Ze(x!==null,37113),A=x.keys(),b.mutationQueue.removeMutationBatch(_,x)))).next((()=>b.mutationQueue.performConsistencyCheck(_))).next((()=>b.documentOverlayCache.removeOverlaysForBatchId(_,A,y))).next((()=>b.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,A))).next((()=>b.localDocuments.getDocuments(_,A)))}))})(a.localStore,e);db(a,e,i),fb(a,e),a.sharedClientState.updateMutationState(e,"rejected",i),await Jl(a,l)}catch(l){await go(l)}}function fb(s,e){(s.mu.get(e)||[]).forEach((i=>{i.resolve()})),s.mu.delete(e)}function db(s,e,i){const a=De(s);let l=a.du[a.currentUser.toKey()];if(l){const c=l.get(e);c&&(i?c.reject(i):c.resolve(),l=l.remove(e)),a.du[a.currentUser.toKey()]=l}}function pg(s,e,i=null){s.sharedClientState.removeLocalQueryTarget(e);for(const a of s.Iu.get(e))s.Tu.delete(a),i&&s.Pu.yu(a,i);s.Iu.delete(e),s.isPrimaryClient&&s.Vu.Gr(e).forEach((a=>{s.Vu.containsKey(a)||gb(s,a)}))}function gb(s,e){s.Eu.delete(e.path.canonicalString());const i=s.Ru.get(e);i!==null&&(Yg(s.remoteStore,i),s.Ru=s.Ru.remove(e),s.Au.delete(i),np(s))}function $v(s,e,i){for(const a of i)a instanceof lb?(s.Vu.addReference(a.key,e),Qx(s,a)):a instanceof ub?(ue(tp,"Document no longer in limbo: "+a.key),s.Vu.removeReference(a.key,e),s.Vu.containsKey(a.key)||gb(s,a.key)):Ee(19791,{wu:a})}function Qx(s,e){const i=e.key,a=i.path.canonicalString();s.Ru.get(i)||s.Eu.has(a)||(ue(tp,"New document in limbo: "+i),s.Eu.add(a),np(s))}function np(s){for(;s.Eu.size>0&&s.Ru.size<s.maxConcurrentLimboResolutions;){const e=s.Eu.values().next().value;s.Eu.delete(e);const i=new Te(bt.fromString(e)),a=s.fu.next();s.Au.set(a,new jx(i)),s.Ru=s.Ru.insert(i,a),nb(s.remoteStore,new is(Vi(Pg(i.path)),a,"TargetPurposeLimboResolution",ph.ce))}}async function Jl(s,e,i){const a=De(s),l=[],c=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((y,b)=>{d.push(a.pu(b,e,i).then((_=>{if((_||i)&&a.isPrimaryClient){const A=_?!_.fromCache:i?.targetChanges.get(b.targetId)?.current;a.sharedClientState.updateQueryState(b.targetId,A?"current":"not-current")}if(_){l.push(_);const A=Kg.Es(b.targetId,_);c.push(A)}})))})),await Promise.all(d),a.Pu.J_(l),await(async function(b,_){const A=De(b);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",(x=>$.forEach(_,(L=>$.forEach(L.Ts,(X=>A.persistence.referenceDelegate.addReference(x,L.targetId,X))).next((()=>$.forEach(L.Is,(X=>A.persistence.referenceDelegate.removeReference(x,L.targetId,X)))))))))}catch(x){if(!po(x))throw x;ue(Wg,"Failed to update sequence numbers: "+x)}for(const x of _){const L=x.targetId;if(!x.fromCache){const X=A.vs.get(L),se=X.snapshotVersion,oe=X.withLastLimboFreeSnapshotVersion(se);A.vs=A.vs.insert(L,oe)}}})(a.localStore,c))}async function Xx(s,e){const i=De(s);if(!i.currentUser.isEqual(e)){ue(tp,"User change. New user:",e.toKey());const a=await $1(i.localStore,e);i.currentUser=e,(function(c,d){c.mu.forEach((y=>{y.forEach((b=>{b.reject(new me(Z.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await Jl(i,a.Ns)}}function Jx(s,e){const i=De(s),a=i.Au.get(e);if(a&&a.hu)return Fe().add(a.key);{let l=Fe();const c=i.Iu.get(e);if(!c)return l;for(const d of c){const y=i.Tu.get(d);l=l.unionWith(y.view.nu)}return l}}function pb(s){const e=De(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=hb.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Jx.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Kx.bind(null,e),e.Pu.J_=kx.bind(null,e.eventManager),e.Pu.yu=Nx.bind(null,e.eventManager),e}function $x(s){const e=De(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Wx.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Yx.bind(null,e),e}class uh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ah(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return $w(this.persistence,new Qw,e.initialUser,this.serializer)}Cu(e){return new J1(Gg.Vi,this.serializer)}Du(e){return new sx}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}uh.provider={build:()=>new uh};class Zx extends uh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){Ze(this.persistence.referenceDelegate instanceof oh,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new Nw(a,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?Tn.withCacheSize(this.cacheSizeBytes):Tn.DEFAULT;return new J1((a=>oh.Vi(a,i)),this.serializer)}}class mg{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>Jv(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=Xx.bind(null,this.syncEngine),await Cx(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new Dx})()}createDatastore(e){const i=Ah(e.databaseInfo.databaseId),a=cx(e.databaseInfo);return px(e.authCredentials,e.appCheckCredentials,a,i)}createRemoteStore(e){return(function(a,l,c,d,y){return new yx(a,l,c,d,y)})(this.localStore,this.datastore,e.asyncQueue,(i=>Jv(this.syncEngine,i,0)),(function(){return Gv.v()?new Gv:new ax})())}createSyncEngine(e,i){return(function(l,c,d,y,b,_,A){const x=new Px(l,c,d,y,b,_);return A&&(x.gu=!0),x})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=De(i);ue(ea,"RemoteStore shutting down."),a.Ea.add(5),await Xl(a),a.Aa.shutdown(),a.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}mg.provider={build:()=>new mg};class eR{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):pr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}const gs="FirestoreClient";class tR{constructor(e,i,a,l,c){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=a,this._databaseInfo=l,this.user=on.UNAUTHENTICATED,this.clientId=Og.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async d=>{ue(gs,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(ue(gs,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ls;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const a=Zg(i,"Failed to shutdown persistence");e.reject(a)}})),e.promise}}async function Bd(s,e){s.asyncQueue.verifyOperationInProgress(),ue(gs,"Initializing OfflineComponentProvider");const i=s.configuration;await e.initialize(i);let a=i.initialUser;s.setCredentialChangeListener((async l=>{a.isEqual(l)||(await $1(e.localStore,l),a=l)})),e.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=e}async function Zv(s,e){s.asyncQueue.verifyOperationInProgress();const i=await nR(s);ue(gs,"Initializing OnlineComponentProvider"),await e.initialize(i,s.configuration),s.setCredentialChangeListener((a=>Wv(e.remoteStore,a))),s.setAppCheckTokenChangeListener(((a,l)=>Wv(e.remoteStore,l))),s._onlineComponents=e}async function nR(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){ue(gs,"Using user provided OfflineComponentProvider");try{await Bd(s,s._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(l){return l.name==="FirebaseError"?l.code===Z.FAILED_PRECONDITION||l.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;io("Error using user provided cache. Falling back to memory cache: "+i),await Bd(s,new uh)}}else ue(gs,"Using default OfflineComponentProvider"),await Bd(s,new Zx(void 0));return s._offlineComponents}async function mb(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(ue(gs,"Using user provided OnlineComponentProvider"),await Zv(s,s._uninitializedComponentsProvider._online)):(ue(gs,"Using default OnlineComponentProvider"),await Zv(s,new mg))),s._onlineComponents}function iR(s){return mb(s).then((e=>e.syncEngine))}async function rR(s){const e=await mb(s),i=e.eventManager;return i.onListen=Ux.bind(null,e.syncEngine),i.onUnlisten=qx.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=Bx.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=Fx.bind(null,e.syncEngine),i}function sR(s,e,i={}){const a=new ls;return s.asyncQueue.enqueueAndForget((async()=>(function(c,d,y,b,_){const A=new eR({next:L=>{A.Nu(),d.enqueueAndForget((()=>Ox(c,x)));const X=L.docs.has(y);!X&&L.fromCache?_.reject(new me(Z.UNAVAILABLE,"Failed to get document because the client is offline.")):X&&L.fromCache&&b&&b.source==="server"?_.reject(new me(Z.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(L)},error:L=>_.reject(L)}),x=new Vx(Pg(y.path),A,{includeMetadataChanges:!0,Ka:!0});return Mx(c,x)})(await rR(s),s.asyncQueue,e,i,a))),a.promise}function aR(s,e){const i=new ls;return s.asyncQueue.enqueueAndForget((async()=>Gx(await iR(s),e,i))),i.promise}function yb(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}const oR="ComponentProvider",e_=new Map;function lR(s,e,i,a,l){return new AA(s,e,i,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,yb(l.experimentalLongPollingOptions),l.useFetchStreams,l.isUsingEmulator,a)}const vb="firestore.googleapis.com",t_=!0;class n_{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new me(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=vb,this.ssl=t_}else this.host=e.host,this.ssl=e.ssl??t_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=X1;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Ow)throw new me(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}dA("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=yb(e.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new me(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new me(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new me(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(a,l){return a.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ip{constructor(e,i,a,l){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=a,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new n_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new me(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new me(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new n_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new nA;switch(a.type){case"firstParty":return new aA(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new me(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=e_.get(i);a&&(ue(oR,"Removing Datastore"),e_.delete(i),a.terminate())})(this),Promise.resolve()}}function uR(s,e,i,a={}){s=Nl(s,ip);const l=uo(e),c=s._getSettings(),d={...c,emulatorOptions:s._getEmulatorOptions()},y=`${e}:${i}`;l&&(y_(`https://${y}`),v_("Firestore",!0)),c.host!==vb&&c.host!==y&&io("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const b={...c,host:y,ssl:l,emulatorOptions:a};if(!Xs(b,d)&&(s._setSettings(b),a.mockUserToken)){let _,A;if(typeof a.mockUserToken=="string")_=a.mockUserToken,A=on.MOCK_USER;else{_=RT(a.mockUserToken,s._app?.options.projectId);const x=a.mockUserToken.sub||a.mockUserToken.user_id;if(!x)throw new me(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new on(x)}s._authCredentials=new iA(new l1(_,A))}}class rp{constructor(e,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new rp(this.firestore,e,this._query)}}class Wt{constructor(e,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Bl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Wt(this.firestore,e,this._key)}toJSON(){return{type:Wt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,a){if(Wl(i,Wt._jsonSchema))return new Wt(e,a||null,new Te(bt.fromString(i.referencePath)))}}Wt._jsonSchemaVersion="firestore/documentReference/1.0",Wt._jsonSchema={type:jt("string",Wt._jsonSchemaVersion),referencePath:jt("string")};class Bl extends rp{constructor(e,i,a){super(e,i,Pg(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Wt(this.firestore,null,new Te(e))}withConverter(e){return new Bl(this.firestore,e,this._path)}}function _b(s,e,...i){if(s=Wn(s),arguments.length===1&&(e=Og.newId()),fA("doc","path",e),s instanceof ip){const a=bt.fromString(e,...i);return mv(a),new Wt(s,null,new Te(a))}{if(!(s instanceof Wt||s instanceof Bl))throw new me(Z.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(bt.fromString(e,...i));return mv(a),new Wt(s.firestore,s instanceof Bl?s.converter:null,new Te(a))}}const i_="AsyncQueue";class r_{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new eb(this,"async_queue_retry"),this._c=()=>{const a=Ud();a&&ue(i_,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=e;const i=Ud();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=Ud();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new ls;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!po(e))throw e;ue(i_,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((a=>{throw this.nc=a,this.rc=!1,pr("INTERNAL UNHANDLED ERROR: ",s_(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(e,i,a){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const l=$g.createAndSchedule(this,e,i,a,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&Ee(47125,{Pc:s_(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function s_(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}class sp extends ip{constructor(e,i,a,l){super(e,i,a,l),this.type="firestore",this._queue=new r_,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new r_(e),this._firestoreClient=void 0,await e}}}function cR(s,e){const i=typeof s=="object"?s:S_(),a=typeof s=="string"?s:eh,l=bg(i,"firestore").getImmediate({identifier:a});if(!l._initialized){const c=wT("firestore");c&&uR(l,...c)}return l}function bb(s){if(s._terminated)throw new me(Z.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||hR(s),s._firestoreClient}function hR(s){const e=s._freezeSettings(),i=lR(s._databaseId,s._app?.options.appId||"",s._persistenceKey,s._app?.options.apiKey,e);s._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),s._firestoreClient=new tR(s._authCredentials,s._appCheckCredentials,s._queue,i,s._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(s._componentsProvider))}class Kn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Kn(nn.fromBase64String(e))}catch(i){throw new me(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new Kn(nn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Kn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Wl(e,Kn._jsonSchema))return Kn.fromBase64String(e.bytes)}}Kn._jsonSchemaVersion="firestore/bytes/1.0",Kn._jsonSchema={type:jt("string",Kn._jsonSchemaVersion),bytes:jt("string")};class Tb{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new me(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new tn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Sb{constructor(e){this._methodName=e}}class zi{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new me(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new me(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return qe(this._lat,e._lat)||qe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:zi._jsonSchemaVersion}}static fromJSON(e){if(Wl(e,zi._jsonSchema))return new zi(e.latitude,e.longitude)}}zi._jsonSchemaVersion="firestore/geoPoint/1.0",zi._jsonSchema={type:jt("string",zi._jsonSchemaVersion),latitude:jt("number"),longitude:jt("number")};class ui{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(a,l){if(a.length!==l.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==l[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:ui._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Wl(e,ui._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new ui(e.vectorValues);throw new me(Z.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ui._jsonSchemaVersion="firestore/vectorValue/1.0",ui._jsonSchema={type:jt("string",ui._jsonSchemaVersion),vectorValues:jt("object")};const fR=/^__.*__$/;class dR{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return this.fieldMask!==null?new ia(e,this.data,this.fieldMask,i,this.fieldTransforms):new Yl(e,this.data,i,this.fieldTransforms)}}function Eb(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ee(40011,{dataSource:s})}}class ap{constructor(e,i,a,l,c,d){this.settings=e,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=l,c===void 0&&this.validatePath(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new ap({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const i=this.path?.child(e),a=this.contextWith({path:i,arrayElement:!1});return a.validatePathSegment(e),a}childContextForFieldPath(e){const i=this.path?.child(e),a=this.contextWith({path:i,arrayElement:!1});return a.validatePath(),a}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return ch(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(Eb(this.dataSource)&&fR.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class gR{constructor(e,i,a){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=a||Ah(e)}createContext(e,i,a,l=!1){return new ap({dataSource:e,methodName:i,targetDoc:a,path:tn.emptyPath(),arrayElement:!1,hasConverter:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function pR(s){const e=s._freezeSettings(),i=Ah(s._databaseId);return new gR(s._databaseId,!!e.ignoreUndefinedProperties,i)}function mR(s,e,i,a,l,c={}){const d=s.createContext(c.merge||c.mergeFields?2:0,e,i,l);Rb("Data must be an object, but it was:",d,a);const y=wb(a,d);let b,_;if(c.merge)b=new oi(d.fieldMask),_=d.fieldTransforms;else if(c.mergeFields){const A=[];for(const x of c.mergeFields){const L=op(e,x,i);if(!d.contains(L))throw new me(Z.INVALID_ARGUMENT,`Field '${L}' is specified in your field mask but missing from your input data.`);_R(A,L)||A.push(L)}b=new oi(A),_=d.fieldTransforms.filter((x=>b.covers(x.field)))}else b=null,_=d.fieldTransforms;return new dR(new Gn(y),b,_)}function Ab(s,e){if(xb(s=Wn(s)))return Rb("Unsupported field value:",e,s),wb(s,e);if(s instanceof Sb)return(function(a,l){if(!Eb(l.dataSource))throw l.createError(`${a._methodName}() can only be used with update() and set()`);if(!l.path)throw l.createError(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(a,l){const c=[];let d=0;for(const y of a){let b=Ab(y,l.childContextForArray(d));b==null&&(b={nullValue:"NULL_VALUE"}),c.push(b),d++}return{arrayValue:{values:c}}})(s,e)}return(function(a,l){if((a=Wn(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return XA(l.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=gt.fromDate(a);return{timestampValue:ah(l.serializer,c)}}if(a instanceof gt){const c=new gt(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:ah(l.serializer,c)}}if(a instanceof zi)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Kn)return{bytesValue:H1(l.serializer,a._byteString)};if(a instanceof Wt){const c=l.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw l.createError(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:qg(a.firestore._databaseId||l.databaseId,a._key.path)}}if(a instanceof ui)return(function(d,y){const b=d instanceof ui?d.toArray():d;return{mapValue:{fields:{[y1]:{stringValue:v1},[th]:{arrayValue:{values:b.map((A=>{if(typeof A!="number")throw y.createError("VectorValues must only contain numeric values.");return Ug(y.serializer,A)}))}}}}}})(a,l);if(Q1(a))return a._toProto(l.serializer);throw l.createError(`Unsupported field value: ${kg(a)}`)})(s,e)}function wb(s,e){const i={};return h1(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ta(s,((a,l)=>{const c=Ab(l,e.childContextForField(a));c!=null&&(i[a]=c)})),{mapValue:{fields:i}}}function xb(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof gt||s instanceof zi||s instanceof Kn||s instanceof Wt||s instanceof Sb||s instanceof ui||Q1(s))}function Rb(s,e,i){if(!xb(i)||!u1(i)){const a=kg(i);throw a==="an object"?e.createError(s+" a custom object"):e.createError(s+" "+a)}}function op(s,e,i){if((e=Wn(e))instanceof Tb)return e._internalPath;if(typeof e=="string")return vR(s,e);throw ch("Field path arguments must be of type string or ",s,!1,void 0,i)}const yR=new RegExp("[~\\*/\\[\\]]");function vR(s,e,i){if(e.search(yR)>=0)throw ch(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new Tb(...e.split("."))._internalPath}catch{throw ch(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function ch(s,e,i,a,l){const c=a&&!a.isEmpty(),d=l!==void 0;let y=`Function ${e}() called with invalid data`;i&&(y+=" (via `toFirestore()`)"),y+=". ";let b="";return(c||d)&&(b+=" (found",c&&(b+=` in field ${a}`),d&&(b+=` in document ${l}`),b+=")"),new me(Z.INVALID_ARGUMENT,y+s+b)}function _R(s,e){return s.some((i=>i.isEqual(e)))}class bR{convertValue(e,i="none"){switch(fs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ct(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(hs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw Ee(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const a={};return ta(e,((l,c)=>{a[l]=this.convertValue(c,i)})),a}convertVectorValue(e){const i=e.fields?.[th].arrayValue?.values?.map((a=>Ct(a.doubleValue)));return new ui(i)}convertGeoPoint(e){return new zi(Ct(e.latitude),Ct(e.longitude))}convertArray(e,i){return(e.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const a=yh(e);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(Ll(e));default:return null}}convertTimestamp(e){const i=cs(e);return new gt(i.seconds,i.nanos)}convertDocumentKey(e,i){const a=bt.fromString(e);Ze(Y1(a),9688,{name:e});const l=new zl(a.get(1),a.get(3)),c=new Te(a.popFirst(5));return l.isEqual(i)||pr(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}class TR extends bR{constructor(e){super(),this.firestore=e}convertBytes(e){return new Kn(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new Wt(this.firestore,null,i)}}const a_="@firebase/firestore",o_="4.10.0";class Cb{constructor(e,i,a,l,c){this._firestore=e,this._userDataWriter=i,this._key=a,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Wt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new SR(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const i=this._document.data.field(op("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class SR extends Cb{data(){return super.data()}}function ER(s,e,i){let a;return a=s?s.toFirestore(e):e,a}class Al{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Qs extends Cb{constructor(e,i,a,l,c,d){super(e,i,a,l,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Fc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const a=this._document.data.field(op("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new me(Z.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=Qs._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Qs._jsonSchemaVersion="firestore/documentSnapshot/1.0",Qs._jsonSchema={type:jt("string",Qs._jsonSchemaVersion),bundleSource:jt("string","DocumentSnapshot"),bundleName:jt("string"),bundle:jt("string")};class Fc extends Qs{data(e={}){return super.data(e)}}class Ml{constructor(e,i,a,l){this._firestore=e,this._userDataWriter=i,this._snapshot=l,this.metadata=new Al(l.hasPendingWrites,l.fromCache),this.query=a}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((a=>{e.call(i,new Fc(this._firestore,this._userDataWriter,a.key,a,new Al(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new me(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((y=>{const b=new Fc(l._firestore,l._userDataWriter,y.doc.key,y.doc,new Al(l._snapshot.mutatedKeys.has(y.doc.key),l._snapshot.fromCache),l.query.converter);return y.doc,{type:"added",doc:b,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((y=>c||y.type!==3)).map((y=>{const b=new Fc(l._firestore,l._userDataWriter,y.doc.key,y.doc,new Al(l._snapshot.mutatedKeys.has(y.doc.key),l._snapshot.fromCache),l.query.converter);let _=-1,A=-1;return y.type!==0&&(_=d.indexOf(y.doc.key),d=d.delete(y.doc.key)),y.type!==1&&(d=d.add(y.doc),A=d.indexOf(y.doc.key)),{type:AR(y.type),doc:b,oldIndex:_,newIndex:A}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new me(Z.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ml._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Og.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function AR(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ee(61501,{type:s})}}Ml._jsonSchemaVersion="firestore/querySnapshot/1.0",Ml._jsonSchema={type:jt("string",Ml._jsonSchemaVersion),bundleSource:jt("string","QuerySnapshot"),bundleName:jt("string"),bundle:jt("string")};function wR(s){s=Nl(s,Wt);const e=Nl(s.firestore,sp),i=bb(e);return sR(i,s._key).then((a=>CR(e,s,a)))}function xR(s,e,i){s=Nl(s,Wt);const a=Nl(s.firestore,sp),l=ER(s.converter,e),c=pR(a);return RR(a,[mR(c,"setDoc",s._key,l,s.converter!==null,i).toMutation(s._key,fr.none())])}function RR(s,e){const i=bb(s);return aR(i,e)}function CR(s,e,i){const a=i.docs.get(e._key),l=new TR(s);return new Qs(s,l,e._key,a,new Al(i.hasPendingWrites,i.fromCache),e.converter)}(function(e,i=!0){tA(co),to(new Js("firestore",((a,{instanceIdentifier:l,options:c})=>{const d=a.getProvider("app").getImmediate(),y=new sp(new rA(a.getProvider("auth-internal")),new oA(d,a.getProvider("app-check-internal")),wA(d,l),d);return c={useFetchStreams:i,...c},y._setSettings(c),y}),"PUBLIC").setMultipleInstances(!0)),as(a_,o_,e),as(a_,o_,"esm2020")})();var IR="firebase",DR="12.8.0";as(IR,DR,"app");const MR={apiKey:"AIzaSyBh-YtTlh01-3rbv5ROFl23zPH2kcNpMCM",authDomain:"performance-platform-766bd.firebaseapp.com",projectId:"performance-platform-766bd",storageBucket:"performance-platform-766bd.firebasestorage.app",messagingSenderId:"816080210349",appId:"1:816080210349:web:5f98fcbc556a2f4ffd7924",measurementId:"G-C0N03Y0JYV"},Ib=T_(MR),Hd=Z5(Ib),OR=new ur,Db=cR(Ib),Rc={name:"Sonny Nguyen",age:"29M",dob:"09/21/1996",height:`5'11"`,weight:"210",bmi:"29.3",service:"USMC  CPL, Honorable",vaPcp:"Dr. Nayyar Masood",psychiatrist:"Dr. Daolong Zhang",goalWeight:"185190",goalWaist:'~32"',dailyCal:"~2,450",protein:"~172g",training:"3x/wk + 1 bonus",steps:"10,000/day",program:"Kinobody Movie Star Body"},Cc=[{name:"Sertraline 100mg",timing:"Every morning",purpose:"Depression",notes:"Take with breakfast."},{name:"Allopurinol 300mg",timing:"Once daily",purpose:"Gout prevention",notes:"Take with food. Stay hydrated."},{name:"Colchicine 0.6mg",timing:"Once daily",purpose:"Gout prevention",notes:"Take with food. Avoid grapefruit."},{name:"Melatonin 10mg",timing:"Bedtime",purpose:"Sleep",notes:"Take 3060 min before sleep."}],Ic=[{name:"Vitamin D3",dose:"5,000 IU",when:"Breakfast (with fat)",why:"Clinically deficient at 16.7. Target 40+."},{name:"Methylfolate",dose:"800 mcg",when:"Morning w/ Sertraline",why:"Folate at 5.1 deficient. Enhances SSRI."},{name:"Omega-3 Fish Oil",dose:"23g EPA/DHA",when:"With dinner",why:"HDL borderline. Anti-inflammatory."},{name:"Magnesium Glycinate",dose:"400mg",when:"Bedtime",why:"Sleep quality + muscle recovery."},{name:"Tart Cherry Extract",dose:"500mg",when:"Evening",why:"Gout prevention + anti-inflammatory."}],Dc=[{condition:"Depression NOS, Moderate",date:"Oct 2023",impact:"On Sertraline 100mg. Sleep + exercise are top tools."},{condition:"Polycythemia",date:"Oct 2024",impact:"Elevated RBC/HCT. Stay hydrated 100oz+/day."},{condition:"Gout",date:"Aug 2023",impact:"On Allopurinol + Colchicine. Limit red meat, alcohol."},{condition:"Low Back Pain",date:"Jun 2023",impact:"Avoid loaded spinal flexion. Front squats > back squats."},{condition:"Left Shoulder Pain",date:"Jun 2023",impact:"Full warmup before pressing. Landmine if overhead flares."},{condition:"Migraine with Aura",date:"Apr 2023",impact:"Sleep consistency #1 prevention. Don't skip meals."}],Mc=[{test:"Glucose (fasting)",result:"103",unit:"mg/dL",ref:"74100",status:"Borderline",action:"Cut simple sugars, protein-first meals."},{test:"ALT (liver)",result:"74",unit:"U/L",ref:"044",status:"HIGH",action:"Zero alcohol 30 days. Minimize acetaminophen."},{test:"AST (liver)",result:"40",unit:"U/L",ref:"1134",status:"High",action:"Monitor alongside ALT."},{test:"HDL",result:"41",unit:"mg/dL",ref:">40",status:"Borderline",action:"Omega-3s + cardio/walking 10k steps."},{test:"Testosterone",result:"321",unit:"ng/dL",ref:"2501100",status:"Low-Normal",action:"Fix Vitamin D, sleep 8-9 hrs, heavy compounds."},{test:"Free Testosterone",result:"69.7",unit:"pg/mL",ref:"46224",status:"Low-Normal",action:"Will improve with T optimization."},{test:"Vitamin D",result:"16.7",unit:"ng/mL",ref:"3040",status:"DEFICIENT",action:"5,000 IU D3 daily. Non-negotiable."},{test:"Folate",result:"5.1",unit:"ng/mL",ref:"7.031.4",status:"DEFICIENT",action:"Methylfolate 800mcg + dark leafy greens."},{test:"Hemoglobin",result:"16.8",unit:"g/dL",ref:"1417",status:"Normal",action:"Upper normal. Consistent with polycythemia."},{test:"Hematocrit",result:"50.9",unit:"%",ref:"3951%",status:"Watch",action:"Upper edge. Hydration critical."},{test:"Ferritin",result:"358.6",unit:"ng/mL",ref:"22350",status:"High",action:"Slightly high. Could be inflammatory."},{test:"HbA1c",result:"5.1",unit:"%",ref:"<5.6%",status:"Normal",action:"Good long-term glucose control."},{test:"Uric Acid",result:"5.5",unit:"mg/dL",ref:"3.77.7",status:"Normal",action:"Allopurinol working. Hydration up."},{test:"TSH",result:"2.62",unit:"uIU/mL",ref:"0.45.0",status:"Normal",action:"Thyroid function normal."}],_l=[{metric:"Weight",current:"210 lbs",target:"200 lbs",how:"~1 lb/week with strength training + calorie control."},{metric:"Waist",current:"TBD",target:'~34"',how:'Track weekly. Goal is 32" long-term.'},{metric:"Vitamin D",current:"16.7 ng/mL",target:"40+ ng/mL",how:"5,000 IU D3 daily. Retest at 3-month labs."},{metric:"Folate",current:"5.1 ng/mL",target:"10+ ng/mL",how:"Methylfolate + leafy greens daily."},{metric:"ALT (liver)",current:"74 U/L",target:"<44 U/L",how:"Zero alcohol, monitor."},{metric:"Fasting Glucose",current:"103 mg/dL",target:"<100 mg/dL",how:"Carb timing + weight loss."},{metric:"HDL",current:"41 mg/dL",target:"50+ mg/dL",how:"Walking 10k steps + omega-3s."},{metric:"PHQ-9",current:"12",target:"<10",how:"Training + sleep + D + folate."},{metric:"Testosterone",current:"321 ng/dL",target:"400+ ng/dL",how:"Fix D, sleep, train heavy. Retest 6 mo."},{metric:"Training",current:"Inconsistent",target:"3x/wk + bonus",how:"Mon/Wed/Fri + Sat. Log every session."},{metric:"Steps",current:"TBD",target:"10,000/day",how:"Fasting morning walks + throughout day."},{metric:"Sleep",current:"Variable",target:"89 hrs/night",how:"10:30 PM  8:00 AM minimum."}],qd=[{date:"2026-02-04",weight:210,waist:null,notes:"Starting point"}],Fd={items:[{id:"sertraline",name:"Sertraline 100mg",category:"meds",time:"morning"},{id:"allopurinol",name:"Allopurinol 300mg",category:"meds",time:"morning"},{id:"colchicine",name:"Colchicine 0.6mg",category:"meds",time:"morning"},{id:"vitamind",name:"Vitamin D3 5,000 IU",category:"supps",time:"morning"},{id:"methylfolate",name:"Methylfolate 800mcg",category:"supps",time:"morning"},{id:"omega3",name:"Omega-3 Fish Oil",category:"supps",time:"evening"},{id:"magnesium",name:"Magnesium Glycinate",category:"supps",time:"evening"},{id:"melatonin",name:"Melatonin 10mg",category:"meds",time:"evening"},{id:"tartcherry",name:"Tart Cherry Extract",category:"supps",time:"evening"},{id:"training",name:"Training (M/W/F/Sat)",category:"fitness",time:"anytime"},{id:"steps",name:"10,000 Steps",category:"fitness",time:"anytime"},{id:"hydration",name:"100oz+ Water",category:"health",time:"anytime"}],log:{}},Gd=[{date:"2025-10-24",results:{glucose:103,alt:74,ast:40,hdl:41,testosterone:321,vitaminD:16.7,folate:5.1,hemoglobin:16.8,hematocrit:50.9,ferritin:358.6,hba1c:5.1,uricAcid:5.5,tsh:2.62}}],Oc={tempoMeals:[{meal:"Grilled Chicken in Garlic Cream",desc:"green beans, roasted red peppers",cal:480,protein:32,tags:["30g+","<500cal"],warning:null,done:!1},{meal:"Sunday Sauce Sausage Penne",desc:"roasted broccoli and cauliflower",cal:490,protein:24,tags:["Gut Support"],warning:null,done:!1},{meal:"Enchilada Beef Bowl",desc:"Mexican rice and red peppers",cal:470,protein:28,tags:["<500cal"],warning:"Beef - 1 of 2/wk max (gout)",done:!1},{meal:"Grilled Chicken & Mushroom Sauce",desc:"rotini and green beans",cal:460,protein:31,tags:["30g+","<500cal"],warning:null,done:!1},{meal:"Alfredo Grilled Chicken Breast",desc:"pesto butter squash",cal:480,protein:33,tags:["30g+","<500cal","Fiber"],warning:null,done:!1},{meal:"Red Pepper Chicken Breast",desc:"garlicky pasta and zucchini",cal:470,protein:31,tags:["30g+","<500cal"],warning:null,done:!1},{meal:"Sizzlin' Chicken Fajita Platter",desc:"fiesta rice and guacamole",cal:450,protein:28,tags:["<500cal","Fiber"],warning:null,done:!1},{meal:"Chipotle Ranch Chicken",desc:"cheesy Southwest sweet potato",cal:480,protein:32,tags:["30g+","<500cal","Fiber"],warning:null,done:!1},{meal:"Braised Beef Tomato Ragu Pasta",desc:"green beans and Parmesan",cal:490,protein:30,tags:["30g+","<500cal"],warning:"Beef - 2 of 2/wk max (gout)",done:!1},{meal:"Spicy Arrabbiata Chicken",desc:"sweet potatoes and Brussels",cal:440,protein:31,tags:["30g+","<500cal","Low Carb"],warning:null,done:!1},{meal:"Fiery Mexican Street Corn Chicken",desc:"fiesta roasted vegetables",cal:470,protein:30,tags:["30g+","<500cal","Fiber"],warning:null,done:!1},{meal:"Classic Marinara Turkey Meatballs",desc:"roasted carrots and broccoli",cal:420,protein:26,tags:["<500cal","Low Carb"],warning:null,done:!1},{meal:"Sweet Heat BBQ Grilled Chicken",desc:"broccoli and sweet potatoes",cal:460,protein:32,tags:["30g+","<500cal","Fiber"],warning:null,done:!1},{meal:"Indian Butter Chicken",desc:"caramelized onion veggie rice",cal:510,protein:30,tags:["30g+","Fiber"],warning:null,done:!1},{meal:"Mediterranean Veggie Grain Bowl",desc:"feta and garlic green beans",cal:380,protein:15,tags:["<500cal","Fiber","Veggie"],warning:"Low protein - add extra shake",done:!1},{meal:"Creamy Tomato Turkey Meatball Pasta",desc:"garlic green beans and squash",cal:520,protein:31,tags:["30g+"],warning:null,done:!1},{meal:"Calabrian Chili Shrimp Scampi",desc:"Parmesan and zucchini",cal:390,protein:22,tags:["<500cal","Pescatarian"],warning:"SKIP - Shellfish triggers gout!",done:!1},{meal:"Italian Sausage & Asiago Potatoes",desc:"white wine sauce",cal:480,protein:24,tags:["<500cal","Fiber"],warning:null,done:!1},{meal:"Braised Pork Amatriciana",desc:"mashed potatoes and carrots",cal:530,protein:26,tags:["Gut Support"],warning:null,done:!1},{meal:"Creamy Mushroom Parmesan Pork Chop",desc:"roasted vegetables",cal:490,protein:33,tags:["30g+","Fiber"],warning:null,done:!1}],supplements:[{item:"Protein Shake #1",when:"Post-workout or morning",cal:150,protein:25,notes:"1 scoop whey + water or milk",done:!1},{item:"Protein Shake #2",when:"Before bed (~9:30 PM)",cal:150,protein:25,notes:"Casein or whey + water",done:!1},{item:"Protein Shake #3 (half scoop)",when:"Anytime to hit target",cal:75,protein:12,notes:"Extra half scoop to close gap",done:!1},{item:"Greek Yogurt + Walnuts",when:"Snack anytime",cal:300,protein:20,notes:"1 cup yogurt + 1oz walnuts",done:!1},{item:"Avocado or Olive Oil",when:"Add to any Tempo meal",cal:280,protein:2,notes:"1 avocado OR 2 tbsp olive oil",done:!1}],weeklyPrep:[{task:"Tempo order confirmed (20 meals)",done:!0,tip:"$142.59 - delivery scheduled"},{task:"Stock protein powder (whey + casein)",done:!1,tip:"2 scoops/day = ~1 lb/week."},{task:"Buy Greek yogurt (32oz tub)",done:!1,tip:"Plain, high protein. Lasts the week."},{task:"Buy walnuts (8oz bag)",done:!1,tip:"Pre-portion into 1oz bags if helpful."},{task:"Buy avocados (5-6)",done:!1,tip:"Get some ripe, some firm for later in week."},{task:"Prep shaker bottles",done:!1,tip:"Keep one at home, one at work/gym."},{task:"SWAP shrimp scampi for another meal",done:!1,tip:"Shellfish = gout trigger. Trade it!"}]},kc={proteins:[{item:"Chicken breast/thighs",qty:"4 lbs",notes:"~8oz/day cooked",have:!1},{item:"Ground turkey",qty:"1.5 lbs",notes:"Burgers, bowls",have:!1},{item:"Salmon fillets",qty:"1.5 lbs",notes:"2-3 dinners",have:!1},{item:"Smoked salmon",qty:"8 oz",notes:"Breakfast 1-2x",have:!1},{item:"White fish (cod/tilapia)",qty:"1 lb",notes:"Fish tacos",have:!1},{item:"Eggs",qty:"2 dozen",notes:"2-3/day",have:!1},{item:"Greek yogurt",qty:"32 oz tub",notes:"Meal 1 option",have:!1},{item:"Cottage cheese",qty:"16 oz",notes:"Late night",have:!1},{item:"Protein powder",qty:"",notes:"Post-workout",have:!1}],carbs:[{item:"Brown rice",qty:"2 lbs dry",notes:"~1 cup cooked/day",have:!1},{item:"Sweet potatoes",qty:"4-5 medium",notes:"Dinners",have:!1},{item:"Russet potatoes",qty:"2 lbs",notes:"Roasting",have:!1},{item:"Quinoa",qty:"1 lb dry",notes:"2-3 dinners",have:!1},{item:"Oats",qty:"1 lb",notes:"Overnight oats",have:!1},{item:"Whole grain bread",qty:"1 loaf",notes:"Toast/breakfast",have:!1},{item:"Black beans",qty:"2 cans",notes:"Bowls, tacos",have:!1},{item:"Lentils",qty:"1 lb dry",notes:"Folate boost",have:!1},{item:"Granola",qty:"12 oz",notes:"With yogurt",have:!1}],vegetables:[{item:"Spinach",qty:"2 containers",notes:"Daily greens (folate)",have:!1},{item:"Broccoli",qty:"2 lbs",notes:"Cruciferous daily (liver)",have:!1},{item:"Brussels sprouts",qty:"1.5 lbs",notes:"2-3 dinners",have:!1},{item:"Asparagus",qty:"1 bunch",notes:"Folate source",have:!1},{item:"Bok choy",qty:"1 bunch",notes:"Stir-fry",have:!1},{item:"Mixed salad greens",qty:"1 container",notes:"Salads",have:!1},{item:"Cauliflower",qty:"1 head",notes:"Liver support",have:!1}],fats:[{item:"Avocados",qty:"5-6",notes:"~1/day",have:!1},{item:"Walnuts",qty:"8 oz bag",notes:"Snacks, yogurt",have:!1},{item:"Olive oil",qty:"",notes:"Cooking (have on hand)",have:!1},{item:"Cream cheese",qty:"8 oz",notes:"Smoked salmon",have:!1}],fruits:[{item:"Berries (mixed)",qty:"2 pints",notes:"Oats, snacks",have:!1},{item:"Bananas",qty:"1 bunch",notes:"Pre-workout",have:!1}],other:[{item:"Dark chocolate (70%+)",qty:"1 bar",notes:"Late night treat",have:!1},{item:"Corn tortillas",qty:"1 pack",notes:"Fish tacos",have:!1},{item:"Coffee",qty:"",notes:"Black only",have:!1}]},kR=new Date("2026-02-04"),NR=12;function l_(s){if(!s)return null;const e=String(s).match(/[\d.]+/);return e?parseFloat(e[0]):null}function VR(){const s=new Date,e=new Date(kR);e.setDate(e.getDate()+NR*7);const i=(e-s)/(1e3*60*60*24*7);return Math.max(1,Math.round(i*10)/10)}function LR(s,e,i){const a=l_(e),l=l_(i),c=(s||"").toLowerCase(),d=VR();if(a===null||l===null)return null;const y=Math.abs(a-l),b=a>l?"lose":"gain",_=Math.round(y/d*100)/100;if(c.includes("weight"))return y===0?" At target. Maintain with current training + diet.":`${b==="lose"?"Lose":"Gain"} ${y} lbs in ${d} wks  ~${_} lbs/wk. ${b==="lose"?"500 cal deficit/day = ~1 lb/wk. Strength train to preserve muscle.":"300500 cal surplus + progressive overload."}`;if(c.includes("waist"))return y===0?" At target. Maintain current routine.":`Lose ${y}" in ${d} wks  ~${Math.round(y/d*100)/100}"/wk. Core work + calorie deficit. Measure weekly same time.`;if(c.includes("vitamin d")||c.includes("vit d")){const A=l-a;return A<=0?" At or above target. Maintain 2,000 IU D3 daily.":`Raise ${A.toFixed(1)} ng/mL in ${d} wks. 5,000 IU D3 daily. Expect ~10 ng/mL rise per month at this dose. Retest at 3 months.`}if(c.includes("folate")){const A=l-a;return A<=0?" At target. Maintain methylfolate + greens.":`Raise ${A.toFixed(1)} ng/mL. Methylfolate 800mcg daily + dark leafy greens. Enhances Sertraline response. Retest at 3 months.`}if(c.includes("alt")||c.includes("liver"))return a<=l?" At or below target. Keep monitoring.":`Drop ${y} U/L in ${d} wks. Zero alcohol, reduce processed food, add NAC 600mg. Weight loss helps significantly. Retest at 3 months.`;if(c.includes("glucose")||c.includes("fasting"))return a<=l?" At or below target. Maintain current approach.":`Drop ${y} mg/dL. Limit carbs at dinner, walk after meals, target weight loss. Each 5 lbs lost  23 mg/dL drop.`;if(c.includes("hdl")){const A=l-a;return A<=0?" At or above target. Maintain activity + omega-3s.":`Raise ${A} mg/dL in ${d} wks. 10k steps daily + omega-3 fish oil 2g/day. Heavy training helps. Each 10 lbs lost  12 mg/dL HDL gain.`}if(c.includes("phq")||c.includes("depression"))return a<=l?" Below target score. Keep up current approach.":`Reduce score by ${y} pts. 3x/wk training = proven antidepressant effect. Fix Vitamin D + folate deficiency. Target: 10:30 PM sleep.`;if(c.includes("testosterone")||c.includes("test")){const A=l-a;return A<=0?" At or above target. Maintain lifestyle factors.":`Raise ${A} ng/dL. Fix Vitamin D (direct link), sleep 8-9 hrs, heavy compound lifts, reduce body fat. Retest at 6 months.`}return c.includes("step")?a>=l?" Hitting step target. Stay consistent.":`Build to ${i} with fasting AM walks + post-meal walks. Add 1,000 steps/wk until target.`:c.includes("sleep")?`Target ${i}. Bedtime stack: melatonin + magnesium + tart cherry at 10 PM. No screens after 9:30. Protect 9+ hrs before early days.`:c.includes("training")||c.includes("workout")?`Target ${i}. Mon/Wed/Fri lifting + Sat bonus. Log every session in Training tab. No skipping  consistency > perfection.`:y===0?" At target. Maintain current approach.":a>l?`Decrease by ${y} over ${d} wks  ~${_}/wk.`:`Increase by ${y} over ${d} wks  ~${_}/wk.`}const Nc={Monday:{title:"SJSU + Motus + Workout #1 (Chest & Arms)",blocks:[{time:"8:30 AM",activity:"Wake  Sertraline + Vitamin D + Methylfolate. Black coffee.",tag:"routine"},{time:"9:0010:00 AM",activity:"SJSU Class",tag:"school"},{time:"10:0011:30 AM",activity:"Take mom to work",tag:"personal"},{time:"11:30 AM",activity:"Break fast: Meal 1 (~500600 cal). Eggs + fruit + light carb.",tag:"meal"},{time:"12:004:00 PM",activity:"Motus  client calls, credit reviews, funding pipeline.",tag:"work"},{time:"4:004:30 PM",activity:"Transition: light snack, prep for class.",tag:"routine"},{time:"4:305:45 PM",activity:"SJSU Zoom Class (online).",tag:"school"},{time:"6:007:00 PM",activity:"WORKOUT #1: Chest & Arms",tag:"gym"},{time:"7:15 PM",activity:"Dinner Feast: Meal 2 (~1,3001,500 cal). Salmon/chicken + rice + broccoli.",tag:"meal"},{time:"8:0010:00 PM",activity:"Peak energy block: Motus tasks, client follow-ups. Meal 3 at 9:30.",tag:"work"},{time:"10:00 PM",activity:"Wind down  Melatonin + Magnesium + Tart Cherry.",tag:"routine"},{time:"10:30 PM",activity:"Lights out.",tag:"sleep"}]},Tuesday:{title:"SJSU + Motus + Team Meeting (12 PM)",blocks:[{time:"8:30 AM",activity:"Wake  Meds + Supplements. Black coffee.",tag:"routine"},{time:"9:0010:00 AM",activity:"Fasting morning: 10k steps walk, light admin.",tag:"cardio"},{time:"10:0011:30 AM",activity:"Take mom to work",tag:"personal"},{time:"11:30 AM",activity:"Break fast: Meal 1. Greek yogurt + granola + walnuts.",tag:"meal"},{time:"12:00 PM",activity:"MOTUS TEAM MEETING",tag:"work"},{time:"12:304:30 PM",activity:"Motus  action items, pipeline, credit reports.",tag:"work"},{time:"4:305:30 PM",activity:"REST DAY. Walk for steps. Eat dinner early before class.",tag:"rest"},{time:"5:30 PM",activity:"Dinner Feast: Meal 2. Chicken thighs + sweet potato + spinach.",tag:"meal"},{time:"6:007:45 PM",activity:"SJSU Zoom Class (online).",tag:"school"},{time:"8:0010:00 PM",activity:"Peak energy: Motus strategy. Meal 3 at 9:30.",tag:"work"},{time:"10:00 PM",activity:"Wind down.",tag:"routine"},{time:"10:30 PM",activity:"Sleep.",tag:"sleep"}]},Wednesday:{title:"SJSU + Motus + Workout #2 (Legs & Traps)",blocks:[{time:"8:30 AM",activity:"Wake  Meds + Supplements. Black coffee.",tag:"routine"},{time:"9:0010:00 AM",activity:"Fasting morning: walk, light study, school assignments.",tag:"cardio"},{time:"10:0011:30 AM",activity:"Take mom to work",tag:"personal"},{time:"11:30 AM",activity:"Break fast: Meal 1. Turkey + black bean bowl.",tag:"meal"},{time:"12:004:00 PM",activity:"Motus  deep work block, client calls.",tag:"work"},{time:"4:004:30 PM",activity:"Transition: light snack, hydrate extra, prep for class.",tag:"routine"},{time:"4:305:45 PM",activity:"SJSU Zoom Class (online).",tag:"school"},{time:"6:007:00 PM",activity:"WORKOUT #2: Legs & Traps. Hydrate extra (polycythemia).",tag:"gym"},{time:"7:15 PM",activity:"Dinner Feast: Meal 2. Stir-fry chicken + brown rice + bok choy.",tag:"meal"},{time:"8:0010:00 PM",activity:"Peak energy block. Meal 3 at 9:30.",tag:"work"},{time:"10:00 PM",activity:"Wind down.",tag:"routine"},{time:"10:30 PM",activity:"Sleep.",tag:"sleep"}]},Thursday:{title:"Motus + Rest Day",blocks:[{time:"8:30 AM",activity:"Wake  Meds + Supplements. Black coffee.",tag:"routine"},{time:"9:0010:00 AM",activity:"Fasting morning: walk, admin, school prep.",tag:"cardio"},{time:"10:0011:30 AM",activity:"Take mom to work",tag:"personal"},{time:"11:30 AM",activity:"Break fast: Meal 1. Eggs + avocado toast + mixed greens.",tag:"meal"},{time:"12:004:30 PM",activity:"Motus  client calls, pipeline, credit work.",tag:"work"},{time:"4:305:30 PM",activity:"REST DAY. Walk for steps. Foam roll if sore.",tag:"rest"},{time:"6:00 PM",activity:"Dinner Feast: Meal 2. Beef (1/2x wk) + roasted potatoes + asparagus.",tag:"meal"},{time:"7:0010:00 PM",activity:"Peak energy: Motus strategy, school assignments. Meal 3 at 9:30.",tag:"work"},{time:"10:00 PM",activity:"Wind down.",tag:"routine"},{time:"10:30 PM",activity:"Sleep.",tag:"sleep"}]},Friday:{title:"Motus + Weekly Sync (3 PM) + Workout #3 (Shoulders & Back)",blocks:[{time:"8:30 AM",activity:"Wake  Meds + Supplements. Black coffee.",tag:"routine"},{time:"9:0010:00 AM",activity:"Fasting morning: walk, prep for sync.",tag:"cardio"},{time:"10:0011:30 AM",activity:"Take mom to work",tag:"personal"},{time:"11:30 AM",activity:"Break fast: Meal 1. Smoked salmon + cream cheese + toast.",tag:"meal"},{time:"12:002:45 PM",activity:"Motus  wrap-up tasks, prep sync agenda.",tag:"work"},{time:"3:00 PM",activity:"MOTUS WEEKLY SYNC MEETING",tag:"work"},{time:"3:305:00 PM",activity:"Post-sync wrap-up, planning next week.",tag:"work"},{time:"5:306:30 PM",activity:"WORKOUT #3: Shoulders & Back",tag:"gym"},{time:"6:45 PM",activity:"Dinner Feast: Meal 2. Fish tacos + avocado + black beans.",tag:"meal"},{time:"7:3010:00 PM",activity:"Flex: lighter work or social time. Meal 3 at 9:30.",tag:"work"},{time:"10:00 PM",activity:"Wind down.",tag:"routine"},{time:"10:30 PM",activity:"Sleep.",tag:"sleep"}]},Saturday:{title:"Workout #4 (Bonus) + Recovery + Life",blocks:[{time:"9:00 AM",activity:"Wake (sleep in  9+ hrs). Meds + Supplements.",tag:"routine"},{time:"9:30 AM",activity:"Black coffee. Fasting holds if comfortable.",tag:"routine"},{time:"10:0011:30 AM",activity:"Take mom to work",tag:"personal"},{time:"11:30 AM",activity:"Break fast: Meal 1. Loaded breakfast  eggs, veggies, avocado.",tag:"meal"},{time:"12:001:00 PM",activity:"WORKOUT #4: Bonus (core + neck + posterior chain)",tag:"gym"},{time:"1:30 PM",activity:"Post-workout shake or Meal 2.",tag:"meal"},{time:"2:005:00 PM",activity:"Meal prep, errands, pho restaurant, personal time.",tag:"personal"},{time:"6:00 PM",activity:"Dinner Feast. Grilled chicken + quinoa + Brussels sprouts.",tag:"meal"},{time:"7:0010:00 PM",activity:"Social time, relaxation, no heavy work.",tag:"personal"},{time:"10:00 PM",activity:"Wind down.",tag:"routine"},{time:"10:30 PM",activity:"Sleep.",tag:"sleep"}]},Sunday:{title:"Full Rest + Prep + Reset",blocks:[{time:"9:00 AM",activity:"Wake  Meds + Supplements.",tag:"routine"},{time:"9:30 AM",activity:"Black coffee. Fasting morning.",tag:"routine"},{time:"10:0011:30 AM",activity:"Take mom to work",tag:"personal"},{time:"11:30 AM",activity:"Break fast: Meal 1. Overnight oats + protein + berries.",tag:"meal"},{time:"12:001:00 PM",activity:"Active recovery: walk, light stretching, foam roll.",tag:"rest"},{time:"1:003:00 PM",activity:"Meal prep for the week + grocery run.",tag:"personal"},{time:"3:005:00 PM",activity:"Week planning: calendar, Motus priorities, school prep.",tag:"work"},{time:"5:30 PM",activity:"Dinner Feast. Turkey burger + sweet potato fries + salad.",tag:"meal"},{time:"7:009:00 PM",activity:"Personal time, wind down mode. Meal 3 at 9:00.",tag:"personal"},{time:"10:00 PM",activity:"Melatonin + Magnesium + Tart Cherry.",tag:"routine"},{time:"10:30 PM",activity:"Sleep  protect 9+ hrs before Monday class.",tag:"sleep"}]}},bl={"Workout #1  Chest & Arms":{day:"Monday",note:"Shoulder-specific warmup: Band pull-aparts, face pulls, external rotations BEFORE pressing.",phases:{"Version A (Strength  12 Weeks)":[{exercise:"Incline Bench Press",sets:"3 RPT (4-6, 6-8, 8-10)",method:"RPT",rest:"3 min",notes:"WARMUP: 60%6, 75%4, 90%1-2"},{exercise:"Flat Bench / Weighted Dips",sets:"2 RPT (6-8, 8-10)",method:"RPT",rest:"3 min",notes:"Skip dips if shoulder flares."},{exercise:"Bicep Curls",sets:"3 RPT (4-6, 6-8, 6-8)",method:"RPT",rest:"2 min",notes:"Heaviest set first, drop 10%."},{exercise:"Triceps (Skull Crushers)",sets:"3 RPT (6-8, 8-10, 8-10)",method:"RPT",rest:"2 min",notes:""},{exercise:"Face Pulls / Bent Over Flyes",sets:"12-15 + 3(4-6)",method:"Rest Pause",rest:"10-15s",notes:"Rear delt health."}],"Version B (Shrink Wrap  4 Weeks)":[{exercise:"Incline DB Bench",sets:"3 RPT (6-8, 8-10, 8-10)",method:"RPT",rest:"3 min",notes:"Same warmup."},{exercise:"Machine Bench / Pushups",sets:"4  8-12",method:"Straight",rest:"45 sec",notes:"Pump focus."},{exercise:"Machine / Concentration Curls",sets:"5  6-8",method:"Straight",rest:"45 sec",notes:"High volume."},{exercise:"Tricep Pushdowns",sets:"5  8-10",method:"Straight",rest:"1 min",notes:""},{exercise:"Bent Over Flyes",sets:"12-15 + 3(4-6)",method:"Rest Pause",rest:"10-15s",notes:""}]}},"Workout #2  Legs & Traps":{day:"Wednesday",note:"Front Squats & Bulgarian Splits safer for low back. RDLs fine  don't round. Skip if gout flares.",phases:{"Version A (Strength  12 Weeks)":[{exercise:"Front Squats / BSS",sets:"4  6-8",method:"Kino Rep",rest:"2 min (3 last)",notes:"Start light, add each set."},{exercise:"RDLs / Nordic Curls",sets:"3  10-12",method:"Straight",rest:"2 min",notes:"Hinge > pull from floor."},{exercise:"Leg Extensions / Sissy Squats",sets:"3  8-12",method:"Straight",rest:"2 min",notes:"Same weight."},{exercise:"Calf Raises",sets:"3  12-15",method:"Straight",rest:"2 min",notes:"Full ROM, pause at bottom."},{exercise:"Trap Bar Shrugs",sets:"3  10-12",method:"Kino Rep",rest:"2 min",notes:"Start light, increase."}],"Version B (Shrink Wrap  4 Weeks)":[{exercise:"Step Ups",sets:"4  8-12",method:"Kino Rep",rest:"2 min",notes:""},{exercise:"RDLs",sets:"4  8-12",method:"Kino Rep",rest:"2 min",notes:""},{exercise:"ATG Split Squats",sets:"4  8-12",method:"Kino Rep",rest:"2 min",notes:""},{exercise:"Seated Calf Raises",sets:"4  12-15",method:"Straight",rest:"2 min",notes:""},{exercise:"Cable Shrugs",sets:"4  10-12",method:"Kino Rep",rest:"2 min",notes:""}]}},"Workout #3  Shoulders & Back":{day:"Friday",note:"If overhead pressing causes shoulder pain, sub landmine press or high incline DB press.",phases:{"Version A (Strength  12 Weeks)":[{exercise:"Standing Press / DB Press",sets:"3 RPT (4-6, 6-8, 8-10)",method:"RPT",rest:"3 min",notes:"WARMUP: 60%6, 75%4, 90%1-2"},{exercise:"Weighted Pull-ups / Rows",sets:"2 RPT (5, 6) or 48-10",method:"RPT/Kino",rest:"3 min",notes:"Rows if pull-ups not tolerated."},{exercise:"Side-to-Side Push Ups / Flyes",sets:"3  6-8/side",method:"Straight",rest:"2 min",notes:""},{exercise:"Hammer / Rope Curls",sets:"3  8-12",method:"Straight",rest:"2 min",notes:""},{exercise:"Lateral Raises",sets:"12-15 + 3(4-6)",method:"Rest Pause",rest:"10-15s",notes:"Key for shoulder width."}],"Version B (Shrink Wrap  4 Weeks)":[{exercise:"DB Shoulder Press",sets:"2 RPT (6-8, 8-10)",method:"RPT",rest:"3 min",notes:"Superset w/ Arnold Press."},{exercise:"Weighted Pull-ups",sets:"2 RPT (6, 8)",method:"RPT",rest:"3 min",notes:"Superset w/ Sternum Pull-ups."},{exercise:"Incline Press Flye",sets:"4  8-10",method:"Straight",rest:"45 sec",notes:""},{exercise:"Hammer Rope Curls",sets:"4  8-12",method:"Straight",rest:"45 sec",notes:""},{exercise:"Lateral Raises",sets:"12-15 + 3(4-6)",method:"Rest Pause",rest:"10-15s",notes:""}]}},"Workout #4  Bonus (Saturday)":{day:"Saturday",note:"Core, neck, posterior chain. 1-Leg Back Extension critical for low back health.",phases:{"All Phases":[{exercise:"Hanging Knee Raises",sets:"3  8-12",method:"Straight",rest:"2 min",notes:"Add weight when easy."},{exercise:"Ab Wheel Rollout",sets:"3  10-15",method:"Straight",rest:"2 min",notes:"Core stability."},{exercise:"1-Leg Back Ext / Hip Thrust",sets:"3  10-15",method:"Straight",rest:"2 min",notes:"Key for low back."},{exercise:"Neck Curls",sets:"3  15-20",method:"Straight",rest:"1 min",notes:"Add weight slowly."},{exercise:"Reverse Neck Curls",sets:"3  15-20",method:"Straight",rest:"1 min",notes:""}]}}},Kd=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],u_={routine:{bg:"#1a1a2e",border:"#334155",text:"#94a3b8"},school:{bg:"#172554",border:"#1d4ed8",text:"#60a5fa"},personal:{bg:"#1c1917",border:"#78716c",text:"#a8a29e"},meal:{bg:"#052e16",border:"#15803d",text:"#4ade80"},work:{bg:"#2a1800",border:"#c2410c",text:"#fb923c"},gym:{bg:"#3b0764",border:"#9333ea",text:"#c084fc"},cardio:{bg:"#042f2e",border:"#0d9488",text:"#2dd4bf"},rest:{bg:"#1e1b4b",border:"#6366f1",text:"#a5b4fc"},sleep:{bg:"#0c0a09",border:"#44403c",text:"#78716c"}},lp="sonny_plan_v3";function c_(){try{const s=localStorage.getItem(lp);if(s)return JSON.parse(s)}catch{}return null}function zR(s){try{localStorage.setItem(lp,JSON.stringify(s))}catch{}}async function jR(s){try{const e=_b(Db,"users",s),i=await wR(e);if(i.exists())return i.data()}catch(e){console.error("Error loading cloud data:",e)}return null}async function PR(s,e){try{const i=_b(Db,"users",s);await xR(i,{...e,updatedAt:new Date().toISOString()})}catch(i){console.error("Error saving cloud data:",i)}}function vt({value:s,onChange:e,multiline:i,className:a=""}){const[l,c]=Xe.useState(!1),[d,y]=Xe.useState(s),b=Xe.useRef(null);if(Xe.useEffect(()=>{y(s)},[s]),Xe.useEffect(()=>{l&&b.current&&b.current.focus()},[l]),l){const _=i?"textarea":"input";return m.jsx(_,{ref:b,value:d,onChange:A=>y(A.target.value),onBlur:()=>{c(!1),d!==s&&e(d)},onKeyDown:A=>{A.key==="Enter"&&!i&&(c(!1),d!==s&&e(d)),A.key==="Escape"&&(c(!1),y(s))},className:a,style:{background:"rgba(255,255,255,0.06)",border:"1px solid rgba(255,255,255,0.15)",borderRadius:4,color:"#e2e8f0",padding:"4px 8px",fontSize:"inherit",fontFamily:"inherit",width:"100%",resize:i?"vertical":"none",minHeight:i?60:"auto",outline:"none"}})}return m.jsx("span",{onClick:()=>c(!0),style:{cursor:"pointer",borderBottom:"1px dashed rgba(255,255,255,0.1)",transition:"border-color 0.2s"},onMouseEnter:_=>_.target.style.borderBottomColor="rgba(255,255,255,0.3)",onMouseLeave:_=>_.target.style.borderBottomColor="rgba(255,255,255,0.1)",title:"Click to edit",children:s||""})}function UR({status:s}){const e=(s||"").toUpperCase();let i="#4ade80";return e.includes("HIGH")||e.includes("DEFICIENT")?i="#ef4444":(e.includes("BORDERLINE")||e.includes("WATCH")||e.includes("LOW"))&&(i="#f59e0b"),m.jsx("span",{style:{display:"inline-block",padding:"2px 10px",borderRadius:999,fontSize:11,fontWeight:700,letterSpacing:"0.5px",background:i+"18",color:i,border:`1px solid ${i}44`},children:s})}function BR({tag:s}){const e=u_[s]||u_.routine;return m.jsx("span",{style:{display:"inline-block",padding:"1px 8px",borderRadius:4,fontSize:10,fontWeight:600,letterSpacing:"0.5px",textTransform:"uppercase",background:e.bg,color:e.text,border:`1px solid ${e.border}`},children:s})}function HR(){const[s,e]=Xe.useState(null),[i,a]=Xe.useState(!0),[l,c]=Xe.useState(!1),[d,y]=Xe.useState("schedule"),[b,_]=Xe.useState(Rc),[A,x]=Xe.useState(Cc),[L,X]=Xe.useState(Ic),[se,oe]=Xe.useState(Dc),[le,ye]=Xe.useState(Mc),[xe,_e]=Xe.useState(_l),[Ke,et]=Xe.useState(Nc),[Me,I]=Xe.useState(bl),[w,D]=Xe.useState(()=>Kd[new Date().getDay()===0?6:new Date().getDay()-1]),[V,N]=Xe.useState(Object.keys(bl)[0]),[j,R]=Xe.useState("Version A (Strength  12 Weeks)"),[st,pt]=Xe.useState({}),[K,te]=Xe.useState(kc),[ce,Oe]=Xe.useState(Oc),[fe,O]=Xe.useState(qd),[W,ie]=Xe.useState(Fd),[ae,be]=Xe.useState(Gd),[Ae,Pe]=Xe.useState(!1),[_t,tt]=Xe.useState(""),[fn,ci]=Xe.useState([]);Xe.useEffect(()=>{const S=BE(Hd,async B=>{if(e(B),B){c(!0);const M=await jR(B.uid);if(M)_(M.profile||Rc),x(M.meds||Cc),X(M.supps||Ic),oe(M.conditions||Dc),ye(M.labs||Mc),_e(M.targets||_l),et(M.schedule||Nc),I(M.workouts||bl),pt(M.workoutLogs||{}),te(M.groceries||kc),Oe(M.meals||Oc),O(M.bodyLog||qd),ie(M.habits||Fd),be(M.labHistory||Gd),tt(M.notes||"");else{const ee=c_();ee&&(_(ee.profile||Rc),x(ee.meds||Cc),X(ee.supps||Ic),oe(ee.conditions||Dc),ye(ee.labs||Mc),_e(ee.targets||_l),et(ee.schedule||Nc),I(ee.workouts||bl),pt(ee.workoutLogs||{}),te(ee.groceries||kc),Oe(ee.meals||Oc),O(ee.bodyLog||qd),ie(ee.habits||Fd),be(ee.labHistory||Gd),tt(ee.notes||""))}c(!1)}else{const M=c_();M&&(_(M.profile||Rc),x(M.meds||Cc),X(M.supps||Ic),oe(M.conditions||Dc),ye(M.labs||Mc),_e(M.targets||_l),et(M.schedule||Nc),I(M.workouts||bl),pt(M.workoutLogs||{}),tt(M.notes||""))}a(!1)});return()=>S()},[]),Xe.useEffect(()=>{if(i)return;const S={profile:b,meds:A,supps:L,conditions:se,labs:le,targets:xe,schedule:Ke,workouts:Me,workoutLogs:st,groceries:K,meals:ce,bodyLog:fe,habits:W,labHistory:ae,notes:_t},B=setTimeout(()=>{zR(S),s&&PR(s.uid,S)},500);return()=>clearTimeout(B)},[b,A,L,se,le,xe,Ke,Me,st,K,ce,fe,W,ae,_t,s,i]);const vr=async()=>{try{await l5(Hd,OR)}catch(S){console.error("Sign in error:",S)}},_r=async()=>{try{await HE(Hd)}catch(S){console.error("Sign out error:",S)}},Mn=(S,B)=>_(M=>({...M,[S]:B})),hi=(S,B,M)=>x(ee=>ee.map((ne,ge)=>ge===S?{...ne,[B]:M}:ne)),On=(S,B,M)=>X(ee=>ee.map((ne,ge)=>ge===S?{...ne,[B]:M}:ne)),Bi=(S,B,M)=>oe(ee=>ee.map((ne,ge)=>ge===S?{...ne,[B]:M}:ne)),Hi=(S,B,M)=>ye(ee=>ee.map((ne,ge)=>ge===S?{...ne,[B]:M}:ne)),ht=(S,B,M)=>{_e(ee=>ee.map((ne,ge)=>{if(ge!==S)return ne;const de={...ne,[B]:M};if(B==="current"||B==="target"||B==="metric"){const Re=LR(de.metric,de.current,de.target);Re&&(de.how=Re,de._autoHow=!0)}return B==="how"&&(de._autoHow=!1),de}))},St=(S,B,M,ee)=>{et(ne=>({...ne,[S]:{...ne[S],blocks:ne[S].blocks.map((ge,de)=>de===B?{...ge,[M]:ee}:ge)}}))},dn=(S,B)=>S(M=>[...M,B]),br=(S,B)=>S(M=>M.filter((ee,ne)=>ne!==B)),sa=S=>{ci(B=>[...B,{type:"remove",index:S,item:xe[S]}]),_e(B=>B.filter((M,ee)=>ee!==S))},Yt=()=>{if(fn.length===0)return;const S=fn[fn.length-1];ci(B=>B.slice(0,-1)),S.type==="remove"?_e(B=>{const M=[...B];return M.splice(S.index,0,S.item),M}):S.type==="reset"&&_e(S.previous)},qi=()=>{ci(S=>[...S,{type:"reset",previous:[...xe]}]),_e(_l)},ps=[{id:"dashboard",label:"Dashboard",icon:""},{id:"schedule",label:"Schedule",icon:""},{id:"habits",label:"Habits",icon:""},{id:"workouts",label:"Training",icon:""},{id:"body",label:"Body",icon:""},{id:"meals",label:"Meals",icon:""},{id:"health",label:"Health",icon:""},{id:"targets",label:"90-Day",icon:""}],ms=new Date().getDay()===0?6:new Date().getDay()-1;return i?m.jsx("div",{style:{minHeight:"100vh",background:"#09090b",color:"#e2e8f0",display:"flex",alignItems:"center",justifyContent:"center",fontFamily:"'DM Sans', 'Helvetica Neue', sans-serif"},children:m.jsxs("div",{style:{textAlign:"center"},children:[m.jsx("div",{style:{fontSize:24,fontWeight:700,marginBottom:8},children:"Performance Platform"}),m.jsx("div",{style:{fontSize:14,color:"#64748b"},children:"Loading..."})]})}):m.jsxs("div",{style:{minHeight:"100vh",background:"#09090b",color:"#e2e8f0",fontFamily:"'DM Sans', 'Helvetica Neue', sans-serif"},children:[m.jsx("link",{href:"https://fonts.googleapis.com/css2?family=DM+Sans:wght@300;400;500;600;700&family=JetBrains+Mono:wght@400;500;600&display=swap",rel:"stylesheet"}),m.jsx("div",{style:{background:"linear-gradient(180deg, #0f0f13 0%, #09090b 100%)",borderBottom:"1px solid rgba(255,255,255,0.06)",padding:"20px 24px 0",position:"sticky",top:0,zIndex:100},children:m.jsxs("div",{style:{maxWidth:1100,margin:"0 auto"},children:[m.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:16},children:[m.jsxs("div",{children:[m.jsxs("div",{style:{display:"flex",alignItems:"center",gap:10},children:[m.jsx("div",{style:{width:8,height:8,borderRadius:"50%",background:"#4ade80",boxShadow:"0 0 8px #4ade8066"}}),m.jsx("h1",{style:{margin:0,fontSize:20,fontWeight:700,letterSpacing:"-0.5px",fontFamily:"'JetBrains Mono', monospace"},children:b.name})]}),m.jsxs("p",{style:{margin:"4px 0 0 18px",fontSize:12,color:"#64748b",fontWeight:500},children:["Weekly Performance Plan v3.0  ",b.program]})]}),m.jsxs("div",{style:{display:"flex",gap:8,alignItems:"center"},children:[l&&m.jsx("span",{style:{fontSize:11,color:"#60a5fa"},children:"Syncing..."}),s?m.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8},children:[m.jsxs("div",{style:{display:"flex",alignItems:"center",gap:6,background:"rgba(74,222,128,0.1)",border:"1px solid rgba(74,222,128,0.2)",borderRadius:8,padding:"4px 10px"},children:[m.jsx("div",{style:{width:6,height:6,borderRadius:"50%",background:"#4ade80"}}),m.jsx("span",{style:{fontSize:11,color:"#4ade80",fontWeight:500},children:"Synced"})]}),m.jsx("button",{onClick:_r,style:{background:"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.08)",color:"#94a3b8",borderRadius:8,padding:"6px 12px",fontSize:12,cursor:"pointer",fontWeight:500},children:"Sign Out"})]}):m.jsx("button",{onClick:vr,style:{background:"rgba(96,165,250,0.15)",border:"1px solid rgba(96,165,250,0.3)",color:"#60a5fa",borderRadius:8,padding:"6px 12px",fontSize:12,cursor:"pointer",fontWeight:600},children:"Sign In to Sync"}),m.jsx("button",{onClick:()=>Pe(!Ae),style:{background:Ae?"rgba(251,191,36,0.15)":"rgba(255,255,255,0.05)",border:`1px solid ${Ae?"#fbbf2444":"rgba(255,255,255,0.08)"}`,color:Ae?"#fbbf24":"#94a3b8",borderRadius:8,padding:"6px 12px",fontSize:12,cursor:"pointer",fontWeight:600,transition:"all 0.2s"},children:" Notes"}),m.jsx("button",{onClick:()=>{confirm("Reset all data to defaults?")&&(localStorage.removeItem(lp),location.reload())},style:{background:"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.08)",color:"#64748b",borderRadius:8,padding:"6px 12px",fontSize:12,cursor:"pointer",fontWeight:500},children:" Reset"})]})]}),m.jsx("div",{style:{display:"flex",gap:2},children:ps.map(S=>m.jsxs("button",{onClick:()=>y(S.id),style:{padding:"10px 18px",background:d===S.id?"rgba(255,255,255,0.06)":"transparent",border:"none",borderBottom:d===S.id?"2px solid #e2e8f0":"2px solid transparent",color:d===S.id?"#e2e8f0":"#64748b",fontSize:13,fontWeight:d===S.id?600:500,cursor:"pointer",transition:"all 0.2s",borderRadius:"8px 8px 0 0"},children:[m.jsx("span",{style:{marginRight:6},children:S.icon}),S.label]},S.id))})]})}),Ae&&m.jsx("div",{style:{maxWidth:1100,margin:"16px auto",padding:"0 24px"},children:m.jsxs("div",{style:{background:"rgba(251,191,36,0.05)",border:"1px solid rgba(251,191,36,0.15)",borderRadius:12,padding:16},children:[m.jsx("div",{style:{fontSize:12,fontWeight:600,color:"#fbbf24",marginBottom:8},children:" Quick Notes"}),m.jsx("textarea",{value:_t,onChange:S=>tt(S.target.value),placeholder:"Jot down anything  thoughts, adjustments, reminders...",style:{width:"100%",minHeight:80,background:"rgba(0,0,0,0.3)",border:"1px solid rgba(255,255,255,0.08)",borderRadius:8,color:"#e2e8f0",padding:12,fontSize:13,fontFamily:"inherit",resize:"vertical",outline:"none"}})]})}),m.jsxs("div",{style:{maxWidth:1100,margin:"0 auto",padding:"20px 24px 60px"},children:[d==="dashboard"&&m.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:20},children:[m.jsxs("div",{style:{background:"rgba(255,255,255,0.02)",border:"1px solid rgba(255,255,255,0.06)",borderRadius:14,padding:20},children:[m.jsx("div",{style:{fontSize:13,fontWeight:700,marginBottom:16},children:"Weight Progress"}),m.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:16},children:[m.jsxs("div",{style:{textAlign:"center"},children:[m.jsx("div",{style:{fontSize:11,color:"#64748b",marginBottom:4},children:"STARTING"}),m.jsx("div",{style:{fontSize:28,fontWeight:700,fontFamily:"'JetBrains Mono', monospace"},children:fe[0]?.weight||210}),m.jsx("div",{style:{fontSize:11,color:"#64748b"},children:"lbs"})]}),m.jsxs("div",{style:{textAlign:"center"},children:[m.jsx("div",{style:{fontSize:11,color:"#64748b",marginBottom:4},children:"CURRENT"}),m.jsx("div",{style:{fontSize:28,fontWeight:700,fontFamily:"'JetBrains Mono', monospace",color:"#4ade80"},children:fe[fe.length-1]?.weight||210}),m.jsx("div",{style:{fontSize:11,color:"#64748b"},children:"lbs"})]}),m.jsxs("div",{style:{textAlign:"center"},children:[m.jsx("div",{style:{fontSize:11,color:"#64748b",marginBottom:4},children:"GOAL"}),m.jsx("div",{style:{fontSize:28,fontWeight:700,fontFamily:"'JetBrains Mono', monospace",color:"#60a5fa"},children:"185"}),m.jsx("div",{style:{fontSize:11,color:"#64748b"},children:"lbs"})]})]}),m.jsx("div",{style:{marginTop:16,height:8,background:"rgba(255,255,255,0.1)",borderRadius:4,overflow:"hidden"},children:(()=>{const S=fe[0]?.weight||210,B=fe[fe.length-1]?.weight||210,ee=S-185,ne=S-B,ge=ee>0?Math.min(100,Math.max(0,ne/ee*100)):0;return m.jsx("div",{style:{height:"100%",width:`${ge}%`,background:"linear-gradient(90deg, #4ade80, #22c55e)",borderRadius:4,transition:"width 0.3s"}})})()}),m.jsx("div",{style:{fontSize:11,color:"#64748b",marginTop:8,textAlign:"center"},children:(()=>{const S=fe[0]?.weight||210,B=fe[fe.length-1]?.weight||210,M=S-B,ee=B-185;return`${M>=0?M:0} lbs lost  ${ee>0?ee:0} lbs to go`})()})]}),m.jsxs("div",{style:{background:"rgba(255,255,255,0.02)",border:"1px solid rgba(255,255,255,0.06)",borderRadius:14,padding:20},children:[m.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:16},children:[m.jsx("div",{style:{fontSize:13,fontWeight:700},children:"Today's Habits"}),m.jsx("div",{style:{fontSize:12,color:"#64748b"},children:(()=>{const S=new Date().toISOString().split("T")[0];return`${W.items.filter(M=>W.log[S]?.[M.id]).length}/${W.items.length} complete`})()})]}),m.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:8},children:W.items.slice(0,8).map(S=>{const B=new Date().toISOString().split("T")[0],M=W.log[B]?.[S.id]||!1;return m.jsxs("div",{style:{padding:"8px 12px",borderRadius:8,background:M?"rgba(74,222,128,0.1)":"rgba(255,255,255,0.03)",border:M?"1px solid rgba(74,222,128,0.3)":"1px solid rgba(255,255,255,0.06)",textAlign:"center",fontSize:11,color:M?"#4ade80":"#64748b",cursor:"pointer"},onClick:()=>{const ee=new Date().toISOString().split("T")[0];ie(ne=>({...ne,log:{...ne.log,[ee]:{...ne.log[ee],[S.id]:!M}}}))},children:[M?" ":"",S.name.split(" ")[0]]},S.id)})})]}),m.jsxs("div",{style:{background:"rgba(255,255,255,0.02)",border:"1px solid rgba(255,255,255,0.06)",borderRadius:14,padding:20},children:[m.jsx("div",{style:{fontSize:13,fontWeight:700,marginBottom:16},children:"Key Lab Markers"}),m.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:12},children:[{name:"Vitamin D",value:ae[ae.length-1]?.results?.vitaminD||16.7,target:40,unit:"ng/mL",color:"#ef4444"},{name:"Folate",value:ae[ae.length-1]?.results?.folate||5.1,target:10,unit:"ng/mL",color:"#ef4444"},{name:"ALT",value:ae[ae.length-1]?.results?.alt||74,target:44,unit:"U/L",color:"#f59e0b",inverse:!0},{name:"Testosterone",value:ae[ae.length-1]?.results?.testosterone||321,target:400,unit:"ng/dL",color:"#f59e0b"}].map((S,B)=>{const M=S.inverse?S.value<=S.target:S.value>=S.target;return m.jsxs("div",{style:{background:M?"rgba(74,222,128,0.08)":`${S.color}15`,border:`1px solid ${M?"rgba(74,222,128,0.2)":S.color+"33"}`,borderRadius:10,padding:12,textAlign:"center"},children:[m.jsx("div",{style:{fontSize:10,color:"#64748b",marginBottom:4},children:S.name}),m.jsx("div",{style:{fontSize:20,fontWeight:700,fontFamily:"'JetBrains Mono', monospace",color:M?"#4ade80":S.color},children:S.value}),m.jsxs("div",{style:{fontSize:10,color:"#64748b"},children:["Target: ",S.inverse?"<":"",S.target]})]},B)})})]}),m.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:12},children:[{label:"Log Weight",tab:"body",icon:""},{label:"Today's Meals",tab:"meals",icon:""},{label:"Workouts",tab:"workouts",icon:""},{label:"90-Day Goals",tab:"targets",icon:""}].map((S,B)=>m.jsxs("button",{onClick:()=>y(S.tab),style:{padding:"16px",borderRadius:10,background:"rgba(255,255,255,0.03)",border:"1px solid rgba(255,255,255,0.06)",color:"#e2e8f0",cursor:"pointer",textAlign:"center"},children:[m.jsx("div",{style:{fontSize:24,marginBottom:4},children:S.icon}),m.jsx("div",{style:{fontSize:12,fontWeight:500},children:S.label})]},B))})]}),d==="schedule"&&m.jsxs("div",{children:[m.jsx("div",{style:{display:"flex",gap:6,marginBottom:20,flexWrap:"wrap"},children:Kd.map((S,B)=>{const M=B===ms,ee=S===w,ne=Ke[S]?.blocks?.some(de=>de.tag==="gym"),ge=Ke[S]?.blocks?.some(de=>de.tag==="school");return m.jsxs("button",{onClick:()=>D(S),style:{flex:1,minWidth:90,padding:"10px 8px",background:ee?"rgba(255,255,255,0.08)":"rgba(255,255,255,0.02)",border:ee?"1px solid rgba(255,255,255,0.2)":"1px solid rgba(255,255,255,0.05)",borderRadius:10,cursor:"pointer",transition:"all 0.2s",position:"relative"},children:[m.jsx("div",{style:{fontSize:12,fontWeight:700,color:ee?"#e2e8f0":"#64748b",letterSpacing:"0.5px"},children:S.slice(0,3).toUpperCase()}),m.jsxs("div",{style:{display:"flex",gap:3,justifyContent:"center",marginTop:4},children:[ne&&m.jsx("span",{style:{width:6,height:6,borderRadius:"50%",background:"#c084fc"}}),ge&&m.jsx("span",{style:{width:6,height:6,borderRadius:"50%",background:"#60a5fa"}})]}),M&&m.jsx("div",{style:{position:"absolute",top:-4,right:-4,width:8,height:8,borderRadius:"50%",background:"#4ade80",boxShadow:"0 0 6px #4ade8066"}})]},S)})}),m.jsxs("div",{style:{background:"rgba(255,255,255,0.02)",border:"1px solid rgba(255,255,255,0.06)",borderRadius:14,overflow:"hidden"},children:[m.jsxs("div",{style:{padding:"16px 20px",borderBottom:"1px solid rgba(255,255,255,0.06)",background:"rgba(255,255,255,0.02)"},children:[m.jsx("div",{style:{fontSize:11,color:"#64748b",fontWeight:600,letterSpacing:"1px",textTransform:"uppercase"},children:w}),m.jsx("div",{style:{fontSize:15,fontWeight:600,marginTop:4},children:Ke[w]?.title})]}),m.jsx("div",{style:{padding:"8px 0"},children:Ke[w]?.blocks?.map((S,B)=>m.jsxs("div",{style:{display:"grid",gridTemplateColumns:"130px 1fr 70px 28px",alignItems:"center",gap:12,padding:"10px 20px",borderBottom:B<Ke[w].blocks.length-1?"1px solid rgba(255,255,255,0.03)":"none",transition:"background 0.15s"},onMouseEnter:M=>M.currentTarget.style.background="rgba(255,255,255,0.02)",onMouseLeave:M=>M.currentTarget.style.background="transparent",children:[m.jsx("div",{style:{fontFamily:"'JetBrains Mono', monospace",fontSize:12,color:"#94a3b8",fontWeight:500},children:m.jsx(vt,{value:S.time,onChange:M=>St(w,B,"time",M)})}),m.jsx("div",{style:{fontSize:13},children:m.jsx(vt,{value:S.activity,onChange:M=>St(w,B,"activity",M)})}),m.jsx(BR,{tag:S.tag}),m.jsx("button",{onClick:()=>{et(M=>({...M,[w]:{...M[w],blocks:M[w].blocks.filter((ee,ne)=>ne!==B)}}))},style:{background:"none",border:"none",color:"#ef444466",cursor:"pointer",fontSize:14,padding:0,lineHeight:1,opacity:.4,transition:"opacity 0.2s"},onMouseEnter:M=>M.target.style.opacity=1,onMouseLeave:M=>M.target.style.opacity=.4,title:"Remove block",children:""})]},B))}),m.jsx("div",{style:{padding:"12px 20px",borderTop:"1px solid rgba(255,255,255,0.04)"},children:m.jsx("button",{onClick:()=>{et(S=>({...S,[w]:{...S[w],blocks:[...S[w].blocks,{time:"",activity:"New block",tag:"routine"}]}}))},style:{background:"rgba(255,255,255,0.04)",border:"1px dashed rgba(255,255,255,0.1)",color:"#64748b",borderRadius:8,padding:"8px 16px",fontSize:12,cursor:"pointer",fontWeight:500,width:"100%",transition:"all 0.2s"},children:"+ Add block"})})]})]}),d==="workouts"&&m.jsxs("div",{children:[m.jsx("div",{style:{display:"flex",gap:6,marginBottom:16,flexWrap:"wrap"},children:Object.keys(Me).map(S=>m.jsx("button",{onClick:()=>{N(S),R(Object.keys(Me[S].phases)[0])},style:{padding:"8px 14px",background:S===V?"#c084fc18":"rgba(255,255,255,0.02)",border:S===V?"1px solid #9333ea44":"1px solid rgba(255,255,255,0.05)",color:S===V?"#c084fc":"#64748b",borderRadius:8,fontSize:12,fontWeight:600,cursor:"pointer",transition:"all 0.2s"},children:S},S))}),Me[V]&&m.jsxs("div",{style:{background:"rgba(255,255,255,0.02)",border:"1px solid rgba(255,255,255,0.06)",borderRadius:14,overflow:"hidden"},children:[m.jsxs("div",{style:{padding:"16px 20px",borderBottom:"1px solid rgba(255,255,255,0.06)",background:"rgba(147,51,234,0.04)"},children:[m.jsx("div",{style:{fontSize:15,fontWeight:700},children:V}),m.jsxs("div",{style:{fontSize:12,color:"#94a3b8",marginTop:4},children:[Me[V].day,"  ",Me[V].note]})]}),m.jsx("div",{style:{display:"flex",gap:4,padding:"12px 20px",borderBottom:"1px solid rgba(255,255,255,0.04)"},children:Object.keys(Me[V].phases).map(S=>m.jsx("button",{onClick:()=>R(S),style:{padding:"6px 12px",background:S===j?"rgba(255,255,255,0.08)":"transparent",border:S===j?"1px solid rgba(255,255,255,0.15)":"1px solid transparent",color:S===j?"#e2e8f0":"#64748b",borderRadius:6,fontSize:11,fontWeight:600,cursor:"pointer"},children:S},S))}),m.jsx("div",{style:{overflowX:"auto"},children:m.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[m.jsx("thead",{children:m.jsx("tr",{style:{borderBottom:"1px solid rgba(255,255,255,0.06)"},children:["Exercise","Sets  Reps","Method","Rest","Notes","Weight Log"].map(S=>m.jsx("th",{style:{padding:"10px 16px",textAlign:"left",fontSize:10,fontWeight:700,letterSpacing:"1px",color:"#64748b",textTransform:"uppercase"},children:S},S))})}),m.jsx("tbody",{children:(Me[V].phases[j]||[]).map((S,B)=>{const M=`${V}|${j}|${S.exercise}`;return m.jsxs("tr",{style:{borderBottom:"1px solid rgba(255,255,255,0.03)"},children:[m.jsx("td",{style:{padding:"10px 16px",fontSize:13,fontWeight:500},children:S.exercise}),m.jsx("td",{style:{padding:"10px 16px",fontSize:13,fontFamily:"'JetBrains Mono', monospace",color:"#94a3b8"},children:S.sets}),m.jsx("td",{style:{padding:"10px 16px"},children:m.jsx("span",{style:{display:"inline-block",padding:"2px 8px",borderRadius:4,fontSize:10,fontWeight:700,letterSpacing:"0.5px",background:S.method==="RPT"?"#c084fc18":S.method==="Kino Rep"?"#4ade8018":"#f59e0b18",color:S.method==="RPT"?"#c084fc":S.method==="Kino Rep"?"#4ade80":"#f59e0b",border:`1px solid ${S.method==="RPT"?"#9333ea44":S.method==="Kino Rep"?"#15803d44":"#d9770644"}`},children:S.method})}),m.jsx("td",{style:{padding:"10px 16px",fontSize:12,color:"#64748b"},children:S.rest}),m.jsx("td",{style:{padding:"10px 16px",fontSize:12,color:"#94a3b8"},children:S.notes}),m.jsx("td",{style:{padding:"10px 16px"},children:m.jsx("input",{value:st[M]||"",onChange:ee=>pt(ne=>({...ne,[M]:ee.target.value})),placeholder:"e.g. 1856",style:{background:"rgba(255,255,255,0.04)",border:"1px solid rgba(255,255,255,0.08)",borderRadius:6,padding:"4px 8px",color:"#4ade80",fontSize:12,fontFamily:"'JetBrains Mono', monospace",width:90,outline:"none"}})})]},B)})})]})}),m.jsxs("div",{style:{padding:"16px 20px",borderTop:"1px solid rgba(255,255,255,0.06)",background:"rgba(255,255,255,0.015)"},children:[m.jsx("div",{style:{fontSize:11,fontWeight:700,color:"#64748b",letterSpacing:"1px",marginBottom:8},children:"PROGRESSION"}),m.jsxs("div",{style:{fontSize:12,color:"#94a3b8",lineHeight:1.6},children:[m.jsx("strong",{style:{color:"#c084fc"},children:"RPT:"})," Hit top of rep range on heaviest set  add weight next session."," ",m.jsx("strong",{style:{color:"#4ade80"},children:"Kino Rep:"})," Hit top reps on LAST set  increase that set's weight."," ",m.jsx("strong",{style:{color:"#f59e0b"},children:"Rest Pause:"})," Total reps exceed target  add 5 lbs."]})]})]})]}),d==="habits"&&m.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:20},children:[m.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[m.jsxs("div",{children:[m.jsx("div",{style:{fontSize:15,fontWeight:700},children:"Daily Habits"}),m.jsx("div",{style:{fontSize:12,color:"#64748b",marginTop:2},children:new Date().toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric",year:"numeric"})})]}),m.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,background:"rgba(74,222,128,0.1)",border:"1px solid rgba(74,222,128,0.2)",borderRadius:8,padding:"8px 16px"},children:[m.jsx("span",{style:{fontSize:20,fontWeight:700,color:"#4ade80",fontFamily:"'JetBrains Mono', monospace"},children:(()=>{const S=new Date().toISOString().split("T")[0];return W.items.filter(B=>W.log[S]?.[B.id]).length})()}),m.jsxs("span",{style:{fontSize:12,color:"#64748b"},children:["/ ",W.items.length]})]})]}),m.jsxs("div",{style:{background:"rgba(255,255,255,0.02)",border:"1px solid rgba(255,255,255,0.06)",borderRadius:14,overflow:"hidden"},children:[m.jsxs("div",{style:{padding:"12px 20px",borderBottom:"1px solid rgba(255,255,255,0.06)",background:"rgba(251,191,36,0.08)"},children:[m.jsx("span",{style:{fontSize:13,fontWeight:700,color:"#fbbf24"},children:"Morning Routine"}),m.jsx("span",{style:{fontSize:11,color:"#64748b",marginLeft:8},children:"With breakfast, around 8:30-9 AM"})]}),m.jsx("div",{style:{padding:12},children:W.items.filter(S=>S.time==="morning").map(S=>{const B=new Date().toISOString().split("T")[0],M=W.log[B]?.[S.id]||!1;return m.jsxs("div",{onClick:()=>{const ee=new Date().toISOString().split("T")[0];ie(ne=>({...ne,log:{...ne.log,[ee]:{...ne.log[ee],[S.id]:!M}}}))},style:{display:"flex",alignItems:"center",gap:12,padding:"10px 12px",borderRadius:8,cursor:"pointer",background:M?"rgba(74,222,128,0.08)":"transparent",border:M?"1px solid rgba(74,222,128,0.2)":"1px solid transparent",marginBottom:6,transition:"all 0.2s"},children:[m.jsx("div",{style:{width:22,height:22,borderRadius:6,border:M?"2px solid #4ade80":"2px solid rgba(255,255,255,0.2)",background:M?"#4ade80":"transparent",display:"flex",alignItems:"center",justifyContent:"center",fontSize:14,color:"#09090b",fontWeight:700},children:M&&""}),m.jsx("div",{style:{flex:1},children:m.jsx("div",{style:{fontSize:13,fontWeight:500,color:M?"#4ade80":"#e2e8f0",textDecoration:M?"line-through":"none"},children:S.name})}),m.jsx("span",{style:{fontSize:10,fontWeight:600,padding:"2px 8px",borderRadius:4,background:S.category==="meds"?"rgba(239,68,68,0.15)":"rgba(96,165,250,0.15)",color:S.category==="meds"?"#f87171":"#60a5fa",textTransform:"uppercase"},children:S.category})]},S.id)})})]}),m.jsxs("div",{style:{background:"rgba(255,255,255,0.02)",border:"1px solid rgba(255,255,255,0.06)",borderRadius:14,overflow:"hidden"},children:[m.jsxs("div",{style:{padding:"12px 20px",borderBottom:"1px solid rgba(255,255,255,0.06)",background:"rgba(74,222,128,0.08)"},children:[m.jsx("span",{style:{fontSize:13,fontWeight:700,color:"#4ade80"},children:"Daily Goals"}),m.jsx("span",{style:{fontSize:11,color:"#64748b",marginLeft:8},children:"Complete throughout the day"})]}),m.jsx("div",{style:{padding:12},children:W.items.filter(S=>S.time==="anytime").map(S=>{const B=new Date().toISOString().split("T")[0],M=W.log[B]?.[S.id]||!1;return m.jsxs("div",{onClick:()=>{const ee=new Date().toISOString().split("T")[0];ie(ne=>({...ne,log:{...ne.log,[ee]:{...ne.log[ee],[S.id]:!M}}}))},style:{display:"flex",alignItems:"center",gap:12,padding:"10px 12px",borderRadius:8,cursor:"pointer",background:M?"rgba(74,222,128,0.08)":"transparent",border:M?"1px solid rgba(74,222,128,0.2)":"1px solid transparent",marginBottom:6,transition:"all 0.2s"},children:[m.jsx("div",{style:{width:22,height:22,borderRadius:6,border:M?"2px solid #4ade80":"2px solid rgba(255,255,255,0.2)",background:M?"#4ade80":"transparent",display:"flex",alignItems:"center",justifyContent:"center",fontSize:14,color:"#09090b",fontWeight:700},children:M&&""}),m.jsx("div",{style:{flex:1},children:m.jsx("div",{style:{fontSize:13,fontWeight:500,color:M?"#4ade80":"#e2e8f0",textDecoration:M?"line-through":"none"},children:S.name})}),m.jsx("span",{style:{fontSize:10,fontWeight:600,padding:"2px 8px",borderRadius:4,background:S.category==="fitness"?"rgba(192,132,252,0.15)":"rgba(74,222,128,0.15)",color:S.category==="fitness"?"#c084fc":"#4ade80",textTransform:"uppercase"},children:S.category})]},S.id)})})]}),m.jsxs("div",{style:{background:"rgba(255,255,255,0.02)",border:"1px solid rgba(255,255,255,0.06)",borderRadius:14,overflow:"hidden"},children:[m.jsxs("div",{style:{padding:"12px 20px",borderBottom:"1px solid rgba(255,255,255,0.06)",background:"rgba(99,102,241,0.08)"},children:[m.jsx("span",{style:{fontSize:13,fontWeight:700,color:"#818cf8"},children:"Evening Routine"}),m.jsx("span",{style:{fontSize:11,color:"#64748b",marginLeft:8},children:"Before bed, around 10 PM"})]}),m.jsx("div",{style:{padding:12},children:W.items.filter(S=>S.time==="evening").map(S=>{const B=new Date().toISOString().split("T")[0],M=W.log[B]?.[S.id]||!1;return m.jsxs("div",{onClick:()=>{const ee=new Date().toISOString().split("T")[0];ie(ne=>({...ne,log:{...ne.log,[ee]:{...ne.log[ee],[S.id]:!M}}}))},style:{display:"flex",alignItems:"center",gap:12,padding:"10px 12px",borderRadius:8,cursor:"pointer",background:M?"rgba(74,222,128,0.08)":"transparent",border:M?"1px solid rgba(74,222,128,0.2)":"1px solid transparent",marginBottom:6,transition:"all 0.2s"},children:[m.jsx("div",{style:{width:22,height:22,borderRadius:6,border:M?"2px solid #4ade80":"2px solid rgba(255,255,255,0.2)",background:M?"#4ade80":"transparent",display:"flex",alignItems:"center",justifyContent:"center",fontSize:14,color:"#09090b",fontWeight:700},children:M&&""}),m.jsx("div",{style:{flex:1},children:m.jsx("div",{style:{fontSize:13,fontWeight:500,color:M?"#4ade80":"#e2e8f0",textDecoration:M?"line-through":"none"},children:S.name})}),m.jsx("span",{style:{fontSize:10,fontWeight:600,padding:"2px 8px",borderRadius:4,background:S.category==="meds"?"rgba(239,68,68,0.15)":"rgba(96,165,250,0.15)",color:S.category==="meds"?"#f87171":"#60a5fa",textTransform:"uppercase"},children:S.category})]},S.id)})})]}),m.jsxs("div",{style:{background:"rgba(255,255,255,0.02)",border:"1px solid rgba(255,255,255,0.06)",borderRadius:14,padding:20},children:[m.jsx("div",{style:{fontSize:13,fontWeight:700,marginBottom:16},children:"This Week"}),m.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(7, 1fr)",gap:8},children:Kd.map((S,B)=>{const M=new Date,ee=M.getDay(),ne=B-(ee===0?6:ee-1),ge=new Date(M);ge.setDate(M.getDate()+ne);const de=ge.toISOString().split("T")[0],Re=W.log[de]||{},Le=Object.values(Re).filter(Boolean).length,Ht=W.items.length,rn=Ht>0?Le/Ht*100:0,Tr=ne===0;return m.jsxs("div",{style:{textAlign:"center"},children:[m.jsx("div",{style:{fontSize:10,color:Tr?"#4ade80":"#64748b",fontWeight:Tr?700:500,marginBottom:8},children:S.slice(0,3)}),m.jsx("div",{style:{width:"100%",paddingBottom:"100%",borderRadius:8,position:"relative",background:rn===100?"rgba(74,222,128,0.2)":rn>0?"rgba(251,191,36,0.15)":"rgba(255,255,255,0.05)",border:Tr?"2px solid #4ade80":"1px solid rgba(255,255,255,0.06)"},children:m.jsxs("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",fontSize:11,fontWeight:600,color:rn===100?"#4ade80":rn>0?"#fbbf24":"#64748b"},children:[Le,"/",Ht]})})]},S)})})]})]}),d==="body"&&m.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:20},children:[m.jsxs("div",{style:{background:"rgba(255,255,255,0.02)",border:"1px solid rgba(255,255,255,0.06)",borderRadius:14,padding:20},children:[m.jsx("div",{style:{fontSize:13,fontWeight:700,marginBottom:16},children:"Log Today"}),m.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 2fr auto",gap:12,alignItems:"end"},children:[m.jsxs("div",{children:[m.jsx("div",{style:{fontSize:10,fontWeight:600,color:"#64748b",letterSpacing:"0.5px",marginBottom:6},children:"WEIGHT (lbs)"}),m.jsx("input",{type:"number",id:"bodyWeight",placeholder:"210",style:{width:"100%",padding:"10px 12px",borderRadius:8,background:"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.1)",color:"#e2e8f0",fontSize:14,fontFamily:"'JetBrains Mono', monospace",outline:"none"}})]}),m.jsxs("div",{children:[m.jsx("div",{style:{fontSize:10,fontWeight:600,color:"#64748b",letterSpacing:"0.5px",marginBottom:6},children:"WAIST (in)"}),m.jsx("input",{type:"number",id:"bodyWaist",placeholder:"36",step:"0.5",style:{width:"100%",padding:"10px 12px",borderRadius:8,background:"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.1)",color:"#e2e8f0",fontSize:14,fontFamily:"'JetBrains Mono', monospace",outline:"none"}})]}),m.jsxs("div",{children:[m.jsx("div",{style:{fontSize:10,fontWeight:600,color:"#64748b",letterSpacing:"0.5px",marginBottom:6},children:"NOTES"}),m.jsx("input",{type:"text",id:"bodyNotes",placeholder:"After workout, fasted, etc.",style:{width:"100%",padding:"10px 12px",borderRadius:8,background:"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.1)",color:"#e2e8f0",fontSize:13,outline:"none"}})]}),m.jsx("button",{onClick:()=>{const S=parseFloat(document.getElementById("bodyWeight").value),B=parseFloat(document.getElementById("bodyWaist").value)||null,M=document.getElementById("bodyNotes").value||"";if(!S)return;const ee=new Date().toISOString().split("T")[0];O(ne=>{const ge=ne.findIndex(de=>de.date===ee);return ge>=0?ne.map((de,Re)=>Re===ge?{date:ee,weight:S,waist:B,notes:M}:de):[...ne,{date:ee,weight:S,waist:B,notes:M}].sort((de,Re)=>de.date.localeCompare(Re.date))}),document.getElementById("bodyWeight").value="",document.getElementById("bodyWaist").value="",document.getElementById("bodyNotes").value=""},style:{padding:"10px 20px",borderRadius:8,background:"rgba(74,222,128,0.15)",border:"1px solid rgba(74,222,128,0.3)",color:"#4ade80",fontSize:13,fontWeight:600,cursor:"pointer"},children:"+ Log"})]})]}),m.jsxs("div",{style:{background:"rgba(255,255,255,0.02)",border:"1px solid rgba(255,255,255,0.06)",borderRadius:14,padding:20},children:[m.jsx("div",{style:{fontSize:13,fontWeight:700,marginBottom:16},children:"Progress"}),m.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:16},children:[m.jsxs("div",{style:{textAlign:"center",padding:"12px",background:"rgba(255,255,255,0.03)",borderRadius:10},children:[m.jsx("div",{style:{fontSize:10,color:"#64748b",marginBottom:4},children:"STARTING"}),m.jsx("div",{style:{fontSize:24,fontWeight:700,fontFamily:"'JetBrains Mono', monospace"},children:fe[0]?.weight||""}),m.jsx("div",{style:{fontSize:10,color:"#64748b"},children:"lbs"})]}),m.jsxs("div",{style:{textAlign:"center",padding:"12px",background:"rgba(74,222,128,0.08)",borderRadius:10,border:"1px solid rgba(74,222,128,0.2)"},children:[m.jsx("div",{style:{fontSize:10,color:"#64748b",marginBottom:4},children:"CURRENT"}),m.jsx("div",{style:{fontSize:24,fontWeight:700,fontFamily:"'JetBrains Mono', monospace",color:"#4ade80"},children:fe[fe.length-1]?.weight||""}),m.jsx("div",{style:{fontSize:10,color:"#64748b"},children:"lbs"})]}),m.jsxs("div",{style:{textAlign:"center",padding:"12px",background:"rgba(255,255,255,0.03)",borderRadius:10},children:[m.jsx("div",{style:{fontSize:10,color:"#64748b",marginBottom:4},children:"CHANGE"}),m.jsx("div",{style:{fontSize:24,fontWeight:700,fontFamily:"'JetBrains Mono', monospace",color:fe[0]?.weight-fe[fe.length-1]?.weight>0?"#4ade80":"#ef4444"},children:fe.length>1?(fe[0].weight-fe[fe.length-1].weight>0?"-":"+")+Math.abs(fe[0].weight-fe[fe.length-1].weight).toFixed(1):"0"}),m.jsx("div",{style:{fontSize:10,color:"#64748b"},children:"lbs"})]}),m.jsxs("div",{style:{textAlign:"center",padding:"12px",background:"rgba(96,165,250,0.08)",borderRadius:10,border:"1px solid rgba(96,165,250,0.2)"},children:[m.jsx("div",{style:{fontSize:10,color:"#64748b",marginBottom:4},children:"GOAL"}),m.jsx("div",{style:{fontSize:24,fontWeight:700,fontFamily:"'JetBrains Mono', monospace",color:"#60a5fa"},children:"185"}),m.jsx("div",{style:{fontSize:10,color:"#64748b"},children:"lbs"})]})]}),m.jsx("div",{style:{marginTop:16,height:8,background:"rgba(255,255,255,0.1)",borderRadius:4,overflow:"hidden"},children:(()=>{const S=fe[0]?.weight||210,B=fe[fe.length-1]?.weight||210,ee=S-185,ne=S-B,ge=ee>0?Math.min(100,Math.max(0,ne/ee*100)):0;return m.jsx("div",{style:{height:"100%",width:`${ge}%`,background:"linear-gradient(90deg, #4ade80, #22c55e)",borderRadius:4,transition:"width 0.3s"}})})()}),m.jsx("div",{style:{fontSize:11,color:"#64748b",marginTop:8,textAlign:"center"},children:(()=>{const B=(fe[fe.length-1]?.weight||210)-185;return B>0?`${B.toFixed(1)} lbs to goal`:"Goal reached!"})()})]}),m.jsxs("div",{style:{background:"rgba(255,255,255,0.02)",border:"1px solid rgba(255,255,255,0.06)",borderRadius:14,overflow:"hidden"},children:[m.jsxs("div",{style:{padding:"14px 20px",borderBottom:"1px solid rgba(255,255,255,0.06)",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[m.jsx("span",{style:{fontSize:13,fontWeight:700},children:"History"}),m.jsxs("span",{style:{fontSize:11,color:"#64748b"},children:[fe.length," entries"]})]}),m.jsx("div",{style:{maxHeight:300,overflowY:"auto"},children:[...fe].reverse().map((S,B)=>m.jsxs("div",{style:{display:"grid",gridTemplateColumns:"100px 80px 80px 1fr 28px",gap:12,padding:"10px 20px",alignItems:"center",borderBottom:"1px solid rgba(255,255,255,0.03)",background:B===0?"rgba(74,222,128,0.05)":"transparent"},children:[m.jsx("div",{style:{fontSize:12,color:"#94a3b8"},children:S.date}),m.jsxs("div",{style:{fontSize:14,fontWeight:600,fontFamily:"'JetBrains Mono', monospace"},children:[S.weight," lbs"]}),m.jsx("div",{style:{fontSize:13,color:S.waist?"#e2e8f0":"#4b5563"},children:S.waist?`${S.waist}"`:""}),m.jsx("div",{style:{fontSize:12,color:"#64748b"},children:S.notes||""}),m.jsx("button",{onClick:()=>O(M=>M.filter(ee=>ee.date!==S.date)),style:{background:"none",border:"none",color:"#ef444466",cursor:"pointer",fontSize:14,opacity:.4},onMouseEnter:M=>M.target.style.opacity=1,onMouseLeave:M=>M.target.style.opacity=.4,children:""})]},S.date))})]}),fe.some(S=>S.waist)&&m.jsxs("div",{style:{background:"rgba(255,255,255,0.02)",border:"1px solid rgba(255,255,255,0.06)",borderRadius:14,padding:20},children:[m.jsx("div",{style:{fontSize:13,fontWeight:700,marginBottom:16},children:"Waist Progress"}),m.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:16},children:[m.jsxs("div",{style:{textAlign:"center"},children:[m.jsx("div",{style:{fontSize:10,color:"#64748b",marginBottom:4},children:"FIRST LOGGED"}),m.jsxs("div",{style:{fontSize:24,fontWeight:700,fontFamily:"'JetBrains Mono', monospace"},children:[fe.find(S=>S.waist)?.waist||"",'"']})]}),m.jsxs("div",{style:{textAlign:"center"},children:[m.jsx("div",{style:{fontSize:10,color:"#64748b",marginBottom:4},children:"CURRENT"}),m.jsxs("div",{style:{fontSize:24,fontWeight:700,fontFamily:"'JetBrains Mono', monospace",color:"#4ade80"},children:[[...fe].reverse().find(S=>S.waist)?.waist||"",'"']})]}),m.jsxs("div",{style:{textAlign:"center"},children:[m.jsx("div",{style:{fontSize:10,color:"#64748b",marginBottom:4},children:"GOAL"}),m.jsx("div",{style:{fontSize:24,fontWeight:700,fontFamily:"'JetBrains Mono', monospace",color:"#60a5fa"},children:'32"'})]})]})]})]}),d==="health"&&m.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:20},children:[m.jsxs("div",{style:{background:"rgba(255,255,255,0.02)",border:"1px solid rgba(255,255,255,0.06)",borderRadius:14,overflow:"hidden"},children:[m.jsx("div",{style:{padding:"14px 20px",borderBottom:"1px solid rgba(255,255,255,0.06)",background:"rgba(255,255,255,0.02)"},children:m.jsx("span",{style:{fontSize:13,fontWeight:700,letterSpacing:"0.5px"},children:"Profile"})}),m.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(220px, 1fr))",gap:0},children:Object.entries(b).map(([S,B])=>m.jsxs("div",{style:{padding:"10px 20px",borderBottom:"1px solid rgba(255,255,255,0.03)"},children:[m.jsx("div",{style:{fontSize:10,fontWeight:600,color:"#64748b",letterSpacing:"0.5px",textTransform:"uppercase",marginBottom:2},children:S.replace(/([A-Z])/g," $1")}),m.jsx(vt,{value:B,onChange:M=>Mn(S,M)})]},S))})]}),m.jsxs("div",{style:{background:"rgba(255,255,255,0.02)",border:"1px solid rgba(255,255,255,0.06)",borderRadius:14,overflow:"hidden"},children:[m.jsxs("div",{style:{padding:"14px 20px",borderBottom:"1px solid rgba(255,255,255,0.06)",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[m.jsx("span",{style:{fontSize:13,fontWeight:700},children:"Health Conditions"}),m.jsx("button",{onClick:()=>dn(oe,{condition:"New",date:"",impact:""}),style:{background:"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.1)",borderRadius:6,color:"#94a3b8",fontSize:11,padding:"4px 10px",cursor:"pointer"},children:"+ Add"})]}),se.map((S,B)=>m.jsxs("div",{style:{display:"grid",gridTemplateColumns:"180px 80px 1fr 28px",gap:12,padding:"10px 20px",alignItems:"center",borderBottom:"1px solid rgba(255,255,255,0.03)"},children:[m.jsx("div",{style:{fontSize:13,fontWeight:500},children:m.jsx(vt,{value:S.condition,onChange:M=>Bi(B,"condition",M)})}),m.jsx("div",{style:{fontSize:12,color:"#64748b"},children:m.jsx(vt,{value:S.date,onChange:M=>Bi(B,"date",M)})}),m.jsx("div",{style:{fontSize:12,color:"#94a3b8"},children:m.jsx(vt,{value:S.impact,onChange:M=>Bi(B,"impact",M)})}),m.jsx("button",{onClick:()=>br(oe,B),style:{background:"none",border:"none",color:"#ef444466",cursor:"pointer",fontSize:14,opacity:.4},onMouseEnter:M=>M.target.style.opacity=1,onMouseLeave:M=>M.target.style.opacity=.4,children:""})]},B))]}),m.jsxs("div",{style:{background:"rgba(255,255,255,0.02)",border:"1px solid rgba(255,255,255,0.06)",borderRadius:14,overflow:"hidden"},children:[m.jsxs("div",{style:{padding:"14px 20px",borderBottom:"1px solid rgba(255,255,255,0.06)",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[m.jsx("span",{style:{fontSize:13,fontWeight:700},children:"Lab Results (Oct 24, 2025)"}),m.jsx("button",{onClick:()=>dn(ye,{test:"New",result:"",unit:"",ref:"",status:"",action:""}),style:{background:"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.1)",borderRadius:6,color:"#94a3b8",fontSize:11,padding:"4px 10px",cursor:"pointer"},children:"+ Add"})]}),m.jsx("div",{style:{overflowX:"auto"},children:m.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[m.jsx("thead",{children:m.jsx("tr",{style:{borderBottom:"1px solid rgba(255,255,255,0.06)"},children:["Test","Result","Ref Range","Status","Action",""].map(S=>m.jsx("th",{style:{padding:"10px 16px",textAlign:"left",fontSize:10,fontWeight:700,letterSpacing:"1px",color:"#64748b",textTransform:"uppercase"},children:S},S))})}),m.jsx("tbody",{children:le.map((S,B)=>m.jsxs("tr",{style:{borderBottom:"1px solid rgba(255,255,255,0.03)"},children:[m.jsx("td",{style:{padding:"8px 16px",fontSize:13,fontWeight:500},children:m.jsx(vt,{value:S.test,onChange:M=>Hi(B,"test",M)})}),m.jsxs("td",{style:{padding:"8px 16px",fontFamily:"'JetBrains Mono', monospace",fontSize:13},children:[m.jsx(vt,{value:S.result,onChange:M=>Hi(B,"result",M)}),m.jsx("span",{style:{color:"#64748b",fontSize:11,marginLeft:4},children:S.unit})]}),m.jsx("td",{style:{padding:"8px 16px",fontSize:12,color:"#64748b"},children:S.ref}),m.jsx("td",{style:{padding:"8px 16px"},children:m.jsx(UR,{status:S.status})}),m.jsx("td",{style:{padding:"8px 16px",fontSize:12,color:"#94a3b8"},children:m.jsx(vt,{value:S.action,onChange:M=>Hi(B,"action",M)})}),m.jsx("td",{style:{padding:"8px 16px"},children:m.jsx("button",{onClick:()=>br(ye,B),style:{background:"none",border:"none",color:"#ef444466",cursor:"pointer",fontSize:14,opacity:.4},onMouseEnter:M=>M.target.style.opacity=1,onMouseLeave:M=>M.target.style.opacity=.4,children:""})})]},B))})]})})]}),m.jsxs("div",{style:{background:"rgba(255,255,255,0.02)",border:"1px solid rgba(255,255,255,0.06)",borderRadius:14,overflow:"hidden"},children:[m.jsxs("div",{style:{padding:"14px 20px",borderBottom:"1px solid rgba(255,255,255,0.06)",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[m.jsx("span",{style:{fontSize:13,fontWeight:700},children:"Medications"}),m.jsx("button",{onClick:()=>dn(x,{name:"New",timing:"",purpose:"",notes:""}),style:{background:"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.1)",borderRadius:6,color:"#94a3b8",fontSize:11,padding:"4px 10px",cursor:"pointer"},children:"+ Add"})]}),A.map((S,B)=>m.jsxs("div",{style:{display:"grid",gridTemplateColumns:"160px 120px 120px 1fr 28px",gap:12,padding:"10px 20px",alignItems:"center",borderBottom:"1px solid rgba(255,255,255,0.03)"},children:[m.jsx("div",{style:{fontSize:13,fontWeight:600},children:m.jsx(vt,{value:S.name,onChange:M=>hi(B,"name",M)})}),m.jsx("div",{style:{fontSize:12,color:"#64748b"},children:m.jsx(vt,{value:S.timing,onChange:M=>hi(B,"timing",M)})}),m.jsx("div",{style:{fontSize:12,color:"#94a3b8"},children:m.jsx(vt,{value:S.purpose,onChange:M=>hi(B,"purpose",M)})}),m.jsx("div",{style:{fontSize:12,color:"#78716c"},children:m.jsx(vt,{value:S.notes,onChange:M=>hi(B,"notes",M)})}),m.jsx("button",{onClick:()=>br(x,B),style:{background:"none",border:"none",color:"#ef444466",cursor:"pointer",fontSize:14,opacity:.4},onMouseEnter:M=>M.target.style.opacity=1,onMouseLeave:M=>M.target.style.opacity=.4,children:""})]},B))]}),m.jsxs("div",{style:{background:"rgba(255,255,255,0.02)",border:"1px solid rgba(255,255,255,0.06)",borderRadius:14,overflow:"hidden"},children:[m.jsxs("div",{style:{padding:"14px 20px",borderBottom:"1px solid rgba(255,255,255,0.06)",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[m.jsx("span",{style:{fontSize:13,fontWeight:700},children:"Supplement Stack"}),m.jsx("button",{onClick:()=>dn(X,{name:"New",dose:"",when:"",why:""}),style:{background:"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.1)",borderRadius:6,color:"#94a3b8",fontSize:11,padding:"4px 10px",cursor:"pointer"},children:"+ Add"})]}),L.map((S,B)=>m.jsxs("div",{style:{display:"grid",gridTemplateColumns:"160px 100px 140px 1fr 28px",gap:12,padding:"10px 20px",alignItems:"center",borderBottom:"1px solid rgba(255,255,255,0.03)"},children:[m.jsx("div",{style:{fontSize:13,fontWeight:600},children:m.jsx(vt,{value:S.name,onChange:M=>On(B,"name",M)})}),m.jsx("div",{style:{fontSize:12,fontFamily:"'JetBrains Mono', monospace",color:"#4ade80"},children:m.jsx(vt,{value:S.dose,onChange:M=>On(B,"dose",M)})}),m.jsx("div",{style:{fontSize:12,color:"#64748b"},children:m.jsx(vt,{value:S.when,onChange:M=>On(B,"when",M)})}),m.jsx("div",{style:{fontSize:12,color:"#94a3b8"},children:m.jsx(vt,{value:S.why,onChange:M=>On(B,"why",M)})}),m.jsx("button",{onClick:()=>br(X,B),style:{background:"none",border:"none",color:"#ef444466",cursor:"pointer",fontSize:14,opacity:.4},onMouseEnter:M=>M.target.style.opacity=1,onMouseLeave:M=>M.target.style.opacity=.4,children:""})]},B))]}),m.jsxs("div",{style:{background:"rgba(255,255,255,0.02)",border:"1px solid rgba(255,255,255,0.06)",borderRadius:14,overflow:"hidden"},children:[m.jsxs("div",{style:{padding:"14px 20px",borderBottom:"1px solid rgba(255,255,255,0.06)",display:"flex",justifyContent:"space-between",alignItems:"center",background:"rgba(96,165,250,0.05)"},children:[m.jsx("span",{style:{fontSize:13,fontWeight:700},children:"Lab History"}),m.jsx("button",{onClick:()=>{const S=prompt("Enter lab date (YYYY-MM-DD):",new Date().toISOString().split("T")[0]);S&&be(B=>[...B,{date:S,results:{glucose:null,alt:null,ast:null,hdl:null,testosterone:null,vitaminD:null,folate:null,hemoglobin:null,hematocrit:null,ferritin:null,hba1c:null,uricAcid:null,tsh:null}}].sort((M,ee)=>M.date.localeCompare(ee.date)))},style:{background:"rgba(96,165,250,0.15)",border:"1px solid rgba(96,165,250,0.3)",borderRadius:6,color:"#60a5fa",fontSize:11,padding:"4px 10px",cursor:"pointer"},children:"+ Add Lab Draw"})]}),m.jsx("div",{style:{overflowX:"auto"},children:m.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",minWidth:800},children:[m.jsx("thead",{children:m.jsxs("tr",{style:{borderBottom:"1px solid rgba(255,255,255,0.06)"},children:[m.jsx("th",{style:{padding:"10px 12px",textAlign:"left",fontSize:10,fontWeight:700,letterSpacing:"1px",color:"#64748b",position:"sticky",left:0,background:"#09090b"},children:"DATE"}),["Glucose","ALT","AST","HDL","Test","Vit D","Folate","Hgb","Hct","Ferritin","A1c","Uric","TSH"].map(S=>m.jsx("th",{style:{padding:"10px 8px",textAlign:"center",fontSize:9,fontWeight:600,letterSpacing:"0.5px",color:"#64748b"},children:S},S)),m.jsx("th",{style:{padding:"10px 8px",width:28}})]})}),m.jsx("tbody",{children:[...ae].reverse().map((S,B)=>m.jsxs("tr",{style:{borderBottom:"1px solid rgba(255,255,255,0.03)",background:B===0?"rgba(74,222,128,0.03)":"transparent"},children:[m.jsx("td",{style:{padding:"8px 12px",fontSize:11,fontWeight:600,color:"#94a3b8",position:"sticky",left:0,background:B===0?"rgba(74,222,128,0.03)":"#09090b"},children:S.date}),[{key:"glucose",ref:100,inverse:!0},{key:"alt",ref:44,inverse:!0},{key:"ast",ref:34,inverse:!0},{key:"hdl",ref:40,inverse:!1},{key:"testosterone",ref:400,inverse:!1},{key:"vitaminD",ref:30,inverse:!1},{key:"folate",ref:7,inverse:!1},{key:"hemoglobin",ref:17,inverse:!0},{key:"hematocrit",ref:51,inverse:!0},{key:"ferritin",ref:350,inverse:!0},{key:"hba1c",ref:5.6,inverse:!0},{key:"uricAcid",ref:7.7,inverse:!0},{key:"tsh",ref:5,inverse:!0}].map(({key:M,ref:ee,inverse:ne})=>{const ge=S.results?.[M],de=ge!=null&&(ne?ge<=ee:ge>=ee);return m.jsx("td",{style:{padding:"4px 8px",textAlign:"center"},children:m.jsx("input",{type:"number",step:"0.1",value:ge??"",onChange:Re=>{const Le=Re.target.value?parseFloat(Re.target.value):null;be(Ht=>Ht.map(rn=>rn.date===S.date?{...rn,results:{...rn.results,[M]:Le}}:rn))},style:{width:50,padding:"4px 6px",borderRadius:4,textAlign:"center",background:ge!=null?de?"rgba(74,222,128,0.1)":"rgba(239,68,68,0.1)":"rgba(255,255,255,0.03)",border:ge!=null?de?"1px solid rgba(74,222,128,0.3)":"1px solid rgba(239,68,68,0.3)":"1px solid rgba(255,255,255,0.08)",color:ge!=null?de?"#4ade80":"#f87171":"#64748b",fontSize:11,fontFamily:"'JetBrains Mono', monospace",outline:"none"}})},M)}),m.jsx("td",{style:{padding:"4px 8px"},children:m.jsx("button",{onClick:()=>be(M=>M.filter(ee=>ee.date!==S.date)),style:{background:"none",border:"none",color:"#ef444466",cursor:"pointer",fontSize:14,opacity:.4},onMouseEnter:M=>M.target.style.opacity=1,onMouseLeave:M=>M.target.style.opacity=.4,children:""})})]},S.date))})]})}),m.jsx("div",{style:{padding:"12px 20px",background:"rgba(255,255,255,0.02)",borderTop:"1px solid rgba(255,255,255,0.04)",fontSize:10,color:"#64748b"},children:"Green = at/better than target  Red = needs improvement  Click any cell to edit"})]})]}),d==="nutrition"&&m.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:20},children:[m.jsxs("div",{style:{background:"rgba(255,255,255,0.02)",border:"1px solid rgba(255,255,255,0.06)",borderRadius:14,overflow:"hidden"},children:[m.jsxs("div",{style:{padding:"14px 20px",borderBottom:"1px solid rgba(255,255,255,0.06)"},children:[m.jsx("span",{style:{fontSize:13,fontWeight:700},children:"Calorie Framework"}),m.jsx("span",{style:{fontSize:11,color:"#64748b",marginLeft:12},children:"Based on goal weight 185190 lbs"})]}),m.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)"},children:[{phase:"Aggressive Cut",formula:"Goal BW  15  600",cal:"~2,150/day",when:"Rapid fat loss only",accent:"#ef4444"},{phase:"Standard Cut",formula:"Goal BW  15  400",cal:"~2,350/day",when:"Primary fat loss (start here)",accent:"#f59e0b"},{phase:"Recomposition",formula:"Goal BW  15  200",cal:"~2,550/day",when:"Body recomp + muscle",accent:"#4ade80"}].map((S,B)=>m.jsxs("div",{style:{padding:20,borderRight:B<2?"1px solid rgba(255,255,255,0.04)":"none",textAlign:"center"},children:[m.jsx("div",{style:{fontSize:11,fontWeight:700,color:S.accent,letterSpacing:"0.5px",marginBottom:8},children:S.phase}),m.jsx("div",{style:{fontSize:24,fontWeight:700,fontFamily:"'JetBrains Mono', monospace",color:"#e2e8f0"},children:S.cal}),m.jsx("div",{style:{fontSize:11,color:"#64748b",marginTop:4},children:S.formula}),m.jsx("div",{style:{fontSize:11,color:"#94a3b8",marginTop:8,fontStyle:"italic"},children:S.when})]},B))})]}),m.jsxs("div",{style:{background:"rgba(255,255,255,0.02)",border:"1px solid rgba(255,255,255,0.06)",borderRadius:14,padding:20},children:[m.jsx("div",{style:{fontSize:13,fontWeight:700,marginBottom:16},children:"Daily Macro Targets"}),m.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:16},children:[{macro:"Protein",target:"~172g",note:"0.82g/lb. Prioritize at every meal.",color:"#ef4444"},{macro:"Carbs",target:"~250300g",note:"Save majority for dinner + post-workout.",color:"#f59e0b"},{macro:"Fats",target:"~7080g",note:"Olive oil, avocado, nuts, fish.",color:"#4ade80"}].map((S,B)=>m.jsxs("div",{style:{background:`${S.color}08`,border:`1px solid ${S.color}22`,borderRadius:10,padding:16,textAlign:"center"},children:[m.jsx("div",{style:{fontSize:11,fontWeight:700,color:S.color,letterSpacing:"1px"},children:S.macro.toUpperCase()}),m.jsx("div",{style:{fontSize:22,fontWeight:700,fontFamily:"'JetBrains Mono', monospace",margin:"8px 0",color:"#e2e8f0"},children:S.target}),m.jsx("div",{style:{fontSize:11,color:"#94a3b8"},children:S.note})]},B))})]}),m.jsxs("div",{style:{background:"rgba(255,255,255,0.02)",border:"1px solid rgba(255,255,255,0.06)",borderRadius:14,overflow:"hidden"},children:[m.jsxs("div",{style:{padding:"14px 20px",borderBottom:"1px solid rgba(255,255,255,0.06)"},children:[m.jsx("span",{style:{fontSize:13,fontWeight:700},children:"Meal Structure (Intermittent Fasting)"}),m.jsx("span",{style:{fontSize:11,color:"#64748b",marginLeft:12},children:"46 hour fasting window in morning"})]}),[{meal:"Meal 1 (Break Fast)",pct:"2025%",time:"~12:001:00 PM",what:"Light: protein + fruit + small carb. Greek yogurt, eggs, lean meat."},{meal:"Meal 2 (Dinner Feast)",pct:"5060%",time:"~6:307:30 PM",what:"Big meal: protein + carbs + veggies + fats. Main fuel."},{meal:"Meal 3 (Late Night)",pct:"1520%",time:"~9:009:30 PM",what:"Light: cottage cheese, protein shake, fruit, dark chocolate."}].map((S,B)=>m.jsxs("div",{style:{display:"grid",gridTemplateColumns:"180px 70px 120px 1fr",gap:12,padding:"12px 20px",alignItems:"center",borderBottom:"1px solid rgba(255,255,255,0.03)"},children:[m.jsx("div",{style:{fontSize:13,fontWeight:600},children:S.meal}),m.jsx("div",{style:{fontFamily:"'JetBrains Mono', monospace",fontSize:13,color:S.pct.startsWith("50")?"#4ade80":"#94a3b8",fontWeight:600},children:S.pct}),m.jsx("div",{style:{fontSize:12,color:"#64748b"},children:S.time}),m.jsx("div",{style:{fontSize:12,color:"#94a3b8"},children:S.what})]},B))]}),m.jsxs("div",{style:{background:"rgba(255,255,255,0.02)",border:"1px solid rgba(255,255,255,0.06)",borderRadius:14,padding:20},children:[m.jsx("div",{style:{fontSize:13,fontWeight:700,marginBottom:16},children:"VA-Specific Nutrition Mods"}),m.jsx("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:12},children:[{label:"Gout",text:"Red meat max 2x/week. No organ meats, shellfish. Zero beer. Replace with chicken, turkey, salmon, eggs.",color:"#ef4444"},{label:"Liver",text:"Zero alcohol 30 days. Cruciferous veggies daily (broccoli, cauliflower). Minimize processed foods.",color:"#f59e0b"},{label:"Glucose",text:"Protein + fat first at every meal, carbs last. Walk 1015 min after dinner. No juice, soda, candy.",color:"#fb923c"},{label:"Folate",text:"Spinach, asparagus, Brussels sprouts, lentils, avocado. 2+ servings dark leafy greens daily.",color:"#4ade80"},{label:"Hydration",text:"100oz+ water daily. Non-negotiable (gout + polycythemia). 40oz bottle, refill 3x. Extra during training.",color:"#60a5fa"}].map((S,B)=>m.jsxs("div",{style:{background:`${S.color}08`,border:`1px solid ${S.color}18`,borderRadius:10,padding:"12px 16px"},children:[m.jsx("div",{style:{fontSize:11,fontWeight:700,color:S.color,letterSpacing:"0.5px",marginBottom:6},children:S.label.toUpperCase()}),m.jsx("div",{style:{fontSize:12,color:"#94a3b8",lineHeight:1.5},children:S.text})]},B))})]})]}),d==="groceries"&&m.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:20},children:[m.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[m.jsxs("div",{children:[m.jsx("div",{style:{fontSize:15,fontWeight:700},children:"Weekly Grocery List"}),m.jsx("div",{style:{fontSize:12,color:"#64748b",marginTop:2},children:"Based on your nutrition targets  check off items as you shop"})]}),m.jsxs("div",{style:{display:"flex",gap:8},children:[m.jsx("button",{onClick:()=>{const S={};Object.keys(K).forEach(B=>{S[B]=K[B].map(M=>({...M,have:!1}))}),te(S)},style:{background:"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.1)",borderRadius:6,color:"#94a3b8",fontSize:11,padding:"6px 12px",cursor:"pointer"},children:"Clear All"}),m.jsx("button",{onClick:()=>te(kc),style:{background:"rgba(96,165,250,0.08)",border:"1px solid rgba(96,165,250,0.2)",borderRadius:6,color:"#60a5fa",fontSize:11,padding:"6px 12px",cursor:"pointer"},children:"Reset Defaults"})]})]}),m.jsxs("div",{style:{background:"rgba(239,68,68,0.06)",border:"1px solid rgba(239,68,68,0.15)",borderRadius:10,padding:"12px 16px"},children:[m.jsx("div",{style:{fontSize:11,fontWeight:700,color:"#ef4444",letterSpacing:"0.5px",marginBottom:6},children:"AVOID (VA MODS)"}),m.jsx("div",{style:{fontSize:12,color:"#94a3b8"},children:"Red meat (max 2x/wk)  Shellfish & organ meats (gout)  Alcohol (liver)  Juice, soda, candy (glucose)  Processed foods"})]}),[{key:"proteins",label:"Proteins",color:"#ef4444",icon:""},{key:"carbs",label:"Carbs",color:"#f59e0b",icon:""},{key:"vegetables",label:"Vegetables",color:"#4ade80",icon:""},{key:"fats",label:"Healthy Fats",color:"#60a5fa",icon:""},{key:"fruits",label:"Fruits",color:"#c084fc",icon:""},{key:"other",label:"Other",color:"#94a3b8",icon:""}].map(({key:S,label:B,color:M,icon:ee})=>m.jsxs("div",{style:{background:"rgba(255,255,255,0.02)",border:"1px solid rgba(255,255,255,0.06)",borderRadius:14,overflow:"hidden"},children:[m.jsxs("div",{style:{padding:"12px 20px",borderBottom:"1px solid rgba(255,255,255,0.06)",background:`${M}08`,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[m.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8},children:[m.jsx("span",{children:ee}),m.jsx("span",{style:{fontSize:13,fontWeight:700,color:M},children:B}),m.jsxs("span",{style:{fontSize:11,color:"#64748b"},children:["(",K[S]?.filter(ne=>ne.have).length,"/",K[S]?.length,")"]})]}),m.jsx("button",{onClick:()=>{te(ne=>({...ne,[S]:[...ne[S],{item:"New item",qty:"",notes:"",have:!1}]}))},style:{background:"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.1)",borderRadius:6,color:"#94a3b8",fontSize:11,padding:"4px 10px",cursor:"pointer"},children:"+ Add"})]}),m.jsx("div",{children:K[S]?.map((ne,ge)=>m.jsxs("div",{style:{display:"grid",gridTemplateColumns:"32px 1fr 100px 1fr 28px",alignItems:"center",gap:12,padding:"10px 20px",borderBottom:ge<K[S].length-1?"1px solid rgba(255,255,255,0.03)":"none",opacity:ne.have?.5:1,transition:"opacity 0.2s"},children:[m.jsx("input",{type:"checkbox",checked:ne.have,onChange:de=>{te(Re=>({...Re,[S]:Re[S].map((Le,Ht)=>Ht===ge?{...Le,have:de.target.checked}:Le)}))},style:{width:18,height:18,cursor:"pointer",accentColor:M}}),m.jsx("div",{style:{fontSize:13,fontWeight:500,textDecoration:ne.have?"line-through":"none"},children:m.jsx(vt,{value:ne.item,onChange:de=>{te(Re=>({...Re,[S]:Re[S].map((Le,Ht)=>Ht===ge?{...Le,item:de}:Le)}))}})}),m.jsx("div",{style:{fontSize:12,fontFamily:"'JetBrains Mono', monospace",color:"#64748b"},children:m.jsx(vt,{value:ne.qty,onChange:de=>{te(Re=>({...Re,[S]:Re[S].map((Le,Ht)=>Ht===ge?{...Le,qty:de}:Le)}))}})}),m.jsx("div",{style:{fontSize:12,color:"#94a3b8"},children:m.jsx(vt,{value:ne.notes,onChange:de=>{te(Re=>({...Re,[S]:Re[S].map((Le,Ht)=>Ht===ge?{...Le,notes:de}:Le)}))}})}),m.jsx("button",{onClick:()=>{te(de=>({...de,[S]:de[S].filter((Re,Le)=>Le!==ge)}))},style:{background:"none",border:"none",color:"#ef444466",cursor:"pointer",fontSize:14,opacity:.4},onMouseEnter:de=>de.target.style.opacity=1,onMouseLeave:de=>de.target.style.opacity=.4,children:""})]},ge))})]},S)),m.jsxs("div",{style:{background:"rgba(74,222,128,0.06)",border:"1px solid rgba(74,222,128,0.15)",borderRadius:10,padding:"12px 16px"},children:[m.jsx("div",{style:{fontSize:11,fontWeight:700,color:"#4ade80",letterSpacing:"0.5px",marginBottom:6},children:"SUNDAY MEAL PREP"}),m.jsx("div",{style:{fontSize:12,color:"#94a3b8",lineHeight:1.6},children:"1. Cook 4 lbs chicken (season half differently)  2. Make big batch rice + quinoa  3. Roast sweet potatoes + Brussels sprouts  4. Prep overnight oats (3-4 jars)  5. Wash/portion greens"})]})]}),d==="meals"&&m.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:20},children:[m.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[m.jsxs("div",{children:[m.jsx("div",{style:{fontSize:15,fontWeight:700},children:"Tempo Meals + Supplements"}),m.jsx("div",{style:{fontSize:12,color:"#64748b",marginTop:2},children:"Zero cooking  Tempo delivers, you supplement to hit macros"})]}),m.jsxs("div",{style:{display:"flex",gap:8},children:[m.jsx("button",{onClick:()=>{Oe(S=>({...S,tempoMeals:S.tempoMeals.map(B=>({...B,done:!1})),supplements:S.supplements.map(B=>({...B,done:!1}))}))},style:{background:"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.1)",borderRadius:6,color:"#94a3b8",fontSize:11,padding:"6px 12px",cursor:"pointer"},children:"Reset Day"}),m.jsx("button",{onClick:()=>Oe(Oc),style:{background:"rgba(96,165,250,0.08)",border:"1px solid rgba(96,165,250,0.2)",borderRadius:6,color:"#60a5fa",fontSize:11,padding:"6px 12px",cursor:"pointer"},children:"Reset All"})]})]}),(()=>{const S=ce.tempoMeals?.reduce((de,Re)=>({cal:de.cal+(Re.done?464:0),protein:de.protein+(Re.done?28:0)}),{cal:0,protein:0})||{cal:0,protein:0},B=ce.supplements?.reduce((de,Re)=>({cal:de.cal+(Re.done?Re.cal:0),protein:de.protein+(Re.done?Re.protein:0)}),{cal:0,protein:0})||{cal:0,protein:0},M=S.cal+B.cal,ee=S.protein+B.protein,ne=2347,ge=168;return m.jsx("div",{style:{background:"rgba(255,255,255,0.02)",border:"1px solid rgba(255,255,255,0.06)",borderRadius:14,padding:20},children:m.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:20},children:[m.jsxs("div",{children:[m.jsx("div",{style:{fontSize:11,fontWeight:600,color:"#64748b",letterSpacing:"0.5px",marginBottom:8},children:"CALORIES"}),m.jsxs("div",{style:{display:"flex",alignItems:"baseline",gap:8},children:[m.jsx("span",{style:{fontSize:28,fontWeight:700,fontFamily:"'JetBrains Mono', monospace",color:M>=ne?"#4ade80":"#e2e8f0"},children:M}),m.jsxs("span",{style:{fontSize:14,color:"#64748b"},children:["/ ",ne]})]}),m.jsx("div",{style:{marginTop:8,height:6,background:"rgba(255,255,255,0.1)",borderRadius:3,overflow:"hidden"},children:m.jsx("div",{style:{height:"100%",width:`${Math.min(100,M/ne*100)}%`,background:M>=ne?"#4ade80":"#f59e0b",borderRadius:3,transition:"width 0.3s"}})})]}),m.jsxs("div",{children:[m.jsx("div",{style:{fontSize:11,fontWeight:600,color:"#64748b",letterSpacing:"0.5px",marginBottom:8},children:"PROTEIN"}),m.jsxs("div",{style:{display:"flex",alignItems:"baseline",gap:8},children:[m.jsxs("span",{style:{fontSize:28,fontWeight:700,fontFamily:"'JetBrains Mono', monospace",color:ee>=ge?"#4ade80":"#e2e8f0"},children:[ee,"g"]}),m.jsxs("span",{style:{fontSize:14,color:"#64748b"},children:["/ ",ge,"g"]})]}),m.jsx("div",{style:{marginTop:8,height:6,background:"rgba(255,255,255,0.1)",borderRadius:3,overflow:"hidden"},children:m.jsx("div",{style:{height:"100%",width:`${Math.min(100,ee/ge*100)}%`,background:ee>=ge?"#4ade80":"#ef4444",borderRadius:3,transition:"width 0.3s"}})})]})]})})})(),m.jsxs("div",{style:{background:"rgba(255,255,255,0.02)",border:"1px solid rgba(255,255,255,0.06)",borderRadius:14,overflow:"hidden"},children:[m.jsxs("div",{style:{padding:"12px 20px",borderBottom:"1px solid rgba(255,255,255,0.06)",background:"rgba(251,146,60,0.08)",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[m.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8},children:[m.jsx("span",{style:{fontSize:13,fontWeight:700,color:"#fb923c"},children:"Your Tempo Meals"}),m.jsx("span",{style:{fontSize:11,color:"#64748b"},children:"20 meals  $142.59"})]}),m.jsxs("span",{style:{fontSize:11,color:"#64748b"},children:[ce.tempoMeals?.filter(S=>S.done).length||0,"/20 eaten"]})]}),m.jsx("div",{style:{maxHeight:400,overflowY:"auto"},children:ce.tempoMeals?.map((S,B)=>m.jsxs("div",{style:{display:"grid",gridTemplateColumns:"32px 1fr 70px 50px",gap:12,padding:"10px 20px",alignItems:"center",borderBottom:B<ce.tempoMeals.length-1?"1px solid rgba(255,255,255,0.03)":"none",opacity:S.done?.4:1,background:S.warning?.includes("SKIP")?"rgba(239,68,68,0.08)":"transparent"},children:[m.jsx("input",{type:"checkbox",checked:S.done,onChange:M=>{Oe(ee=>({...ee,tempoMeals:ee.tempoMeals.map((ne,ge)=>ge===B?{...ne,done:M.target.checked}:ne)}))},style:{width:18,height:18,cursor:"pointer",accentColor:S.warning?.includes("SKIP")?"#ef4444":"#fb923c"}}),m.jsxs("div",{children:[m.jsx("div",{style:{fontSize:13,fontWeight:600,textDecoration:S.done?"line-through":"none"},children:S.meal}),m.jsx("div",{style:{fontSize:11,color:"#64748b"},children:S.desc}),S.warning&&m.jsx("div",{style:{fontSize:10,color:S.warning.includes("SKIP")?"#ef4444":"#f59e0b",marginTop:2,fontWeight:600},children:S.warning})]}),m.jsx("div",{style:{fontSize:11,fontFamily:"'JetBrains Mono', monospace",color:"#f59e0b",textAlign:"right"},children:S.cal}),m.jsxs("div",{style:{fontSize:11,fontFamily:"'JetBrains Mono', monospace",color:S.protein>=30?"#4ade80":"#f59e0b",textAlign:"right"},children:[S.protein,"g"]})]},B))})]}),m.jsxs("div",{style:{background:"rgba(255,255,255,0.02)",border:"1px solid rgba(255,255,255,0.06)",borderRadius:14,overflow:"hidden"},children:[m.jsxs("div",{style:{padding:"12px 20px",borderBottom:"1px solid rgba(255,255,255,0.06)",background:"rgba(74,222,128,0.08)",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[m.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8},children:[m.jsx("span",{style:{fontSize:13,fontWeight:700,color:"#4ade80"},children:"Required Supplements"}),m.jsx("span",{style:{fontSize:11,color:"#64748b"},children:"+955 cal  +84g protein"})]}),m.jsx("span",{style:{fontSize:11,color:"#4ade80"},children:"Must complete to hit macros"})]}),ce.supplements?.map((S,B)=>m.jsxs("div",{style:{display:"grid",gridTemplateColumns:"32px 1fr 1fr 80px 80px",gap:12,padding:"12px 20px",alignItems:"center",borderBottom:B<ce.supplements.length-1?"1px solid rgba(255,255,255,0.03)":"none",opacity:S.done?.5:1},children:[m.jsx("input",{type:"checkbox",checked:S.done,onChange:M=>{Oe(ee=>({...ee,supplements:ee.supplements.map((ne,ge)=>ge===B?{...ne,done:M.target.checked}:ne)}))},style:{width:18,height:18,cursor:"pointer",accentColor:"#4ade80"}}),m.jsxs("div",{children:[m.jsx("div",{style:{fontSize:13,fontWeight:600,textDecoration:S.done?"line-through":"none"},children:S.item}),m.jsx("div",{style:{fontSize:11,color:"#64748b"},children:S.notes})]}),m.jsx("div",{style:{fontSize:12,color:"#64748b"},children:S.when}),m.jsxs("div",{style:{fontSize:12,fontFamily:"'JetBrains Mono', monospace",color:"#f59e0b"},children:[S.cal," cal"]}),m.jsxs("div",{style:{fontSize:12,fontFamily:"'JetBrains Mono', monospace",color:"#ef4444"},children:[S.protein,"g"]})]},B))]}),m.jsxs("div",{style:{background:"rgba(255,255,255,0.02)",border:"1px solid rgba(255,255,255,0.06)",borderRadius:14,overflow:"hidden"},children:[m.jsxs("div",{style:{padding:"12px 20px",borderBottom:"1px solid rgba(255,255,255,0.06)",background:"rgba(192,132,252,0.06)",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[m.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8},children:[m.jsx("span",{style:{fontSize:13,fontWeight:700,color:"#c084fc"},children:"Weekly Prep"}),m.jsxs("span",{style:{fontSize:11,color:"#64748b"},children:["(",ce.weeklyPrep?.filter(S=>S.done).length,"/",ce.weeklyPrep?.length," done)"]})]}),m.jsx("button",{onClick:()=>{Oe(S=>({...S,weeklyPrep:S.weeklyPrep.map(B=>({...B,done:!1}))}))},style:{background:"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.1)",borderRadius:6,color:"#94a3b8",fontSize:11,padding:"4px 10px",cursor:"pointer"},children:"Clear"})]}),ce.weeklyPrep?.map((S,B)=>m.jsxs("div",{style:{display:"grid",gridTemplateColumns:"32px 1fr",gap:12,padding:"12px 20px",alignItems:"flex-start",borderBottom:B<ce.weeklyPrep.length-1?"1px solid rgba(255,255,255,0.03)":"none",opacity:S.done?.5:1},children:[m.jsx("input",{type:"checkbox",checked:S.done,onChange:M=>{Oe(ee=>({...ee,weeklyPrep:ee.weeklyPrep.map((ne,ge)=>ge===B?{...ne,done:M.target.checked}:ne)}))},style:{width:18,height:18,cursor:"pointer",accentColor:"#c084fc",marginTop:2}}),m.jsxs("div",{children:[m.jsx("div",{style:{fontSize:13,fontWeight:500,textDecoration:S.done?"line-through":"none"},children:S.task}),m.jsx("div",{style:{fontSize:11,color:"#64748b",marginTop:2},children:S.tip})]})]},B))]}),m.jsxs("div",{style:{background:"rgba(74,222,128,0.06)",border:"1px solid rgba(74,222,128,0.15)",borderRadius:10,padding:"12px 16px"},children:[m.jsx("div",{style:{fontSize:11,fontWeight:700,color:"#4ade80",letterSpacing:"0.5px",marginBottom:6},children:"DAILY TOTAL WHEN COMPLETE"}),m.jsxs("div",{style:{fontSize:12,color:"#94a3b8",lineHeight:1.6},children:[m.jsx("strong",{children:"~2,347 cal"})," (Tempo 1,392 + Supps 955)  ",m.jsx("strong",{children:"~168g protein"})," (Tempo 84g + Supps 84g)  Hits your targets with zero cooking."]})]})]}),d==="targets"&&m.jsxs("div",{children:[m.jsxs("div",{style:{background:"rgba(255,255,255,0.02)",border:"1px solid rgba(255,255,255,0.06)",borderRadius:14,overflow:"hidden"},children:[m.jsxs("div",{style:{padding:"14px 20px",borderBottom:"1px solid rgba(255,255,255,0.06)",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[m.jsx("span",{style:{fontSize:13,fontWeight:700},children:"90-Day Targets"}),m.jsxs("div",{style:{display:"flex",gap:8,alignItems:"center"},children:[fn.length>0&&m.jsxs("button",{onClick:Yt,style:{background:"rgba(250,204,21,0.1)",border:"1px solid rgba(250,204,21,0.25)",borderRadius:6,color:"#facc15",fontSize:11,padding:"4px 10px",cursor:"pointer",display:"flex",alignItems:"center",gap:4},children:[" Undo ",fn.length>1?`(${fn.length})`:""]}),m.jsx("button",{onClick:qi,style:{background:"rgba(96,165,250,0.08)",border:"1px solid rgba(96,165,250,0.2)",borderRadius:6,color:"#60a5fa",fontSize:11,padding:"4px 10px",cursor:"pointer"},children:" Reset Defaults"}),m.jsx("button",{onClick:()=>dn(_e,{metric:"New",current:"",target:"",how:""}),style:{background:"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.1)",borderRadius:6,color:"#94a3b8",fontSize:11,padding:"4px 10px",cursor:"pointer"},children:"+ Add Target"})]})]}),m.jsx("div",{style:{overflowX:"auto"},children:m.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[m.jsx("thead",{children:m.jsx("tr",{style:{borderBottom:"1px solid rgba(255,255,255,0.06)"},children:["Metric","Current","Target","How",""].map(S=>m.jsx("th",{style:{padding:"10px 16px",textAlign:"left",fontSize:10,fontWeight:700,letterSpacing:"1px",color:"#64748b",textTransform:"uppercase"},children:S},S))})}),m.jsx("tbody",{children:xe.map((S,B)=>m.jsxs("tr",{style:{borderBottom:"1px solid rgba(255,255,255,0.03)"},children:[m.jsx("td",{style:{padding:"10px 16px",fontSize:13,fontWeight:600},children:m.jsx(vt,{value:S.metric,onChange:M=>ht(B,"metric",M)})}),m.jsx("td",{style:{padding:"10px 16px",fontFamily:"'JetBrains Mono', monospace",fontSize:13,color:"#ef4444"},children:m.jsx(vt,{value:S.current,onChange:M=>ht(B,"current",M)})}),m.jsx("td",{style:{padding:"10px 16px",fontFamily:"'JetBrains Mono', monospace",fontSize:13,color:"#4ade80"},children:m.jsx(vt,{value:S.target,onChange:M=>ht(B,"target",M)})}),m.jsx("td",{style:{padding:"10px 16px",fontSize:12,color:"#94a3b8"},children:m.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:4},children:[S._autoHow!==!1&&m.jsx("span",{title:"Auto-generated",style:{fontSize:10,opacity:.5,flexShrink:0,marginTop:2},children:""}),m.jsx(vt,{value:S.how,onChange:M=>ht(B,"how",M)})]})}),m.jsx("td",{style:{padding:"10px 16px"},children:m.jsx("button",{onClick:()=>sa(B),style:{background:"none",border:"none",color:"#ef444466",cursor:"pointer",fontSize:14,opacity:.4},onMouseEnter:M=>M.target.style.opacity=1,onMouseLeave:M=>M.target.style.opacity=.4,children:""})})]},B))})]})})]}),m.jsxs("div",{style:{marginTop:20,background:"rgba(96,165,250,0.04)",border:"1px solid rgba(96,165,250,0.12)",borderRadius:14,padding:20},children:[m.jsx("div",{style:{fontSize:13,fontWeight:700,marginBottom:12},children:"Mental Health Integration"}),m.jsx("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:12},children:[{title:"PHQ-9 Trend",text:"18  15  12. Heading right. Target: below 10."},{title:"Exercise as Antidepressant",text:"3x/week heavy training = as effective as adding a second med."},{title:"Vitamin D + Depression",text:"At 16.7, deficiency directly contributes to symptoms. Getting above 40 improves mood."},{title:"Folate + SSRIs",text:"Low folate reduces Sertraline effectiveness. Methylfolate enhances SSRI response."}].map((S,B)=>m.jsxs("div",{style:{padding:"12px 16px",background:"rgba(0,0,0,0.2)",borderRadius:8},children:[m.jsx("div",{style:{fontSize:11,fontWeight:700,color:"#60a5fa",marginBottom:4},children:S.title}),m.jsx("div",{style:{fontSize:12,color:"#94a3b8",lineHeight:1.5},children:S.text})]},B))})]})]})]}),m.jsx("div",{style:{textAlign:"center",padding:"20px 24px",borderTop:"1px solid rgba(255,255,255,0.04)",fontSize:11,color:"#334155"},children:"Weekly Performance Plan v3.0  Kinobody Movie Star Integration + VA Medical Data  Feb 2026"})]})}mT.createRoot(document.getElementById("root")).render(m.jsx(Xe.StrictMode,{children:m.jsx(HR,{})}));
