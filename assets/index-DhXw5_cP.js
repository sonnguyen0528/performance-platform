(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();var Sd={exports:{}},hl={};var A_;function ib(){if(A_)return hl;A_=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(a,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var p in l)p!=="key"&&(c[p]=l[p])}else c=l;return l=c.ref,{$$typeof:s,type:a,key:d,ref:l!==void 0?l:null,props:c}}return hl.Fragment=t,hl.jsx=i,hl.jsxs=i,hl}var w_;function rb(){return w_||(w_=1,Sd.exports=ib()),Sd.exports}var S=rb(),Ad={exports:{}},St={};var R_;function sb(){if(R_)return St;R_=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),k=Symbol.iterator;function X(M){return M===null||typeof M!="object"?null:(M=k&&M[k]||M["@@iterator"],typeof M=="function"?M:null)}var it={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},rt=Object.assign,st={};function ft(M,Q,nt){this.props=M,this.context=Q,this.refs=st,this.updater=nt||it}ft.prototype.isReactComponent={},ft.prototype.setState=function(M,Q){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,Q,"setState")},ft.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function Et(){}Et.prototype=ft.prototype;function gt(M,Q,nt){this.props=M,this.context=Q,this.refs=st,this.updater=nt||it}var Bt=gt.prototype=new Et;Bt.constructor=gt,rt(Bt,ft.prototype),Bt.isPureReactComponent=!0;var Jt=Array.isArray;function Rt(){}var I={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function x(M,Q,nt){var at=nt.ref;return{$$typeof:s,type:M,key:Q,ref:at!==void 0?at:null,props:nt}}function V(M,Q){return x(M.type,Q,M.props)}function N(M){return typeof M=="object"&&M!==null&&M.$$typeof===s}function P(M){var Q={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(nt){return Q[nt]})}var R=/\/+/g;function ee(M,Q){return typeof M=="object"&&M!==null&&M.key!=null?P(""+M.key):Q.toString(36)}function fe(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(Rt,Rt):(M.status="pending",M.then(function(Q){M.status==="pending"&&(M.status="fulfilled",M.value=Q)},function(Q){M.status==="pending"&&(M.status="rejected",M.reason=Q)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function G(M,Q,nt,at,vt){var wt=typeof M;(wt==="undefined"||wt==="boolean")&&(M=null);var Mt=!1;if(M===null)Mt=!0;else switch(wt){case"bigint":case"string":case"number":Mt=!0;break;case"object":switch(M.$$typeof){case s:case t:Mt=!0;break;case b:return Mt=M._init,G(Mt(M._payload),Q,nt,at,vt)}}if(Mt)return vt=vt(M),Mt=at===""?"."+ee(M,0):at,Jt(vt)?(nt="",Mt!=null&&(nt=Mt.replace(R,"$&/")+"/"),G(vt,Q,nt,"",function(Gn){return Gn})):vt!=null&&(N(vt)&&(vt=V(vt,nt+(vt.key==null||M&&M.key===vt.key?"":(""+vt.key).replace(R,"$&/")+"/")+Mt)),Q.push(vt)),1;Mt=0;var de=at===""?".":at+":";if(Jt(M))for(var ne=0;ne<M.length;ne++)at=M[ne],wt=de+ee(at,ne),Mt+=G(at,Q,nt,wt,vt);else if(ne=X(M),typeof ne=="function")for(M=ne.call(M),ne=0;!(at=M.next()).done;)at=at.value,wt=de+ee(at,ne++),Mt+=G(at,Q,nt,wt,vt);else if(wt==="object"){if(typeof M.then=="function")return G(fe(M),Q,nt,at,vt);throw Q=String(M),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.")}return Mt}function tt(M,Q,nt){if(M==null)return M;var at=[],vt=0;return G(M,at,"","",function(wt){return Q.call(nt,wt,vt++)}),at}function ct(M){if(M._status===-1){var Q=M._result;Q=Q(),Q.then(function(nt){(M._status===0||M._status===-1)&&(M._status=1,M._result=nt)},function(nt){(M._status===0||M._status===-1)&&(M._status=2,M._result=nt)}),M._status===-1&&(M._status=0,M._result=Q)}if(M._status===1)return M._result.default;throw M._result}var zt=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(Q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},Ft={map:tt,forEach:function(M,Q,nt){tt(M,function(){Q.apply(this,arguments)},nt)},count:function(M){var Q=0;return tt(M,function(){Q++}),Q},toArray:function(M){return tt(M,function(Q){return Q})||[]},only:function(M){if(!N(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return St.Activity=w,St.Children=Ft,St.Component=ft,St.Fragment=i,St.Profiler=l,St.PureComponent=gt,St.StrictMode=a,St.Suspense=v,St.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,St.__COMPILER_RUNTIME={__proto__:null,c:function(M){return I.H.useMemoCache(M)}},St.cache=function(M){return function(){return M.apply(null,arguments)}},St.cacheSignal=function(){return null},St.cloneElement=function(M,Q,nt){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var at=rt({},M.props),vt=M.key;if(Q!=null)for(wt in Q.key!==void 0&&(vt=""+Q.key),Q)!A.call(Q,wt)||wt==="key"||wt==="__self"||wt==="__source"||wt==="ref"&&Q.ref===void 0||(at[wt]=Q[wt]);var wt=arguments.length-2;if(wt===1)at.children=nt;else if(1<wt){for(var Mt=Array(wt),de=0;de<wt;de++)Mt[de]=arguments[de+2];at.children=Mt}return x(M.type,vt,at)},St.createContext=function(M){return M={$$typeof:d,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:c,_context:M},M},St.createElement=function(M,Q,nt){var at,vt={},wt=null;if(Q!=null)for(at in Q.key!==void 0&&(wt=""+Q.key),Q)A.call(Q,at)&&at!=="key"&&at!=="__self"&&at!=="__source"&&(vt[at]=Q[at]);var Mt=arguments.length-2;if(Mt===1)vt.children=nt;else if(1<Mt){for(var de=Array(Mt),ne=0;ne<Mt;ne++)de[ne]=arguments[ne+2];vt.children=de}if(M&&M.defaultProps)for(at in Mt=M.defaultProps,Mt)vt[at]===void 0&&(vt[at]=Mt[at]);return x(M,wt,vt)},St.createRef=function(){return{current:null}},St.forwardRef=function(M){return{$$typeof:p,render:M}},St.isValidElement=N,St.lazy=function(M){return{$$typeof:b,_payload:{_status:-1,_result:M},_init:ct}},St.memo=function(M,Q){return{$$typeof:_,type:M,compare:Q===void 0?null:Q}},St.startTransition=function(M){var Q=I.T,nt={};I.T=nt;try{var at=M(),vt=I.S;vt!==null&&vt(nt,at),typeof at=="object"&&at!==null&&typeof at.then=="function"&&at.then(Rt,zt)}catch(wt){zt(wt)}finally{Q!==null&&nt.types!==null&&(Q.types=nt.types),I.T=Q}},St.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},St.use=function(M){return I.H.use(M)},St.useActionState=function(M,Q,nt){return I.H.useActionState(M,Q,nt)},St.useCallback=function(M,Q){return I.H.useCallback(M,Q)},St.useContext=function(M){return I.H.useContext(M)},St.useDebugValue=function(){},St.useDeferredValue=function(M,Q){return I.H.useDeferredValue(M,Q)},St.useEffect=function(M,Q){return I.H.useEffect(M,Q)},St.useEffectEvent=function(M){return I.H.useEffectEvent(M)},St.useId=function(){return I.H.useId()},St.useImperativeHandle=function(M,Q,nt){return I.H.useImperativeHandle(M,Q,nt)},St.useInsertionEffect=function(M,Q){return I.H.useInsertionEffect(M,Q)},St.useLayoutEffect=function(M,Q){return I.H.useLayoutEffect(M,Q)},St.useMemo=function(M,Q){return I.H.useMemo(M,Q)},St.useOptimistic=function(M,Q){return I.H.useOptimistic(M,Q)},St.useReducer=function(M,Q,nt){return I.H.useReducer(M,Q,nt)},St.useRef=function(M){return I.H.useRef(M)},St.useState=function(M){return I.H.useState(M)},St.useSyncExternalStore=function(M,Q,nt){return I.H.useSyncExternalStore(M,Q,nt)},St.useTransition=function(){return I.H.useTransition()},St.version="19.2.4",St}var C_;function fm(){return C_||(C_=1,Ad.exports=sb()),Ad.exports}var oe=fm(),wd={exports:{}},fl={},Rd={exports:{}},Cd={};var I_;function ab(){return I_||(I_=1,(function(s){function t(G,tt){var ct=G.length;G.push(tt);t:for(;0<ct;){var zt=ct-1>>>1,Ft=G[zt];if(0<l(Ft,tt))G[zt]=tt,G[ct]=Ft,ct=zt;else break t}}function i(G){return G.length===0?null:G[0]}function a(G){if(G.length===0)return null;var tt=G[0],ct=G.pop();if(ct!==tt){G[0]=ct;t:for(var zt=0,Ft=G.length,M=Ft>>>1;zt<M;){var Q=2*(zt+1)-1,nt=G[Q],at=Q+1,vt=G[at];if(0>l(nt,ct))at<Ft&&0>l(vt,nt)?(G[zt]=vt,G[at]=ct,zt=at):(G[zt]=nt,G[Q]=ct,zt=Q);else if(at<Ft&&0>l(vt,ct))G[zt]=vt,G[at]=ct,zt=at;else break t}}return tt}function l(G,tt){var ct=G.sortIndex-tt.sortIndex;return ct!==0?ct:G.id-tt.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var d=Date,p=d.now();s.unstable_now=function(){return d.now()-p}}var v=[],_=[],b=1,w=null,k=3,X=!1,it=!1,rt=!1,st=!1,ft=typeof setTimeout=="function"?setTimeout:null,Et=typeof clearTimeout=="function"?clearTimeout:null,gt=typeof setImmediate<"u"?setImmediate:null;function Bt(G){for(var tt=i(_);tt!==null;){if(tt.callback===null)a(_);else if(tt.startTime<=G)a(_),tt.sortIndex=tt.expirationTime,t(v,tt);else break;tt=i(_)}}function Jt(G){if(rt=!1,Bt(G),!it)if(i(v)!==null)it=!0,Rt||(Rt=!0,P());else{var tt=i(_);tt!==null&&fe(Jt,tt.startTime-G)}}var Rt=!1,I=-1,A=5,x=-1;function V(){return st?!0:!(s.unstable_now()-x<A)}function N(){if(st=!1,Rt){var G=s.unstable_now();x=G;var tt=!0;try{t:{it=!1,rt&&(rt=!1,Et(I),I=-1),X=!0;var ct=k;try{e:{for(Bt(G),w=i(v);w!==null&&!(w.expirationTime>G&&V());){var zt=w.callback;if(typeof zt=="function"){w.callback=null,k=w.priorityLevel;var Ft=zt(w.expirationTime<=G);if(G=s.unstable_now(),typeof Ft=="function"){w.callback=Ft,Bt(G),tt=!0;break e}w===i(v)&&a(v),Bt(G)}else a(v);w=i(v)}if(w!==null)tt=!0;else{var M=i(_);M!==null&&fe(Jt,M.startTime-G),tt=!1}}break t}finally{w=null,k=ct,X=!1}tt=void 0}}finally{tt?P():Rt=!1}}}var P;if(typeof gt=="function")P=function(){gt(N)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,ee=R.port2;R.port1.onmessage=N,P=function(){ee.postMessage(null)}}else P=function(){ft(N,0)};function fe(G,tt){I=ft(function(){G(s.unstable_now())},tt)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(G){G.callback=null},s.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<G?Math.floor(1e3/G):5},s.unstable_getCurrentPriorityLevel=function(){return k},s.unstable_next=function(G){switch(k){case 1:case 2:case 3:var tt=3;break;default:tt=k}var ct=k;k=tt;try{return G()}finally{k=ct}},s.unstable_requestPaint=function(){st=!0},s.unstable_runWithPriority=function(G,tt){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var ct=k;k=G;try{return tt()}finally{k=ct}},s.unstable_scheduleCallback=function(G,tt,ct){var zt=s.unstable_now();switch(typeof ct=="object"&&ct!==null?(ct=ct.delay,ct=typeof ct=="number"&&0<ct?zt+ct:zt):ct=zt,G){case 1:var Ft=-1;break;case 2:Ft=250;break;case 5:Ft=1073741823;break;case 4:Ft=1e4;break;default:Ft=5e3}return Ft=ct+Ft,G={id:b++,callback:tt,priorityLevel:G,startTime:ct,expirationTime:Ft,sortIndex:-1},ct>zt?(G.sortIndex=ct,t(_,G),i(v)===null&&G===i(_)&&(rt?(Et(I),I=-1):rt=!0,fe(Jt,ct-zt))):(G.sortIndex=Ft,t(v,G),it||X||(it=!0,Rt||(Rt=!0,P()))),G},s.unstable_shouldYield=V,s.unstable_wrapCallback=function(G){var tt=k;return function(){var ct=k;k=tt;try{return G.apply(this,arguments)}finally{k=ct}}}})(Cd)),Cd}var x_;function ob(){return x_||(x_=1,Rd.exports=ab()),Rd.exports}var Id={exports:{}},nn={};var D_;function lb(){if(D_)return nn;D_=1;var s=fm();function t(v){var _="https://react.dev/errors/"+v;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)_+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+v+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(v,_,b){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:w==null?null:""+w,children:v,containerInfo:_,implementation:b}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(v,_){if(v==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return nn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,nn.createPortal=function(v,_){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(t(299));return c(v,_,null,b)},nn.flushSync=function(v){var _=d.T,b=a.p;try{if(d.T=null,a.p=2,v)return v()}finally{d.T=_,a.p=b,a.d.f()}},nn.preconnect=function(v,_){typeof v=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,a.d.C(v,_))},nn.prefetchDNS=function(v){typeof v=="string"&&a.d.D(v)},nn.preinit=function(v,_){if(typeof v=="string"&&_&&typeof _.as=="string"){var b=_.as,w=p(b,_.crossOrigin),k=typeof _.integrity=="string"?_.integrity:void 0,X=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;b==="style"?a.d.S(v,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:w,integrity:k,fetchPriority:X}):b==="script"&&a.d.X(v,{crossOrigin:w,integrity:k,fetchPriority:X,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},nn.preinitModule=function(v,_){if(typeof v=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var b=p(_.as,_.crossOrigin);a.d.M(v,{crossOrigin:b,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&a.d.M(v)},nn.preload=function(v,_){if(typeof v=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var b=_.as,w=p(b,_.crossOrigin);a.d.L(v,b,{crossOrigin:w,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},nn.preloadModule=function(v,_){if(typeof v=="string")if(_){var b=p(_.as,_.crossOrigin);a.d.m(v,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:b,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else a.d.m(v)},nn.requestFormReset=function(v){a.d.r(v)},nn.unstable_batchedUpdates=function(v,_){return v(_)},nn.useFormState=function(v,_,b){return d.H.useFormState(v,_,b)},nn.useFormStatus=function(){return d.H.useHostTransitionStatus()},nn.version="19.2.4",nn}var M_;function ub(){if(M_)return Id.exports;M_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Id.exports=lb(),Id.exports}var O_;function cb(){if(O_)return fl;O_=1;var s=ob(),t=fm(),i=ub();function a(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,r=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(r=n.return),e=n.return;while(e)}return n.tag===3?r:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function p(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function v(e){if(c(e)!==e)throw Error(a(188))}function _(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(a(188));return n!==e?null:e}for(var r=e,o=n;;){var h=r.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){r=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===r)return v(h),e;if(f===o)return v(h),n;f=f.sibling}throw Error(a(188))}if(r.return!==o.return)r=h,o=f;else{for(var g=!1,T=h.child;T;){if(T===r){g=!0,r=h,o=f;break}if(T===o){g=!0,o=h,r=f;break}T=T.sibling}if(!g){for(T=f.child;T;){if(T===r){g=!0,r=f,o=h;break}if(T===o){g=!0,o=f,r=h;break}T=T.sibling}if(!g)throw Error(a(189))}}if(r.alternate!==o)throw Error(a(190))}if(r.tag!==3)throw Error(a(188));return r.stateNode.current===r?e:n}function b(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=b(e),n!==null)return n;e=e.sibling}return null}var w=Object.assign,k=Symbol.for("react.element"),X=Symbol.for("react.transitional.element"),it=Symbol.for("react.portal"),rt=Symbol.for("react.fragment"),st=Symbol.for("react.strict_mode"),ft=Symbol.for("react.profiler"),Et=Symbol.for("react.consumer"),gt=Symbol.for("react.context"),Bt=Symbol.for("react.forward_ref"),Jt=Symbol.for("react.suspense"),Rt=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function P(e){return e===null||typeof e!="object"?null:(e=N&&e[N]||e["@@iterator"],typeof e=="function"?e:null)}var R=Symbol.for("react.client.reference");function ee(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===R?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case rt:return"Fragment";case ft:return"Profiler";case st:return"StrictMode";case Jt:return"Suspense";case Rt:return"SuspenseList";case x:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case it:return"Portal";case gt:return e.displayName||"Context";case Et:return(e._context.displayName||"Context")+".Consumer";case Bt:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case I:return n=e.displayName||null,n!==null?n:ee(e.type)||"Memo";case A:n=e._payload,e=e._init;try{return ee(e(n))}catch{}}return null}var fe=Array.isArray,G=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,tt=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ct={pending:!1,data:null,method:null,action:null},zt=[],Ft=-1;function M(e){return{current:e}}function Q(e){0>Ft||(e.current=zt[Ft],zt[Ft]=null,Ft--)}function nt(e,n){Ft++,zt[Ft]=e.current,e.current=n}var at=M(null),vt=M(null),wt=M(null),Mt=M(null);function de(e,n){switch(nt(wt,n),nt(vt,e),nt(at,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?Qy(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=Qy(n),e=Yy(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Q(at),nt(at,e)}function ne(){Q(at),Q(vt),Q(wt)}function Gn(e){e.memoizedState!==null&&nt(Mt,e);var n=at.current,r=Yy(n,e.type);n!==r&&(nt(vt,e),nt(at,r))}function Kn(e){vt.current===e&&(Q(at),Q(vt)),Mt.current===e&&(Q(Mt),ol._currentValue=ct)}var ji,In;function ln(e){if(ji===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);ji=n&&n[1]||"",In=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ji+e+In}var us=!1;function Bi(e,n){if(!e||us)return"";us=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var W=function(){throw Error()};if(Object.defineProperty(W.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(W,[])}catch(H){var B=H}Reflect.construct(e,[],W)}else{try{W.call()}catch(H){B=H}e.call(W.prototype)}}else{try{throw Error()}catch(H){B=H}(W=e())&&typeof W.catch=="function"&&W.catch(function(){})}}catch(H){if(H&&B&&typeof H.stack=="string")return[H.stack,B.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),g=f[0],T=f[1];if(g&&T){var C=g.split(`
`),j=T.split(`
`);for(h=o=0;o<C.length&&!C[o].includes("DetermineComponentFrameRoot");)o++;for(;h<j.length&&!j[h].includes("DetermineComponentFrameRoot");)h++;if(o===C.length||h===j.length)for(o=C.length-1,h=j.length-1;1<=o&&0<=h&&C[o]!==j[h];)h--;for(;1<=o&&0<=h;o--,h--)if(C[o]!==j[h]){if(o!==1||h!==1)do if(o--,h--,0>h||C[o]!==j[h]){var K=`
`+C[o].replace(" at new "," at ");return e.displayName&&K.includes("<anonymous>")&&(K=K.replace("<anonymous>",e.displayName)),K}while(1<=o&&0<=h);break}}}finally{us=!1,Error.prepareStackTrace=r}return(r=e?e.displayName||e.name:"")?ln(r):""}function cs(e,n){switch(e.tag){case 26:case 27:case 5:return ln(e.type);case 16:return ln("Lazy");case 13:return e.child!==n&&n!==null?ln("Suspense Fallback"):ln("Suspense");case 19:return ln("SuspenseList");case 0:case 15:return Bi(e.type,!1);case 11:return Bi(e.type.render,!1);case 1:return Bi(e.type,!0);case 31:return ln("Activity");default:return""}}function hs(e){try{var n="",r=null;do n+=cs(e,r),r=e,e=e.return;while(e);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var ve=Object.prototype.hasOwnProperty,D=s.unstable_scheduleCallback,Z=s.unstable_cancelCallback,F=s.unstable_shouldYield,xt=s.unstable_requestPaint,mt=s.unstable_now,Xt=s.unstable_getCurrentPriorityLevel,qt=s.unstable_ImmediatePriority,Se=s.unstable_UserBlockingPriority,Te=s.unstable_NormalPriority,Qn=s.unstable_LowPriority,Ql=s.unstable_IdlePriority,Yl=s.log,Xl=s.unstable_setDisableYieldValue,Yn=null,Qe=null;function xn(e){if(typeof Yl=="function"&&Xl(e),Qe&&typeof Qe.setStrictMode=="function")try{Qe.setStrictMode(Yn,e)}catch{}}var Ae=Math.clz32?Math.clz32:Jl,Wl=Math.log,ta=Math.LN2;function Jl(e){return e>>>=0,e===0?32:31-(Wl(e)/ta|0)|0}var hi=256,fs=262144,xe=4194304;function fi(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function di(e,n,r){var o=e.pendingLanes;if(o===0)return 0;var h=0,f=e.suspendedLanes,g=e.pingedLanes;e=e.warmLanes;var T=o&134217727;return T!==0?(o=T&~f,o!==0?h=fi(o):(g&=T,g!==0?h=fi(g):r||(r=T&~e,r!==0&&(h=fi(r))))):(T=o&~f,T!==0?h=fi(T):g!==0?h=fi(g):r||(r=o&~e,r!==0&&(h=fi(r)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,r=n&-n,f>=r||f===32&&(r&4194048)!==0)?n:h}function Xn(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Rh(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Zl(){var e=xe;return xe<<=1,(xe&62914560)===0&&(xe=4194304),e}function mi(e){for(var n=[],r=0;31>r;r++)n.push(e);return n}function ds(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Ch(e,n,r,o,h,f){var g=e.pendingLanes;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=r,e.entangledLanes&=r,e.errorRecoveryDisabledLanes&=r,e.shellSuspendCounter=0;var T=e.entanglements,C=e.expirationTimes,j=e.hiddenUpdates;for(r=g&~r;0<r;){var K=31-Ae(r),W=1<<K;T[K]=0,C[K]=-1;var B=j[K];if(B!==null)for(j[K]=null,K=0;K<B.length;K++){var H=B[K];H!==null&&(H.lane&=-536870913)}r&=~W}o!==0&&ms(e,o,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(g&~n))}function ms(e,n,r){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-Ae(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|r&261930}function ho(e,n){var r=e.entangledLanes|=n;for(e=e.entanglements;r;){var o=31-Ae(r),h=1<<o;h&n|e[o]&n&&(e[o]|=n),r&=~h}}function fo(e,n){var r=n&-n;return r=(r&42)!==0?1:gs(r),(r&(e.suspendedLanes|n))!==0?0:r}function gs(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function qi(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function $l(){var e=tt.p;return e!==0?e:(e=window.event,e===void 0?32:y_(e.type))}function Wn(e,n){var r=tt.p;try{return tt.p=e,n()}finally{tt.p=r}}var Jn=Math.random().toString(36).slice(2),De="__reactFiber$"+Jn,qe="__reactProps$"+Jn,gi="__reactContainer$"+Jn,ea="__reactEvents$"+Jn,Ih="__reactListeners$"+Jn,tu="__reactHandles$"+Jn,eu="__reactResources$"+Jn,pi="__reactMarker$"+Jn;function na(e){delete e[De],delete e[qe],delete e[ea],delete e[Ih],delete e[tu]}function yi(e){var n=e[De];if(n)return n;for(var r=e.parentNode;r;){if(n=r[gi]||r[De]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(e=e_(e);e!==null;){if(r=e[De])return r;e=e_(e)}return n}e=r,r=e.parentNode}return null}function Dn(e){if(e=e[De]||e[gi]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function vn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(a(33))}function _i(e){var n=e[eu];return n||(n=e[eu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Me(e){e[pi]=!0}var mo=new Set,go={};function vi(e,n){Ti(e,n),Ti(e+"Capture",n)}function Ti(e,n){for(go[e]=n,e=0;e<n.length;e++)mo.add(n[e])}var po=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),yo={},_o={};function nu(e){return ve.call(_o,e)?!0:ve.call(yo,e)?!1:po.test(e)?_o[e]=!0:(yo[e]=!0,!1)}function ia(e,n,r){if(nu(n))if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+r)}}function Tn(e,n,r){if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+r)}}function Oe(e,n,r,o){if(o===null)e.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(r);return}e.setAttributeNS(n,r,""+o)}}function He(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function pr(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function vo(e,n,r){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(g){r=""+g,f.call(this,g)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return r},setValue:function(g){r=""+g},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Zt(e){if(!e._valueTracker){var n=pr(e)?"checked":"value";e._valueTracker=vo(e,n,""+e[n])}}function ps(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var r=n.getValue(),o="";return e&&(o=pr(e)?e.checked?"true":"false":e.value),e=o,e!==r?(n.setValue(e),!0):!1}function Ei(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var ys=/[\n"\\]/g;function hn(e){return e.replace(ys,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function ra(e,n,r,o,h,f,g,T){e.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?e.type=g:e.removeAttribute("type"),n!=null?g==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+He(n)):e.value!==""+He(n)&&(e.value=""+He(n)):g!=="submit"&&g!=="reset"||e.removeAttribute("value"),n!=null?To(e,g,He(n)):r!=null?To(e,g,He(r)):o!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?e.name=""+He(T):e.removeAttribute("name")}function iu(e,n,r,o,h,f,g,T){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Zt(e);return}r=r!=null?""+He(r):"",n=n!=null?""+He(n):r,T||n===e.value||(e.value=n),e.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=T?e.checked:!!o,e.defaultChecked=!!o,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.name=g),Zt(e)}function To(e,n,r){n==="number"&&Ei(e.ownerDocument)===e||e.defaultValue===""+r||(e.defaultValue=""+r)}function yr(e,n,r,o){if(e=e.options,n){n={};for(var h=0;h<r.length;h++)n["$"+r[h]]=!0;for(r=0;r<e.length;r++)h=n.hasOwnProperty("$"+e[r].value),e[r].selected!==h&&(e[r].selected=h),h&&o&&(e[r].defaultSelected=!0)}else{for(r=""+He(r),n=null,h=0;h<e.length;h++){if(e[h].value===r){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function ru(e,n,r){if(n!=null&&(n=""+He(n),n!==e.value&&(e.value=n),r==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=r!=null?""+He(r):""}function _r(e,n,r,o){if(n==null){if(o!=null){if(r!=null)throw Error(a(92));if(fe(o)){if(1<o.length)throw Error(a(93));o=o[0]}r=o}r==null&&(r=""),n=r}r=He(n),e.defaultValue=r,o=e.textContent,o===r&&o!==""&&o!==null&&(e.value=o),Zt(e)}function fn(e,n){if(n){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=n;return}}e.textContent=n}var su=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Eo(e,n,r){var o=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,r):typeof r!="number"||r===0||su.has(n)?n==="float"?e.cssFloat=r:e[n]=(""+r).trim():e[n]=r+"px"}function bo(e,n,r){if(n!=null&&typeof n!="object")throw Error(a(62));if(e=e.style,r!=null){for(var o in r)!r.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&r[h]!==o&&Eo(e,h,o)}else for(var f in n)n.hasOwnProperty(f)&&Eo(e,f,n[f])}function sa(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var au=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),vr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function aa(e){return vr.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Zn(){}var So=null;function Mn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Tr=null,bi=null;function _s(e){var n=Dn(e);if(n&&(e=n.stateNode)){var r=e[qe]||null;t:switch(e=n.stateNode,n.type){case"input":if(ra(e,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+hn(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var o=r[n];if(o!==e&&o.form===e.form){var h=o[qe]||null;if(!h)throw Error(a(90));ra(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<r.length;n++)o=r[n],o.form===e.form&&ps(o)}break t;case"textarea":ru(e,r.value,r.defaultValue);break t;case"select":n=r.value,n!=null&&yr(e,!!r.multiple,n,!1)}}}var oa=!1;function Er(e,n,r){if(oa)return e(n,r);oa=!0;try{var o=e(n);return o}finally{if(oa=!1,(Tr!==null||bi!==null)&&($u(),Tr&&(n=Tr,e=bi,bi=Tr=null,_s(n),e)))for(n=0;n<e.length;n++)_s(e[n])}}function $n(e,n){var r=e.stateNode;if(r===null)return null;var o=r[qe]||null;if(o===null)return null;r=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(a(231,n,typeof r));return r}var On=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),vs=!1;if(On)try{var ie={};Object.defineProperty(ie,"passive",{get:function(){vs=!0}}),window.addEventListener("test",ie,ie),window.removeEventListener("test",ie,ie)}catch{vs=!1}var Si=null,Ao=null,Ts=null;function wo(){if(Ts)return Ts;var e,n=Ao,r=n.length,o,h="value"in Si?Si.value:Si.textContent,f=h.length;for(e=0;e<r&&n[e]===h[e];e++);var g=r-e;for(o=1;o<=g&&n[r-o]===h[f-o];o++);return Ts=h.slice(e,1<o?1-o:void 0)}function Es(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Hi(){return!0}function ti(){return!1}function Ye(e){function n(r,o,h,f,g){this._reactName=r,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var T in e)e.hasOwnProperty(T)&&(r=e[T],this[T]=r?r(f):f[T]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Hi:ti,this.isPropagationStopped=ti,this}return w(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Hi)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Hi)},persist:function(){},isPersistent:Hi}),n}var Fi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ai=Ye(Fi),br=w({},Fi,{view:0,detail:0}),Ro=Ye(br),Sr,la,wi,ua=w({},br,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ar,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==wi&&(wi&&e.type==="mousemove"?(Sr=e.screenX-wi.screenX,la=e.screenY-wi.screenY):la=Sr=0,wi=e),Sr)},movementY:function(e){return"movementY"in e?e.movementY:la}}),Co=Ye(ua),bs=w({},ua,{dataTransfer:0}),ou=Ye(bs),lu=w({},br,{relatedTarget:0}),Ss=Ye(lu),Io=w({},Fi,{animationName:0,elapsedTime:0,pseudoElement:0}),uu=Ye(Io),ca=w({},Fi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),cu=Ye(ca),hu=w({},Fi,{data:0}),Ri=Ye(hu),fu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},du={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},mu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function gu(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=mu[e])?!!n[e]:!1}function Ar(){return gu}var un=w({},br,{key:function(e){if(e.key){var n=fu[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Es(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?du[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ar,charCode:function(e){return e.type==="keypress"?Es(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Es(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),pu=Ye(un),yu=w({},ua,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Gi=Ye(yu),u=w({},br,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ar}),m=Ye(u),y=w({},Fi,{propertyName:0,elapsedTime:0,pseudoElement:0}),E=Ye(y),U=w({},ua,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),q=Ye(U),et=w({},Fi,{newState:0,oldState:0}),Ct=Ye(et),we=[9,13,27,32],Qt=On&&"CompositionEvent"in window,me=null;On&&"documentMode"in document&&(me=document.documentMode);var Nn=On&&"TextEvent"in window&&!me,Ci=On&&(!Qt||me&&8<me&&11>=me),ei=" ",ni=!1;function As(e,n){switch(e){case"keyup":return we.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ha(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var fa=!1;function CT(e,n){switch(e){case"compositionend":return ha(n);case"keypress":return n.which!==32?null:(ni=!0,ei);case"textInput":return e=n.data,e===ei&&ni?null:e;default:return null}}function IT(e,n){if(fa)return e==="compositionend"||!Qt&&As(e,n)?(e=wo(),Ts=Ao=Si=null,fa=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Ci&&n.locale!=="ko"?null:n.data;default:return null}}var xT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function rg(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!xT[e.type]:n==="textarea"}function sg(e,n,r,o){Tr?bi?bi.push(o):bi=[o]:Tr=o,n=ac(n,"onChange"),0<n.length&&(r=new Ai("onChange","change",null,r,o),e.push({event:r,listeners:n}))}var xo=null,Do=null;function DT(e){By(e,0)}function _u(e){var n=vn(e);if(ps(n))return e}function ag(e,n){if(e==="change")return n}var og=!1;if(On){var xh;if(On){var Dh="oninput"in document;if(!Dh){var lg=document.createElement("div");lg.setAttribute("oninput","return;"),Dh=typeof lg.oninput=="function"}xh=Dh}else xh=!1;og=xh&&(!document.documentMode||9<document.documentMode)}function ug(){xo&&(xo.detachEvent("onpropertychange",cg),Do=xo=null)}function cg(e){if(e.propertyName==="value"&&_u(Do)){var n=[];sg(n,Do,e,Mn(e)),Er(DT,n)}}function MT(e,n,r){e==="focusin"?(ug(),xo=n,Do=r,xo.attachEvent("onpropertychange",cg)):e==="focusout"&&ug()}function OT(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return _u(Do)}function NT(e,n){if(e==="click")return _u(n)}function VT(e,n){if(e==="input"||e==="change")return _u(n)}function kT(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var En=typeof Object.is=="function"?Object.is:kT;function Mo(e,n){if(En(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var r=Object.keys(e),o=Object.keys(n);if(r.length!==o.length)return!1;for(o=0;o<r.length;o++){var h=r[o];if(!ve.call(n,h)||!En(e[h],n[h]))return!1}return!0}function hg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function fg(e,n){var r=hg(e);e=0;for(var o;r;){if(r.nodeType===3){if(o=e+r.textContent.length,e<=n&&o>=n)return{node:r,offset:n-e};e=o}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=hg(r)}}function dg(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?dg(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function mg(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=Ei(e.document);n instanceof e.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)e=n.contentWindow;else break;n=Ei(e.document)}return n}function Mh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var LT=On&&"documentMode"in document&&11>=document.documentMode,da=null,Oh=null,Oo=null,Nh=!1;function gg(e,n,r){var o=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Nh||da==null||da!==Ei(o)||(o=da,"selectionStart"in o&&Mh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Oo&&Mo(Oo,o)||(Oo=o,o=ac(Oh,"onSelect"),0<o.length&&(n=new Ai("onSelect","select",null,n,r),e.push({event:n,listeners:o}),n.target=da)))}function ws(e,n){var r={};return r[e.toLowerCase()]=n.toLowerCase(),r["Webkit"+e]="webkit"+n,r["Moz"+e]="moz"+n,r}var ma={animationend:ws("Animation","AnimationEnd"),animationiteration:ws("Animation","AnimationIteration"),animationstart:ws("Animation","AnimationStart"),transitionrun:ws("Transition","TransitionRun"),transitionstart:ws("Transition","TransitionStart"),transitioncancel:ws("Transition","TransitionCancel"),transitionend:ws("Transition","TransitionEnd")},Vh={},pg={};On&&(pg=document.createElement("div").style,"AnimationEvent"in window||(delete ma.animationend.animation,delete ma.animationiteration.animation,delete ma.animationstart.animation),"TransitionEvent"in window||delete ma.transitionend.transition);function Rs(e){if(Vh[e])return Vh[e];if(!ma[e])return e;var n=ma[e],r;for(r in n)if(n.hasOwnProperty(r)&&r in pg)return Vh[e]=n[r];return e}var yg=Rs("animationend"),_g=Rs("animationiteration"),vg=Rs("animationstart"),PT=Rs("transitionrun"),UT=Rs("transitionstart"),zT=Rs("transitioncancel"),Tg=Rs("transitionend"),Eg=new Map,kh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");kh.push("scrollEnd");function ii(e,n){Eg.set(e,n),vi(n,[e])}var vu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Vn=[],ga=0,Lh=0;function Tu(){for(var e=ga,n=Lh=ga=0;n<e;){var r=Vn[n];Vn[n++]=null;var o=Vn[n];Vn[n++]=null;var h=Vn[n];Vn[n++]=null;var f=Vn[n];if(Vn[n++]=null,o!==null&&h!==null){var g=o.pending;g===null?h.next=h:(h.next=g.next,g.next=h),o.pending=h}f!==0&&bg(r,h,f)}}function Eu(e,n,r,o){Vn[ga++]=e,Vn[ga++]=n,Vn[ga++]=r,Vn[ga++]=o,Lh|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function Ph(e,n,r,o){return Eu(e,n,r,o),bu(e)}function Cs(e,n){return Eu(e,null,null,n),bu(e)}function bg(e,n,r){e.lanes|=r;var o=e.alternate;o!==null&&(o.lanes|=r);for(var h=!1,f=e.return;f!==null;)f.childLanes|=r,o=f.alternate,o!==null&&(o.childLanes|=r),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&n!==null&&(h=31-Ae(r),e=f.hiddenUpdates,o=e[h],o===null?e[h]=[n]:o.push(n),n.lane=r|536870912),f):null}function bu(e){if(50<tl)throw tl=0,Qf=null,Error(a(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var pa={};function jT(e,n,r,o){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function bn(e,n,r,o){return new jT(e,n,r,o)}function Uh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ki(e,n){var r=e.alternate;return r===null?(r=bn(e.tag,n,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=n,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&65011712,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,n=e.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r.refCleanup=e.refCleanup,r}function Sg(e,n){e.flags&=65011714;var r=e.alternate;return r===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=r.childLanes,e.lanes=r.lanes,e.child=r.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=r.memoizedProps,e.memoizedState=r.memoizedState,e.updateQueue=r.updateQueue,e.type=r.type,n=r.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Su(e,n,r,o,h,f){var g=0;if(o=e,typeof e=="function")Uh(e)&&(g=1);else if(typeof e=="string")g=GE(e,r,at.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case x:return e=bn(31,r,n,h),e.elementType=x,e.lanes=f,e;case rt:return Is(r.children,h,f,n);case st:g=8,h|=24;break;case ft:return e=bn(12,r,n,h|2),e.elementType=ft,e.lanes=f,e;case Jt:return e=bn(13,r,n,h),e.elementType=Jt,e.lanes=f,e;case Rt:return e=bn(19,r,n,h),e.elementType=Rt,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case gt:g=10;break t;case Et:g=9;break t;case Bt:g=11;break t;case I:g=14;break t;case A:g=16,o=null;break t}g=29,r=Error(a(130,e===null?"null":typeof e,"")),o=null}return n=bn(g,r,n,h),n.elementType=e,n.type=o,n.lanes=f,n}function Is(e,n,r,o){return e=bn(7,e,o,n),e.lanes=r,e}function zh(e,n,r){return e=bn(6,e,null,n),e.lanes=r,e}function Ag(e){var n=bn(18,null,null,0);return n.stateNode=e,n}function jh(e,n,r){return n=bn(4,e.children!==null?e.children:[],e.key,n),n.lanes=r,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var wg=new WeakMap;function kn(e,n){if(typeof e=="object"&&e!==null){var r=wg.get(e);return r!==void 0?r:(n={value:e,source:n,stack:hs(n)},wg.set(e,n),n)}return{value:e,source:n,stack:hs(n)}}var ya=[],_a=0,Au=null,No=0,Ln=[],Pn=0,wr=null,Ii=1,xi="";function Qi(e,n){ya[_a++]=No,ya[_a++]=Au,Au=e,No=n}function Rg(e,n,r){Ln[Pn++]=Ii,Ln[Pn++]=xi,Ln[Pn++]=wr,wr=e;var o=Ii;e=xi;var h=32-Ae(o)-1;o&=~(1<<h),r+=1;var f=32-Ae(n)+h;if(30<f){var g=h-h%5;f=(o&(1<<g)-1).toString(32),o>>=g,h-=g,Ii=1<<32-Ae(n)+h|r<<h|o,xi=f+e}else Ii=1<<f|r<<h|o,xi=e}function Bh(e){e.return!==null&&(Qi(e,1),Rg(e,1,0))}function qh(e){for(;e===Au;)Au=ya[--_a],ya[_a]=null,No=ya[--_a],ya[_a]=null;for(;e===wr;)wr=Ln[--Pn],Ln[Pn]=null,xi=Ln[--Pn],Ln[Pn]=null,Ii=Ln[--Pn],Ln[Pn]=null}function Cg(e,n){Ln[Pn++]=Ii,Ln[Pn++]=xi,Ln[Pn++]=wr,Ii=n.id,xi=n.overflow,wr=e}var Xe=null,ue=null,jt=!1,Rr=null,Un=!1,Hh=Error(a(519));function Cr(e){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Vo(kn(n,e)),Hh}function Ig(e){var n=e.stateNode,r=e.type,o=e.memoizedProps;switch(n[De]=e,n[qe]=o,r){case"dialog":Nt("cancel",n),Nt("close",n);break;case"iframe":case"object":case"embed":Nt("load",n);break;case"video":case"audio":for(r=0;r<nl.length;r++)Nt(nl[r],n);break;case"source":Nt("error",n);break;case"img":case"image":case"link":Nt("error",n),Nt("load",n);break;case"details":Nt("toggle",n);break;case"input":Nt("invalid",n),iu(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Nt("invalid",n);break;case"textarea":Nt("invalid",n),_r(n,o.value,o.defaultValue,o.children)}r=o.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||o.suppressHydrationWarning===!0||Gy(n.textContent,r)?(o.popover!=null&&(Nt("beforetoggle",n),Nt("toggle",n)),o.onScroll!=null&&Nt("scroll",n),o.onScrollEnd!=null&&Nt("scrollend",n),o.onClick!=null&&(n.onclick=Zn),n=!0):n=!1,n||Cr(e,!0)}function xg(e){for(Xe=e.return;Xe;)switch(Xe.tag){case 5:case 31:case 13:Un=!1;return;case 27:case 3:Un=!0;return;default:Xe=Xe.return}}function va(e){if(e!==Xe)return!1;if(!jt)return xg(e),jt=!0,!1;var n=e.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=e.type,r=!(r!=="form"&&r!=="button")||ld(e.type,e.memoizedProps)),r=!r),r&&ue&&Cr(e),xg(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));ue=t_(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));ue=t_(e)}else n===27?(n=ue,Br(e.type)?(e=dd,dd=null,ue=e):ue=n):ue=Xe?jn(e.stateNode.nextSibling):null;return!0}function xs(){ue=Xe=null,jt=!1}function Fh(){var e=Rr;return e!==null&&(pn===null?pn=e:pn.push.apply(pn,e),Rr=null),e}function Vo(e){Rr===null?Rr=[e]:Rr.push(e)}var Gh=M(null),Ds=null,Yi=null;function Ir(e,n,r){nt(Gh,n._currentValue),n._currentValue=r}function Xi(e){e._currentValue=Gh.current,Q(Gh)}function Kh(e,n,r){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===r)break;e=e.return}}function Qh(e,n,r,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var g=h.child;f=f.firstContext;t:for(;f!==null;){var T=f;f=h;for(var C=0;C<n.length;C++)if(T.context===n[C]){f.lanes|=r,T=f.alternate,T!==null&&(T.lanes|=r),Kh(f.return,r,e),o||(g=null);break t}f=T.next}}else if(h.tag===18){if(g=h.return,g===null)throw Error(a(341));g.lanes|=r,f=g.alternate,f!==null&&(f.lanes|=r),Kh(g,r,e),g=null}else g=h.child;if(g!==null)g.return=h;else for(g=h;g!==null;){if(g===e){g=null;break}if(h=g.sibling,h!==null){h.return=g.return,g=h;break}g=g.return}h=g}}function Ta(e,n,r,o){e=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var g=h.alternate;if(g===null)throw Error(a(387));if(g=g.memoizedProps,g!==null){var T=h.type;En(h.pendingProps.value,g.value)||(e!==null?e.push(T):e=[T])}}else if(h===Mt.current){if(g=h.alternate,g===null)throw Error(a(387));g.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(ol):e=[ol])}h=h.return}e!==null&&Qh(n,e,r,o),n.flags|=262144}function wu(e){for(e=e.firstContext;e!==null;){if(!En(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ms(e){Ds=e,Yi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function We(e){return Dg(Ds,e)}function Ru(e,n){return Ds===null&&Ms(e),Dg(e,n)}function Dg(e,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},Yi===null){if(e===null)throw Error(a(308));Yi=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Yi=Yi.next=n;return r}var BT=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(r,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(r){return r()})}},qT=s.unstable_scheduleCallback,HT=s.unstable_NormalPriority,Ne={$$typeof:gt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Yh(){return{controller:new BT,data:new Map,refCount:0}}function ko(e){e.refCount--,e.refCount===0&&qT(HT,function(){e.controller.abort()})}var Lo=null,Xh=0,Ea=0,ba=null;function FT(e,n){if(Lo===null){var r=Lo=[];Xh=0,Ea=$f(),ba={status:"pending",value:void 0,then:function(o){r.push(o)}}}return Xh++,n.then(Mg,Mg),n}function Mg(){if(--Xh===0&&Lo!==null){ba!==null&&(ba.status="fulfilled");var e=Lo;Lo=null,Ea=0,ba=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function GT(e,n){var r=[],o={status:"pending",value:null,reason:null,then:function(h){r.push(h)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<r.length;h++)(0,r[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<r.length;h++)(0,r[h])(void 0)}),o}var Og=G.S;G.S=function(e,n){gy=mt(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&FT(e,n),Og!==null&&Og(e,n)};var Os=M(null);function Wh(){var e=Os.current;return e!==null?e:le.pooledCache}function Cu(e,n){n===null?nt(Os,Os.current):nt(Os,n.pool)}function Ng(){var e=Wh();return e===null?null:{parent:Ne._currentValue,pool:e}}var Sa=Error(a(460)),Jh=Error(a(474)),Iu=Error(a(542)),xu={then:function(){}};function Vg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function kg(e,n,r){switch(r=e[r],r===void 0?e.push(n):r!==n&&(n.then(Zn,Zn),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Pg(e),e;default:if(typeof n.status=="string")n.then(Zn,Zn);else{if(e=le,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Pg(e),e}throw Vs=n,Sa}}function Ns(e){try{var n=e._init;return n(e._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(Vs=r,Sa):r}}var Vs=null;function Lg(){if(Vs===null)throw Error(a(459));var e=Vs;return Vs=null,e}function Pg(e){if(e===Sa||e===Iu)throw Error(a(483))}var Aa=null,Po=0;function Du(e){var n=Po;return Po+=1,Aa===null&&(Aa=[]),kg(Aa,e,n)}function Uo(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Mu(e,n){throw n.$$typeof===k?Error(a(525)):(e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Ug(e){function n(L,O){if(e){var z=L.deletions;z===null?(L.deletions=[O],L.flags|=16):z.push(O)}}function r(L,O){if(!e)return null;for(;O!==null;)n(L,O),O=O.sibling;return null}function o(L){for(var O=new Map;L!==null;)L.key!==null?O.set(L.key,L):O.set(L.index,L),L=L.sibling;return O}function h(L,O){return L=Ki(L,O),L.index=0,L.sibling=null,L}function f(L,O,z){return L.index=z,e?(z=L.alternate,z!==null?(z=z.index,z<O?(L.flags|=67108866,O):z):(L.flags|=67108866,O)):(L.flags|=1048576,O)}function g(L){return e&&L.alternate===null&&(L.flags|=67108866),L}function T(L,O,z,Y){return O===null||O.tag!==6?(O=zh(z,L.mode,Y),O.return=L,O):(O=h(O,z),O.return=L,O)}function C(L,O,z,Y){var dt=z.type;return dt===rt?K(L,O,z.props.children,Y,z.key):O!==null&&(O.elementType===dt||typeof dt=="object"&&dt!==null&&dt.$$typeof===A&&Ns(dt)===O.type)?(O=h(O,z.props),Uo(O,z),O.return=L,O):(O=Su(z.type,z.key,z.props,null,L.mode,Y),Uo(O,z),O.return=L,O)}function j(L,O,z,Y){return O===null||O.tag!==4||O.stateNode.containerInfo!==z.containerInfo||O.stateNode.implementation!==z.implementation?(O=jh(z,L.mode,Y),O.return=L,O):(O=h(O,z.children||[]),O.return=L,O)}function K(L,O,z,Y,dt){return O===null||O.tag!==7?(O=Is(z,L.mode,Y,dt),O.return=L,O):(O=h(O,z),O.return=L,O)}function W(L,O,z){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=zh(""+O,L.mode,z),O.return=L,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case X:return z=Su(O.type,O.key,O.props,null,L.mode,z),Uo(z,O),z.return=L,z;case it:return O=jh(O,L.mode,z),O.return=L,O;case A:return O=Ns(O),W(L,O,z)}if(fe(O)||P(O))return O=Is(O,L.mode,z,null),O.return=L,O;if(typeof O.then=="function")return W(L,Du(O),z);if(O.$$typeof===gt)return W(L,Ru(L,O),z);Mu(L,O)}return null}function B(L,O,z,Y){var dt=O!==null?O.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return dt!==null?null:T(L,O,""+z,Y);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case X:return z.key===dt?C(L,O,z,Y):null;case it:return z.key===dt?j(L,O,z,Y):null;case A:return z=Ns(z),B(L,O,z,Y)}if(fe(z)||P(z))return dt!==null?null:K(L,O,z,Y,null);if(typeof z.then=="function")return B(L,O,Du(z),Y);if(z.$$typeof===gt)return B(L,O,Ru(L,z),Y);Mu(L,z)}return null}function H(L,O,z,Y,dt){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return L=L.get(z)||null,T(O,L,""+Y,dt);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case X:return L=L.get(Y.key===null?z:Y.key)||null,C(O,L,Y,dt);case it:return L=L.get(Y.key===null?z:Y.key)||null,j(O,L,Y,dt);case A:return Y=Ns(Y),H(L,O,z,Y,dt)}if(fe(Y)||P(Y))return L=L.get(z)||null,K(O,L,Y,dt,null);if(typeof Y.then=="function")return H(L,O,z,Du(Y),dt);if(Y.$$typeof===gt)return H(L,O,z,Ru(O,Y),dt);Mu(O,Y)}return null}function lt(L,O,z,Y){for(var dt=null,Gt=null,ut=O,Dt=O=0,kt=null;ut!==null&&Dt<z.length;Dt++){ut.index>Dt?(kt=ut,ut=null):kt=ut.sibling;var Kt=B(L,ut,z[Dt],Y);if(Kt===null){ut===null&&(ut=kt);break}e&&ut&&Kt.alternate===null&&n(L,ut),O=f(Kt,O,Dt),Gt===null?dt=Kt:Gt.sibling=Kt,Gt=Kt,ut=kt}if(Dt===z.length)return r(L,ut),jt&&Qi(L,Dt),dt;if(ut===null){for(;Dt<z.length;Dt++)ut=W(L,z[Dt],Y),ut!==null&&(O=f(ut,O,Dt),Gt===null?dt=ut:Gt.sibling=ut,Gt=ut);return jt&&Qi(L,Dt),dt}for(ut=o(ut);Dt<z.length;Dt++)kt=H(ut,L,Dt,z[Dt],Y),kt!==null&&(e&&kt.alternate!==null&&ut.delete(kt.key===null?Dt:kt.key),O=f(kt,O,Dt),Gt===null?dt=kt:Gt.sibling=kt,Gt=kt);return e&&ut.forEach(function(Kr){return n(L,Kr)}),jt&&Qi(L,Dt),dt}function yt(L,O,z,Y){if(z==null)throw Error(a(151));for(var dt=null,Gt=null,ut=O,Dt=O=0,kt=null,Kt=z.next();ut!==null&&!Kt.done;Dt++,Kt=z.next()){ut.index>Dt?(kt=ut,ut=null):kt=ut.sibling;var Kr=B(L,ut,Kt.value,Y);if(Kr===null){ut===null&&(ut=kt);break}e&&ut&&Kr.alternate===null&&n(L,ut),O=f(Kr,O,Dt),Gt===null?dt=Kr:Gt.sibling=Kr,Gt=Kr,ut=kt}if(Kt.done)return r(L,ut),jt&&Qi(L,Dt),dt;if(ut===null){for(;!Kt.done;Dt++,Kt=z.next())Kt=W(L,Kt.value,Y),Kt!==null&&(O=f(Kt,O,Dt),Gt===null?dt=Kt:Gt.sibling=Kt,Gt=Kt);return jt&&Qi(L,Dt),dt}for(ut=o(ut);!Kt.done;Dt++,Kt=z.next())Kt=H(ut,L,Dt,Kt.value,Y),Kt!==null&&(e&&Kt.alternate!==null&&ut.delete(Kt.key===null?Dt:Kt.key),O=f(Kt,O,Dt),Gt===null?dt=Kt:Gt.sibling=Kt,Gt=Kt);return e&&ut.forEach(function(nb){return n(L,nb)}),jt&&Qi(L,Dt),dt}function ae(L,O,z,Y){if(typeof z=="object"&&z!==null&&z.type===rt&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case X:t:{for(var dt=z.key;O!==null;){if(O.key===dt){if(dt=z.type,dt===rt){if(O.tag===7){r(L,O.sibling),Y=h(O,z.props.children),Y.return=L,L=Y;break t}}else if(O.elementType===dt||typeof dt=="object"&&dt!==null&&dt.$$typeof===A&&Ns(dt)===O.type){r(L,O.sibling),Y=h(O,z.props),Uo(Y,z),Y.return=L,L=Y;break t}r(L,O);break}else n(L,O);O=O.sibling}z.type===rt?(Y=Is(z.props.children,L.mode,Y,z.key),Y.return=L,L=Y):(Y=Su(z.type,z.key,z.props,null,L.mode,Y),Uo(Y,z),Y.return=L,L=Y)}return g(L);case it:t:{for(dt=z.key;O!==null;){if(O.key===dt)if(O.tag===4&&O.stateNode.containerInfo===z.containerInfo&&O.stateNode.implementation===z.implementation){r(L,O.sibling),Y=h(O,z.children||[]),Y.return=L,L=Y;break t}else{r(L,O);break}else n(L,O);O=O.sibling}Y=jh(z,L.mode,Y),Y.return=L,L=Y}return g(L);case A:return z=Ns(z),ae(L,O,z,Y)}if(fe(z))return lt(L,O,z,Y);if(P(z)){if(dt=P(z),typeof dt!="function")throw Error(a(150));return z=dt.call(z),yt(L,O,z,Y)}if(typeof z.then=="function")return ae(L,O,Du(z),Y);if(z.$$typeof===gt)return ae(L,O,Ru(L,z),Y);Mu(L,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,O!==null&&O.tag===6?(r(L,O.sibling),Y=h(O,z),Y.return=L,L=Y):(r(L,O),Y=zh(z,L.mode,Y),Y.return=L,L=Y),g(L)):r(L,O)}return function(L,O,z,Y){try{Po=0;var dt=ae(L,O,z,Y);return Aa=null,dt}catch(ut){if(ut===Sa||ut===Iu)throw ut;var Gt=bn(29,ut,null,L.mode);return Gt.lanes=Y,Gt.return=L,Gt}}}var ks=Ug(!0),zg=Ug(!1),xr=!1;function Zh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function $h(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Dr(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Mr(e,n,r){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Yt&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=bu(e),bg(e,null,r),n}return Eu(e,o,n,r),bu(e)}function zo(e,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,r|=o,n.lanes=r,ho(e,r)}}function tf(e,n){var r=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,r===o)){var h=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var g={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?h=f=g:f=f.next=g,r=r.next}while(r!==null);f===null?h=f=n:f=f.next=n}else h=f=n;r={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=n:e.next=n,r.lastBaseUpdate=n}var ef=!1;function jo(){if(ef){var e=ba;if(e!==null)throw e}}function Bo(e,n,r,o){ef=!1;var h=e.updateQueue;xr=!1;var f=h.firstBaseUpdate,g=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var C=T,j=C.next;C.next=null,g===null?f=j:g.next=j,g=C;var K=e.alternate;K!==null&&(K=K.updateQueue,T=K.lastBaseUpdate,T!==g&&(T===null?K.firstBaseUpdate=j:T.next=j,K.lastBaseUpdate=C))}if(f!==null){var W=h.baseState;g=0,K=j=C=null,T=f;do{var B=T.lane&-536870913,H=B!==T.lane;if(H?(Vt&B)===B:(o&B)===B){B!==0&&B===Ea&&(ef=!0),K!==null&&(K=K.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});t:{var lt=e,yt=T;B=n;var ae=r;switch(yt.tag){case 1:if(lt=yt.payload,typeof lt=="function"){W=lt.call(ae,W,B);break t}W=lt;break t;case 3:lt.flags=lt.flags&-65537|128;case 0:if(lt=yt.payload,B=typeof lt=="function"?lt.call(ae,W,B):lt,B==null)break t;W=w({},W,B);break t;case 2:xr=!0}}B=T.callback,B!==null&&(e.flags|=64,H&&(e.flags|=8192),H=h.callbacks,H===null?h.callbacks=[B]:H.push(B))}else H={lane:B,tag:T.tag,payload:T.payload,callback:T.callback,next:null},K===null?(j=K=H,C=W):K=K.next=H,g|=B;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;H=T,T=H.next,H.next=null,h.lastBaseUpdate=H,h.shared.pending=null}}while(!0);K===null&&(C=W),h.baseState=C,h.firstBaseUpdate=j,h.lastBaseUpdate=K,f===null&&(h.shared.lanes=0),Lr|=g,e.lanes=g,e.memoizedState=W}}function jg(e,n){if(typeof e!="function")throw Error(a(191,e));e.call(n)}function Bg(e,n){var r=e.callbacks;if(r!==null)for(e.callbacks=null,e=0;e<r.length;e++)jg(r[e],n)}var wa=M(null),Ou=M(0);function qg(e,n){e=rr,nt(Ou,e),nt(wa,n),rr=e|n.baseLanes}function nf(){nt(Ou,rr),nt(wa,wa.current)}function rf(){rr=Ou.current,Q(wa),Q(Ou)}var Sn=M(null),zn=null;function Or(e){var n=e.alternate;nt(Re,Re.current&1),nt(Sn,e),zn===null&&(n===null||wa.current!==null||n.memoizedState!==null)&&(zn=e)}function sf(e){nt(Re,Re.current),nt(Sn,e),zn===null&&(zn=e)}function Hg(e){e.tag===22?(nt(Re,Re.current),nt(Sn,e),zn===null&&(zn=e)):Nr()}function Nr(){nt(Re,Re.current),nt(Sn,Sn.current)}function An(e){Q(Sn),zn===e&&(zn=null),Q(Re)}var Re=M(0);function Nu(e){for(var n=e;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||hd(r)||fd(r)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Wi=0,It=null,re=null,Ve=null,Vu=!1,Ra=!1,Ls=!1,ku=0,qo=0,Ca=null,KT=0;function Ee(){throw Error(a(321))}function af(e,n){if(n===null)return!1;for(var r=0;r<n.length&&r<e.length;r++)if(!En(e[r],n[r]))return!1;return!0}function of(e,n,r,o,h,f){return Wi=f,It=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,G.H=e===null||e.memoizedState===null?Rp:bf,Ls=!1,f=r(o,h),Ls=!1,Ra&&(f=Gg(n,r,o,h)),Fg(e),f}function Fg(e){G.H=Go;var n=re!==null&&re.next!==null;if(Wi=0,Ve=re=It=null,Vu=!1,qo=0,Ca=null,n)throw Error(a(300));e===null||ke||(e=e.dependencies,e!==null&&wu(e)&&(ke=!0))}function Gg(e,n,r,o){It=e;var h=0;do{if(Ra&&(Ca=null),qo=0,Ra=!1,25<=h)throw Error(a(301));if(h+=1,Ve=re=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}G.H=Cp,f=n(r,o)}while(Ra);return f}function QT(){var e=G.H,n=e.useState()[0];return n=typeof n.then=="function"?Ho(n):n,e=e.useState()[0],(re!==null?re.memoizedState:null)!==e&&(It.flags|=1024),n}function lf(){var e=ku!==0;return ku=0,e}function uf(e,n,r){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~r}function cf(e){if(Vu){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Vu=!1}Wi=0,Ve=re=It=null,Ra=!1,qo=ku=0,Ca=null}function cn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ve===null?It.memoizedState=Ve=e:Ve=Ve.next=e,Ve}function Ce(){if(re===null){var e=It.alternate;e=e!==null?e.memoizedState:null}else e=re.next;var n=Ve===null?It.memoizedState:Ve.next;if(n!==null)Ve=n,re=e;else{if(e===null)throw It.alternate===null?Error(a(467)):Error(a(310));re=e,e={memoizedState:re.memoizedState,baseState:re.baseState,baseQueue:re.baseQueue,queue:re.queue,next:null},Ve===null?It.memoizedState=Ve=e:Ve=Ve.next=e}return Ve}function Lu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ho(e){var n=qo;return qo+=1,Ca===null&&(Ca=[]),e=kg(Ca,e,n),n=It,(Ve===null?n.memoizedState:Ve.next)===null&&(n=n.alternate,G.H=n===null||n.memoizedState===null?Rp:bf),e}function Pu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Ho(e);if(e.$$typeof===gt)return We(e)}throw Error(a(438,String(e)))}function hf(e){var n=null,r=It.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var o=It.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=Lu(),It.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(e),o=0;o<e;o++)r[o]=V;return n.index++,r}function Ji(e,n){return typeof n=="function"?n(e):n}function Uu(e){var n=Ce();return ff(n,re,e)}function ff(e,n,r){var o=e.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=r;var h=e.baseQueue,f=o.pending;if(f!==null){if(h!==null){var g=h.next;h.next=f.next,f.next=g}n.baseQueue=h=f,o.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{n=h.next;var T=g=null,C=null,j=n,K=!1;do{var W=j.lane&-536870913;if(W!==j.lane?(Vt&W)===W:(Wi&W)===W){var B=j.revertLane;if(B===0)C!==null&&(C=C.next={lane:0,revertLane:0,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),W===Ea&&(K=!0);else if((Wi&B)===B){j=j.next,B===Ea&&(K=!0);continue}else W={lane:0,revertLane:j.revertLane,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},C===null?(T=C=W,g=f):C=C.next=W,It.lanes|=B,Lr|=B;W=j.action,Ls&&r(f,W),f=j.hasEagerState?j.eagerState:r(f,W)}else B={lane:W,revertLane:j.revertLane,gesture:j.gesture,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},C===null?(T=C=B,g=f):C=C.next=B,It.lanes|=W,Lr|=W;j=j.next}while(j!==null&&j!==n);if(C===null?g=f:C.next=T,!En(f,e.memoizedState)&&(ke=!0,K&&(r=ba,r!==null)))throw r;e.memoizedState=f,e.baseState=g,e.baseQueue=C,o.lastRenderedState=f}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function df(e){var n=Ce(),r=n.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=e;var o=r.dispatch,h=r.pending,f=n.memoizedState;if(h!==null){r.pending=null;var g=h=h.next;do f=e(f,g.action),g=g.next;while(g!==h);En(f,n.memoizedState)||(ke=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,o]}function Kg(e,n,r){var o=It,h=Ce(),f=jt;if(f){if(r===void 0)throw Error(a(407));r=r()}else r=n();var g=!En((re||h).memoizedState,r);if(g&&(h.memoizedState=r,ke=!0),h=h.queue,pf(Xg.bind(null,o,h,e),[e]),h.getSnapshot!==n||g||Ve!==null&&Ve.memoizedState.tag&1){if(o.flags|=2048,Ia(9,{destroy:void 0},Yg.bind(null,o,h,r,n),null),le===null)throw Error(a(349));f||(Wi&127)!==0||Qg(o,n,r)}return r}function Qg(e,n,r){e.flags|=16384,e={getSnapshot:n,value:r},n=It.updateQueue,n===null?(n=Lu(),It.updateQueue=n,n.stores=[e]):(r=n.stores,r===null?n.stores=[e]:r.push(e))}function Yg(e,n,r,o){n.value=r,n.getSnapshot=o,Wg(n)&&Jg(e)}function Xg(e,n,r){return r(function(){Wg(n)&&Jg(e)})}function Wg(e){var n=e.getSnapshot;e=e.value;try{var r=n();return!En(e,r)}catch{return!0}}function Jg(e){var n=Cs(e,2);n!==null&&yn(n,e,2)}function mf(e){var n=cn();if(typeof e=="function"){var r=e;if(e=r(),Ls){xn(!0);try{r()}finally{xn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ji,lastRenderedState:e},n}function Zg(e,n,r,o){return e.baseState=r,ff(e,re,typeof o=="function"?o:Ji)}function YT(e,n,r,o,h){if(Bu(e))throw Error(a(485));if(e=n.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};G.T!==null?r(!0):f.isTransition=!1,o(f),r=n.pending,r===null?(f.next=n.pending=f,$g(n,f)):(f.next=r.next,n.pending=r.next=f)}}function $g(e,n){var r=n.action,o=n.payload,h=e.state;if(n.isTransition){var f=G.T,g={};G.T=g;try{var T=r(h,o),C=G.S;C!==null&&C(g,T),tp(e,n,T)}catch(j){gf(e,n,j)}finally{f!==null&&g.types!==null&&(f.types=g.types),G.T=f}}else try{f=r(h,o),tp(e,n,f)}catch(j){gf(e,n,j)}}function tp(e,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(o){ep(e,n,o)},function(o){return gf(e,n,o)}):ep(e,n,r)}function ep(e,n,r){n.status="fulfilled",n.value=r,np(n),e.state=r,n=e.pending,n!==null&&(r=n.next,r===n?e.pending=null:(r=r.next,n.next=r,$g(e,r)))}function gf(e,n,r){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=r,np(n),n=n.next;while(n!==o)}e.action=null}function np(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function ip(e,n){return n}function rp(e,n){if(jt){var r=le.formState;if(r!==null){t:{var o=It;if(jt){if(ue){e:{for(var h=ue,f=Un;h.nodeType!==8;){if(!f){h=null;break e}if(h=jn(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){ue=jn(h.nextSibling),o=h.data==="F!";break t}}Cr(o)}o=!1}o&&(n=r[0])}}return r=cn(),r.memoizedState=r.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ip,lastRenderedState:n},r.queue=o,r=Sp.bind(null,It,o),o.dispatch=r,o=mf(!1),f=Ef.bind(null,It,!1,o.queue),o=cn(),h={state:n,dispatch:null,action:e,pending:null},o.queue=h,r=YT.bind(null,It,h,f,r),h.dispatch=r,o.memoizedState=e,[n,r,!1]}function sp(e){var n=Ce();return ap(n,re,e)}function ap(e,n,r){if(n=ff(e,n,ip)[0],e=Uu(Ji)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=Ho(n)}catch(g){throw g===Sa?Iu:g}else o=n;n=Ce();var h=n.queue,f=h.dispatch;return r!==n.memoizedState&&(It.flags|=2048,Ia(9,{destroy:void 0},XT.bind(null,h,r),null)),[o,f,e]}function XT(e,n){e.action=n}function op(e){var n=Ce(),r=re;if(r!==null)return ap(n,r,e);Ce(),n=n.memoizedState,r=Ce();var o=r.queue.dispatch;return r.memoizedState=e,[n,o,!1]}function Ia(e,n,r,o){return e={tag:e,create:r,deps:o,inst:n,next:null},n=It.updateQueue,n===null&&(n=Lu(),It.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=e.next=e:(o=r.next,r.next=e,e.next=o,n.lastEffect=e),e}function lp(){return Ce().memoizedState}function zu(e,n,r,o){var h=cn();It.flags|=e,h.memoizedState=Ia(1|n,{destroy:void 0},r,o===void 0?null:o)}function ju(e,n,r,o){var h=Ce();o=o===void 0?null:o;var f=h.memoizedState.inst;re!==null&&o!==null&&af(o,re.memoizedState.deps)?h.memoizedState=Ia(n,f,r,o):(It.flags|=e,h.memoizedState=Ia(1|n,f,r,o))}function up(e,n){zu(8390656,8,e,n)}function pf(e,n){ju(2048,8,e,n)}function WT(e){It.flags|=4;var n=It.updateQueue;if(n===null)n=Lu(),It.updateQueue=n,n.events=[e];else{var r=n.events;r===null?n.events=[e]:r.push(e)}}function cp(e){var n=Ce().memoizedState;return WT({ref:n,nextImpl:e}),function(){if((Yt&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function hp(e,n){return ju(4,2,e,n)}function fp(e,n){return ju(4,4,e,n)}function dp(e,n){if(typeof n=="function"){e=e();var r=n(e);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function mp(e,n,r){r=r!=null?r.concat([e]):null,ju(4,4,dp.bind(null,n,e),r)}function yf(){}function gp(e,n){var r=Ce();n=n===void 0?null:n;var o=r.memoizedState;return n!==null&&af(n,o[1])?o[0]:(r.memoizedState=[e,n],e)}function pp(e,n){var r=Ce();n=n===void 0?null:n;var o=r.memoizedState;if(n!==null&&af(n,o[1]))return o[0];if(o=e(),Ls){xn(!0);try{e()}finally{xn(!1)}}return r.memoizedState=[o,n],o}function _f(e,n,r){return r===void 0||(Wi&1073741824)!==0&&(Vt&261930)===0?e.memoizedState=n:(e.memoizedState=r,e=yy(),It.lanes|=e,Lr|=e,r)}function yp(e,n,r,o){return En(r,n)?r:wa.current!==null?(e=_f(e,r,o),En(e,n)||(ke=!0),e):(Wi&42)===0||(Wi&1073741824)!==0&&(Vt&261930)===0?(ke=!0,e.memoizedState=r):(e=yy(),It.lanes|=e,Lr|=e,n)}function _p(e,n,r,o,h){var f=tt.p;tt.p=f!==0&&8>f?f:8;var g=G.T,T={};G.T=T,Ef(e,!1,n,r);try{var C=h(),j=G.S;if(j!==null&&j(T,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var K=GT(C,o);Fo(e,n,K,Cn(e))}else Fo(e,n,o,Cn(e))}catch(W){Fo(e,n,{then:function(){},status:"rejected",reason:W},Cn())}finally{tt.p=f,g!==null&&T.types!==null&&(g.types=T.types),G.T=g}}function JT(){}function vf(e,n,r,o){if(e.tag!==5)throw Error(a(476));var h=vp(e).queue;_p(e,h,n,ct,r===null?JT:function(){return Tp(e),r(o)})}function vp(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:ct,baseState:ct,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ji,lastRenderedState:ct},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ji,lastRenderedState:r},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Tp(e){var n=vp(e);n.next===null&&(n=e.alternate.memoizedState),Fo(e,n.next.queue,{},Cn())}function Tf(){return We(ol)}function Ep(){return Ce().memoizedState}function bp(){return Ce().memoizedState}function ZT(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var r=Cn();e=Dr(r);var o=Mr(n,e,r);o!==null&&(yn(o,n,r),zo(o,n,r)),n={cache:Yh()},e.payload=n;return}n=n.return}}function $T(e,n,r){var o=Cn();r={lane:o,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Bu(e)?Ap(n,r):(r=Ph(e,n,r,o),r!==null&&(yn(r,e,o),wp(r,n,o)))}function Sp(e,n,r){var o=Cn();Fo(e,n,r,o)}function Fo(e,n,r,o){var h={lane:o,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(Bu(e))Ap(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,T=f(g,r);if(h.hasEagerState=!0,h.eagerState=T,En(T,g))return Eu(e,n,h,0),le===null&&Tu(),!1}catch{}if(r=Ph(e,n,h,o),r!==null)return yn(r,e,o),wp(r,n,o),!0}return!1}function Ef(e,n,r,o){if(o={lane:2,revertLane:$f(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Bu(e)){if(n)throw Error(a(479))}else n=Ph(e,r,o,2),n!==null&&yn(n,e,2)}function Bu(e){var n=e.alternate;return e===It||n!==null&&n===It}function Ap(e,n){Ra=Vu=!0;var r=e.pending;r===null?n.next=n:(n.next=r.next,r.next=n),e.pending=n}function wp(e,n,r){if((r&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,r|=o,n.lanes=r,ho(e,r)}}var Go={readContext:We,use:Pu,useCallback:Ee,useContext:Ee,useEffect:Ee,useImperativeHandle:Ee,useLayoutEffect:Ee,useInsertionEffect:Ee,useMemo:Ee,useReducer:Ee,useRef:Ee,useState:Ee,useDebugValue:Ee,useDeferredValue:Ee,useTransition:Ee,useSyncExternalStore:Ee,useId:Ee,useHostTransitionStatus:Ee,useFormState:Ee,useActionState:Ee,useOptimistic:Ee,useMemoCache:Ee,useCacheRefresh:Ee};Go.useEffectEvent=Ee;var Rp={readContext:We,use:Pu,useCallback:function(e,n){return cn().memoizedState=[e,n===void 0?null:n],e},useContext:We,useEffect:up,useImperativeHandle:function(e,n,r){r=r!=null?r.concat([e]):null,zu(4194308,4,dp.bind(null,n,e),r)},useLayoutEffect:function(e,n){return zu(4194308,4,e,n)},useInsertionEffect:function(e,n){zu(4,2,e,n)},useMemo:function(e,n){var r=cn();n=n===void 0?null:n;var o=e();if(Ls){xn(!0);try{e()}finally{xn(!1)}}return r.memoizedState=[o,n],o},useReducer:function(e,n,r){var o=cn();if(r!==void 0){var h=r(n);if(Ls){xn(!0);try{r(n)}finally{xn(!1)}}}else h=n;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=$T.bind(null,It,e),[o.memoizedState,e]},useRef:function(e){var n=cn();return e={current:e},n.memoizedState=e},useState:function(e){e=mf(e);var n=e.queue,r=Sp.bind(null,It,n);return n.dispatch=r,[e.memoizedState,r]},useDebugValue:yf,useDeferredValue:function(e,n){var r=cn();return _f(r,e,n)},useTransition:function(){var e=mf(!1);return e=_p.bind(null,It,e.queue,!0,!1),cn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,r){var o=It,h=cn();if(jt){if(r===void 0)throw Error(a(407));r=r()}else{if(r=n(),le===null)throw Error(a(349));(Vt&127)!==0||Qg(o,n,r)}h.memoizedState=r;var f={value:r,getSnapshot:n};return h.queue=f,up(Xg.bind(null,o,f,e),[e]),o.flags|=2048,Ia(9,{destroy:void 0},Yg.bind(null,o,f,r,n),null),r},useId:function(){var e=cn(),n=le.identifierPrefix;if(jt){var r=xi,o=Ii;r=(o&~(1<<32-Ae(o)-1)).toString(32)+r,n="_"+n+"R_"+r,r=ku++,0<r&&(n+="H"+r.toString(32)),n+="_"}else r=KT++,n="_"+n+"r_"+r.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:Tf,useFormState:rp,useActionState:rp,useOptimistic:function(e){var n=cn();n.memoizedState=n.baseState=e;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=Ef.bind(null,It,!0,r),r.dispatch=n,[e,n]},useMemoCache:hf,useCacheRefresh:function(){return cn().memoizedState=ZT.bind(null,It)},useEffectEvent:function(e){var n=cn(),r={impl:e};return n.memoizedState=r,function(){if((Yt&2)!==0)throw Error(a(440));return r.impl.apply(void 0,arguments)}}},bf={readContext:We,use:Pu,useCallback:gp,useContext:We,useEffect:pf,useImperativeHandle:mp,useInsertionEffect:hp,useLayoutEffect:fp,useMemo:pp,useReducer:Uu,useRef:lp,useState:function(){return Uu(Ji)},useDebugValue:yf,useDeferredValue:function(e,n){var r=Ce();return yp(r,re.memoizedState,e,n)},useTransition:function(){var e=Uu(Ji)[0],n=Ce().memoizedState;return[typeof e=="boolean"?e:Ho(e),n]},useSyncExternalStore:Kg,useId:Ep,useHostTransitionStatus:Tf,useFormState:sp,useActionState:sp,useOptimistic:function(e,n){var r=Ce();return Zg(r,re,e,n)},useMemoCache:hf,useCacheRefresh:bp};bf.useEffectEvent=cp;var Cp={readContext:We,use:Pu,useCallback:gp,useContext:We,useEffect:pf,useImperativeHandle:mp,useInsertionEffect:hp,useLayoutEffect:fp,useMemo:pp,useReducer:df,useRef:lp,useState:function(){return df(Ji)},useDebugValue:yf,useDeferredValue:function(e,n){var r=Ce();return re===null?_f(r,e,n):yp(r,re.memoizedState,e,n)},useTransition:function(){var e=df(Ji)[0],n=Ce().memoizedState;return[typeof e=="boolean"?e:Ho(e),n]},useSyncExternalStore:Kg,useId:Ep,useHostTransitionStatus:Tf,useFormState:op,useActionState:op,useOptimistic:function(e,n){var r=Ce();return re!==null?Zg(r,re,e,n):(r.baseState=e,[e,r.queue.dispatch])},useMemoCache:hf,useCacheRefresh:bp};Cp.useEffectEvent=cp;function Sf(e,n,r,o){n=e.memoizedState,r=r(o,n),r=r==null?n:w({},n,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Af={enqueueSetState:function(e,n,r){e=e._reactInternals;var o=Cn(),h=Dr(o);h.payload=n,r!=null&&(h.callback=r),n=Mr(e,h,o),n!==null&&(yn(n,e,o),zo(n,e,o))},enqueueReplaceState:function(e,n,r){e=e._reactInternals;var o=Cn(),h=Dr(o);h.tag=1,h.payload=n,r!=null&&(h.callback=r),n=Mr(e,h,o),n!==null&&(yn(n,e,o),zo(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var r=Cn(),o=Dr(r);o.tag=2,n!=null&&(o.callback=n),n=Mr(e,o,r),n!==null&&(yn(n,e,r),zo(n,e,r))}};function Ip(e,n,r,o,h,f,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,g):n.prototype&&n.prototype.isPureReactComponent?!Mo(r,o)||!Mo(h,f):!0}function xp(e,n,r,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,o),n.state!==e&&Af.enqueueReplaceState(n,n.state,null)}function Ps(e,n){var r=n;if("ref"in n){r={};for(var o in n)o!=="ref"&&(r[o]=n[o])}if(e=e.defaultProps){r===n&&(r=w({},r));for(var h in e)r[h]===void 0&&(r[h]=e[h])}return r}function Dp(e){vu(e)}function Mp(e){console.error(e)}function Op(e){vu(e)}function qu(e,n){try{var r=e.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function Np(e,n,r){try{var o=e.onCaughtError;o(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function wf(e,n,r){return r=Dr(r),r.tag=3,r.payload={element:null},r.callback=function(){qu(e,n)},r}function Vp(e){return e=Dr(e),e.tag=3,e}function kp(e,n,r,o){var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;e.payload=function(){return h(f)},e.callback=function(){Np(n,r,o)}}var g=r.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(e.callback=function(){Np(n,r,o),typeof h!="function"&&(Pr===null?Pr=new Set([this]):Pr.add(this));var T=o.stack;this.componentDidCatch(o.value,{componentStack:T!==null?T:""})})}function tE(e,n,r,o,h){if(r.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=r.alternate,n!==null&&Ta(n,r,h,!0),r=Sn.current,r!==null){switch(r.tag){case 31:case 13:return zn===null?tc():r.alternate===null&&be===0&&(be=3),r.flags&=-257,r.flags|=65536,r.lanes=h,o===xu?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([o]):n.add(o),Wf(e,o,h)),!1;case 22:return r.flags|=65536,o===xu?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([o]):r.add(o)),Wf(e,o,h)),!1}throw Error(a(435,r.tag))}return Wf(e,o,h),tc(),!1}if(jt)return n=Sn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==Hh&&(e=Error(a(422),{cause:o}),Vo(kn(e,r)))):(o!==Hh&&(n=Error(a(423),{cause:o}),Vo(kn(n,r))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=kn(o,r),h=wf(e.stateNode,o,h),tf(e,h),be!==4&&(be=2)),!1;var f=Error(a(520),{cause:o});if(f=kn(f,r),$o===null?$o=[f]:$o.push(f),be!==4&&(be=2),n===null)return!0;o=kn(o,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,e=h&-h,r.lanes|=e,e=wf(r.stateNode,o,e),tf(r,e),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Pr===null||!Pr.has(f))))return r.flags|=65536,h&=-h,r.lanes|=h,h=Vp(h),kp(h,e,r,o),tf(r,h),!1}r=r.return}while(r!==null);return!1}var Rf=Error(a(461)),ke=!1;function Je(e,n,r,o){n.child=e===null?zg(n,null,r,o):ks(n,e.child,r,o)}function Lp(e,n,r,o,h){r=r.render;var f=n.ref;if("ref"in o){var g={};for(var T in o)T!=="ref"&&(g[T]=o[T])}else g=o;return Ms(n),o=of(e,n,r,g,f,h),T=lf(),e!==null&&!ke?(uf(e,n,h),Zi(e,n,h)):(jt&&T&&Bh(n),n.flags|=1,Je(e,n,o,h),n.child)}function Pp(e,n,r,o,h){if(e===null){var f=r.type;return typeof f=="function"&&!Uh(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,Up(e,n,f,o,h)):(e=Su(r.type,null,o,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!Vf(e,h)){var g=f.memoizedProps;if(r=r.compare,r=r!==null?r:Mo,r(g,o)&&e.ref===n.ref)return Zi(e,n,h)}return n.flags|=1,e=Ki(f,o),e.ref=n.ref,e.return=n,n.child=e}function Up(e,n,r,o,h){if(e!==null){var f=e.memoizedProps;if(Mo(f,o)&&e.ref===n.ref)if(ke=!1,n.pendingProps=o=f,Vf(e,h))(e.flags&131072)!==0&&(ke=!0);else return n.lanes=e.lanes,Zi(e,n,h)}return Cf(e,n,r,o,h)}function zp(e,n,r,o){var h=o.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|r:r,e!==null){for(o=n.child=e.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return jp(e,n,f,r,o)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Cu(n,f!==null?f.cachePool:null),f!==null?qg(n,f):nf(),Hg(n);else return o=n.lanes=536870912,jp(e,n,f!==null?f.baseLanes|r:r,r,o)}else f!==null?(Cu(n,f.cachePool),qg(n,f),Nr(),n.memoizedState=null):(e!==null&&Cu(n,null),nf(),Nr());return Je(e,n,h,r),n.child}function Ko(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function jp(e,n,r,o,h){var f=Wh();return f=f===null?null:{parent:Ne._currentValue,pool:f},n.memoizedState={baseLanes:r,cachePool:f},e!==null&&Cu(n,null),nf(),Hg(n),e!==null&&Ta(e,n,o,!0),n.childLanes=h,null}function Hu(e,n){return n=Gu({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function Bp(e,n,r){return ks(n,e.child,null,r),e=Hu(n,n.pendingProps),e.flags|=2,An(n),n.memoizedState=null,e}function eE(e,n,r){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(jt){if(o.mode==="hidden")return e=Hu(n,o),n.lanes=536870912,Ko(null,e);if(sf(n),(e=ue)?(e=$y(e,Un),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:wr!==null?{id:Ii,overflow:xi}:null,retryLane:536870912,hydrationErrors:null},r=Ag(e),r.return=n,n.child=r,Xe=n,ue=null)):e=null,e===null)throw Cr(n);return n.lanes=536870912,null}return Hu(n,o)}var f=e.memoizedState;if(f!==null){var g=f.dehydrated;if(sf(n),h)if(n.flags&256)n.flags&=-257,n=Bp(e,n,r);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(a(558));else if(ke||Ta(e,n,r,!1),h=(r&e.childLanes)!==0,ke||h){if(o=le,o!==null&&(g=fo(o,r),g!==0&&g!==f.retryLane))throw f.retryLane=g,Cs(e,g),yn(o,e,g),Rf;tc(),n=Bp(e,n,r)}else e=f.treeContext,ue=jn(g.nextSibling),Xe=n,jt=!0,Rr=null,Un=!1,e!==null&&Cg(n,e),n=Hu(n,o),n.flags|=4096;return n}return e=Ki(e.child,{mode:o.mode,children:o.children}),e.ref=n.ref,n.child=e,e.return=n,e}function Fu(e,n){var r=n.ref;if(r===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(a(284));(e===null||e.ref!==r)&&(n.flags|=4194816)}}function Cf(e,n,r,o,h){return Ms(n),r=of(e,n,r,o,void 0,h),o=lf(),e!==null&&!ke?(uf(e,n,h),Zi(e,n,h)):(jt&&o&&Bh(n),n.flags|=1,Je(e,n,r,h),n.child)}function qp(e,n,r,o,h,f){return Ms(n),n.updateQueue=null,r=Gg(n,o,r,h),Fg(e),o=lf(),e!==null&&!ke?(uf(e,n,f),Zi(e,n,f)):(jt&&o&&Bh(n),n.flags|=1,Je(e,n,r,f),n.child)}function Hp(e,n,r,o,h){if(Ms(n),n.stateNode===null){var f=pa,g=r.contextType;typeof g=="object"&&g!==null&&(f=We(g)),f=new r(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Af,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},Zh(n),g=r.contextType,f.context=typeof g=="object"&&g!==null?We(g):pa,f.state=n.memoizedState,g=r.getDerivedStateFromProps,typeof g=="function"&&(Sf(n,r,g,o),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&Af.enqueueReplaceState(f,f.state,null),Bo(n,o,f,h),jo(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){f=n.stateNode;var T=n.memoizedProps,C=Ps(r,T);f.props=C;var j=f.context,K=r.contextType;g=pa,typeof K=="object"&&K!==null&&(g=We(K));var W=r.getDerivedStateFromProps;K=typeof W=="function"||typeof f.getSnapshotBeforeUpdate=="function",T=n.pendingProps!==T,K||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(T||j!==g)&&xp(n,f,o,g),xr=!1;var B=n.memoizedState;f.state=B,Bo(n,o,f,h),jo(),j=n.memoizedState,T||B!==j||xr?(typeof W=="function"&&(Sf(n,r,W,o),j=n.memoizedState),(C=xr||Ip(n,r,C,o,B,j,g))?(K||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=j),f.props=o,f.state=j,f.context=g,o=C):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,$h(e,n),g=n.memoizedProps,K=Ps(r,g),f.props=K,W=n.pendingProps,B=f.context,j=r.contextType,C=pa,typeof j=="object"&&j!==null&&(C=We(j)),T=r.getDerivedStateFromProps,(j=typeof T=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==W||B!==C)&&xp(n,f,o,C),xr=!1,B=n.memoizedState,f.state=B,Bo(n,o,f,h),jo();var H=n.memoizedState;g!==W||B!==H||xr||e!==null&&e.dependencies!==null&&wu(e.dependencies)?(typeof T=="function"&&(Sf(n,r,T,o),H=n.memoizedState),(K=xr||Ip(n,r,K,o,B,H,C)||e!==null&&e.dependencies!==null&&wu(e.dependencies))?(j||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,H,C),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,H,C)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&B===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&B===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=H),f.props=o,f.state=H,f.context=C,o=K):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&B===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&B===e.memoizedState||(n.flags|=1024),o=!1)}return f=o,Fu(e,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,r=o&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&o?(n.child=ks(n,e.child,null,h),n.child=ks(n,null,r,h)):Je(e,n,r,h),n.memoizedState=f.state,e=n.child):e=Zi(e,n,h),e}function Fp(e,n,r,o){return xs(),n.flags|=256,Je(e,n,r,o),n.child}var If={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function xf(e){return{baseLanes:e,cachePool:Ng()}}function Df(e,n,r){return e=e!==null?e.childLanes&~r:0,n&&(e|=Rn),e}function Gp(e,n,r){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=e!==null&&e.memoizedState===null?!1:(Re.current&2)!==0),g&&(h=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,e===null){if(jt){if(h?Or(n):Nr(),(e=ue)?(e=$y(e,Un),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:wr!==null?{id:Ii,overflow:xi}:null,retryLane:536870912,hydrationErrors:null},r=Ag(e),r.return=n,n.child=r,Xe=n,ue=null)):e=null,e===null)throw Cr(n);return fd(e)?n.lanes=32:n.lanes=536870912,null}var T=o.children;return o=o.fallback,h?(Nr(),h=n.mode,T=Gu({mode:"hidden",children:T},h),o=Is(o,h,r,null),T.return=n,o.return=n,T.sibling=o,n.child=T,o=n.child,o.memoizedState=xf(r),o.childLanes=Df(e,g,r),n.memoizedState=If,Ko(null,o)):(Or(n),Mf(n,T))}var C=e.memoizedState;if(C!==null&&(T=C.dehydrated,T!==null)){if(f)n.flags&256?(Or(n),n.flags&=-257,n=Of(e,n,r)):n.memoizedState!==null?(Nr(),n.child=e.child,n.flags|=128,n=null):(Nr(),T=o.fallback,h=n.mode,o=Gu({mode:"visible",children:o.children},h),T=Is(T,h,r,null),T.flags|=2,o.return=n,T.return=n,o.sibling=T,n.child=o,ks(n,e.child,null,r),o=n.child,o.memoizedState=xf(r),o.childLanes=Df(e,g,r),n.memoizedState=If,n=Ko(null,o));else if(Or(n),fd(T)){if(g=T.nextSibling&&T.nextSibling.dataset,g)var j=g.dgst;g=j,o=Error(a(419)),o.stack="",o.digest=g,Vo({value:o,source:null,stack:null}),n=Of(e,n,r)}else if(ke||Ta(e,n,r,!1),g=(r&e.childLanes)!==0,ke||g){if(g=le,g!==null&&(o=fo(g,r),o!==0&&o!==C.retryLane))throw C.retryLane=o,Cs(e,o),yn(g,e,o),Rf;hd(T)||tc(),n=Of(e,n,r)}else hd(T)?(n.flags|=192,n.child=e.child,n=null):(e=C.treeContext,ue=jn(T.nextSibling),Xe=n,jt=!0,Rr=null,Un=!1,e!==null&&Cg(n,e),n=Mf(n,o.children),n.flags|=4096);return n}return h?(Nr(),T=o.fallback,h=n.mode,C=e.child,j=C.sibling,o=Ki(C,{mode:"hidden",children:o.children}),o.subtreeFlags=C.subtreeFlags&65011712,j!==null?T=Ki(j,T):(T=Is(T,h,r,null),T.flags|=2),T.return=n,o.return=n,o.sibling=T,n.child=o,Ko(null,o),o=n.child,T=e.child.memoizedState,T===null?T=xf(r):(h=T.cachePool,h!==null?(C=Ne._currentValue,h=h.parent!==C?{parent:C,pool:C}:h):h=Ng(),T={baseLanes:T.baseLanes|r,cachePool:h}),o.memoizedState=T,o.childLanes=Df(e,g,r),n.memoizedState=If,Ko(e.child,o)):(Or(n),r=e.child,e=r.sibling,r=Ki(r,{mode:"visible",children:o.children}),r.return=n,r.sibling=null,e!==null&&(g=n.deletions,g===null?(n.deletions=[e],n.flags|=16):g.push(e)),n.child=r,n.memoizedState=null,r)}function Mf(e,n){return n=Gu({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Gu(e,n){return e=bn(22,e,null,n),e.lanes=0,e}function Of(e,n,r){return ks(n,e.child,null,r),e=Mf(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Kp(e,n,r){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),Kh(e.return,n,r)}function Nf(e,n,r,o,h,f){var g=e.memoizedState;g===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:r,tailMode:h,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=o,g.tail=r,g.tailMode=h,g.treeForkCount=f)}function Qp(e,n,r){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var g=Re.current,T=(g&2)!==0;if(T?(g=g&1|2,n.flags|=128):g&=1,nt(Re,g),Je(e,n,o,r),o=jt?No:0,!T&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Kp(e,r,n);else if(e.tag===19)Kp(e,r,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(r=n.child,h=null;r!==null;)e=r.alternate,e!==null&&Nu(e)===null&&(h=r),r=r.sibling;r=h,r===null?(h=n.child,n.child=null):(h=r.sibling,r.sibling=null),Nf(n,!1,h,r,f,o);break;case"backwards":case"unstable_legacy-backwards":for(r=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&Nu(e)===null){n.child=h;break}e=h.sibling,h.sibling=r,r=h,h=e}Nf(n,!0,r,null,f,o);break;case"together":Nf(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function Zi(e,n,r){if(e!==null&&(n.dependencies=e.dependencies),Lr|=n.lanes,(r&n.childLanes)===0)if(e!==null){if(Ta(e,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,r=Ki(e,e.pendingProps),n.child=r,r.return=n;e.sibling!==null;)e=e.sibling,r=r.sibling=Ki(e,e.pendingProps),r.return=n;r.sibling=null}return n.child}function Vf(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&wu(e)))}function nE(e,n,r){switch(n.tag){case 3:de(n,n.stateNode.containerInfo),Ir(n,Ne,e.memoizedState.cache),xs();break;case 27:case 5:Gn(n);break;case 4:de(n,n.stateNode.containerInfo);break;case 10:Ir(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,sf(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Or(n),n.flags|=128,null):(r&n.child.childLanes)!==0?Gp(e,n,r):(Or(n),e=Zi(e,n,r),e!==null?e.sibling:null);Or(n);break;case 19:var h=(e.flags&128)!==0;if(o=(r&n.childLanes)!==0,o||(Ta(e,n,r,!1),o=(r&n.childLanes)!==0),h){if(o)return Qp(e,n,r);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),nt(Re,Re.current),o)break;return null;case 22:return n.lanes=0,zp(e,n,r,n.pendingProps);case 24:Ir(n,Ne,e.memoizedState.cache)}return Zi(e,n,r)}function Yp(e,n,r){if(e!==null)if(e.memoizedProps!==n.pendingProps)ke=!0;else{if(!Vf(e,r)&&(n.flags&128)===0)return ke=!1,nE(e,n,r);ke=(e.flags&131072)!==0}else ke=!1,jt&&(n.flags&1048576)!==0&&Rg(n,No,n.index);switch(n.lanes=0,n.tag){case 16:t:{var o=n.pendingProps;if(e=Ns(n.elementType),n.type=e,typeof e=="function")Uh(e)?(o=Ps(e,o),n.tag=1,n=Hp(null,n,e,o,r)):(n.tag=0,n=Cf(null,n,e,o,r));else{if(e!=null){var h=e.$$typeof;if(h===Bt){n.tag=11,n=Lp(null,n,e,o,r);break t}else if(h===I){n.tag=14,n=Pp(null,n,e,o,r);break t}}throw n=ee(e)||e,Error(a(306,n,""))}}return n;case 0:return Cf(e,n,n.type,n.pendingProps,r);case 1:return o=n.type,h=Ps(o,n.pendingProps),Hp(e,n,o,h,r);case 3:t:{if(de(n,n.stateNode.containerInfo),e===null)throw Error(a(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,$h(e,n),Bo(n,o,null,r);var g=n.memoizedState;if(o=g.cache,Ir(n,Ne,o),o!==f.cache&&Qh(n,[Ne],r,!0),jo(),o=g.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Fp(e,n,o,r);break t}else if(o!==h){h=kn(Error(a(424)),n),Vo(h),n=Fp(e,n,o,r);break t}else for(e=n.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,ue=jn(e.firstChild),Xe=n,jt=!0,Rr=null,Un=!0,r=zg(n,null,o,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(xs(),o===h){n=Zi(e,n,r);break t}Je(e,n,o,r)}n=n.child}return n;case 26:return Fu(e,n),e===null?(r=s_(n.type,null,n.pendingProps,null))?n.memoizedState=r:jt||(r=n.type,e=n.pendingProps,o=oc(wt.current).createElement(r),o[De]=n,o[qe]=e,Ze(o,r,e),Me(o),n.stateNode=o):n.memoizedState=s_(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return Gn(n),e===null&&jt&&(o=n.stateNode=n_(n.type,n.pendingProps,wt.current),Xe=n,Un=!0,h=ue,Br(n.type)?(dd=h,ue=jn(o.firstChild)):ue=h),Je(e,n,n.pendingProps.children,r),Fu(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&jt&&((h=o=ue)&&(o=OE(o,n.type,n.pendingProps,Un),o!==null?(n.stateNode=o,Xe=n,ue=jn(o.firstChild),Un=!1,h=!0):h=!1),h||Cr(n)),Gn(n),h=n.type,f=n.pendingProps,g=e!==null?e.memoizedProps:null,o=f.children,ld(h,f)?o=null:g!==null&&ld(h,g)&&(n.flags|=32),n.memoizedState!==null&&(h=of(e,n,QT,null,null,r),ol._currentValue=h),Fu(e,n),Je(e,n,o,r),n.child;case 6:return e===null&&jt&&((e=r=ue)&&(r=NE(r,n.pendingProps,Un),r!==null?(n.stateNode=r,Xe=n,ue=null,e=!0):e=!1),e||Cr(n)),null;case 13:return Gp(e,n,r);case 4:return de(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=ks(n,null,o,r):Je(e,n,o,r),n.child;case 11:return Lp(e,n,n.type,n.pendingProps,r);case 7:return Je(e,n,n.pendingProps,r),n.child;case 8:return Je(e,n,n.pendingProps.children,r),n.child;case 12:return Je(e,n,n.pendingProps.children,r),n.child;case 10:return o=n.pendingProps,Ir(n,n.type,o.value),Je(e,n,o.children,r),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,Ms(n),h=We(h),o=o(h),n.flags|=1,Je(e,n,o,r),n.child;case 14:return Pp(e,n,n.type,n.pendingProps,r);case 15:return Up(e,n,n.type,n.pendingProps,r);case 19:return Qp(e,n,r);case 31:return eE(e,n,r);case 22:return zp(e,n,r,n.pendingProps);case 24:return Ms(n),o=We(Ne),e===null?(h=Wh(),h===null&&(h=le,f=Yh(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=r),h=f),n.memoizedState={parent:o,cache:h},Zh(n),Ir(n,Ne,h)):((e.lanes&r)!==0&&($h(e,n),Bo(n,null,null,r),jo()),h=e.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Ir(n,Ne,o)):(o=f.cache,Ir(n,Ne,o),o!==h.cache&&Qh(n,[Ne],r,!0))),Je(e,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function $i(e){e.flags|=4}function kf(e,n,r,o,h){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(Ey())e.flags|=8192;else throw Vs=xu,Jh}else e.flags&=-16777217}function Xp(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!c_(n))if(Ey())e.flags|=8192;else throw Vs=xu,Jh}function Ku(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?Zl():536870912,e.lanes|=n,Oa|=n)}function Qo(e,n){if(!jt)switch(e.tailMode){case"hidden":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function ce(e){var n=e.alternate!==null&&e.alternate.child===e.child,r=0,o=0;if(n)for(var h=e.child;h!==null;)r|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)r|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=r,n}function iE(e,n,r){var o=n.pendingProps;switch(qh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ce(n),null;case 1:return ce(n),null;case 3:return r=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),Xi(Ne),ne(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(va(n)?$i(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Fh())),ce(n),null;case 26:var h=n.type,f=n.memoizedState;return e===null?($i(n),f!==null?(ce(n),Xp(n,f)):(ce(n),kf(n,h,null,o,r))):f?f!==e.memoizedState?($i(n),ce(n),Xp(n,f)):(ce(n),n.flags&=-16777217):(e=e.memoizedProps,e!==o&&$i(n),ce(n),kf(n,h,e,o,r)),null;case 27:if(Kn(n),r=wt.current,h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&$i(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return ce(n),null}e=at.current,va(n)?Ig(n):(e=n_(h,o,r),n.stateNode=e,$i(n))}return ce(n),null;case 5:if(Kn(n),h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&$i(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return ce(n),null}if(f=at.current,va(n))Ig(n);else{var g=oc(wt.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?g.createElement("select",{is:o.is}):g.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?g.createElement(h,{is:o.is}):g.createElement(h)}}f[De]=n,f[qe]=o;t:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break t;for(;g.sibling===null;){if(g.return===null||g.return===n)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;t:switch(Ze(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break t;case"img":o=!0;break t;default:o=!1}o&&$i(n)}}return ce(n),kf(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,r),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&$i(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(a(166));if(e=wt.current,va(n)){if(e=n.stateNode,r=n.memoizedProps,o=null,h=Xe,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[De]=n,e=!!(e.nodeValue===r||o!==null&&o.suppressHydrationWarning===!0||Gy(e.nodeValue,r)),e||Cr(n,!0)}else e=oc(e).createTextNode(o),e[De]=n,n.stateNode=e}return ce(n),null;case 31:if(r=n.memoizedState,e===null||e.memoizedState!==null){if(o=va(n),r!==null){if(e===null){if(!o)throw Error(a(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[De]=n}else xs(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ce(n),e=!1}else r=Fh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=r),e=!0;if(!e)return n.flags&256?(An(n),n):(An(n),null);if((n.flags&128)!==0)throw Error(a(558))}return ce(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=va(n),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[De]=n}else xs(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ce(n),h=!1}else h=Fh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(An(n),n):(An(n),null)}return An(n),(n.flags&128)!==0?(n.lanes=r,n):(r=o!==null,e=e!==null&&e.memoizedState!==null,r&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),r!==e&&r&&(n.child.flags|=8192),Ku(n,n.updateQueue),ce(n),null);case 4:return ne(),e===null&&id(n.stateNode.containerInfo),ce(n),null;case 10:return Xi(n.type),ce(n),null;case 19:if(Q(Re),o=n.memoizedState,o===null)return ce(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)Qo(o,!1);else{if(be!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=Nu(e),f!==null){for(n.flags|=128,Qo(o,!1),e=f.updateQueue,n.updateQueue=e,Ku(n,e),n.subtreeFlags=0,e=r,r=n.child;r!==null;)Sg(r,e),r=r.sibling;return nt(Re,Re.current&1|2),jt&&Qi(n,o.treeForkCount),n.child}e=e.sibling}o.tail!==null&&mt()>Ju&&(n.flags|=128,h=!0,Qo(o,!1),n.lanes=4194304)}else{if(!h)if(e=Nu(f),e!==null){if(n.flags|=128,h=!0,e=e.updateQueue,n.updateQueue=e,Ku(n,e),Qo(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!jt)return ce(n),null}else 2*mt()-o.renderingStartTime>Ju&&r!==536870912&&(n.flags|=128,h=!0,Qo(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(e=o.last,e!==null?e.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=mt(),e.sibling=null,r=Re.current,nt(Re,h?r&1|2:r&1),jt&&Qi(n,o.treeForkCount),e):(ce(n),null);case 22:case 23:return An(n),rf(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(r&536870912)!==0&&(n.flags&128)===0&&(ce(n),n.subtreeFlags&6&&(n.flags|=8192)):ce(n),r=n.updateQueue,r!==null&&Ku(n,r.retryQueue),r=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==r&&(n.flags|=2048),e!==null&&Q(Os),null;case 24:return r=null,e!==null&&(r=e.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),Xi(Ne),ce(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function rE(e,n){switch(qh(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Xi(Ne),ne(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return Kn(n),null;case 31:if(n.memoizedState!==null){if(An(n),n.alternate===null)throw Error(a(340));xs()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(An(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));xs()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return Q(Re),null;case 4:return ne(),null;case 10:return Xi(n.type),null;case 22:case 23:return An(n),rf(),e!==null&&Q(Os),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Xi(Ne),null;case 25:return null;default:return null}}function Wp(e,n){switch(qh(n),n.tag){case 3:Xi(Ne),ne();break;case 26:case 27:case 5:Kn(n);break;case 4:ne();break;case 31:n.memoizedState!==null&&An(n);break;case 13:An(n);break;case 19:Q(Re);break;case 10:Xi(n.type);break;case 22:case 23:An(n),rf(),e!==null&&Q(Os);break;case 24:Xi(Ne)}}function Yo(e,n){try{var r=n.updateQueue,o=r!==null?r.lastEffect:null;if(o!==null){var h=o.next;r=h;do{if((r.tag&e)===e){o=void 0;var f=r.create,g=r.inst;o=f(),g.destroy=o}r=r.next}while(r!==h)}}catch(T){te(n,n.return,T)}}function Vr(e,n,r){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&e)===e){var g=o.inst,T=g.destroy;if(T!==void 0){g.destroy=void 0,h=n;var C=r,j=T;try{j()}catch(K){te(h,C,K)}}}o=o.next}while(o!==f)}}catch(K){te(n,n.return,K)}}function Jp(e){var n=e.updateQueue;if(n!==null){var r=e.stateNode;try{Bg(n,r)}catch(o){te(e,e.return,o)}}}function Zp(e,n,r){r.props=Ps(e.type,e.memoizedProps),r.state=e.memoizedState;try{r.componentWillUnmount()}catch(o){te(e,n,o)}}function Xo(e,n){try{var r=e.ref;if(r!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof r=="function"?e.refCleanup=r(o):r.current=o}}catch(h){te(e,n,h)}}function Di(e,n){var r=e.ref,o=e.refCleanup;if(r!==null)if(typeof o=="function")try{o()}catch(h){te(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(h){te(e,n,h)}else r.current=null}function $p(e){var n=e.type,r=e.memoizedProps,o=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&o.focus();break t;case"img":r.src?o.src=r.src:r.srcSet&&(o.srcset=r.srcSet)}}catch(h){te(e,e.return,h)}}function Lf(e,n,r){try{var o=e.stateNode;RE(o,e.type,r,n),o[qe]=n}catch(h){te(e,e.return,h)}}function ty(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Br(e.type)||e.tag===4}function Pf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||ty(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Br(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Uf(e,n,r){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(e,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(e),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=Zn));else if(o!==4&&(o===27&&Br(e.type)&&(r=e.stateNode,n=null),e=e.child,e!==null))for(Uf(e,n,r),e=e.sibling;e!==null;)Uf(e,n,r),e=e.sibling}function Qu(e,n,r){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?r.insertBefore(e,n):r.appendChild(e);else if(o!==4&&(o===27&&Br(e.type)&&(r=e.stateNode),e=e.child,e!==null))for(Qu(e,n,r),e=e.sibling;e!==null;)Qu(e,n,r),e=e.sibling}function ey(e){var n=e.stateNode,r=e.memoizedProps;try{for(var o=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);Ze(n,o,r),n[De]=e,n[qe]=r}catch(f){te(e,e.return,f)}}var tr=!1,Le=!1,zf=!1,ny=typeof WeakSet=="function"?WeakSet:Set,Fe=null;function sE(e,n){if(e=e.containerInfo,ad=mc,e=mg(e),Mh(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else t:{r=(r=e.ownerDocument)&&r.defaultView||window;var o=r.getSelection&&r.getSelection();if(o&&o.rangeCount!==0){r=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break t}var g=0,T=-1,C=-1,j=0,K=0,W=e,B=null;e:for(;;){for(var H;W!==r||h!==0&&W.nodeType!==3||(T=g+h),W!==f||o!==0&&W.nodeType!==3||(C=g+o),W.nodeType===3&&(g+=W.nodeValue.length),(H=W.firstChild)!==null;)B=W,W=H;for(;;){if(W===e)break e;if(B===r&&++j===h&&(T=g),B===f&&++K===o&&(C=g),(H=W.nextSibling)!==null)break;W=B,B=W.parentNode}W=H}r=T===-1||C===-1?null:{start:T,end:C}}else r=null}r=r||{start:0,end:0}}else r=null;for(od={focusedElem:e,selectionRange:r},mc=!1,Fe=n;Fe!==null;)if(n=Fe,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Fe=e;else for(;Fe!==null;){switch(n=Fe,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(r=0;r<e.length;r++)h=e[r],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,r=n,h=f.memoizedProps,f=f.memoizedState,o=r.stateNode;try{var lt=Ps(r.type,h);e=o.getSnapshotBeforeUpdate(lt,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(yt){te(r,r.return,yt)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,r=e.nodeType,r===9)cd(e);else if(r===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":cd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=n.sibling,e!==null){e.return=n.return,Fe=e;break}Fe=n.return}}function iy(e,n,r){var o=r.flags;switch(r.tag){case 0:case 11:case 15:nr(e,r),o&4&&Yo(5,r);break;case 1:if(nr(e,r),o&4)if(e=r.stateNode,n===null)try{e.componentDidMount()}catch(g){te(r,r.return,g)}else{var h=Ps(r.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(g){te(r,r.return,g)}}o&64&&Jp(r),o&512&&Xo(r,r.return);break;case 3:if(nr(e,r),o&64&&(e=r.updateQueue,e!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{Bg(e,n)}catch(g){te(r,r.return,g)}}break;case 27:n===null&&o&4&&ey(r);case 26:case 5:nr(e,r),n===null&&o&4&&$p(r),o&512&&Xo(r,r.return);break;case 12:nr(e,r);break;case 31:nr(e,r),o&4&&ay(e,r);break;case 13:nr(e,r),o&4&&oy(e,r),o&64&&(e=r.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(r=mE.bind(null,r),VE(e,r))));break;case 22:if(o=r.memoizedState!==null||tr,!o){n=n!==null&&n.memoizedState!==null||Le,h=tr;var f=Le;tr=o,(Le=n)&&!f?ir(e,r,(r.subtreeFlags&8772)!==0):nr(e,r),tr=h,Le=f}break;case 30:break;default:nr(e,r)}}function ry(e){var n=e.alternate;n!==null&&(e.alternate=null,ry(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&na(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ge=null,dn=!1;function er(e,n,r){for(r=r.child;r!==null;)sy(e,n,r),r=r.sibling}function sy(e,n,r){if(Qe&&typeof Qe.onCommitFiberUnmount=="function")try{Qe.onCommitFiberUnmount(Yn,r)}catch{}switch(r.tag){case 26:Le||Di(r,n),er(e,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:Le||Di(r,n);var o=ge,h=dn;Br(r.type)&&(ge=r.stateNode,dn=!1),er(e,n,r),rl(r.stateNode),ge=o,dn=h;break;case 5:Le||Di(r,n);case 6:if(o=ge,h=dn,ge=null,er(e,n,r),ge=o,dn=h,ge!==null)if(dn)try{(ge.nodeType===9?ge.body:ge.nodeName==="HTML"?ge.ownerDocument.body:ge).removeChild(r.stateNode)}catch(f){te(r,n,f)}else try{ge.removeChild(r.stateNode)}catch(f){te(r,n,f)}break;case 18:ge!==null&&(dn?(e=ge,Jy(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,r.stateNode),ja(e)):Jy(ge,r.stateNode));break;case 4:o=ge,h=dn,ge=r.stateNode.containerInfo,dn=!0,er(e,n,r),ge=o,dn=h;break;case 0:case 11:case 14:case 15:Vr(2,r,n),Le||Vr(4,r,n),er(e,n,r);break;case 1:Le||(Di(r,n),o=r.stateNode,typeof o.componentWillUnmount=="function"&&Zp(r,n,o)),er(e,n,r);break;case 21:er(e,n,r);break;case 22:Le=(o=Le)||r.memoizedState!==null,er(e,n,r),Le=o;break;default:er(e,n,r)}}function ay(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{ja(e)}catch(r){te(n,n.return,r)}}}function oy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ja(e)}catch(r){te(n,n.return,r)}}function aE(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new ny),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new ny),n;default:throw Error(a(435,e.tag))}}function Yu(e,n){var r=aE(e);n.forEach(function(o){if(!r.has(o)){r.add(o);var h=gE.bind(null,e,o);o.then(h,h)}})}function mn(e,n){var r=n.deletions;if(r!==null)for(var o=0;o<r.length;o++){var h=r[o],f=e,g=n,T=g;t:for(;T!==null;){switch(T.tag){case 27:if(Br(T.type)){ge=T.stateNode,dn=!1;break t}break;case 5:ge=T.stateNode,dn=!1;break t;case 3:case 4:ge=T.stateNode.containerInfo,dn=!0;break t}T=T.return}if(ge===null)throw Error(a(160));sy(f,g,h),ge=null,dn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)ly(n,e),n=n.sibling}var ri=null;function ly(e,n){var r=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:mn(n,e),gn(e),o&4&&(Vr(3,e,e.return),Yo(3,e),Vr(5,e,e.return));break;case 1:mn(n,e),gn(e),o&512&&(Le||r===null||Di(r,r.return)),o&64&&tr&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(r=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=r===null?o:r.concat(o))));break;case 26:var h=ri;if(mn(n,e),gn(e),o&512&&(Le||r===null||Di(r,r.return)),o&4){var f=r!==null?r.memoizedState:null;if(o=e.memoizedState,r===null)if(o===null)if(e.stateNode===null){t:{o=e.type,r=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[pi]||f[De]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),Ze(f,o,r),f[De]=e,Me(f),o=f;break t;case"link":var g=l_("link","href",h).get(o+(r.href||""));if(g){for(var T=0;T<g.length;T++)if(f=g[T],f.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){g.splice(T,1);break e}}f=h.createElement(o),Ze(f,o,r),h.head.appendChild(f);break;case"meta":if(g=l_("meta","content",h).get(o+(r.content||""))){for(T=0;T<g.length;T++)if(f=g[T],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){g.splice(T,1);break e}}f=h.createElement(o),Ze(f,o,r),h.head.appendChild(f);break;default:throw Error(a(468,o))}f[De]=e,Me(f),o=f}e.stateNode=o}else u_(h,e.type,e.stateNode);else e.stateNode=o_(h,o,e.memoizedProps);else f!==o?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,o===null?u_(h,e.type,e.stateNode):o_(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&Lf(e,e.memoizedProps,r.memoizedProps)}break;case 27:mn(n,e),gn(e),o&512&&(Le||r===null||Di(r,r.return)),r!==null&&o&4&&Lf(e,e.memoizedProps,r.memoizedProps);break;case 5:if(mn(n,e),gn(e),o&512&&(Le||r===null||Di(r,r.return)),e.flags&32){h=e.stateNode;try{fn(h,"")}catch(lt){te(e,e.return,lt)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,Lf(e,h,r!==null?r.memoizedProps:h)),o&1024&&(zf=!0);break;case 6:if(mn(n,e),gn(e),o&4){if(e.stateNode===null)throw Error(a(162));o=e.memoizedProps,r=e.stateNode;try{r.nodeValue=o}catch(lt){te(e,e.return,lt)}}break;case 3:if(cc=null,h=ri,ri=lc(n.containerInfo),mn(n,e),ri=h,gn(e),o&4&&r!==null&&r.memoizedState.isDehydrated)try{ja(n.containerInfo)}catch(lt){te(e,e.return,lt)}zf&&(zf=!1,uy(e));break;case 4:o=ri,ri=lc(e.stateNode.containerInfo),mn(n,e),gn(e),ri=o;break;case 12:mn(n,e),gn(e);break;case 31:mn(n,e),gn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Yu(e,o)));break;case 13:mn(n,e),gn(e),e.child.flags&8192&&e.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(Wu=mt()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Yu(e,o)));break;case 22:h=e.memoizedState!==null;var C=r!==null&&r.memoizedState!==null,j=tr,K=Le;if(tr=j||h,Le=K||C,mn(n,e),Le=K,tr=j,gn(e),o&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(r===null||C||tr||Le||Us(e)),r=null,n=e;;){if(n.tag===5||n.tag===26){if(r===null){C=r=n;try{if(f=C.stateNode,h)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{T=C.stateNode;var W=C.memoizedProps.style,B=W!=null&&W.hasOwnProperty("display")?W.display:null;T.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(lt){te(C,C.return,lt)}}}else if(n.tag===6){if(r===null){C=n;try{C.stateNode.nodeValue=h?"":C.memoizedProps}catch(lt){te(C,C.return,lt)}}}else if(n.tag===18){if(r===null){C=n;try{var H=C.stateNode;h?Zy(H,!0):Zy(C.stateNode,!1)}catch(lt){te(C,C.return,lt)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(r=o.retryQueue,r!==null&&(o.retryQueue=null,Yu(e,r))));break;case 19:mn(n,e),gn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Yu(e,o)));break;case 30:break;case 21:break;default:mn(n,e),gn(e)}}function gn(e){var n=e.flags;if(n&2){try{for(var r,o=e.return;o!==null;){if(ty(o)){r=o;break}o=o.return}if(r==null)throw Error(a(160));switch(r.tag){case 27:var h=r.stateNode,f=Pf(e);Qu(e,f,h);break;case 5:var g=r.stateNode;r.flags&32&&(fn(g,""),r.flags&=-33);var T=Pf(e);Qu(e,T,g);break;case 3:case 4:var C=r.stateNode.containerInfo,j=Pf(e);Uf(e,j,C);break;default:throw Error(a(161))}}catch(K){te(e,e.return,K)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function uy(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;uy(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function nr(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)iy(e,n.alternate,n),n=n.sibling}function Us(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Vr(4,n,n.return),Us(n);break;case 1:Di(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&Zp(n,n.return,r),Us(n);break;case 27:rl(n.stateNode);case 26:case 5:Di(n,n.return),Us(n);break;case 22:n.memoizedState===null&&Us(n);break;case 30:Us(n);break;default:Us(n)}e=e.sibling}}function ir(e,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=e,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:ir(h,f,r),Yo(4,f);break;case 1:if(ir(h,f,r),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(j){te(o,o.return,j)}if(o=f,h=o.updateQueue,h!==null){var T=o.stateNode;try{var C=h.shared.hiddenCallbacks;if(C!==null)for(h.shared.hiddenCallbacks=null,h=0;h<C.length;h++)jg(C[h],T)}catch(j){te(o,o.return,j)}}r&&g&64&&Jp(f),Xo(f,f.return);break;case 27:ey(f);case 26:case 5:ir(h,f,r),r&&o===null&&g&4&&$p(f),Xo(f,f.return);break;case 12:ir(h,f,r);break;case 31:ir(h,f,r),r&&g&4&&ay(h,f);break;case 13:ir(h,f,r),r&&g&4&&oy(h,f);break;case 22:f.memoizedState===null&&ir(h,f,r),Xo(f,f.return);break;case 30:break;default:ir(h,f,r)}n=n.sibling}}function jf(e,n){var r=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==r&&(e!=null&&e.refCount++,r!=null&&ko(r))}function Bf(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&ko(e))}function si(e,n,r,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)cy(e,n,r,o),n=n.sibling}function cy(e,n,r,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:si(e,n,r,o),h&2048&&Yo(9,n);break;case 1:si(e,n,r,o);break;case 3:si(e,n,r,o),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&ko(e)));break;case 12:if(h&2048){si(e,n,r,o),e=n.stateNode;try{var f=n.memoizedProps,g=f.id,T=f.onPostCommit;typeof T=="function"&&T(g,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(C){te(n,n.return,C)}}else si(e,n,r,o);break;case 31:si(e,n,r,o);break;case 13:si(e,n,r,o);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?si(e,n,r,o):Wo(e,n):f._visibility&2?si(e,n,r,o):(f._visibility|=2,xa(e,n,r,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&jf(g,n);break;case 24:si(e,n,r,o),h&2048&&Bf(n.alternate,n);break;default:si(e,n,r,o)}}function xa(e,n,r,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,g=n,T=r,C=o,j=g.flags;switch(g.tag){case 0:case 11:case 15:xa(f,g,T,C,h),Yo(8,g);break;case 23:break;case 22:var K=g.stateNode;g.memoizedState!==null?K._visibility&2?xa(f,g,T,C,h):Wo(f,g):(K._visibility|=2,xa(f,g,T,C,h)),h&&j&2048&&jf(g.alternate,g);break;case 24:xa(f,g,T,C,h),h&&j&2048&&Bf(g.alternate,g);break;default:xa(f,g,T,C,h)}n=n.sibling}}function Wo(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=e,o=n,h=o.flags;switch(o.tag){case 22:Wo(r,o),h&2048&&jf(o.alternate,o);break;case 24:Wo(r,o),h&2048&&Bf(o.alternate,o);break;default:Wo(r,o)}n=n.sibling}}var Jo=8192;function Da(e,n,r){if(e.subtreeFlags&Jo)for(e=e.child;e!==null;)hy(e,n,r),e=e.sibling}function hy(e,n,r){switch(e.tag){case 26:Da(e,n,r),e.flags&Jo&&e.memoizedState!==null&&KE(r,ri,e.memoizedState,e.memoizedProps);break;case 5:Da(e,n,r);break;case 3:case 4:var o=ri;ri=lc(e.stateNode.containerInfo),Da(e,n,r),ri=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=Jo,Jo=16777216,Da(e,n,r),Jo=o):Da(e,n,r));break;default:Da(e,n,r)}}function fy(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function Zo(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];Fe=o,my(o,e)}fy(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)dy(e),e=e.sibling}function dy(e){switch(e.tag){case 0:case 11:case 15:Zo(e),e.flags&2048&&Vr(9,e,e.return);break;case 3:Zo(e);break;case 12:Zo(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,Xu(e)):Zo(e);break;default:Zo(e)}}function Xu(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];Fe=o,my(o,e)}fy(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Vr(8,n,n.return),Xu(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,Xu(n));break;default:Xu(n)}e=e.sibling}}function my(e,n){for(;Fe!==null;){var r=Fe;switch(r.tag){case 0:case 11:case 15:Vr(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var o=r.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:ko(r.memoizedState.cache)}if(o=r.child,o!==null)o.return=r,Fe=o;else t:for(r=e;Fe!==null;){o=Fe;var h=o.sibling,f=o.return;if(ry(o),o===r){Fe=null;break t}if(h!==null){h.return=f,Fe=h;break t}Fe=f}}}var oE={getCacheForType:function(e){var n=We(Ne),r=n.data.get(e);return r===void 0&&(r=e(),n.data.set(e,r)),r},cacheSignal:function(){return We(Ne).controller.signal}},lE=typeof WeakMap=="function"?WeakMap:Map,Yt=0,le=null,Ot=null,Vt=0,$t=0,wn=null,kr=!1,Ma=!1,qf=!1,rr=0,be=0,Lr=0,zs=0,Hf=0,Rn=0,Oa=0,$o=null,pn=null,Ff=!1,Wu=0,gy=0,Ju=1/0,Zu=null,Pr=null,ze=0,Ur=null,Na=null,sr=0,Gf=0,Kf=null,py=null,tl=0,Qf=null;function Cn(){return(Yt&2)!==0&&Vt!==0?Vt&-Vt:G.T!==null?$f():$l()}function yy(){if(Rn===0)if((Vt&536870912)===0||jt){var e=fs;fs<<=1,(fs&3932160)===0&&(fs=262144),Rn=e}else Rn=536870912;return e=Sn.current,e!==null&&(e.flags|=32),Rn}function yn(e,n,r){(e===le&&($t===2||$t===9)||e.cancelPendingCommit!==null)&&(Va(e,0),zr(e,Vt,Rn,!1)),ds(e,r),((Yt&2)===0||e!==le)&&(e===le&&((Yt&2)===0&&(zs|=r),be===4&&zr(e,Vt,Rn,!1)),Mi(e))}function _y(e,n,r){if((Yt&6)!==0)throw Error(a(327));var o=!r&&(n&127)===0&&(n&e.expiredLanes)===0||Xn(e,n),h=o?hE(e,n):Xf(e,n,!0),f=o;do{if(h===0){Ma&&!o&&zr(e,n,0,!1);break}else{if(r=e.current.alternate,f&&!uE(r)){h=Xf(e,n,!1),f=!1;continue}if(h===2){if(f=n,e.errorRecoveryDisabledLanes&f)var g=0;else g=e.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;t:{var T=e;h=$o;var C=T.current.memoizedState.isDehydrated;if(C&&(Va(T,g).flags|=256),g=Xf(T,g,!1),g!==2){if(qf&&!C){T.errorRecoveryDisabledLanes|=f,zs|=f,h=4;break t}f=pn,pn=h,f!==null&&(pn===null?pn=f:pn.push.apply(pn,f))}h=g}if(f=!1,h!==2)continue}}if(h===1){Va(e,0),zr(e,n,0,!0);break}t:{switch(o=e,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:zr(o,n,Rn,!kr);break t;case 2:pn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=Wu+300-mt(),10<h)){if(zr(o,n,Rn,!kr),di(o,0,!0)!==0)break t;sr=n,o.timeoutHandle=Xy(vy.bind(null,o,r,pn,Zu,Ff,n,Rn,zs,Oa,kr,f,"Throttled",-0,0),h);break t}vy(o,r,pn,Zu,Ff,n,Rn,zs,Oa,kr,f,null,-0,0)}}break}while(!0);Mi(e)}function vy(e,n,r,o,h,f,g,T,C,j,K,W,B,H){if(e.timeoutHandle=-1,W=n.subtreeFlags,W&8192||(W&16785408)===16785408){W={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Zn},hy(n,f,W);var lt=(f&62914560)===f?Wu-mt():(f&4194048)===f?gy-mt():0;if(lt=QE(W,lt),lt!==null){sr=f,e.cancelPendingCommit=lt(Cy.bind(null,e,n,f,r,o,h,g,T,C,K,W,null,B,H)),zr(e,f,g,!j);return}}Cy(e,n,f,r,o,h,g,T,C)}function uE(e){for(var n=e;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var o=0;o<r.length;o++){var h=r[o],f=h.getSnapshot;h=h.value;try{if(!En(f(),h))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function zr(e,n,r,o){n&=~Hf,n&=~zs,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var h=n;0<h;){var f=31-Ae(h),g=1<<f;o[f]=-1,h&=~g}r!==0&&ms(e,r,n)}function $u(){return(Yt&6)===0?(el(0),!1):!0}function Yf(){if(Ot!==null){if($t===0)var e=Ot.return;else e=Ot,Yi=Ds=null,cf(e),Aa=null,Po=0,e=Ot;for(;e!==null;)Wp(e.alternate,e),e=e.return;Ot=null}}function Va(e,n){var r=e.timeoutHandle;r!==-1&&(e.timeoutHandle=-1,xE(r)),r=e.cancelPendingCommit,r!==null&&(e.cancelPendingCommit=null,r()),sr=0,Yf(),le=e,Ot=r=Ki(e.current,null),Vt=n,$t=0,wn=null,kr=!1,Ma=Xn(e,n),qf=!1,Oa=Rn=Hf=zs=Lr=be=0,pn=$o=null,Ff=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var h=31-Ae(o),f=1<<h;n|=e[h],o&=~f}return rr=n,Tu(),r}function Ty(e,n){It=null,G.H=Go,n===Sa||n===Iu?(n=Lg(),$t=3):n===Jh?(n=Lg(),$t=4):$t=n===Rf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,wn=n,Ot===null&&(be=1,qu(e,kn(n,e.current)))}function Ey(){var e=Sn.current;return e===null?!0:(Vt&4194048)===Vt?zn===null:(Vt&62914560)===Vt||(Vt&536870912)!==0?e===zn:!1}function by(){var e=G.H;return G.H=Go,e===null?Go:e}function Sy(){var e=G.A;return G.A=oE,e}function tc(){be=4,kr||(Vt&4194048)!==Vt&&Sn.current!==null||(Ma=!0),(Lr&134217727)===0&&(zs&134217727)===0||le===null||zr(le,Vt,Rn,!1)}function Xf(e,n,r){var o=Yt;Yt|=2;var h=by(),f=Sy();(le!==e||Vt!==n)&&(Zu=null,Va(e,n)),n=!1;var g=be;t:do try{if($t!==0&&Ot!==null){var T=Ot,C=wn;switch($t){case 8:Yf(),g=6;break t;case 3:case 2:case 9:case 6:Sn.current===null&&(n=!0);var j=$t;if($t=0,wn=null,ka(e,T,C,j),r&&Ma){g=0;break t}break;default:j=$t,$t=0,wn=null,ka(e,T,C,j)}}cE(),g=be;break}catch(K){Ty(e,K)}while(!0);return n&&e.shellSuspendCounter++,Yi=Ds=null,Yt=o,G.H=h,G.A=f,Ot===null&&(le=null,Vt=0,Tu()),g}function cE(){for(;Ot!==null;)Ay(Ot)}function hE(e,n){var r=Yt;Yt|=2;var o=by(),h=Sy();le!==e||Vt!==n?(Zu=null,Ju=mt()+500,Va(e,n)):Ma=Xn(e,n);t:do try{if($t!==0&&Ot!==null){n=Ot;var f=wn;e:switch($t){case 1:$t=0,wn=null,ka(e,n,f,1);break;case 2:case 9:if(Vg(f)){$t=0,wn=null,wy(n);break}n=function(){$t!==2&&$t!==9||le!==e||($t=7),Mi(e)},f.then(n,n);break t;case 3:$t=7;break t;case 4:$t=5;break t;case 7:Vg(f)?($t=0,wn=null,wy(n)):($t=0,wn=null,ka(e,n,f,7));break;case 5:var g=null;switch(Ot.tag){case 26:g=Ot.memoizedState;case 5:case 27:var T=Ot;if(g?c_(g):T.stateNode.complete){$t=0,wn=null;var C=T.sibling;if(C!==null)Ot=C;else{var j=T.return;j!==null?(Ot=j,ec(j)):Ot=null}break e}}$t=0,wn=null,ka(e,n,f,5);break;case 6:$t=0,wn=null,ka(e,n,f,6);break;case 8:Yf(),be=6;break t;default:throw Error(a(462))}}fE();break}catch(K){Ty(e,K)}while(!0);return Yi=Ds=null,G.H=o,G.A=h,Yt=r,Ot!==null?0:(le=null,Vt=0,Tu(),be)}function fE(){for(;Ot!==null&&!F();)Ay(Ot)}function Ay(e){var n=Yp(e.alternate,e,rr);e.memoizedProps=e.pendingProps,n===null?ec(e):Ot=n}function wy(e){var n=e,r=n.alternate;switch(n.tag){case 15:case 0:n=qp(r,n,n.pendingProps,n.type,void 0,Vt);break;case 11:n=qp(r,n,n.pendingProps,n.type.render,n.ref,Vt);break;case 5:cf(n);default:Wp(r,n),n=Ot=Sg(n,rr),n=Yp(r,n,rr)}e.memoizedProps=e.pendingProps,n===null?ec(e):Ot=n}function ka(e,n,r,o){Yi=Ds=null,cf(n),Aa=null,Po=0;var h=n.return;try{if(tE(e,h,n,r,Vt)){be=1,qu(e,kn(r,e.current)),Ot=null;return}}catch(f){if(h!==null)throw Ot=h,f;be=1,qu(e,kn(r,e.current)),Ot=null;return}n.flags&32768?(jt||o===1?e=!0:Ma||(Vt&536870912)!==0?e=!1:(kr=e=!0,(o===2||o===9||o===3||o===6)&&(o=Sn.current,o!==null&&o.tag===13&&(o.flags|=16384))),Ry(n,e)):ec(n)}function ec(e){var n=e;do{if((n.flags&32768)!==0){Ry(n,kr);return}e=n.return;var r=iE(n.alternate,n,rr);if(r!==null){Ot=r;return}if(n=n.sibling,n!==null){Ot=n;return}Ot=n=e}while(n!==null);be===0&&(be=5)}function Ry(e,n){do{var r=rE(e.alternate,e);if(r!==null){r.flags&=32767,Ot=r;return}if(r=e.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(e=e.sibling,e!==null)){Ot=e;return}Ot=e=r}while(e!==null);be=6,Ot=null}function Cy(e,n,r,o,h,f,g,T,C){e.cancelPendingCommit=null;do nc();while(ze!==0);if((Yt&6)!==0)throw Error(a(327));if(n!==null){if(n===e.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=Lh,Ch(e,r,f,g,T,C),e===le&&(Ot=le=null,Vt=0),Na=n,Ur=e,sr=r,Gf=f,Kf=h,py=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,pE(Te,function(){return Oy(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=G.T,G.T=null,h=tt.p,tt.p=2,g=Yt,Yt|=4;try{sE(e,n,r)}finally{Yt=g,tt.p=h,G.T=o}}ze=1,Iy(),xy(),Dy()}}function Iy(){if(ze===1){ze=0;var e=Ur,n=Na,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=G.T,G.T=null;var o=tt.p;tt.p=2;var h=Yt;Yt|=4;try{ly(n,e);var f=od,g=mg(e.containerInfo),T=f.focusedElem,C=f.selectionRange;if(g!==T&&T&&T.ownerDocument&&dg(T.ownerDocument.documentElement,T)){if(C!==null&&Mh(T)){var j=C.start,K=C.end;if(K===void 0&&(K=j),"selectionStart"in T)T.selectionStart=j,T.selectionEnd=Math.min(K,T.value.length);else{var W=T.ownerDocument||document,B=W&&W.defaultView||window;if(B.getSelection){var H=B.getSelection(),lt=T.textContent.length,yt=Math.min(C.start,lt),ae=C.end===void 0?yt:Math.min(C.end,lt);!H.extend&&yt>ae&&(g=ae,ae=yt,yt=g);var L=fg(T,yt),O=fg(T,ae);if(L&&O&&(H.rangeCount!==1||H.anchorNode!==L.node||H.anchorOffset!==L.offset||H.focusNode!==O.node||H.focusOffset!==O.offset)){var z=W.createRange();z.setStart(L.node,L.offset),H.removeAllRanges(),yt>ae?(H.addRange(z),H.extend(O.node,O.offset)):(z.setEnd(O.node,O.offset),H.addRange(z))}}}}for(W=[],H=T;H=H.parentNode;)H.nodeType===1&&W.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<W.length;T++){var Y=W[T];Y.element.scrollLeft=Y.left,Y.element.scrollTop=Y.top}}mc=!!ad,od=ad=null}finally{Yt=h,tt.p=o,G.T=r}}e.current=n,ze=2}}function xy(){if(ze===2){ze=0;var e=Ur,n=Na,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=G.T,G.T=null;var o=tt.p;tt.p=2;var h=Yt;Yt|=4;try{iy(e,n.alternate,n)}finally{Yt=h,tt.p=o,G.T=r}}ze=3}}function Dy(){if(ze===4||ze===3){ze=0,xt();var e=Ur,n=Na,r=sr,o=py;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?ze=5:(ze=0,Na=Ur=null,My(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Pr=null),qi(r),n=n.stateNode,Qe&&typeof Qe.onCommitFiberRoot=="function")try{Qe.onCommitFiberRoot(Yn,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=G.T,h=tt.p,tt.p=2,G.T=null;try{for(var f=e.onRecoverableError,g=0;g<o.length;g++){var T=o[g];f(T.value,{componentStack:T.stack})}}finally{G.T=n,tt.p=h}}(sr&3)!==0&&nc(),Mi(e),h=e.pendingLanes,(r&261930)!==0&&(h&42)!==0?e===Qf?tl++:(tl=0,Qf=e):tl=0,el(0)}}function My(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,ko(n)))}function nc(){return Iy(),xy(),Dy(),Oy()}function Oy(){if(ze!==5)return!1;var e=Ur,n=Gf;Gf=0;var r=qi(sr),o=G.T,h=tt.p;try{tt.p=32>r?32:r,G.T=null,r=Kf,Kf=null;var f=Ur,g=sr;if(ze=0,Na=Ur=null,sr=0,(Yt&6)!==0)throw Error(a(331));var T=Yt;if(Yt|=4,dy(f.current),cy(f,f.current,g,r),Yt=T,el(0,!1),Qe&&typeof Qe.onPostCommitFiberRoot=="function")try{Qe.onPostCommitFiberRoot(Yn,f)}catch{}return!0}finally{tt.p=h,G.T=o,My(e,n)}}function Ny(e,n,r){n=kn(r,n),n=wf(e.stateNode,n,2),e=Mr(e,n,2),e!==null&&(ds(e,2),Mi(e))}function te(e,n,r){if(e.tag===3)Ny(e,e,r);else for(;n!==null;){if(n.tag===3){Ny(n,e,r);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Pr===null||!Pr.has(o))){e=kn(r,e),r=Vp(2),o=Mr(n,r,2),o!==null&&(kp(r,o,n,e),ds(o,2),Mi(o));break}}n=n.return}}function Wf(e,n,r){var o=e.pingCache;if(o===null){o=e.pingCache=new lE;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(r)||(qf=!0,h.add(r),e=dE.bind(null,e,n,r),n.then(e,e))}function dE(e,n,r){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&r,e.warmLanes&=~r,le===e&&(Vt&r)===r&&(be===4||be===3&&(Vt&62914560)===Vt&&300>mt()-Wu?(Yt&2)===0&&Va(e,0):Hf|=r,Oa===Vt&&(Oa=0)),Mi(e)}function Vy(e,n){n===0&&(n=Zl()),e=Cs(e,n),e!==null&&(ds(e,n),Mi(e))}function mE(e){var n=e.memoizedState,r=0;n!==null&&(r=n.retryLane),Vy(e,r)}function gE(e,n){var r=0;switch(e.tag){case 31:case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(r=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(a(314))}o!==null&&o.delete(n),Vy(e,r)}function pE(e,n){return D(e,n)}var ic=null,La=null,Jf=!1,rc=!1,Zf=!1,jr=0;function Mi(e){e!==La&&e.next===null&&(La===null?ic=La=e:La=La.next=e),rc=!0,Jf||(Jf=!0,_E())}function el(e,n){if(!Zf&&rc){Zf=!0;do for(var r=!1,o=ic;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var g=o.suspendedLanes,T=o.pingedLanes;f=(1<<31-Ae(42|e)+1)-1,f&=h&~(g&~T),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(r=!0,Uy(o,f))}else f=Vt,f=di(o,o===le?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||Xn(o,f)||(r=!0,Uy(o,f));o=o.next}while(r);Zf=!1}}function yE(){ky()}function ky(){rc=Jf=!1;var e=0;jr!==0&&IE()&&(e=jr);for(var n=mt(),r=null,o=ic;o!==null;){var h=o.next,f=Ly(o,n);f===0?(o.next=null,r===null?ic=h:r.next=h,h===null&&(La=r)):(r=o,(e!==0||(f&3)!==0)&&(rc=!0)),o=h}ze!==0&&ze!==5||el(e),jr!==0&&(jr=0)}function Ly(e,n){for(var r=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var g=31-Ae(f),T=1<<g,C=h[g];C===-1?((T&r)===0||(T&o)!==0)&&(h[g]=Rh(T,n)):C<=n&&(e.expiredLanes|=T),f&=~T}if(n=le,r=Vt,r=di(e,e===n?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,r===0||e===n&&($t===2||$t===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&Z(o),e.callbackNode=null,e.callbackPriority=0;if((r&3)===0||Xn(e,r)){if(n=r&-r,n===e.callbackPriority)return n;switch(o!==null&&Z(o),qi(r)){case 2:case 8:r=Se;break;case 32:r=Te;break;case 268435456:r=Ql;break;default:r=Te}return o=Py.bind(null,e),r=D(r,o),e.callbackPriority=n,e.callbackNode=r,n}return o!==null&&o!==null&&Z(o),e.callbackPriority=2,e.callbackNode=null,2}function Py(e,n){if(ze!==0&&ze!==5)return e.callbackNode=null,e.callbackPriority=0,null;var r=e.callbackNode;if(nc()&&e.callbackNode!==r)return null;var o=Vt;return o=di(e,e===le?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(_y(e,o,n),Ly(e,mt()),e.callbackNode!=null&&e.callbackNode===r?Py.bind(null,e):null)}function Uy(e,n){if(nc())return null;_y(e,n,!0)}function _E(){DE(function(){(Yt&6)!==0?D(qt,yE):ky()})}function $f(){if(jr===0){var e=Ea;e===0&&(e=hi,hi<<=1,(hi&261888)===0&&(hi=256)),jr=e}return jr}function zy(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:aa(""+e)}function jy(e,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,e.id&&r.setAttribute("form",e.id),n.parentNode.insertBefore(r,n),e=new FormData(e),r.parentNode.removeChild(r),e}function vE(e,n,r,o,h){if(n==="submit"&&r&&r.stateNode===h){var f=zy((h[qe]||null).action),g=o.submitter;g&&(n=(n=g[qe]||null)?zy(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var T=new Ai("action","action",null,o,h);e.push({event:T,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(jr!==0){var C=g?jy(h,g):new FormData(h);vf(r,{pending:!0,data:C,method:h.method,action:f},null,C)}}else typeof f=="function"&&(T.preventDefault(),C=g?jy(h,g):new FormData(h),vf(r,{pending:!0,data:C,method:h.method,action:f},f,C))},currentTarget:h}]})}}for(var td=0;td<kh.length;td++){var ed=kh[td],TE=ed.toLowerCase(),EE=ed[0].toUpperCase()+ed.slice(1);ii(TE,"on"+EE)}ii(yg,"onAnimationEnd"),ii(_g,"onAnimationIteration"),ii(vg,"onAnimationStart"),ii("dblclick","onDoubleClick"),ii("focusin","onFocus"),ii("focusout","onBlur"),ii(PT,"onTransitionRun"),ii(UT,"onTransitionStart"),ii(zT,"onTransitionCancel"),ii(Tg,"onTransitionEnd"),Ti("onMouseEnter",["mouseout","mouseover"]),Ti("onMouseLeave",["mouseout","mouseover"]),Ti("onPointerEnter",["pointerout","pointerover"]),Ti("onPointerLeave",["pointerout","pointerover"]),vi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),vi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),vi("onBeforeInput",["compositionend","keypress","textInput","paste"]),vi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),vi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),vi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var nl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),bE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(nl));function By(e,n){n=(n&4)!==0;for(var r=0;r<e.length;r++){var o=e[r],h=o.event;o=o.listeners;t:{var f=void 0;if(n)for(var g=o.length-1;0<=g;g--){var T=o[g],C=T.instance,j=T.currentTarget;if(T=T.listener,C!==f&&h.isPropagationStopped())break t;f=T,h.currentTarget=j;try{f(h)}catch(K){vu(K)}h.currentTarget=null,f=C}else for(g=0;g<o.length;g++){if(T=o[g],C=T.instance,j=T.currentTarget,T=T.listener,C!==f&&h.isPropagationStopped())break t;f=T,h.currentTarget=j;try{f(h)}catch(K){vu(K)}h.currentTarget=null,f=C}}}}function Nt(e,n){var r=n[ea];r===void 0&&(r=n[ea]=new Set);var o=e+"__bubble";r.has(o)||(qy(n,e,2,!1),r.add(o))}function nd(e,n,r){var o=0;n&&(o|=4),qy(r,e,o,n)}var sc="_reactListening"+Math.random().toString(36).slice(2);function id(e){if(!e[sc]){e[sc]=!0,mo.forEach(function(r){r!=="selectionchange"&&(bE.has(r)||nd(r,!1,e),nd(r,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[sc]||(n[sc]=!0,nd("selectionchange",!1,n))}}function qy(e,n,r,o){switch(y_(n)){case 2:var h=WE;break;case 8:h=JE;break;default:h=_d}r=h.bind(null,n,r,e),h=void 0,!vs||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(n,r,{capture:!0,passive:h}):e.addEventListener(n,r,!0):h!==void 0?e.addEventListener(n,r,{passive:h}):e.addEventListener(n,r,!1)}function rd(e,n,r,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)t:for(;;){if(o===null)return;var g=o.tag;if(g===3||g===4){var T=o.stateNode.containerInfo;if(T===h)break;if(g===4)for(g=o.return;g!==null;){var C=g.tag;if((C===3||C===4)&&g.stateNode.containerInfo===h)return;g=g.return}for(;T!==null;){if(g=yi(T),g===null)return;if(C=g.tag,C===5||C===6||C===26||C===27){o=f=g;continue t}T=T.parentNode}}o=o.return}Er(function(){var j=f,K=Mn(r),W=[];t:{var B=Eg.get(e);if(B!==void 0){var H=Ai,lt=e;switch(e){case"keypress":if(Es(r)===0)break t;case"keydown":case"keyup":H=pu;break;case"focusin":lt="focus",H=Ss;break;case"focusout":lt="blur",H=Ss;break;case"beforeblur":case"afterblur":H=Ss;break;case"click":if(r.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=Co;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=ou;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=m;break;case yg:case _g:case vg:H=uu;break;case Tg:H=E;break;case"scroll":case"scrollend":H=Ro;break;case"wheel":H=q;break;case"copy":case"cut":case"paste":H=cu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=Gi;break;case"toggle":case"beforetoggle":H=Ct}var yt=(n&4)!==0,ae=!yt&&(e==="scroll"||e==="scrollend"),L=yt?B!==null?B+"Capture":null:B;yt=[];for(var O=j,z;O!==null;){var Y=O;if(z=Y.stateNode,Y=Y.tag,Y!==5&&Y!==26&&Y!==27||z===null||L===null||(Y=$n(O,L),Y!=null&&yt.push(il(O,Y,z))),ae)break;O=O.return}0<yt.length&&(B=new H(B,lt,null,r,K),W.push({event:B,listeners:yt}))}}if((n&7)===0){t:{if(B=e==="mouseover"||e==="pointerover",H=e==="mouseout"||e==="pointerout",B&&r!==So&&(lt=r.relatedTarget||r.fromElement)&&(yi(lt)||lt[gi]))break t;if((H||B)&&(B=K.window===K?K:(B=K.ownerDocument)?B.defaultView||B.parentWindow:window,H?(lt=r.relatedTarget||r.toElement,H=j,lt=lt?yi(lt):null,lt!==null&&(ae=c(lt),yt=lt.tag,lt!==ae||yt!==5&&yt!==27&&yt!==6)&&(lt=null)):(H=null,lt=j),H!==lt)){if(yt=Co,Y="onMouseLeave",L="onMouseEnter",O="mouse",(e==="pointerout"||e==="pointerover")&&(yt=Gi,Y="onPointerLeave",L="onPointerEnter",O="pointer"),ae=H==null?B:vn(H),z=lt==null?B:vn(lt),B=new yt(Y,O+"leave",H,r,K),B.target=ae,B.relatedTarget=z,Y=null,yi(K)===j&&(yt=new yt(L,O+"enter",lt,r,K),yt.target=z,yt.relatedTarget=ae,Y=yt),ae=Y,H&&lt)e:{for(yt=SE,L=H,O=lt,z=0,Y=L;Y;Y=yt(Y))z++;Y=0;for(var dt=O;dt;dt=yt(dt))Y++;for(;0<z-Y;)L=yt(L),z--;for(;0<Y-z;)O=yt(O),Y--;for(;z--;){if(L===O||O!==null&&L===O.alternate){yt=L;break e}L=yt(L),O=yt(O)}yt=null}else yt=null;H!==null&&Hy(W,B,H,yt,!1),lt!==null&&ae!==null&&Hy(W,ae,lt,yt,!0)}}t:{if(B=j?vn(j):window,H=B.nodeName&&B.nodeName.toLowerCase(),H==="select"||H==="input"&&B.type==="file")var Gt=ag;else if(rg(B))if(og)Gt=VT;else{Gt=OT;var ut=MT}else H=B.nodeName,!H||H.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?j&&sa(j.elementType)&&(Gt=ag):Gt=NT;if(Gt&&(Gt=Gt(e,j))){sg(W,Gt,r,K);break t}ut&&ut(e,B,j),e==="focusout"&&j&&B.type==="number"&&j.memoizedProps.value!=null&&To(B,"number",B.value)}switch(ut=j?vn(j):window,e){case"focusin":(rg(ut)||ut.contentEditable==="true")&&(da=ut,Oh=j,Oo=null);break;case"focusout":Oo=Oh=da=null;break;case"mousedown":Nh=!0;break;case"contextmenu":case"mouseup":case"dragend":Nh=!1,gg(W,r,K);break;case"selectionchange":if(LT)break;case"keydown":case"keyup":gg(W,r,K)}var Dt;if(Qt)t:{switch(e){case"compositionstart":var kt="onCompositionStart";break t;case"compositionend":kt="onCompositionEnd";break t;case"compositionupdate":kt="onCompositionUpdate";break t}kt=void 0}else fa?As(e,r)&&(kt="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(kt="onCompositionStart");kt&&(Ci&&r.locale!=="ko"&&(fa||kt!=="onCompositionStart"?kt==="onCompositionEnd"&&fa&&(Dt=wo()):(Si=K,Ao="value"in Si?Si.value:Si.textContent,fa=!0)),ut=ac(j,kt),0<ut.length&&(kt=new Ri(kt,e,null,r,K),W.push({event:kt,listeners:ut}),Dt?kt.data=Dt:(Dt=ha(r),Dt!==null&&(kt.data=Dt)))),(Dt=Nn?CT(e,r):IT(e,r))&&(kt=ac(j,"onBeforeInput"),0<kt.length&&(ut=new Ri("onBeforeInput","beforeinput",null,r,K),W.push({event:ut,listeners:kt}),ut.data=Dt)),vE(W,e,j,r,K)}By(W,n)})}function il(e,n,r){return{instance:e,listener:n,currentTarget:r}}function ac(e,n){for(var r=n+"Capture",o=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=$n(e,r),h!=null&&o.unshift(il(e,h,f)),h=$n(e,n),h!=null&&o.push(il(e,h,f))),e.tag===3)return o;e=e.return}return[]}function SE(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Hy(e,n,r,o,h){for(var f=n._reactName,g=[];r!==null&&r!==o;){var T=r,C=T.alternate,j=T.stateNode;if(T=T.tag,C!==null&&C===o)break;T!==5&&T!==26&&T!==27||j===null||(C=j,h?(j=$n(r,f),j!=null&&g.unshift(il(r,j,C))):h||(j=$n(r,f),j!=null&&g.push(il(r,j,C)))),r=r.return}g.length!==0&&e.push({event:n,listeners:g})}var AE=/\r\n?/g,wE=/\u0000|\uFFFD/g;function Fy(e){return(typeof e=="string"?e:""+e).replace(AE,`
`).replace(wE,"")}function Gy(e,n){return n=Fy(n),Fy(e)===n}function se(e,n,r,o,h,f){switch(r){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||fn(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&fn(e,""+o);break;case"className":Tn(e,"class",o);break;case"tabIndex":Tn(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":Tn(e,r,o);break;case"style":bo(e,o,f);break;case"data":if(n!=="object"){Tn(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||r!=="href")){e.removeAttribute(r);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(r);break}o=aa(""+o),e.setAttribute(r,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&se(e,n,"name",h.name,h,null),se(e,n,"formEncType",h.formEncType,h,null),se(e,n,"formMethod",h.formMethod,h,null),se(e,n,"formTarget",h.formTarget,h,null)):(se(e,n,"encType",h.encType,h,null),se(e,n,"method",h.method,h,null),se(e,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(r);break}o=aa(""+o),e.setAttribute(r,o);break;case"onClick":o!=null&&(e.onclick=Zn);break;case"onScroll":o!=null&&Nt("scroll",e);break;case"onScrollEnd":o!=null&&Nt("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(r=o.__html,r!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=r}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}r=aa(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,""+o):e.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,""):e.removeAttribute(r);break;case"capture":case"download":o===!0?e.setAttribute(r,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,o):e.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(r,o):e.removeAttribute(r);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(r):e.setAttribute(r,o);break;case"popover":Nt("beforetoggle",e),Nt("toggle",e),ia(e,"popover",o);break;case"xlinkActuate":Oe(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Oe(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Oe(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Oe(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Oe(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Oe(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Oe(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Oe(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Oe(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":ia(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=au.get(r)||r,ia(e,r,o))}}function sd(e,n,r,o,h,f){switch(r){case"style":bo(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(r=o.__html,r!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=r}}break;case"children":typeof o=="string"?fn(e,o):(typeof o=="number"||typeof o=="bigint")&&fn(e,""+o);break;case"onScroll":o!=null&&Nt("scroll",e);break;case"onScrollEnd":o!=null&&Nt("scrollend",e);break;case"onClick":o!=null&&(e.onclick=Zn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!go.hasOwnProperty(r))t:{if(r[0]==="o"&&r[1]==="n"&&(h=r.endsWith("Capture"),n=r.slice(2,h?r.length-7:void 0),f=e[qe]||null,f=f!=null?f[r]:null,typeof f=="function"&&e.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(r in e?e[r]=null:e.hasAttribute(r)&&e.removeAttribute(r)),e.addEventListener(n,o,h);break t}r in e?e[r]=o:o===!0?e.setAttribute(r,""):ia(e,r,o)}}}function Ze(e,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Nt("error",e),Nt("load",e);var o=!1,h=!1,f;for(f in r)if(r.hasOwnProperty(f)){var g=r[f];if(g!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:se(e,n,f,g,r,null)}}h&&se(e,n,"srcSet",r.srcSet,r,null),o&&se(e,n,"src",r.src,r,null);return;case"input":Nt("invalid",e);var T=f=g=h=null,C=null,j=null;for(o in r)if(r.hasOwnProperty(o)){var K=r[o];if(K!=null)switch(o){case"name":h=K;break;case"type":g=K;break;case"checked":C=K;break;case"defaultChecked":j=K;break;case"value":f=K;break;case"defaultValue":T=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(a(137,n));break;default:se(e,n,o,K,r,null)}}iu(e,f,T,C,j,g,h,!1);return;case"select":Nt("invalid",e),o=g=f=null;for(h in r)if(r.hasOwnProperty(h)&&(T=r[h],T!=null))switch(h){case"value":f=T;break;case"defaultValue":g=T;break;case"multiple":o=T;default:se(e,n,h,T,r,null)}n=f,r=g,e.multiple=!!o,n!=null?yr(e,!!o,n,!1):r!=null&&yr(e,!!o,r,!0);return;case"textarea":Nt("invalid",e),f=h=o=null;for(g in r)if(r.hasOwnProperty(g)&&(T=r[g],T!=null))switch(g){case"value":o=T;break;case"defaultValue":h=T;break;case"children":f=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(a(91));break;default:se(e,n,g,T,r,null)}_r(e,o,h,f);return;case"option":for(C in r)r.hasOwnProperty(C)&&(o=r[C],o!=null)&&(C==="selected"?e.selected=o&&typeof o!="function"&&typeof o!="symbol":se(e,n,C,o,r,null));return;case"dialog":Nt("beforetoggle",e),Nt("toggle",e),Nt("cancel",e),Nt("close",e);break;case"iframe":case"object":Nt("load",e);break;case"video":case"audio":for(o=0;o<nl.length;o++)Nt(nl[o],e);break;case"image":Nt("error",e),Nt("load",e);break;case"details":Nt("toggle",e);break;case"embed":case"source":case"link":Nt("error",e),Nt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(j in r)if(r.hasOwnProperty(j)&&(o=r[j],o!=null))switch(j){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:se(e,n,j,o,r,null)}return;default:if(sa(n)){for(K in r)r.hasOwnProperty(K)&&(o=r[K],o!==void 0&&sd(e,n,K,o,r,void 0));return}}for(T in r)r.hasOwnProperty(T)&&(o=r[T],o!=null&&se(e,n,T,o,r,null))}function RE(e,n,r,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,g=null,T=null,C=null,j=null,K=null;for(H in r){var W=r[H];if(r.hasOwnProperty(H)&&W!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":C=W;default:o.hasOwnProperty(H)||se(e,n,H,null,o,W)}}for(var B in o){var H=o[B];if(W=r[B],o.hasOwnProperty(B)&&(H!=null||W!=null))switch(B){case"type":f=H;break;case"name":h=H;break;case"checked":j=H;break;case"defaultChecked":K=H;break;case"value":g=H;break;case"defaultValue":T=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(a(137,n));break;default:H!==W&&se(e,n,B,H,o,W)}}ra(e,g,T,C,j,K,f,h);return;case"select":H=g=T=B=null;for(f in r)if(C=r[f],r.hasOwnProperty(f)&&C!=null)switch(f){case"value":break;case"multiple":H=C;default:o.hasOwnProperty(f)||se(e,n,f,null,o,C)}for(h in o)if(f=o[h],C=r[h],o.hasOwnProperty(h)&&(f!=null||C!=null))switch(h){case"value":B=f;break;case"defaultValue":T=f;break;case"multiple":g=f;default:f!==C&&se(e,n,h,f,o,C)}n=T,r=g,o=H,B!=null?yr(e,!!r,B,!1):!!o!=!!r&&(n!=null?yr(e,!!r,n,!0):yr(e,!!r,r?[]:"",!1));return;case"textarea":H=B=null;for(T in r)if(h=r[T],r.hasOwnProperty(T)&&h!=null&&!o.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:se(e,n,T,null,o,h)}for(g in o)if(h=o[g],f=r[g],o.hasOwnProperty(g)&&(h!=null||f!=null))switch(g){case"value":B=h;break;case"defaultValue":H=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&se(e,n,g,h,o,f)}ru(e,B,H);return;case"option":for(var lt in r)B=r[lt],r.hasOwnProperty(lt)&&B!=null&&!o.hasOwnProperty(lt)&&(lt==="selected"?e.selected=!1:se(e,n,lt,null,o,B));for(C in o)B=o[C],H=r[C],o.hasOwnProperty(C)&&B!==H&&(B!=null||H!=null)&&(C==="selected"?e.selected=B&&typeof B!="function"&&typeof B!="symbol":se(e,n,C,B,o,H));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var yt in r)B=r[yt],r.hasOwnProperty(yt)&&B!=null&&!o.hasOwnProperty(yt)&&se(e,n,yt,null,o,B);for(j in o)if(B=o[j],H=r[j],o.hasOwnProperty(j)&&B!==H&&(B!=null||H!=null))switch(j){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(a(137,n));break;default:se(e,n,j,B,o,H)}return;default:if(sa(n)){for(var ae in r)B=r[ae],r.hasOwnProperty(ae)&&B!==void 0&&!o.hasOwnProperty(ae)&&sd(e,n,ae,void 0,o,B);for(K in o)B=o[K],H=r[K],!o.hasOwnProperty(K)||B===H||B===void 0&&H===void 0||sd(e,n,K,B,o,H);return}}for(var L in r)B=r[L],r.hasOwnProperty(L)&&B!=null&&!o.hasOwnProperty(L)&&se(e,n,L,null,o,B);for(W in o)B=o[W],H=r[W],!o.hasOwnProperty(W)||B===H||B==null&&H==null||se(e,n,W,B,o,H)}function Ky(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function CE(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,r=performance.getEntriesByType("resource"),o=0;o<r.length;o++){var h=r[o],f=h.transferSize,g=h.initiatorType,T=h.duration;if(f&&T&&Ky(g)){for(g=0,T=h.responseEnd,o+=1;o<r.length;o++){var C=r[o],j=C.startTime;if(j>T)break;var K=C.transferSize,W=C.initiatorType;K&&Ky(W)&&(C=C.responseEnd,g+=K*(C<T?1:(T-j)/(C-j)))}if(--o,n+=8*(f+g)/(h.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var ad=null,od=null;function oc(e){return e.nodeType===9?e:e.ownerDocument}function Qy(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Yy(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function ld(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var ud=null;function IE(){var e=window.event;return e&&e.type==="popstate"?e===ud?!1:(ud=e,!0):(ud=null,!1)}var Xy=typeof setTimeout=="function"?setTimeout:void 0,xE=typeof clearTimeout=="function"?clearTimeout:void 0,Wy=typeof Promise=="function"?Promise:void 0,DE=typeof queueMicrotask=="function"?queueMicrotask:typeof Wy<"u"?function(e){return Wy.resolve(null).then(e).catch(ME)}:Xy;function ME(e){setTimeout(function(){throw e})}function Br(e){return e==="head"}function Jy(e,n){var r=n,o=0;do{var h=r.nextSibling;if(e.removeChild(r),h&&h.nodeType===8)if(r=h.data,r==="/$"||r==="/&"){if(o===0){e.removeChild(h),ja(n);return}o--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")o++;else if(r==="html")rl(e.ownerDocument.documentElement);else if(r==="head"){r=e.ownerDocument.head,rl(r);for(var f=r.firstChild;f;){var g=f.nextSibling,T=f.nodeName;f[pi]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&f.rel.toLowerCase()==="stylesheet"||r.removeChild(f),f=g}}else r==="body"&&rl(e.ownerDocument.body);r=h}while(r);ja(n)}function Zy(e,n){var r=e;e=0;do{var o=r.nextSibling;if(r.nodeType===1?n?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(n?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),o&&o.nodeType===8)if(r=o.data,r==="/$"){if(e===0)break;e--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||e++;r=o}while(r)}function cd(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":cd(r),na(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}e.removeChild(r)}}function OE(e,n,r,o){for(;e.nodeType===1;){var h=r;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[pi])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=jn(e.nextSibling),e===null)break}return null}function NE(e,n,r){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!r||(e=jn(e.nextSibling),e===null))return null;return e}function $y(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=jn(e.nextSibling),e===null))return null;return e}function hd(e){return e.data==="$?"||e.data==="$~"}function fd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function VE(e,n){var r=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||r.readyState!=="loading")n();else{var o=function(){n(),r.removeEventListener("DOMContentLoaded",o)};r.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function jn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var dd=null;function t_(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"||r==="/&"){if(n===0)return jn(e.nextSibling);n--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||n++}e=e.nextSibling}return null}function e_(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(n===0)return e;n--}else r!=="/$"&&r!=="/&"||n++}e=e.previousSibling}return null}function n_(e,n,r){switch(n=oc(r),e){case"html":if(e=n.documentElement,!e)throw Error(a(452));return e;case"head":if(e=n.head,!e)throw Error(a(453));return e;case"body":if(e=n.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function rl(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);na(e)}var Bn=new Map,i_=new Set;function lc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var ar=tt.d;tt.d={f:kE,r:LE,D:PE,C:UE,L:zE,m:jE,X:qE,S:BE,M:HE};function kE(){var e=ar.f(),n=$u();return e||n}function LE(e){var n=Dn(e);n!==null&&n.tag===5&&n.type==="form"?Tp(n):ar.r(e)}var Pa=typeof document>"u"?null:document;function r_(e,n,r){var o=Pa;if(o&&typeof n=="string"&&n){var h=hn(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof r=="string"&&(h+='[crossorigin="'+r+'"]'),i_.has(h)||(i_.add(h),e={rel:e,crossOrigin:r,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),Ze(n,"link",e),Me(n),o.head.appendChild(n)))}}function PE(e){ar.D(e),r_("dns-prefetch",e,null)}function UE(e,n){ar.C(e,n),r_("preconnect",e,n)}function zE(e,n,r){ar.L(e,n,r);var o=Pa;if(o&&e&&n){var h='link[rel="preload"][as="'+hn(n)+'"]';n==="image"&&r&&r.imageSrcSet?(h+='[imagesrcset="'+hn(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(h+='[imagesizes="'+hn(r.imageSizes)+'"]')):h+='[href="'+hn(e)+'"]';var f=h;switch(n){case"style":f=Ua(e);break;case"script":f=za(e)}Bn.has(f)||(e=w({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:e,as:n},r),Bn.set(f,e),o.querySelector(h)!==null||n==="style"&&o.querySelector(sl(f))||n==="script"&&o.querySelector(al(f))||(n=o.createElement("link"),Ze(n,"link",e),Me(n),o.head.appendChild(n)))}}function jE(e,n){ar.m(e,n);var r=Pa;if(r&&e){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+hn(o)+'"][href="'+hn(e)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=za(e)}if(!Bn.has(f)&&(e=w({rel:"modulepreload",href:e},n),Bn.set(f,e),r.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(al(f)))return}o=r.createElement("link"),Ze(o,"link",e),Me(o),r.head.appendChild(o)}}}function BE(e,n,r){ar.S(e,n,r);var o=Pa;if(o&&e){var h=_i(o).hoistableStyles,f=Ua(e);n=n||"default";var g=h.get(f);if(!g){var T={loading:0,preload:null};if(g=o.querySelector(sl(f)))T.loading=5;else{e=w({rel:"stylesheet",href:e,"data-precedence":n},r),(r=Bn.get(f))&&md(e,r);var C=g=o.createElement("link");Me(C),Ze(C,"link",e),C._p=new Promise(function(j,K){C.onload=j,C.onerror=K}),C.addEventListener("load",function(){T.loading|=1}),C.addEventListener("error",function(){T.loading|=2}),T.loading|=4,uc(g,n,o)}g={type:"stylesheet",instance:g,count:1,state:T},h.set(f,g)}}}function qE(e,n){ar.X(e,n);var r=Pa;if(r&&e){var o=_i(r).hoistableScripts,h=za(e),f=o.get(h);f||(f=r.querySelector(al(h)),f||(e=w({src:e,async:!0},n),(n=Bn.get(h))&&gd(e,n),f=r.createElement("script"),Me(f),Ze(f,"link",e),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function HE(e,n){ar.M(e,n);var r=Pa;if(r&&e){var o=_i(r).hoistableScripts,h=za(e),f=o.get(h);f||(f=r.querySelector(al(h)),f||(e=w({src:e,async:!0,type:"module"},n),(n=Bn.get(h))&&gd(e,n),f=r.createElement("script"),Me(f),Ze(f,"link",e),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function s_(e,n,r,o){var h=(h=wt.current)?lc(h):null;if(!h)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=Ua(r.href),r=_i(h).hoistableStyles,o=r.get(n),o||(o={type:"style",instance:null,count:0,state:null},r.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){e=Ua(r.href);var f=_i(h).hoistableStyles,g=f.get(e);if(g||(h=h.ownerDocument||h,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,g),(f=h.querySelector(sl(e)))&&!f._p&&(g.instance=f,g.state.loading=5),Bn.has(e)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Bn.set(e,r),f||FE(h,e,r,g.state))),n&&o===null)throw Error(a(528,""));return g}if(n&&o!==null)throw Error(a(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=za(r),r=_i(h).hoistableScripts,o=r.get(n),o||(o={type:"script",instance:null,count:0,state:null},r.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function Ua(e){return'href="'+hn(e)+'"'}function sl(e){return'link[rel="stylesheet"]['+e+"]"}function a_(e){return w({},e,{"data-precedence":e.precedence,precedence:null})}function FE(e,n,r,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),Ze(n,"link",r),Me(n),e.head.appendChild(n))}function za(e){return'[src="'+hn(e)+'"]'}function al(e){return"script[async]"+e}function o_(e,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+hn(r.href)+'"]');if(o)return n.instance=o,Me(o),o;var h=w({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),Me(o),Ze(o,"style",h),uc(o,r.precedence,e),n.instance=o;case"stylesheet":h=Ua(r.href);var f=e.querySelector(sl(h));if(f)return n.state.loading|=4,n.instance=f,Me(f),f;o=a_(r),(h=Bn.get(h))&&md(o,h),f=(e.ownerDocument||e).createElement("link"),Me(f);var g=f;return g._p=new Promise(function(T,C){g.onload=T,g.onerror=C}),Ze(f,"link",o),n.state.loading|=4,uc(f,r.precedence,e),n.instance=f;case"script":return f=za(r.src),(h=e.querySelector(al(f)))?(n.instance=h,Me(h),h):(o=r,(h=Bn.get(f))&&(o=w({},r),gd(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),Me(h),Ze(h,"link",o),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,uc(o,r.precedence,e));return n.instance}function uc(e,n,r){for(var o=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,g=0;g<o.length;g++){var T=o[g];if(T.dataset.precedence===n)f=T;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(e,n.firstChild))}function md(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function gd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var cc=null;function l_(e,n,r){if(cc===null){var o=new Map,h=cc=new Map;h.set(r,o)}else h=cc,o=h.get(r),o||(o=new Map,h.set(r,o));if(o.has(e))return o;for(o.set(e,null),r=r.getElementsByTagName(e),h=0;h<r.length;h++){var f=r[h];if(!(f[pi]||f[De]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=e+g;var T=o.get(g);T?T.push(f):o.set(g,[f])}}return o}function u_(e,n,r){e=e.ownerDocument||e,e.head.insertBefore(r,n==="title"?e.querySelector("head > title"):null)}function GE(e,n,r){if(r===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(e=n.disabled,typeof n.precedence=="string"&&e==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function c_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function KE(e,n,r,o){if(r.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=Ua(o.href),f=n.querySelector(sl(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=hc.bind(e),n.then(e,e)),r.state.loading|=4,r.instance=f,Me(f);return}f=n.ownerDocument||n,o=a_(o),(h=Bn.get(h))&&md(o,h),f=f.createElement("link"),Me(f);var g=f;g._p=new Promise(function(T,C){g.onload=T,g.onerror=C}),Ze(f,"link",o),r.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(e.count++,r=hc.bind(e),n.addEventListener("load",r),n.addEventListener("error",r))}}var pd=0;function QE(e,n){return e.stylesheets&&e.count===0&&dc(e,e.stylesheets),0<e.count||0<e.imgCount?function(r){var o=setTimeout(function(){if(e.stylesheets&&dc(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&pd===0&&(pd=62500*CE());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&dc(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>pd?50:800)+n);return e.unsuspend=r,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function hc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)dc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var fc=null;function dc(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,fc=new Map,n.forEach(YE,e),fc=null,hc.call(e))}function YE(e,n){if(!(n.state.loading&4)){var r=fc.get(e);if(r)var o=r.get(null);else{r=new Map,fc.set(e,r);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var g=h[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(r.set(g.dataset.precedence,g),o=g)}o&&r.set(null,o)}h=n.instance,g=h.getAttribute("data-precedence"),f=r.get(g)||o,f===o&&r.set(null,h),r.set(g,h),this.count++,o=hc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var ol={$$typeof:gt,Provider:null,Consumer:null,_currentValue:ct,_currentValue2:ct,_threadCount:0};function XE(e,n,r,o,h,f,g,T,C){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=mi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mi(0),this.hiddenUpdates=mi(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function h_(e,n,r,o,h,f,g,T,C,j,K,W){return e=new XE(e,n,r,g,C,j,K,W,T),n=1,f===!0&&(n|=24),f=bn(3,null,null,n),e.current=f,f.stateNode=e,n=Yh(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:r,cache:n},Zh(f),e}function f_(e){return e?(e=pa,e):pa}function d_(e,n,r,o,h,f){h=f_(h),o.context===null?o.context=h:o.pendingContext=h,o=Dr(n),o.payload={element:r},f=f===void 0?null:f,f!==null&&(o.callback=f),r=Mr(e,o,n),r!==null&&(yn(r,e,n),zo(r,e,n))}function m_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<n?r:n}}function yd(e,n){m_(e,n),(e=e.alternate)&&m_(e,n)}function g_(e){if(e.tag===13||e.tag===31){var n=Cs(e,67108864);n!==null&&yn(n,e,67108864),yd(e,67108864)}}function p_(e){if(e.tag===13||e.tag===31){var n=Cn();n=gs(n);var r=Cs(e,n);r!==null&&yn(r,e,n),yd(e,n)}}var mc=!0;function WE(e,n,r,o){var h=G.T;G.T=null;var f=tt.p;try{tt.p=2,_d(e,n,r,o)}finally{tt.p=f,G.T=h}}function JE(e,n,r,o){var h=G.T;G.T=null;var f=tt.p;try{tt.p=8,_d(e,n,r,o)}finally{tt.p=f,G.T=h}}function _d(e,n,r,o){if(mc){var h=vd(o);if(h===null)rd(e,n,o,gc,r),__(e,o);else if($E(h,e,n,r,o))o.stopPropagation();else if(__(e,o),n&4&&-1<ZE.indexOf(e)){for(;h!==null;){var f=Dn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=fi(f.pendingLanes);if(g!==0){var T=f;for(T.pendingLanes|=2,T.entangledLanes|=2;g;){var C=1<<31-Ae(g);T.entanglements[1]|=C,g&=~C}Mi(f),(Yt&6)===0&&(Ju=mt()+500,el(0))}}break;case 31:case 13:T=Cs(f,2),T!==null&&yn(T,f,2),$u(),yd(f,2)}if(f=vd(o),f===null&&rd(e,n,o,gc,r),f===h)break;h=f}h!==null&&o.stopPropagation()}else rd(e,n,o,null,r)}}function vd(e){return e=Mn(e),Td(e)}var gc=null;function Td(e){if(gc=null,e=yi(e),e!==null){var n=c(e);if(n===null)e=null;else{var r=n.tag;if(r===13){if(e=d(n),e!==null)return e;e=null}else if(r===31){if(e=p(n),e!==null)return e;e=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return gc=e,null}function y_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Xt()){case qt:return 2;case Se:return 8;case Te:case Qn:return 32;case Ql:return 268435456;default:return 32}default:return 32}}var Ed=!1,qr=null,Hr=null,Fr=null,ll=new Map,ul=new Map,Gr=[],ZE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function __(e,n){switch(e){case"focusin":case"focusout":qr=null;break;case"dragenter":case"dragleave":Hr=null;break;case"mouseover":case"mouseout":Fr=null;break;case"pointerover":case"pointerout":ll.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":ul.delete(n.pointerId)}}function cl(e,n,r,o,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:r,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Dn(n),n!==null&&g_(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function $E(e,n,r,o,h){switch(n){case"focusin":return qr=cl(qr,e,n,r,o,h),!0;case"dragenter":return Hr=cl(Hr,e,n,r,o,h),!0;case"mouseover":return Fr=cl(Fr,e,n,r,o,h),!0;case"pointerover":var f=h.pointerId;return ll.set(f,cl(ll.get(f)||null,e,n,r,o,h)),!0;case"gotpointercapture":return f=h.pointerId,ul.set(f,cl(ul.get(f)||null,e,n,r,o,h)),!0}return!1}function v_(e){var n=yi(e.target);if(n!==null){var r=c(n);if(r!==null){if(n=r.tag,n===13){if(n=d(r),n!==null){e.blockedOn=n,Wn(e.priority,function(){p_(r)});return}}else if(n===31){if(n=p(r),n!==null){e.blockedOn=n,Wn(e.priority,function(){p_(r)});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function pc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var r=vd(e.nativeEvent);if(r===null){r=e.nativeEvent;var o=new r.constructor(r.type,r);So=o,r.target.dispatchEvent(o),So=null}else return n=Dn(r),n!==null&&g_(n),e.blockedOn=r,!1;n.shift()}return!0}function T_(e,n,r){pc(e)&&r.delete(n)}function tb(){Ed=!1,qr!==null&&pc(qr)&&(qr=null),Hr!==null&&pc(Hr)&&(Hr=null),Fr!==null&&pc(Fr)&&(Fr=null),ll.forEach(T_),ul.forEach(T_)}function yc(e,n){e.blockedOn===n&&(e.blockedOn=null,Ed||(Ed=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,tb)))}var _c=null;function E_(e){_c!==e&&(_c=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){_c===e&&(_c=null);for(var n=0;n<e.length;n+=3){var r=e[n],o=e[n+1],h=e[n+2];if(typeof o!="function"){if(Td(o||r)===null)continue;break}var f=Dn(r);f!==null&&(e.splice(n,3),n-=3,vf(f,{pending:!0,data:h,method:r.method,action:o},o,h))}}))}function ja(e){function n(C){return yc(C,e)}qr!==null&&yc(qr,e),Hr!==null&&yc(Hr,e),Fr!==null&&yc(Fr,e),ll.forEach(n),ul.forEach(n);for(var r=0;r<Gr.length;r++){var o=Gr[r];o.blockedOn===e&&(o.blockedOn=null)}for(;0<Gr.length&&(r=Gr[0],r.blockedOn===null);)v_(r),r.blockedOn===null&&Gr.shift();if(r=(e.ownerDocument||e).$$reactFormReplay,r!=null)for(o=0;o<r.length;o+=3){var h=r[o],f=r[o+1],g=h[qe]||null;if(typeof f=="function")g||E_(r);else if(g){var T=null;if(f&&f.hasAttribute("formAction")){if(h=f,g=f[qe]||null)T=g.formAction;else if(Td(h)!==null)continue}else T=g.action;typeof T=="function"?r[o+1]=T:(r.splice(o,3),o-=3),E_(r)}}}function b_(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return h=g})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(r,20)}function r(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(r,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function bd(e){this._internalRoot=e}vc.prototype.render=bd.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));var r=n.current,o=Cn();d_(r,o,e,n,null,null)},vc.prototype.unmount=bd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;d_(e.current,2,null,e,null,null),$u(),n[gi]=null}};function vc(e){this._internalRoot=e}vc.prototype.unstable_scheduleHydration=function(e){if(e){var n=$l();e={blockedOn:null,target:e,priority:n};for(var r=0;r<Gr.length&&n!==0&&n<Gr[r].priority;r++);Gr.splice(r,0,e),r===0&&v_(e)}};var S_=t.version;if(S_!=="19.2.4")throw Error(a(527,S_,"19.2.4"));tt.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=_(n),e=e!==null?b(e):null,e=e===null?null:e.stateNode,e};var eb={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Tc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Tc.isDisabled&&Tc.supportsFiber)try{Yn=Tc.inject(eb),Qe=Tc}catch{}}return fl.createRoot=function(e,n){if(!l(e))throw Error(a(299));var r=!1,o="",h=Dp,f=Mp,g=Op;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=h_(e,1,!1,null,null,r,o,null,h,f,g,b_),e[gi]=n.current,id(e),new bd(n)},fl.hydrateRoot=function(e,n,r){if(!l(e))throw Error(a(299));var o=!1,h="",f=Dp,g=Mp,T=Op,C=null;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(h=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(g=r.onCaughtError),r.onRecoverableError!==void 0&&(T=r.onRecoverableError),r.formState!==void 0&&(C=r.formState)),n=h_(e,1,!0,n,r??null,o,h,C,f,g,T,b_),n.context=f_(null),r=n.current,o=Cn(),o=gs(o),h=Dr(o),h.callback=null,Mr(r,h,o),r=o,n.current.lanes=r,ds(n,r),Mi(n),e[gi]=n.current,id(e),new vc(n)},fl.version="19.2.4",fl}var N_;function hb(){if(N_)return wd.exports;N_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),wd.exports=cb(),wd.exports}var fb=hb();const db=()=>{};var V_={};const ov=function(s){const t=[];let i=0;for(let a=0;a<s.length;a++){let l=s.charCodeAt(a);l<128?t[i++]=l:l<2048?(t[i++]=l>>6|192,t[i++]=l&63|128):(l&64512)===55296&&a+1<s.length&&(s.charCodeAt(a+1)&64512)===56320?(l=65536+((l&1023)<<10)+(s.charCodeAt(++a)&1023),t[i++]=l>>18|240,t[i++]=l>>12&63|128,t[i++]=l>>6&63|128,t[i++]=l&63|128):(t[i++]=l>>12|224,t[i++]=l>>6&63|128,t[i++]=l&63|128)}return t},mb=function(s){const t=[];let i=0,a=0;for(;i<s.length;){const l=s[i++];if(l<128)t[a++]=String.fromCharCode(l);else if(l>191&&l<224){const c=s[i++];t[a++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=s[i++],d=s[i++],p=s[i++],v=((l&7)<<18|(c&63)<<12|(d&63)<<6|p&63)-65536;t[a++]=String.fromCharCode(55296+(v>>10)),t[a++]=String.fromCharCode(56320+(v&1023))}else{const c=s[i++],d=s[i++];t[a++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return t.join("")},lv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,t){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let l=0;l<s.length;l+=3){const c=s[l],d=l+1<s.length,p=d?s[l+1]:0,v=l+2<s.length,_=v?s[l+2]:0,b=c>>2,w=(c&3)<<4|p>>4;let k=(p&15)<<2|_>>6,X=_&63;v||(X=64,d||(k=64)),a.push(i[b],i[w],i[k],i[X])}return a.join("")},encodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(s):this.encodeByteArray(ov(s),t)},decodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(s):mb(this.decodeStringToByteArray(s,t))},decodeStringToByteArray(s,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let l=0;l<s.length;){const c=i[s.charAt(l++)],p=l<s.length?i[s.charAt(l)]:0;++l;const _=l<s.length?i[s.charAt(l)]:64;++l;const w=l<s.length?i[s.charAt(l)]:64;if(++l,c==null||p==null||_==null||w==null)throw new gb;const k=c<<2|p>>4;if(a.push(k),_!==64){const X=p<<4&240|_>>2;if(a.push(X),w!==64){const it=_<<6&192|w;a.push(it)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class gb extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const pb=function(s){const t=ov(s);return lv.encodeByteArray(t,!0)},Fc=function(s){return pb(s).replace(/\./g,"")},uv=function(s){try{return lv.decodeString(s,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function yb(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const _b=()=>yb().__FIREBASE_DEFAULTS__,vb=()=>{if(typeof process>"u"||typeof V_>"u")return;const s=V_.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},Tb=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=s&&uv(s[1]);return t&&JSON.parse(t)},ch=()=>{try{return db()||_b()||vb()||Tb()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},cv=s=>ch()?.emulatorHosts?.[s],Eb=s=>{const t=cv(s);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const a=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),a]:[t.substring(0,i),a]},hv=()=>ch()?.config,fv=s=>ch()?.[`_${s}`];class bb{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,a))}}}function ro(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function dv(s){return(await fetch(s,{credentials:"include"})).ok}function Sb(s,t){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=t||"demo-project",l=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...s};return[Fc(JSON.stringify(i)),Fc(JSON.stringify(d)),""].join(".")}const Tl={};function Ab(){const s={prod:[],emulator:[]};for(const t of Object.keys(Tl))Tl[t]?s.emulator.push(t):s.prod.push(t);return s}function wb(s){let t=document.getElementById(s),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",s),i=!0),{created:i,element:t}}let k_=!1;function mv(s,t){if(typeof window>"u"||typeof document>"u"||!ro(window.location.host)||Tl[s]===t||Tl[s]||k_)return;Tl[s]=t;function i(k){return`__firebase__banner__${k}`}const a="__firebase__banner",c=Ab().prod.length>0;function d(){const k=document.getElementById(a);k&&k.remove()}function p(k){k.style.display="flex",k.style.background="#7faaf0",k.style.position="fixed",k.style.bottom="5px",k.style.left="5px",k.style.padding=".5em",k.style.borderRadius="5px",k.style.alignItems="center"}function v(k,X){k.setAttribute("width","24"),k.setAttribute("id",X),k.setAttribute("height","24"),k.setAttribute("viewBox","0 0 24 24"),k.setAttribute("fill","none"),k.style.marginLeft="-6px"}function _(){const k=document.createElement("span");return k.style.cursor="pointer",k.style.marginLeft="16px",k.style.fontSize="24px",k.innerHTML=" &times;",k.onclick=()=>{k_=!0,d()},k}function b(k,X){k.setAttribute("id",X),k.innerText="Learn more",k.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",k.setAttribute("target","__blank"),k.style.paddingLeft="5px",k.style.textDecoration="underline"}function w(){const k=wb(a),X=i("text"),it=document.getElementById(X)||document.createElement("span"),rt=i("learnmore"),st=document.getElementById(rt)||document.createElement("a"),ft=i("preprendIcon"),Et=document.getElementById(ft)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(k.created){const gt=k.element;p(gt),b(st,rt);const Bt=_();v(Et,ft),gt.append(Et,it,st,Bt),document.body.appendChild(gt)}c?(it.innerText="Preview backend disconnected.",Et.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Et.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,it.innerText="Preview backend running in this workspace."),it.setAttribute("id",X)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}function on(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Rb(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(on())}function Cb(){const s=ch()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Ib(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function xb(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function Db(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Mb(){const s=on();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function Ob(){return!Cb()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Nb(){try{return typeof indexedDB=="object"}catch{return!1}}function Vb(){return new Promise((s,t)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(a);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(a),s(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{t(l.error?.message||"")}}catch(i){t(i)}})}const kb="FirebaseError";class gr extends Error{constructor(t,i,a){super(i),this.code=t,this.customData=a,this.name=kb,Object.setPrototypeOf(this,gr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Pl.prototype.create)}}class Pl{constructor(t,i,a){this.service=t,this.serviceName=i,this.errors=a}create(t,...i){const a=i[0]||{},l=`${this.service}/${t}`,c=this.errors[t],d=c?Lb(c,a):"Error",p=`${this.serviceName}: ${d} (${l}).`;return new gr(l,p,a)}}function Lb(s,t){return s.replace(Pb,(i,a)=>{const l=t[a];return l!=null?String(l):`<${a}?>`})}const Pb=/\{\$([^}]+)}/g;function Ub(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}function Gs(s,t){if(s===t)return!0;const i=Object.keys(s),a=Object.keys(t);for(const l of i){if(!a.includes(l))return!1;const c=s[l],d=t[l];if(L_(c)&&L_(d)){if(!Gs(c,d))return!1}else if(c!==d)return!1}for(const l of a)if(!i.includes(l))return!1;return!0}function L_(s){return s!==null&&typeof s=="object"}function Ul(s){const t=[];for(const[i,a]of Object.entries(s))Array.isArray(a)?a.forEach(l=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return t.length?"&"+t.join("&"):""}function zb(s,t){const i=new jb(s,t);return i.subscribe.bind(i)}class jb{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(a=>{this.error(a)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,a){let l;if(t===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");Bb(t,["next","error","complete"])?l=t:l={next:t,error:i,complete:a},l.next===void 0&&(l.next=xd),l.error===void 0&&(l.error=xd),l.complete===void 0&&(l.complete=xd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Bb(s,t){if(typeof s!="object"||s===null)return!1;for(const i of t)if(i in s&&typeof s[i]=="function")return!0;return!1}function xd(){}function Fn(s){return s&&s._delegate?s._delegate:s}class Ks{constructor(t,i,a){this.name=t,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const js="[DEFAULT]";class qb{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const a=new bb;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&a.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),a=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(Fb(t))try{this.getOrInitializeService({instanceIdentifier:js})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});a.resolve(c)}catch{}}}}clearInstance(t=js){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=js){return this.instances.has(t)}getOptions(t=js){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);a===p&&d.resolve(l)}return l}onInit(t,i){const a=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(a)??new Set;l.add(t),this.onInitCallbacks.set(a,l);const c=this.instances.get(a);return c&&t(c,a),()=>{l.delete(t)}}invokeOnInitCallbacks(t,i){const a=this.onInitCallbacks.get(i);if(a)for(const l of a)try{l(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let a=this.instances.get(t);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:Hb(t),options:i}),this.instances.set(t,a),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(a,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,a)}catch{}return a||null}normalizeInstanceIdentifier(t=js){return this.component?this.component.multipleInstances?t:js:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Hb(s){return s===js?void 0:s}function Fb(s){return s.instantiationMode==="EAGER"}class Gb{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new qb(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}var Lt;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Lt||(Lt={}));const Kb={debug:Lt.DEBUG,verbose:Lt.VERBOSE,info:Lt.INFO,warn:Lt.WARN,error:Lt.ERROR,silent:Lt.SILENT},Qb=Lt.INFO,Yb={[Lt.DEBUG]:"log",[Lt.VERBOSE]:"log",[Lt.INFO]:"info",[Lt.WARN]:"warn",[Lt.ERROR]:"error"},Xb=(s,t,...i)=>{if(t<s.logLevel)return;const a=new Date().toISOString(),l=Yb[t];if(l)console[l](`[${a}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class dm{constructor(t){this.name=t,this._logLevel=Qb,this._logHandler=Xb,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Lt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?Kb[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Lt.DEBUG,...t),this._logHandler(this,Lt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Lt.VERBOSE,...t),this._logHandler(this,Lt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Lt.INFO,...t),this._logHandler(this,Lt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Lt.WARN,...t),this._logHandler(this,Lt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Lt.ERROR,...t),this._logHandler(this,Lt.ERROR,...t)}}const Wb=(s,t)=>t.some(i=>s instanceof i);let P_,U_;function Jb(){return P_||(P_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Zb(){return U_||(U_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const gv=new WeakMap,qd=new WeakMap,pv=new WeakMap,Dd=new WeakMap,mm=new WeakMap;function $b(s){const t=new Promise((i,a)=>{const l=()=>{s.removeEventListener("success",c),s.removeEventListener("error",d)},c=()=>{i(Zr(s.result)),l()},d=()=>{a(s.error),l()};s.addEventListener("success",c),s.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&gv.set(i,s)}).catch(()=>{}),mm.set(t,s),t}function tS(s){if(qd.has(s))return;const t=new Promise((i,a)=>{const l=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",d),s.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{a(s.error||new DOMException("AbortError","AbortError")),l()};s.addEventListener("complete",c),s.addEventListener("error",d),s.addEventListener("abort",d)});qd.set(s,t)}let Hd={get(s,t,i){if(s instanceof IDBTransaction){if(t==="done")return qd.get(s);if(t==="objectStoreNames")return s.objectStoreNames||pv.get(s);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Zr(s[t])},set(s,t,i){return s[t]=i,!0},has(s,t){return s instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in s}};function eS(s){Hd=s(Hd)}function nS(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const a=s.call(Md(this),t,...i);return pv.set(a,t.sort?t.sort():[t]),Zr(a)}:Zb().includes(s)?function(...t){return s.apply(Md(this),t),Zr(gv.get(this))}:function(...t){return Zr(s.apply(Md(this),t))}}function iS(s){return typeof s=="function"?nS(s):(s instanceof IDBTransaction&&tS(s),Wb(s,Jb())?new Proxy(s,Hd):s)}function Zr(s){if(s instanceof IDBRequest)return $b(s);if(Dd.has(s))return Dd.get(s);const t=iS(s);return t!==s&&(Dd.set(s,t),mm.set(t,s)),t}const Md=s=>mm.get(s);function rS(s,t,{blocked:i,upgrade:a,blocking:l,terminated:c}={}){const d=indexedDB.open(s,t),p=Zr(d);return a&&d.addEventListener("upgradeneeded",v=>{a(Zr(d.result),v.oldVersion,v.newVersion,Zr(d.transaction),v)}),i&&d.addEventListener("blocked",v=>i(v.oldVersion,v.newVersion,v)),p.then(v=>{c&&v.addEventListener("close",()=>c()),l&&v.addEventListener("versionchange",_=>l(_.oldVersion,_.newVersion,_))}).catch(()=>{}),p}const sS=["get","getKey","getAll","getAllKeys","count"],aS=["put","add","delete","clear"],Od=new Map;function z_(s,t){if(!(s instanceof IDBDatabase&&!(t in s)&&typeof t=="string"))return;if(Od.get(t))return Od.get(t);const i=t.replace(/FromIndex$/,""),a=t!==i,l=aS.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(l||sS.includes(i)))return;const c=async function(d,...p){const v=this.transaction(d,l?"readwrite":"readonly");let _=v.store;return a&&(_=_.index(p.shift())),(await Promise.all([_[i](...p),l&&v.done]))[0]};return Od.set(t,c),c}eS(s=>({...s,get:(t,i,a)=>z_(t,i)||s.get(t,i,a),has:(t,i)=>!!z_(t,i)||s.has(t,i)}));class oS{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(lS(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function lS(s){return s.getComponent()?.type==="VERSION"}const Fd="@firebase/app",j_="0.14.7";const hr=new dm("@firebase/app"),uS="@firebase/app-compat",cS="@firebase/analytics-compat",hS="@firebase/analytics",fS="@firebase/app-check-compat",dS="@firebase/app-check",mS="@firebase/auth",gS="@firebase/auth-compat",pS="@firebase/database",yS="@firebase/data-connect",_S="@firebase/database-compat",vS="@firebase/functions",TS="@firebase/functions-compat",ES="@firebase/installations",bS="@firebase/installations-compat",SS="@firebase/messaging",AS="@firebase/messaging-compat",wS="@firebase/performance",RS="@firebase/performance-compat",CS="@firebase/remote-config",IS="@firebase/remote-config-compat",xS="@firebase/storage",DS="@firebase/storage-compat",MS="@firebase/firestore",OS="@firebase/ai",NS="@firebase/firestore-compat",VS="firebase",kS="12.8.0";const Gd="[DEFAULT]",LS={[Fd]:"fire-core",[uS]:"fire-core-compat",[hS]:"fire-analytics",[cS]:"fire-analytics-compat",[dS]:"fire-app-check",[fS]:"fire-app-check-compat",[mS]:"fire-auth",[gS]:"fire-auth-compat",[pS]:"fire-rtdb",[yS]:"fire-data-connect",[_S]:"fire-rtdb-compat",[vS]:"fire-fn",[TS]:"fire-fn-compat",[ES]:"fire-iid",[bS]:"fire-iid-compat",[SS]:"fire-fcm",[AS]:"fire-fcm-compat",[wS]:"fire-perf",[RS]:"fire-perf-compat",[CS]:"fire-rc",[IS]:"fire-rc-compat",[xS]:"fire-gcs",[DS]:"fire-gcs-compat",[MS]:"fire-fst",[NS]:"fire-fst-compat",[OS]:"fire-vertex","fire-js":"fire-js",[VS]:"fire-js-all"};const Gc=new Map,PS=new Map,Kd=new Map;function B_(s,t){try{s.container.addComponent(t)}catch(i){hr.debug(`Component ${t.name} failed to register with FirebaseApp ${s.name}`,i)}}function Wa(s){const t=s.name;if(Kd.has(t))return hr.debug(`There were multiple attempts to register component ${t}.`),!1;Kd.set(t,s);for(const i of Gc.values())B_(i,s);for(const i of PS.values())B_(i,s);return!0}function gm(s,t){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(t)}function ai(s){return s==null?!1:s.settings!==void 0}const US={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},$r=new Pl("app","Firebase",US);class zS{constructor(t,i,a){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Ks("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw $r.create("app-deleted",{appName:this._name})}}const so=kS;function yv(s,t={}){let i=s;typeof t!="object"&&(t={name:t});const a={name:Gd,automaticDataCollectionEnabled:!0,...t},l=a.name;if(typeof l!="string"||!l)throw $r.create("bad-app-name",{appName:String(l)});if(i||(i=hv()),!i)throw $r.create("no-options");const c=Gc.get(l);if(c){if(Gs(i,c.options)&&Gs(a,c.config))return c;throw $r.create("duplicate-app",{appName:l})}const d=new Gb(l);for(const v of Kd.values())d.addComponent(v);const p=new zS(i,a,d);return Gc.set(l,p),p}function _v(s=Gd){const t=Gc.get(s);if(!t&&s===Gd&&hv())return yv();if(!t)throw $r.create("no-app",{appName:s});return t}function ts(s,t,i){let a=LS[s]??s;i&&(a+=`-${i}`);const l=a.match(/\s|\//),c=t.match(/\s|\//);if(l||c){const d=[`Unable to register library "${a}" with version "${t}":`];l&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),hr.warn(d.join(" "));return}Wa(new Ks(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}const jS="firebase-heartbeat-database",BS=1,Cl="firebase-heartbeat-store";let Nd=null;function vv(){return Nd||(Nd=rS(jS,BS,{upgrade:(s,t)=>{switch(t){case 0:try{s.createObjectStore(Cl)}catch(i){console.warn(i)}}}}).catch(s=>{throw $r.create("idb-open",{originalErrorMessage:s.message})})),Nd}async function qS(s){try{const i=(await vv()).transaction(Cl),a=await i.objectStore(Cl).get(Tv(s));return await i.done,a}catch(t){if(t instanceof gr)hr.warn(t.message);else{const i=$r.create("idb-get",{originalErrorMessage:t?.message});hr.warn(i.message)}}}async function q_(s,t){try{const a=(await vv()).transaction(Cl,"readwrite");await a.objectStore(Cl).put(t,Tv(s)),await a.done}catch(i){if(i instanceof gr)hr.warn(i.message);else{const a=$r.create("idb-set",{originalErrorMessage:i?.message});hr.warn(a.message)}}}function Tv(s){return`${s.name}!${s.options.appId}`}const HS=1024,FS=30;class GS{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new QS(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=H_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>FS){const l=YS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){hr.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=H_(),{heartbeatsToSend:i,unsentEntries:a}=KS(this._heartbeatsCache.heartbeats),l=Fc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return hr.warn(t),""}}}function H_(){return new Date().toISOString().substring(0,10)}function KS(s,t=HS){const i=[];let a=s.slice();for(const l of s){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),F_(i)>t){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),F_(i)>t){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class QS{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Nb()?Vb().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await qS(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return q_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return q_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function F_(s){return Fc(JSON.stringify({version:2,heartbeats:s})).length}function YS(s){if(s.length===0)return-1;let t=0,i=s[0].date;for(let a=1;a<s.length;a++)s[a].date<i&&(i=s[a].date,t=a);return t}function XS(s){Wa(new Ks("platform-logger",t=>new oS(t),"PRIVATE")),Wa(new Ks("heartbeat",t=>new GS(t),"PRIVATE")),ts(Fd,j_,s),ts(Fd,j_,"esm2020"),ts("fire-js","")}XS("");function Ev(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const WS=Ev,bv=new Pl("auth","Firebase",Ev());const Kc=new dm("@firebase/auth");function JS(s,...t){Kc.logLevel<=Lt.WARN&&Kc.warn(`Auth (${so}): ${s}`,...t)}function Vc(s,...t){Kc.logLevel<=Lt.ERROR&&Kc.error(`Auth (${so}): ${s}`,...t)}function Pi(s,...t){throw ym(s,...t)}function ui(s,...t){return ym(s,...t)}function pm(s,t,i){const a={...WS(),[t]:i};return new Pl("auth","Firebase",a).create(t,{appName:s.name})}function Hs(s){return pm(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function ZS(s,t,i){const a=i;if(!(t instanceof a))throw a.name!==t.constructor.name&&Pi(s,"argument-error"),pm(s,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function ym(s,...t){if(typeof s!="string"){const i=t[0],a=[...t.slice(1)];return a[0]&&(a[0].appName=s.name),s._errorFactory.create(i,...a)}return bv.create(s,...t)}function Tt(s,t,...i){if(!s)throw ym(t,...i)}function lr(s){const t="INTERNAL ASSERTION FAILED: "+s;throw Vc(t),new Error(t)}function fr(s,t){s||lr(t)}function Qd(){return typeof self<"u"&&self.location?.href||""}function $S(){return G_()==="http:"||G_()==="https:"}function G_(){return typeof self<"u"&&self.location?.protocol||null}function tA(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&($S()||xb()||"connection"in navigator)?navigator.onLine:!0}function eA(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class zl{constructor(t,i){this.shortDelay=t,this.longDelay=i,fr(i>t,"Short delay should be less than long delay!"),this.isMobile=Rb()||Db()}get(){return tA()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function _m(s,t){fr(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}class Sv{static initialize(t,i,a){this.fetchImpl=t,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;lr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;lr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;lr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const nA={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const iA=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],rA=new zl(3e4,6e4);function vm(s,t){return s.tenantId&&!t.tenantId?{...t,tenantId:s.tenantId}:t}async function ao(s,t,i,a,l={}){return Av(s,l,async()=>{let c={},d={};a&&(t==="GET"?d=a:c={body:JSON.stringify(a)});const p=Ul({key:s.config.apiKey,...d}).slice(1),v=await s._getAdditionalHeaders();v["Content-Type"]="application/json",s.languageCode&&(v["X-Firebase-Locale"]=s.languageCode);const _={method:t,headers:v,...c};return Ib()||(_.referrerPolicy="no-referrer"),s.emulatorConfig&&ro(s.emulatorConfig.host)&&(_.credentials="include"),Sv.fetch()(await wv(s,s.config.apiHost,i,p),_)})}async function Av(s,t,i){s._canInitEmulator=!1;const a={...nA,...t};try{const l=new aA(s),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Ec(s,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const p=c.ok?d.errorMessage:d.error.message,[v,_]=p.split(" : ");if(v==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ec(s,"credential-already-in-use",d);if(v==="EMAIL_EXISTS")throw Ec(s,"email-already-in-use",d);if(v==="USER_DISABLED")throw Ec(s,"user-disabled",d);const b=a[v]||v.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw pm(s,b,_);Pi(s,b)}}catch(l){if(l instanceof gr)throw l;Pi(s,"network-request-failed",{message:String(l)})}}async function sA(s,t,i,a,l={}){const c=await ao(s,t,i,a,l);return"mfaPendingCredential"in c&&Pi(s,"multi-factor-auth-required",{_serverResponse:c}),c}async function wv(s,t,i,a){const l=`${t}${i}?${a}`,c=s,d=c.config.emulator?_m(s.config,l):`${s.config.apiScheme}://${l}`;return iA.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class aA{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(ui(this.auth,"network-request-failed")),rA.get())})}}function Ec(s,t,i){const a={appName:s.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const l=ui(s,t,a);return l.customData._tokenResponse=i,l}async function oA(s,t){return ao(s,"POST","/v1/accounts:delete",t)}async function Qc(s,t){return ao(s,"POST","/v1/accounts:lookup",t)}function El(s){if(s)try{const t=new Date(Number(s));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function lA(s,t=!1){const i=Fn(s),a=await i.getIdToken(t),l=Tm(a);Tt(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:a,authTime:El(Vd(l.auth_time)),issuedAtTime:El(Vd(l.iat)),expirationTime:El(Vd(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Vd(s){return Number(s)*1e3}function Tm(s){const[t,i,a]=s.split(".");if(t===void 0||i===void 0||a===void 0)return Vc("JWT malformed, contained fewer than 3 sections"),null;try{const l=uv(i);return l?JSON.parse(l):(Vc("Failed to decode base64 JWT payload"),null)}catch(l){return Vc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function K_(s){const t=Tm(s);return Tt(t,"internal-error"),Tt(typeof t.exp<"u","internal-error"),Tt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function Il(s,t,i=!1){if(i)return t;try{return await t}catch(a){throw a instanceof gr&&uA(a)&&s.auth.currentUser===s&&await s.auth.signOut(),a}}function uA({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class cA{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Yd{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=El(this.lastLoginAt),this.creationTime=El(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Yc(s){const t=s.auth,i=await s.getIdToken(),a=await Il(s,Qc(t,{idToken:i}));Tt(a?.users.length,t,"internal-error");const l=a.users[0];s._notifyReloadListener(l);const c=l.providerUserInfo?.length?Rv(l.providerUserInfo):[],d=fA(s.providerData,c),p=s.isAnonymous,v=!(s.email&&l.passwordHash)&&!d?.length,_=p?v:!1,b={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new Yd(l.createdAt,l.lastLoginAt),isAnonymous:_};Object.assign(s,b)}async function hA(s){const t=Fn(s);await Yc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function fA(s,t){return[...s.filter(a=>!t.some(l=>l.providerId===a.providerId)),...t]}function Rv(s){return s.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function dA(s,t){const i=await Av(s,{},async()=>{const a=Ul({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:c}=s.config,d=await wv(s,l,"/v1/token",`key=${c}`),p=await s._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const v={method:"POST",headers:p,body:a};return s.emulatorConfig&&ro(s.emulatorConfig.host)&&(v.credentials="include"),Sv.fetch()(d,v)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function mA(s,t){return ao(s,"POST","/v2/accounts:revokeToken",vm(s,t))}class Ga{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Tt(t.idToken,"internal-error"),Tt(typeof t.idToken<"u","internal-error"),Tt(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):K_(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){Tt(t.length!==0,"internal-error");const i=K_(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(Tt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:a,refreshToken:l,expiresIn:c}=await dA(t,i);this.updateTokensAndExpiration(a,l,Number(c))}updateTokensAndExpiration(t,i,a){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(t,i){const{refreshToken:a,accessToken:l,expirationTime:c}=i,d=new Ga;return a&&(Tt(typeof a=="string","internal-error",{appName:t}),d.refreshToken=a),l&&(Tt(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),c&&(Tt(typeof c=="number","internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Ga,this.toJSON())}_performRefresh(){return lr("not implemented")}}function Qr(s,t){Tt(typeof s=="string"||typeof s>"u","internal-error",{appName:t})}class oi{constructor({uid:t,auth:i,stsTokenManager:a,...l}){this.providerId="firebase",this.proactiveRefresh=new cA(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Yd(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const i=await Il(this,this.stsTokenManager.getToken(this.auth,t));return Tt(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return lA(this,t)}reload(){return hA(this)}_assign(t){this!==t&&(Tt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new oi({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){Tt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let a=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),a=!0),i&&await Yc(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ai(this.auth.app))return Promise.reject(Hs(this.auth));const t=await this.getIdToken();return await Il(this,oA(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const a=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,p=i.tenantId??void 0,v=i._redirectEventId??void 0,_=i.createdAt??void 0,b=i.lastLoginAt??void 0,{uid:w,emailVerified:k,isAnonymous:X,providerData:it,stsTokenManager:rt}=i;Tt(w&&rt,t,"internal-error");const st=Ga.fromJSON(this.name,rt);Tt(typeof w=="string",t,"internal-error"),Qr(a,t.name),Qr(l,t.name),Tt(typeof k=="boolean",t,"internal-error"),Tt(typeof X=="boolean",t,"internal-error"),Qr(c,t.name),Qr(d,t.name),Qr(p,t.name),Qr(v,t.name),Qr(_,t.name),Qr(b,t.name);const ft=new oi({uid:w,auth:t,email:l,emailVerified:k,displayName:a,isAnonymous:X,photoURL:d,phoneNumber:c,tenantId:p,stsTokenManager:st,createdAt:_,lastLoginAt:b});return it&&Array.isArray(it)&&(ft.providerData=it.map(Et=>({...Et}))),v&&(ft._redirectEventId=v),ft}static async _fromIdTokenResponse(t,i,a=!1){const l=new Ga;l.updateFromServerResponse(i);const c=new oi({uid:i.localId,auth:t,stsTokenManager:l,isAnonymous:a});return await Yc(c),c}static async _fromGetAccountInfoResponse(t,i,a){const l=i.users[0];Tt(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?Rv(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,p=new Ga;p.updateFromIdToken(a);const v=new oi({uid:l.localId,auth:t,stsTokenManager:p,isAnonymous:d}),_={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new Yd(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(v,_),v}}const Q_=new Map;function ur(s){fr(s instanceof Function,"Expected a class definition");let t=Q_.get(s);return t?(fr(t instanceof s,"Instance stored in cache mismatched with class"),t):(t=new s,Q_.set(s,t),t)}class Cv{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}Cv.type="NONE";const Y_=Cv;function kc(s,t,i){return`firebase:${s}:${t}:${i}`}class Ka{constructor(t,i,a){this.persistence=t,this.auth=i,this.userKey=a;const{config:l,name:c}=this.auth;this.fullUserKey=kc(this.userKey,l.apiKey,c),this.fullPersistenceKey=kc("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await Qc(this.auth,{idToken:t}).catch(()=>{});return i?oi._fromGetAccountInfoResponse(this.auth,i,t):null}return oi._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,a="authUser"){if(!i.length)return new Ka(ur(Y_),t,a);const l=(await Promise.all(i.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let c=l[0]||ur(Y_);const d=kc(a,t.config.apiKey,t.name);let p=null;for(const _ of i)try{const b=await _._get(d);if(b){let w;if(typeof b=="string"){const k=await Qc(t,{idToken:b}).catch(()=>{});if(!k)break;w=await oi._fromGetAccountInfoResponse(t,k,b)}else w=oi._fromJSON(t,b);_!==c&&(p=w),c=_;break}}catch{}const v=l.filter(_=>_._shouldAllowMigration);return!c._shouldAllowMigration||!v.length?new Ka(c,t,a):(c=v[0],p&&await c._set(d,p.toJSON()),await Promise.all(i.map(async _=>{if(_!==c)try{await _._remove(d)}catch{}})),new Ka(c,t,a))}}function X_(s){const t=s.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Mv(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Iv(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Nv(t))return"Blackberry";if(Vv(t))return"Webos";if(xv(t))return"Safari";if((t.includes("chrome/")||Dv(t))&&!t.includes("edge/"))return"Chrome";if(Ov(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=s.match(i);if(a?.length===2)return a[1]}return"Other"}function Iv(s=on()){return/firefox\//i.test(s)}function xv(s=on()){const t=s.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Dv(s=on()){return/crios\//i.test(s)}function Mv(s=on()){return/iemobile/i.test(s)}function Ov(s=on()){return/android/i.test(s)}function Nv(s=on()){return/blackberry/i.test(s)}function Vv(s=on()){return/webos/i.test(s)}function Em(s=on()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function gA(s=on()){return Em(s)&&!!window.navigator?.standalone}function pA(){return Mb()&&document.documentMode===10}function kv(s=on()){return Em(s)||Ov(s)||Vv(s)||Nv(s)||/windows phone/i.test(s)||Mv(s)}function Lv(s,t=[]){let i;switch(s){case"Browser":i=X_(on());break;case"Worker":i=`${X_(on())}-${s}`;break;default:i=s}const a=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${so}/${a}`}class yA{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const a=c=>new Promise((d,p)=>{try{const v=t(c);d(v)}catch(v){p(v)}});a.onAbort=i,this.queue.push(a);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const a of this.queue)await a(t),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function _A(s,t={}){return ao(s,"GET","/v2/passwordPolicy",vm(s,t))}const vA=6;class TA{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??vA,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const a=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=t.length>=a),l&&(i.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let l=0;l<t.length;l++)a=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(t,i,a,l,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}class EA{constructor(t,i,a,l){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new W_(this),this.idTokenSubscription=new W_(this),this.beforeStateQueue=new yA(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=bv,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=ur(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Ka.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await Qc(this,{idToken:t}),a=await oi._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(ai(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=a?._redirectEventId,p=await this.tryRedirectSignIn(t);(!c||c===d)&&p?.user&&(a=p.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return Tt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await Yc(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=eA()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(ai(this.app))return Promise.reject(Hs(this));const i=t?Fn(t):null;return i&&Tt(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&Tt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return ai(this.app)?Promise.reject(Hs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return ai(this.app)?Promise.reject(Hs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ur(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await _A(this),i=new TA(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Pl("auth","Firebase",t())}onAuthStateChanged(t,i,a){return this.registerStateListener(this.authStateSubscription,t,i,a)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,a){return this.registerStateListener(this.idTokenSubscription,t,i,a)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const a=this.onAuthStateChanged(()=>{a(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await mA(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const a=await this.getOrInitRedirectPersistenceManager(i);return t===null?a.removeCurrentUser():a.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&ur(t)||this._popupRedirectResolver;Tt(i,this,"argument-error"),this.redirectPersistenceManager=await Ka.create(this,[ur(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,a,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(Tt(p,this,"internal-error"),p.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const v=t.addObserver(i,a,l);return()=>{d=!0,v()}}else{const v=t.addObserver(i);return()=>{d=!0,v()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Tt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=Lv(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){if(ai(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&JS(`Error while retrieving App Check token: ${t.error}`),t?.token}}function hh(s){return Fn(s)}class W_{constructor(t){this.auth=t,this.observer=null,this.addObserver=zb(i=>this.observer=i)}get next(){return Tt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let bm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function bA(s){bm=s}function SA(s){return bm.loadJS(s)}function AA(){return bm.gapiScript}function wA(s){return`__${s}${Math.floor(Math.random()*1e6)}`}function RA(s,t){const i=gm(s,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(Gs(c,t??{}))return l;Pi(l,"already-initialized")}return i.initialize({options:t})}function CA(s,t){const i=t?.persistence||[],a=(Array.isArray(i)?i:[i]).map(ur);t?.errorMap&&s._updateErrorMap(t.errorMap),s._initializeWithPersistence(a,t?.popupRedirectResolver)}function IA(s,t,i){const a=hh(s);Tt(/^https?:\/\//.test(t),a,"invalid-emulator-scheme");const l=!1,c=Pv(t),{host:d,port:p}=xA(t),v=p===null?"":`:${p}`,_={url:`${c}//${d}${v}/`},b=Object.freeze({host:d,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!a._canInitEmulator){Tt(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),Tt(Gs(_,a.config.emulator)&&Gs(b,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=_,a.emulatorConfig=b,a.settings.appVerificationDisabledForTesting=!0,ro(d)?(dv(`${c}//${d}${v}`),mv("Auth",!0)):DA()}function Pv(s){const t=s.indexOf(":");return t<0?"":s.substr(0,t+1)}function xA(s){const t=Pv(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(t.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(a);if(l){const c=l[1];return{host:c,port:J_(a.substr(c.length+1))}}else{const[c,d]=a.split(":");return{host:c,port:J_(d)}}}function J_(s){if(!s)return null;const t=Number(s);return isNaN(t)?null:t}function DA(){function s(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class Uv{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return lr("not implemented")}_getIdTokenResponse(t){return lr("not implemented")}_linkToIdToken(t,i){return lr("not implemented")}_getReauthenticationResolver(t){return lr("not implemented")}}async function Qa(s,t){return sA(s,"POST","/v1/accounts:signInWithIdp",vm(s,t))}const MA="http://localhost";class Qs extends Uv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new Qs(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):Pi("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:a,signInMethod:l,...c}=i;if(!a||!l)return null;const d=new Qs(a,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return Qa(t,i)}_linkToIdToken(t,i){const a=this.buildRequest();return a.idToken=i,Qa(t,a)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,Qa(t,i)}buildRequest(){const t={requestUri:MA,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=Ul(i)}return t}}class Sm{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class jl extends Sm{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class Yr extends jl{constructor(){super("facebook.com")}static credential(t){return Qs._fromParams({providerId:Yr.PROVIDER_ID,signInMethod:Yr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Yr.credentialFromTaggedObject(t)}static credentialFromError(t){return Yr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Yr.credential(t.oauthAccessToken)}catch{return null}}}Yr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Yr.PROVIDER_ID="facebook.com";class or extends jl{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return Qs._fromParams({providerId:or.PROVIDER_ID,signInMethod:or.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return or.credentialFromTaggedObject(t)}static credentialFromError(t){return or.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:a}=t;if(!i&&!a)return null;try{return or.credential(i,a)}catch{return null}}}or.GOOGLE_SIGN_IN_METHOD="google.com";or.PROVIDER_ID="google.com";class Xr extends jl{constructor(){super("github.com")}static credential(t){return Qs._fromParams({providerId:Xr.PROVIDER_ID,signInMethod:Xr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Xr.credentialFromTaggedObject(t)}static credentialFromError(t){return Xr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Xr.credential(t.oauthAccessToken)}catch{return null}}}Xr.GITHUB_SIGN_IN_METHOD="github.com";Xr.PROVIDER_ID="github.com";class Wr extends jl{constructor(){super("twitter.com")}static credential(t,i){return Qs._fromParams({providerId:Wr.PROVIDER_ID,signInMethod:Wr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return Wr.credentialFromTaggedObject(t)}static credentialFromError(t){return Wr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=t;if(!i||!a)return null;try{return Wr.credential(i,a)}catch{return null}}}Wr.TWITTER_SIGN_IN_METHOD="twitter.com";Wr.PROVIDER_ID="twitter.com";class Ja{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,a,l=!1){const c=await oi._fromIdTokenResponse(t,a,l),d=Z_(a);return new Ja({user:c,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(t,i,a){await t._updateTokensIfNecessary(a,!0);const l=Z_(a);return new Ja({user:t,providerId:l,_tokenResponse:a,operationType:i})}}function Z_(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}class Xc extends gr{constructor(t,i,a,l){super(i.code,i.message),this.operationType=a,this.user=l,Object.setPrototypeOf(this,Xc.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(t,i,a,l){return new Xc(t,i,a,l)}}function zv(s,t,i,a){return(t==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Xc._fromErrorAndOperation(s,c,t,a):c})}async function OA(s,t,i=!1){const a=await Il(s,t._linkToIdToken(s.auth,await s.getIdToken()),i);return Ja._forOperation(s,"link",a)}async function NA(s,t,i=!1){const{auth:a}=s;if(ai(a.app))return Promise.reject(Hs(a));const l="reauthenticate";try{const c=await Il(s,zv(a,l,t,s),i);Tt(c.idToken,a,"internal-error");const d=Tm(c.idToken);Tt(d,a,"internal-error");const{sub:p}=d;return Tt(s.uid===p,a,"user-mismatch"),Ja._forOperation(s,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&Pi(a,"user-mismatch"),c}}async function VA(s,t,i=!1){if(ai(s.app))return Promise.reject(Hs(s));const a="signIn",l=await zv(s,a,t),c=await Ja._fromIdTokenResponse(s,a,l);return i||await s._updateCurrentUser(c.user),c}function kA(s,t,i,a){return Fn(s).onIdTokenChanged(t,i,a)}function LA(s,t,i){return Fn(s).beforeAuthStateChanged(t,i)}function PA(s,t,i,a){return Fn(s).onAuthStateChanged(t,i,a)}function UA(s){return Fn(s).signOut()}const Wc="__sak";class jv{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(Wc,"1"),this.storage.removeItem(Wc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const zA=1e3,jA=10;class Bv extends jv{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=kv(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),l=this.localCache[i];a!==l&&t(i,l,a)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,p,v)=>{this.notifyListeners(d,v)});return}const a=t.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},c=this.storage.getItem(a);pA()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,jA):l()}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:a}),!0)})},zA)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}Bv.type="LOCAL";const BA=Bv;class qv extends jv{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}qv.type="SESSION";const Hv=qv;function qA(s){return Promise.all(s.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}class fh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(l=>l.isListeningto(t));if(i)return i;const a=new fh(t);return this.receivers.push(a),a}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:a,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:l});const p=Array.from(d).map(async _=>_(i.origin,c)),v=await qA(p);i.ports[0].postMessage({status:"done",eventId:a,eventType:l,response:v})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}fh.receivers=[];function Am(s="",t=10){let i="";for(let a=0;a<t;a++)i+=Math.floor(Math.random()*10);return s+i}class HA{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,a=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((p,v)=>{const _=Am("",20);l.port1.start();const b=setTimeout(()=>{v(new Error("unsupported_event"))},a);d={messageChannel:l,onMessage(w){const k=w;if(k.data.eventId===_)switch(k.data.status){case"ack":clearTimeout(b),c=setTimeout(()=>{v(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(k.data.response);break;default:clearTimeout(b),clearTimeout(c),v(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:_,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Ni(){return window}function FA(s){Ni().location.href=s}function Fv(){return typeof Ni().WorkerGlobalScope<"u"&&typeof Ni().importScripts=="function"}async function GA(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function KA(){return navigator?.serviceWorker?.controller||null}function QA(){return Fv()?self:null}const Gv="firebaseLocalStorageDb",YA=1,Jc="firebaseLocalStorage",Kv="fbase_key";class Bl{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function dh(s,t){return s.transaction([Jc],t?"readwrite":"readonly").objectStore(Jc)}function XA(){const s=indexedDB.deleteDatabase(Gv);return new Bl(s).toPromise()}function Xd(){const s=indexedDB.open(Gv,YA);return new Promise((t,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const a=s.result;try{a.createObjectStore(Jc,{keyPath:Kv})}catch(l){i(l)}}),s.addEventListener("success",async()=>{const a=s.result;a.objectStoreNames.contains(Jc)?t(a):(a.close(),await XA(),t(await Xd()))})})}async function $_(s,t,i){const a=dh(s,!0).put({[Kv]:t,value:i});return new Bl(a).toPromise()}async function WA(s,t){const i=dh(s,!1).get(t),a=await new Bl(i).toPromise();return a===void 0?null:a.value}function t0(s,t){const i=dh(s,!0).delete(t);return new Bl(i).toPromise()}const JA=800,ZA=3;class Qv{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Xd(),this.db)}async _withRetries(t){let i=0;for(;;)try{const a=await this._openDb();return await t(a)}catch(a){if(i++>ZA)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Fv()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=fh._getInstance(QA()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await GA(),!this.activeServiceWorker)return;this.sender=new HA(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||KA()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Xd();return await $_(t,Wc,"1"),await t0(t,Wc),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>$_(a,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(a=>WA(a,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>t0(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const c=dh(l,!1).getAll();return new Bl(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(t.length!==0)for(const{fbase_key:l,value:c}of t)a.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!a.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),JA)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Qv.type="LOCAL";const $A=Qv;new zl(3e4,6e4);function Yv(s,t){return t?ur(t):(Tt(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class wm extends Uv{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Qa(t,this._buildIdpRequest())}_linkToIdToken(t,i){return Qa(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return Qa(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function t2(s){return VA(s.auth,new wm(s),s.bypassAuthState)}function e2(s){const{auth:t,user:i}=s;return Tt(i,t,"internal-error"),NA(i,new wm(s),s.bypassAuthState)}async function n2(s){const{auth:t,user:i}=s;return Tt(i,t,"internal-error"),OA(i,new wm(s),s.bypassAuthState)}class Xv{constructor(t,i,a,l,c=!1){this.auth=t,this.resolver=a,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:a,postBody:l,tenantId:c,error:d,type:p}=t;if(d){this.reject(d);return}const v={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(v))}catch(_){this.reject(_)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return t2;case"linkViaPopup":case"linkViaRedirect":return n2;case"reauthViaPopup":case"reauthViaRedirect":return e2;default:Pi(this.auth,"internal-error")}}resolve(t){fr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){fr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const i2=new zl(2e3,1e4);async function r2(s,t,i){if(ai(s.app))return Promise.reject(ui(s,"operation-not-supported-in-this-environment"));const a=hh(s);ZS(s,t,Sm);const l=Yv(a,i);return new Bs(a,"signInViaPopup",t,l).executeNotNull()}class Bs extends Xv{constructor(t,i,a,l,c){super(t,i,l,c),this.provider=a,this.authWindow=null,this.pollId=null,Bs.currentPopupAction&&Bs.currentPopupAction.cancel(),Bs.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Tt(t,this.auth,"internal-error"),t}async onExecution(){fr(this.filter.length===1,"Popup operations only handle one event");const t=Am();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(ui(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(ui(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Bs.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ui(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,i2.get())};t()}}Bs.currentPopupAction=null;const s2="pendingRedirect",Lc=new Map;class a2 extends Xv{constructor(t,i,a=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let t=Lc.get(this.auth._key());if(!t){try{const a=await o2(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(a)}catch(i){t=()=>Promise.reject(i)}Lc.set(this.auth._key(),t)}return this.bypassAuthState||Lc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function o2(s,t){const i=c2(t),a=u2(s);if(!await a._isAvailable())return!1;const l=await a._get(i)==="true";return await a._remove(i),l}function l2(s,t){Lc.set(s._key(),t)}function u2(s){return ur(s._redirectPersistence)}function c2(s){return kc(s2,s.config.apiKey,s.name)}async function h2(s,t,i=!1){if(ai(s.app))return Promise.reject(Hs(s));const a=hh(s),l=Yv(a,t),d=await new a2(a,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,t)),d}const f2=600*1e3;class d2{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(t,a)&&(i=!0,this.sendToConsumer(t,a),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!m2(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!Wv(t)){const a=t.error.code?.split("auth/")[1]||"internal-error";i.onError(ui(this.auth,a))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const a=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&a}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=f2&&this.cachedEventUids.clear(),this.cachedEventUids.has(e0(t))}saveEventToCache(t){this.cachedEventUids.add(e0(t)),this.lastProcessedEventTime=Date.now()}}function e0(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(t=>t).join("-")}function Wv({type:s,error:t}){return s==="unknown"&&t?.code==="auth/no-auth-event"}function m2(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Wv(s);default:return!1}}async function g2(s,t={}){return ao(s,"GET","/v1/projects",t)}const p2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,y2=/^https?/;async function _2(s){if(s.config.emulator)return;const{authorizedDomains:t}=await g2(s);for(const i of t)try{if(v2(i))return}catch{}Pi(s,"unauthorized-domain")}function v2(s){const t=Qd(),{protocol:i,hostname:a}=new URL(t);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&a===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!y2.test(i))return!1;if(p2.test(s))return a===s;const l=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(a)}const T2=new zl(3e4,6e4);function n0(){const s=Ni().___jsl;if(s?.H){for(const t of Object.keys(s.H))if(s.H[t].r=s.H[t].r||[],s.H[t].L=s.H[t].L||[],s.H[t].r=[...s.H[t].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function E2(s){return new Promise((t,i)=>{function a(){n0(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{n0(),i(ui(s,"network-request-failed"))},timeout:T2.get()})}if(Ni().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Ni().gapi?.load)a();else{const l=wA("iframefcb");return Ni()[l]=()=>{gapi.load?a():i(ui(s,"network-request-failed"))},SA(`${AA()}?onload=${l}`).catch(c=>i(c))}}).catch(t=>{throw Pc=null,t})}let Pc=null;function b2(s){return Pc=Pc||E2(s),Pc}const S2=new zl(5e3,15e3),A2="__/auth/iframe",w2="emulator/auth/iframe",R2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},C2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function I2(s){const t=s.config;Tt(t.authDomain,s,"auth-domain-config-required");const i=t.emulator?_m(t,w2):`https://${s.config.authDomain}/${A2}`,a={apiKey:t.apiKey,appName:s.name,v:so},l=C2.get(s.config.apiHost);l&&(a.eid=l);const c=s._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${Ul(a).slice(1)}`}async function x2(s){const t=await b2(s),i=Ni().gapi;return Tt(i,s,"internal-error"),t.open({where:document.body,url:I2(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:R2,dontclear:!0},a=>new Promise(async(l,c)=>{await a.restyle({setHideOnLeave:!1});const d=ui(s,"network-request-failed"),p=Ni().setTimeout(()=>{c(d)},S2.get());function v(){Ni().clearTimeout(p),l(a)}a.ping(v).then(v,()=>{c(d)})}))}const D2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},M2=500,O2=600,N2="_blank",V2="http://localhost";class i0{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function k2(s,t,i,a=M2,l=O2){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let p="";const v={...D2,width:a.toString(),height:l.toString(),top:c,left:d},_=on().toLowerCase();i&&(p=Dv(_)?N2:i),Iv(_)&&(t=t||V2,v.scrollbars="yes");const b=Object.entries(v).reduce((k,[X,it])=>`${k}${X}=${it},`,"");if(gA(_)&&p!=="_self")return L2(t||"",p),new i0(null);const w=window.open(t||"",p,b);Tt(w,s,"popup-blocked");try{w.focus()}catch{}return new i0(w)}function L2(s,t){const i=document.createElement("a");i.href=s,i.target=t;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}const P2="__/auth/handler",U2="emulator/auth/handler",z2=encodeURIComponent("fac");async function r0(s,t,i,a,l,c){Tt(s.config.authDomain,s,"auth-domain-config-required"),Tt(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:a,v:so,eventId:l};if(t instanceof Sm){t.setDefaultLanguage(s.languageCode),d.providerId=t.providerId||"",Ub(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[b,w]of Object.entries({}))d[b]=w}if(t instanceof jl){const b=t.getScopes().filter(w=>w!=="");b.length>0&&(d.scopes=b.join(","))}s.tenantId&&(d.tid=s.tenantId);const p=d;for(const b of Object.keys(p))p[b]===void 0&&delete p[b];const v=await s._getAppCheckToken(),_=v?`#${z2}=${encodeURIComponent(v)}`:"";return`${j2(s)}?${Ul(p).slice(1)}${_}`}function j2({config:s}){return s.emulator?_m(s,U2):`https://${s.authDomain}/${P2}`}const kd="webStorageSupport";class B2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Hv,this._completeRedirectFn=h2,this._overrideRedirectResult=l2}async _openPopup(t,i,a,l){fr(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const c=await r0(t,i,a,Qd(),l);return k2(t,c,Am())}async _openRedirect(t,i,a,l){await this._originValidation(t);const c=await r0(t,i,a,Qd(),l);return FA(c),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(fr(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(t);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(t){const i=await x2(t),a=new d2(t);return i.register("authEvent",l=>(Tt(l?.authEvent,t,"invalid-auth-event"),{status:a.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:a},this.iframes[t._key()]=i,a}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(kd,{type:kd},l=>{const c=l?.[0]?.[kd];c!==void 0&&i(!!c),Pi(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=_2(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return kv()||xv()||Em()}}const q2=B2;var s0="@firebase/auth",a0="1.12.0";class H2{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(a=>{t(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){Tt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function F2(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function G2(s){Wa(new Ks("auth",(t,{options:i})=>{const a=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=a.options;Tt(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const v={apiKey:d,authDomain:p,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Lv(s)},_=new EA(a,l,c,v);return CA(_,i),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,a)=>{t.getProvider("auth-internal").initialize()})),Wa(new Ks("auth-internal",t=>{const i=hh(t.getProvider("auth").getImmediate());return(a=>new H2(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),ts(s0,a0,F2(s)),ts(s0,a0,"esm2020")}const K2=300,Q2=fv("authIdTokenMaxAge")||K2;let o0=null;const Y2=s=>async t=>{const i=t&&await t.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>Q2)return;const l=i?.token;o0!==l&&(o0=l,await fetch(s,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function X2(s=_v()){const t=gm(s,"auth");if(t.isInitialized())return t.getImmediate();const i=RA(s,{popupRedirectResolver:q2,persistence:[$A,BA,Hv]}),a=fv("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const d=Y2(c.toString());LA(i,d,()=>d(i.currentUser)),kA(i,p=>d(p))}}const l=cv("auth");return l&&IA(i,`http://${l}`),i}function W2(){return document.getElementsByTagName("head")?.[0]??document}bA({loadJS(s){return new Promise((t,i)=>{const a=document.createElement("script");a.setAttribute("src",s),a.onload=t,a.onerror=l=>{const c=ui("internal-error");c.customData=l,i(c)},a.type="text/javascript",a.charset="UTF-8",W2().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});G2("Browser");var l0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var es,Jv;(function(){var s;function t(I,A){function x(){}x.prototype=A.prototype,I.F=A.prototype,I.prototype=new x,I.prototype.constructor=I,I.D=function(V,N,P){for(var R=Array(arguments.length-2),ee=2;ee<arguments.length;ee++)R[ee-2]=arguments[ee];return A.prototype[N].apply(V,R)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(I,A,x){x||(x=0);const V=Array(16);if(typeof A=="string")for(var N=0;N<16;++N)V[N]=A.charCodeAt(x++)|A.charCodeAt(x++)<<8|A.charCodeAt(x++)<<16|A.charCodeAt(x++)<<24;else for(N=0;N<16;++N)V[N]=A[x++]|A[x++]<<8|A[x++]<<16|A[x++]<<24;A=I.g[0],x=I.g[1],N=I.g[2];let P=I.g[3],R;R=A+(P^x&(N^P))+V[0]+3614090360&4294967295,A=x+(R<<7&4294967295|R>>>25),R=P+(N^A&(x^N))+V[1]+3905402710&4294967295,P=A+(R<<12&4294967295|R>>>20),R=N+(x^P&(A^x))+V[2]+606105819&4294967295,N=P+(R<<17&4294967295|R>>>15),R=x+(A^N&(P^A))+V[3]+3250441966&4294967295,x=N+(R<<22&4294967295|R>>>10),R=A+(P^x&(N^P))+V[4]+4118548399&4294967295,A=x+(R<<7&4294967295|R>>>25),R=P+(N^A&(x^N))+V[5]+1200080426&4294967295,P=A+(R<<12&4294967295|R>>>20),R=N+(x^P&(A^x))+V[6]+2821735955&4294967295,N=P+(R<<17&4294967295|R>>>15),R=x+(A^N&(P^A))+V[7]+4249261313&4294967295,x=N+(R<<22&4294967295|R>>>10),R=A+(P^x&(N^P))+V[8]+1770035416&4294967295,A=x+(R<<7&4294967295|R>>>25),R=P+(N^A&(x^N))+V[9]+2336552879&4294967295,P=A+(R<<12&4294967295|R>>>20),R=N+(x^P&(A^x))+V[10]+4294925233&4294967295,N=P+(R<<17&4294967295|R>>>15),R=x+(A^N&(P^A))+V[11]+2304563134&4294967295,x=N+(R<<22&4294967295|R>>>10),R=A+(P^x&(N^P))+V[12]+1804603682&4294967295,A=x+(R<<7&4294967295|R>>>25),R=P+(N^A&(x^N))+V[13]+4254626195&4294967295,P=A+(R<<12&4294967295|R>>>20),R=N+(x^P&(A^x))+V[14]+2792965006&4294967295,N=P+(R<<17&4294967295|R>>>15),R=x+(A^N&(P^A))+V[15]+1236535329&4294967295,x=N+(R<<22&4294967295|R>>>10),R=A+(N^P&(x^N))+V[1]+4129170786&4294967295,A=x+(R<<5&4294967295|R>>>27),R=P+(x^N&(A^x))+V[6]+3225465664&4294967295,P=A+(R<<9&4294967295|R>>>23),R=N+(A^x&(P^A))+V[11]+643717713&4294967295,N=P+(R<<14&4294967295|R>>>18),R=x+(P^A&(N^P))+V[0]+3921069994&4294967295,x=N+(R<<20&4294967295|R>>>12),R=A+(N^P&(x^N))+V[5]+3593408605&4294967295,A=x+(R<<5&4294967295|R>>>27),R=P+(x^N&(A^x))+V[10]+38016083&4294967295,P=A+(R<<9&4294967295|R>>>23),R=N+(A^x&(P^A))+V[15]+3634488961&4294967295,N=P+(R<<14&4294967295|R>>>18),R=x+(P^A&(N^P))+V[4]+3889429448&4294967295,x=N+(R<<20&4294967295|R>>>12),R=A+(N^P&(x^N))+V[9]+568446438&4294967295,A=x+(R<<5&4294967295|R>>>27),R=P+(x^N&(A^x))+V[14]+3275163606&4294967295,P=A+(R<<9&4294967295|R>>>23),R=N+(A^x&(P^A))+V[3]+4107603335&4294967295,N=P+(R<<14&4294967295|R>>>18),R=x+(P^A&(N^P))+V[8]+1163531501&4294967295,x=N+(R<<20&4294967295|R>>>12),R=A+(N^P&(x^N))+V[13]+2850285829&4294967295,A=x+(R<<5&4294967295|R>>>27),R=P+(x^N&(A^x))+V[2]+4243563512&4294967295,P=A+(R<<9&4294967295|R>>>23),R=N+(A^x&(P^A))+V[7]+1735328473&4294967295,N=P+(R<<14&4294967295|R>>>18),R=x+(P^A&(N^P))+V[12]+2368359562&4294967295,x=N+(R<<20&4294967295|R>>>12),R=A+(x^N^P)+V[5]+4294588738&4294967295,A=x+(R<<4&4294967295|R>>>28),R=P+(A^x^N)+V[8]+2272392833&4294967295,P=A+(R<<11&4294967295|R>>>21),R=N+(P^A^x)+V[11]+1839030562&4294967295,N=P+(R<<16&4294967295|R>>>16),R=x+(N^P^A)+V[14]+4259657740&4294967295,x=N+(R<<23&4294967295|R>>>9),R=A+(x^N^P)+V[1]+2763975236&4294967295,A=x+(R<<4&4294967295|R>>>28),R=P+(A^x^N)+V[4]+1272893353&4294967295,P=A+(R<<11&4294967295|R>>>21),R=N+(P^A^x)+V[7]+4139469664&4294967295,N=P+(R<<16&4294967295|R>>>16),R=x+(N^P^A)+V[10]+3200236656&4294967295,x=N+(R<<23&4294967295|R>>>9),R=A+(x^N^P)+V[13]+681279174&4294967295,A=x+(R<<4&4294967295|R>>>28),R=P+(A^x^N)+V[0]+3936430074&4294967295,P=A+(R<<11&4294967295|R>>>21),R=N+(P^A^x)+V[3]+3572445317&4294967295,N=P+(R<<16&4294967295|R>>>16),R=x+(N^P^A)+V[6]+76029189&4294967295,x=N+(R<<23&4294967295|R>>>9),R=A+(x^N^P)+V[9]+3654602809&4294967295,A=x+(R<<4&4294967295|R>>>28),R=P+(A^x^N)+V[12]+3873151461&4294967295,P=A+(R<<11&4294967295|R>>>21),R=N+(P^A^x)+V[15]+530742520&4294967295,N=P+(R<<16&4294967295|R>>>16),R=x+(N^P^A)+V[2]+3299628645&4294967295,x=N+(R<<23&4294967295|R>>>9),R=A+(N^(x|~P))+V[0]+4096336452&4294967295,A=x+(R<<6&4294967295|R>>>26),R=P+(x^(A|~N))+V[7]+1126891415&4294967295,P=A+(R<<10&4294967295|R>>>22),R=N+(A^(P|~x))+V[14]+2878612391&4294967295,N=P+(R<<15&4294967295|R>>>17),R=x+(P^(N|~A))+V[5]+4237533241&4294967295,x=N+(R<<21&4294967295|R>>>11),R=A+(N^(x|~P))+V[12]+1700485571&4294967295,A=x+(R<<6&4294967295|R>>>26),R=P+(x^(A|~N))+V[3]+2399980690&4294967295,P=A+(R<<10&4294967295|R>>>22),R=N+(A^(P|~x))+V[10]+4293915773&4294967295,N=P+(R<<15&4294967295|R>>>17),R=x+(P^(N|~A))+V[1]+2240044497&4294967295,x=N+(R<<21&4294967295|R>>>11),R=A+(N^(x|~P))+V[8]+1873313359&4294967295,A=x+(R<<6&4294967295|R>>>26),R=P+(x^(A|~N))+V[15]+4264355552&4294967295,P=A+(R<<10&4294967295|R>>>22),R=N+(A^(P|~x))+V[6]+2734768916&4294967295,N=P+(R<<15&4294967295|R>>>17),R=x+(P^(N|~A))+V[13]+1309151649&4294967295,x=N+(R<<21&4294967295|R>>>11),R=A+(N^(x|~P))+V[4]+4149444226&4294967295,A=x+(R<<6&4294967295|R>>>26),R=P+(x^(A|~N))+V[11]+3174756917&4294967295,P=A+(R<<10&4294967295|R>>>22),R=N+(A^(P|~x))+V[2]+718787259&4294967295,N=P+(R<<15&4294967295|R>>>17),R=x+(P^(N|~A))+V[9]+3951481745&4294967295,I.g[0]=I.g[0]+A&4294967295,I.g[1]=I.g[1]+(N+(R<<21&4294967295|R>>>11))&4294967295,I.g[2]=I.g[2]+N&4294967295,I.g[3]=I.g[3]+P&4294967295}a.prototype.v=function(I,A){A===void 0&&(A=I.length);const x=A-this.blockSize,V=this.C;let N=this.h,P=0;for(;P<A;){if(N==0)for(;P<=x;)l(this,I,P),P+=this.blockSize;if(typeof I=="string"){for(;P<A;)if(V[N++]=I.charCodeAt(P++),N==this.blockSize){l(this,V),N=0;break}}else for(;P<A;)if(V[N++]=I[P++],N==this.blockSize){l(this,V),N=0;break}}this.h=N,this.o+=A},a.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var A=1;A<I.length-8;++A)I[A]=0;A=this.o*8;for(var x=I.length-8;x<I.length;++x)I[x]=A&255,A/=256;for(this.v(I),I=Array(16),A=0,x=0;x<4;++x)for(let V=0;V<32;V+=8)I[A++]=this.g[x]>>>V&255;return I};function c(I,A){var x=p;return Object.prototype.hasOwnProperty.call(x,I)?x[I]:x[I]=A(I)}function d(I,A){this.h=A;const x=[];let V=!0;for(let N=I.length-1;N>=0;N--){const P=I[N]|0;V&&P==A||(x[N]=P,V=!1)}this.g=x}var p={};function v(I){return-128<=I&&I<128?c(I,function(A){return new d([A|0],A<0?-1:0)}):new d([I|0],I<0?-1:0)}function _(I){if(isNaN(I)||!isFinite(I))return w;if(I<0)return st(_(-I));const A=[];let x=1;for(let V=0;I>=x;V++)A[V]=I/x|0,x*=4294967296;return new d(A,0)}function b(I,A){if(I.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(I.charAt(0)=="-")return st(b(I.substring(1),A));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const x=_(Math.pow(A,8));let V=w;for(let P=0;P<I.length;P+=8){var N=Math.min(8,I.length-P);const R=parseInt(I.substring(P,P+N),A);N<8?(N=_(Math.pow(A,N)),V=V.j(N).add(_(R))):(V=V.j(x),V=V.add(_(R)))}return V}var w=v(0),k=v(1),X=v(16777216);s=d.prototype,s.m=function(){if(rt(this))return-st(this).m();let I=0,A=1;for(let x=0;x<this.g.length;x++){const V=this.i(x);I+=(V>=0?V:4294967296+V)*A,A*=4294967296}return I},s.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(it(this))return"0";if(rt(this))return"-"+st(this).toString(I);const A=_(Math.pow(I,6));var x=this;let V="";for(;;){const N=Bt(x,A).g;x=ft(x,N.j(A));let P=((x.g.length>0?x.g[0]:x.h)>>>0).toString(I);if(x=N,it(x))return P+V;for(;P.length<6;)P="0"+P;V=P+V}},s.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function it(I){if(I.h!=0)return!1;for(let A=0;A<I.g.length;A++)if(I.g[A]!=0)return!1;return!0}function rt(I){return I.h==-1}s.l=function(I){return I=ft(this,I),rt(I)?-1:it(I)?0:1};function st(I){const A=I.g.length,x=[];for(let V=0;V<A;V++)x[V]=~I.g[V];return new d(x,~I.h).add(k)}s.abs=function(){return rt(this)?st(this):this},s.add=function(I){const A=Math.max(this.g.length,I.g.length),x=[];let V=0;for(let N=0;N<=A;N++){let P=V+(this.i(N)&65535)+(I.i(N)&65535),R=(P>>>16)+(this.i(N)>>>16)+(I.i(N)>>>16);V=R>>>16,P&=65535,R&=65535,x[N]=R<<16|P}return new d(x,x[x.length-1]&-2147483648?-1:0)};function ft(I,A){return I.add(st(A))}s.j=function(I){if(it(this)||it(I))return w;if(rt(this))return rt(I)?st(this).j(st(I)):st(st(this).j(I));if(rt(I))return st(this.j(st(I)));if(this.l(X)<0&&I.l(X)<0)return _(this.m()*I.m());const A=this.g.length+I.g.length,x=[];for(var V=0;V<2*A;V++)x[V]=0;for(V=0;V<this.g.length;V++)for(let N=0;N<I.g.length;N++){const P=this.i(V)>>>16,R=this.i(V)&65535,ee=I.i(N)>>>16,fe=I.i(N)&65535;x[2*V+2*N]+=R*fe,Et(x,2*V+2*N),x[2*V+2*N+1]+=P*fe,Et(x,2*V+2*N+1),x[2*V+2*N+1]+=R*ee,Et(x,2*V+2*N+1),x[2*V+2*N+2]+=P*ee,Et(x,2*V+2*N+2)}for(I=0;I<A;I++)x[I]=x[2*I+1]<<16|x[2*I];for(I=A;I<2*A;I++)x[I]=0;return new d(x,0)};function Et(I,A){for(;(I[A]&65535)!=I[A];)I[A+1]+=I[A]>>>16,I[A]&=65535,A++}function gt(I,A){this.g=I,this.h=A}function Bt(I,A){if(it(A))throw Error("division by zero");if(it(I))return new gt(w,w);if(rt(I))return A=Bt(st(I),A),new gt(st(A.g),st(A.h));if(rt(A))return A=Bt(I,st(A)),new gt(st(A.g),A.h);if(I.g.length>30){if(rt(I)||rt(A))throw Error("slowDivide_ only works with positive integers.");for(var x=k,V=A;V.l(I)<=0;)x=Jt(x),V=Jt(V);var N=Rt(x,1),P=Rt(V,1);for(V=Rt(V,2),x=Rt(x,2);!it(V);){var R=P.add(V);R.l(I)<=0&&(N=N.add(x),P=R),V=Rt(V,1),x=Rt(x,1)}return A=ft(I,N.j(A)),new gt(N,A)}for(N=w;I.l(A)>=0;){for(x=Math.max(1,Math.floor(I.m()/A.m())),V=Math.ceil(Math.log(x)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),P=_(x),R=P.j(A);rt(R)||R.l(I)>0;)x-=V,P=_(x),R=P.j(A);it(P)&&(P=k),N=N.add(P),I=ft(I,R)}return new gt(N,I)}s.B=function(I){return Bt(this,I).h},s.and=function(I){const A=Math.max(this.g.length,I.g.length),x=[];for(let V=0;V<A;V++)x[V]=this.i(V)&I.i(V);return new d(x,this.h&I.h)},s.or=function(I){const A=Math.max(this.g.length,I.g.length),x=[];for(let V=0;V<A;V++)x[V]=this.i(V)|I.i(V);return new d(x,this.h|I.h)},s.xor=function(I){const A=Math.max(this.g.length,I.g.length),x=[];for(let V=0;V<A;V++)x[V]=this.i(V)^I.i(V);return new d(x,this.h^I.h)};function Jt(I){const A=I.g.length+1,x=[];for(let V=0;V<A;V++)x[V]=I.i(V)<<1|I.i(V-1)>>>31;return new d(x,I.h)}function Rt(I,A){const x=A>>5;A%=32;const V=I.g.length-x,N=[];for(let P=0;P<V;P++)N[P]=A>0?I.i(P+x)>>>A|I.i(P+x+1)<<32-A:I.i(P+x);return new d(N,I.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,Jv=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=b,es=d}).apply(typeof l0<"u"?l0:typeof self<"u"?self:typeof window<"u"?window:{});var bc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Zv,pl,$v,Uc,Wd,t1,e1,n1;(function(){var s,t=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof bc=="object"&&bc];for(var m=0;m<u.length;++m){var y=u[m];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var a=i(this);function l(u,m){if(m)t:{var y=a;u=u.split(".");for(var E=0;E<u.length-1;E++){var U=u[E];if(!(U in y))break t;y=y[U]}u=u[u.length-1],E=y[u],m=m(E),m!=E&&m!=null&&t(y,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var y=[],E;for(E in m)Object.prototype.hasOwnProperty.call(m,E)&&y.push([E,m[E]]);return y}});var c=c||{},d=this||self;function p(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function v(u,m,y){return u.call.apply(u.bind,arguments)}function _(u,m,y){return _=v,_.apply(null,arguments)}function b(u,m){var y=Array.prototype.slice.call(arguments,1);return function(){var E=y.slice();return E.push.apply(E,arguments),u.apply(this,E)}}function w(u,m){function y(){}y.prototype=m.prototype,u.Z=m.prototype,u.prototype=new y,u.prototype.constructor=u,u.Ob=function(E,U,q){for(var et=Array(arguments.length-2),Ct=2;Ct<arguments.length;Ct++)et[Ct-2]=arguments[Ct];return m.prototype[U].apply(E,et)}}var k=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function X(u){const m=u.length;if(m>0){const y=Array(m);for(let E=0;E<m;E++)y[E]=u[E];return y}return[]}function it(u,m){for(let E=1;E<arguments.length;E++){const U=arguments[E];var y=typeof U;if(y=y!="object"?y:U?Array.isArray(U)?"array":y:"null",y=="array"||y=="object"&&typeof U.length=="number"){y=u.length||0;const q=U.length||0;u.length=y+q;for(let et=0;et<q;et++)u[y+et]=U[et]}else u.push(U)}}class rt{constructor(m,y){this.i=m,this.j=y,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function st(u){d.setTimeout(()=>{throw u},0)}function ft(){var u=I;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class Et{constructor(){this.h=this.g=null}add(m,y){const E=gt.get();E.set(m,y),this.h?this.h.next=E:this.g=E,this.h=E}}var gt=new rt(()=>new Bt,u=>u.reset());class Bt{constructor(){this.next=this.g=this.h=null}set(m,y){this.h=m,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let Jt,Rt=!1,I=new Et,A=()=>{const u=Promise.resolve(void 0);Jt=()=>{u.then(x)}};function x(){for(var u;u=ft();){try{u.h.call(u.g)}catch(y){st(y)}var m=gt;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}Rt=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var P=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const y=()=>{};d.addEventListener("test",y,m),d.removeEventListener("test",y,m)}catch{}return u})();function R(u){return/^[\s\xa0]*$/.test(u)}function ee(u,m){N.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}w(ee,N),ee.prototype.init=function(u,m){const y=this.type=u.type,E=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(y=="mouseover"?m=u.fromElement:y=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,E?(this.clientX=E.clientX!==void 0?E.clientX:E.pageX,this.clientY=E.clientY!==void 0?E.clientY:E.pageY,this.screenX=E.screenX||0,this.screenY=E.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&ee.Z.h.call(this)},ee.prototype.h=function(){ee.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var fe="closure_listenable_"+(Math.random()*1e6|0),G=0;function tt(u,m,y,E,U){this.listener=u,this.proxy=null,this.src=m,this.type=y,this.capture=!!E,this.ha=U,this.key=++G,this.da=this.fa=!1}function ct(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function zt(u,m,y){for(const E in u)m.call(y,u[E],E,u)}function Ft(u,m){for(const y in u)m.call(void 0,u[y],y,u)}function M(u){const m={};for(const y in u)m[y]=u[y];return m}const Q="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function nt(u,m){let y,E;for(let U=1;U<arguments.length;U++){E=arguments[U];for(y in E)u[y]=E[y];for(let q=0;q<Q.length;q++)y=Q[q],Object.prototype.hasOwnProperty.call(E,y)&&(u[y]=E[y])}}function at(u){this.src=u,this.g={},this.h=0}at.prototype.add=function(u,m,y,E,U){const q=u.toString();u=this.g[q],u||(u=this.g[q]=[],this.h++);const et=wt(u,m,E,U);return et>-1?(m=u[et],y||(m.fa=!1)):(m=new tt(m,this.src,q,!!E,U),m.fa=y,u.push(m)),m};function vt(u,m){const y=m.type;if(y in u.g){var E=u.g[y],U=Array.prototype.indexOf.call(E,m,void 0),q;(q=U>=0)&&Array.prototype.splice.call(E,U,1),q&&(ct(m),u.g[y].length==0&&(delete u.g[y],u.h--))}}function wt(u,m,y,E){for(let U=0;U<u.length;++U){const q=u[U];if(!q.da&&q.listener==m&&q.capture==!!y&&q.ha==E)return U}return-1}var Mt="closure_lm_"+(Math.random()*1e6|0),de={};function ne(u,m,y,E,U){if(Array.isArray(m)){for(let q=0;q<m.length;q++)ne(u,m[q],y,E,U);return null}return y=hs(y),u&&u[fe]?u.J(m,y,p(E)?!!E.capture:!1,U):Gn(u,m,y,!1,E,U)}function Gn(u,m,y,E,U,q){if(!m)throw Error("Invalid event type");const et=p(U)?!!U.capture:!!U;let Ct=Bi(u);if(Ct||(u[Mt]=Ct=new at(u)),y=Ct.add(m,y,E,et,q),y.proxy)return y;if(E=Kn(),y.proxy=E,E.src=u,E.listener=y,u.addEventListener)P||(U=et),U===void 0&&(U=!1),u.addEventListener(m.toString(),E,U);else if(u.attachEvent)u.attachEvent(ln(m.toString()),E);else if(u.addListener&&u.removeListener)u.addListener(E);else throw Error("addEventListener and attachEvent are unavailable.");return y}function Kn(){function u(y){return m.call(u.src,u.listener,y)}const m=us;return u}function ji(u,m,y,E,U){if(Array.isArray(m))for(var q=0;q<m.length;q++)ji(u,m[q],y,E,U);else E=p(E)?!!E.capture:!!E,y=hs(y),u&&u[fe]?(u=u.i,q=String(m).toString(),q in u.g&&(m=u.g[q],y=wt(m,y,E,U),y>-1&&(ct(m[y]),Array.prototype.splice.call(m,y,1),m.length==0&&(delete u.g[q],u.h--)))):u&&(u=Bi(u))&&(m=u.g[m.toString()],u=-1,m&&(u=wt(m,y,E,U)),(y=u>-1?m[u]:null)&&In(y))}function In(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[fe])vt(m.i,u);else{var y=u.type,E=u.proxy;m.removeEventListener?m.removeEventListener(y,E,u.capture):m.detachEvent?m.detachEvent(ln(y),E):m.addListener&&m.removeListener&&m.removeListener(E),(y=Bi(m))?(vt(y,u),y.h==0&&(y.src=null,m[Mt]=null)):ct(u)}}}function ln(u){return u in de?de[u]:de[u]="on"+u}function us(u,m){if(u.da)u=!0;else{m=new ee(m,this);const y=u.listener,E=u.ha||u.src;u.fa&&In(u),u=y.call(E,m)}return u}function Bi(u){return u=u[Mt],u instanceof at?u:null}var cs="__closure_events_fn_"+(Math.random()*1e9>>>0);function hs(u){return typeof u=="function"?u:(u[cs]||(u[cs]=function(m){return u.handleEvent(m)}),u[cs])}function ve(){V.call(this),this.i=new at(this),this.M=this,this.G=null}w(ve,V),ve.prototype[fe]=!0,ve.prototype.removeEventListener=function(u,m,y,E){ji(this,u,m,y,E)};function D(u,m){var y,E=u.G;if(E)for(y=[];E;E=E.G)y.push(E);if(u=u.M,E=m.type||m,typeof m=="string")m=new N(m,u);else if(m instanceof N)m.target=m.target||u;else{var U=m;m=new N(E,u),nt(m,U)}U=!0;let q,et;if(y)for(et=y.length-1;et>=0;et--)q=m.g=y[et],U=Z(q,E,!0,m)&&U;if(q=m.g=u,U=Z(q,E,!0,m)&&U,U=Z(q,E,!1,m)&&U,y)for(et=0;et<y.length;et++)q=m.g=y[et],U=Z(q,E,!1,m)&&U}ve.prototype.N=function(){if(ve.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const y=u.g[m];for(let E=0;E<y.length;E++)ct(y[E]);delete u.g[m],u.h--}}this.G=null},ve.prototype.J=function(u,m,y,E){return this.i.add(String(u),m,!1,y,E)},ve.prototype.K=function(u,m,y,E){return this.i.add(String(u),m,!0,y,E)};function Z(u,m,y,E){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let U=!0;for(let q=0;q<m.length;++q){const et=m[q];if(et&&!et.da&&et.capture==y){const Ct=et.listener,we=et.ha||et.src;et.fa&&vt(u.i,et),U=Ct.call(we,E)!==!1&&U}}return U&&!E.defaultPrevented}function F(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=_(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function xt(u){u.g=F(()=>{u.g=null,u.i&&(u.i=!1,xt(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class mt extends V{constructor(m,y){super(),this.m=m,this.l=y,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:xt(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Xt(u){V.call(this),this.h=u,this.g={}}w(Xt,V);var qt=[];function Se(u){zt(u.g,function(m,y){this.g.hasOwnProperty(y)&&In(m)},u),u.g={}}Xt.prototype.N=function(){Xt.Z.N.call(this),Se(this)},Xt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Te=d.JSON.stringify,Qn=d.JSON.parse,Ql=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function Yl(){}function Xl(){}var Yn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Qe(){N.call(this,"d")}w(Qe,N);function xn(){N.call(this,"c")}w(xn,N);var Ae={},Wl=null;function ta(){return Wl=Wl||new ve}Ae.Ia="serverreachability";function Jl(u){N.call(this,Ae.Ia,u)}w(Jl,N);function hi(u){const m=ta();D(m,new Jl(m))}Ae.STAT_EVENT="statevent";function fs(u,m){N.call(this,Ae.STAT_EVENT,u),this.stat=m}w(fs,N);function xe(u){const m=ta();D(m,new fs(m,u))}Ae.Ja="timingevent";function fi(u,m){N.call(this,Ae.Ja,u),this.size=m}w(fi,N);function di(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Xn(){this.g=!0}Xn.prototype.ua=function(){this.g=!1};function Rh(u,m,y,E,U,q){u.info(function(){if(u.g)if(q){var et="",Ct=q.split("&");for(let Qt=0;Qt<Ct.length;Qt++){var we=Ct[Qt].split("=");if(we.length>1){const me=we[0];we=we[1];const Nn=me.split("_");et=Nn.length>=2&&Nn[1]=="type"?et+(me+"="+we+"&"):et+(me+"=redacted&")}}}else et=null;else et=q;return"XMLHTTP REQ ("+E+") [attempt "+U+"]: "+m+`
`+y+`
`+et})}function Zl(u,m,y,E,U,q,et){u.info(function(){return"XMLHTTP RESP ("+E+") [ attempt "+U+"]: "+m+`
`+y+`
`+q+" "+et})}function mi(u,m,y,E){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Ch(u,y)+(E?" "+E:"")})}function ds(u,m){u.info(function(){return"TIMEOUT: "+m})}Xn.prototype.info=function(){};function Ch(u,m){if(!u.g)return m;if(!m)return null;try{const q=JSON.parse(m);if(q){for(u=0;u<q.length;u++)if(Array.isArray(q[u])){var y=q[u];if(!(y.length<2)){var E=y[1];if(Array.isArray(E)&&!(E.length<1)){var U=E[0];if(U!="noop"&&U!="stop"&&U!="close")for(let et=1;et<E.length;et++)E[et]=""}}}}return Te(q)}catch{return m}}var ms={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},ho={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},fo;function gs(){}w(gs,Yl),gs.prototype.g=function(){return new XMLHttpRequest},fo=new gs;function qi(u){return encodeURIComponent(String(u))}function $l(u){var m=1;u=u.split(":");const y=[];for(;m>0&&u.length;)y.push(u.shift()),m--;return u.length&&y.push(u.join(":")),y}function Wn(u,m,y,E){this.j=u,this.i=m,this.l=y,this.S=E||1,this.V=new Xt(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Jn}function Jn(){this.i=null,this.g="",this.h=!1}var De={},qe={};function gi(u,m,y){u.M=1,u.A=ps(Oe(m)),u.u=y,u.R=!0,ea(u,null)}function ea(u,m){u.F=Date.now(),pi(u),u.B=Oe(u.A);var y=u.B,E=u.S;Array.isArray(E)||(E=[String(E)]),sa(y.i,"t",E),u.C=0,y=u.j.L,u.h=new Jn,u.g=mu(u.j,y?m:null,!u.u),u.P>0&&(u.O=new mt(_(u.Y,u,u.g),u.P)),m=u.V,y=u.g,E=u.ba;var U="readystatechange";Array.isArray(U)||(U&&(qt[0]=U.toString()),U=qt);for(let q=0;q<U.length;q++){const et=ne(y,U[q],E||m.handleEvent,!1,m.h||m);if(!et)break;m.g[et.key]=et}m=u.J?M(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),hi(),Rh(u.i,u.v,u.B,u.l,u.S,u.u)}Wn.prototype.ba=function(u){u=u.target;const m=this.O;m&&ti(u)==3?m.j():this.Y(u)},Wn.prototype.Y=function(u){try{if(u==this.g)t:{const Ct=ti(this.g),we=this.g.ya(),Qt=this.g.ca();if(!(Ct<3)&&(Ct!=3||this.g&&(this.h.h||this.g.la()||Ye(this.g)))){this.K||Ct!=4||we==7||(we==8||Qt<=0?hi(3):hi(2)),yi(this);var m=this.g.ca();this.X=m;var y=Ih(this);if(this.o=m==200,Zl(this.i,this.v,this.B,this.l,this.S,Ct,m),this.o){if(this.U&&!this.L){e:{if(this.g){var E,U=this.g;if((E=U.g?U.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(E)){var q=E;break e}}q=null}if(u=q)mi(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,_i(this,u);else{this.o=!1,this.m=3,xe(12),vn(this),Dn(this);break t}}if(this.R){u=!0;let me;for(;!this.K&&this.C<y.length;)if(me=eu(this,y),me==qe){Ct==4&&(this.m=4,xe(14),u=!1),mi(this.i,this.l,null,"[Incomplete Response]");break}else if(me==De){this.m=4,xe(15),mi(this.i,this.l,y,"[Invalid Chunk]"),u=!1;break}else mi(this.i,this.l,me,null),_i(this,me);if(tu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ct!=4||y.length!=0||this.h.h||(this.m=1,xe(16),u=!1),this.o=this.o&&u,!u)mi(this.i,this.l,y,"[Invalid Chunked Response]"),vn(this),Dn(this);else if(y.length>0&&!this.W){this.W=!0;var et=this.j;et.g==this&&et.aa&&!et.P&&(et.j.info("Great, no buffering proxy detected. Bytes received: "+y.length),Io(et),et.P=!0,xe(11))}}else mi(this.i,this.l,y,null),_i(this,y);Ct==4&&vn(this),this.o&&!this.K&&(Ct==4?cu(this.j,this):(this.o=!1,pi(this)))}else Fi(this.g),m==400&&y.indexOf("Unknown SID")>0?(this.m=3,xe(12)):(this.m=0,xe(13)),vn(this),Dn(this)}}}catch{}};function Ih(u){if(!tu(u))return u.g.la();const m=Ye(u.g);if(m==="")return"";let y="";const E=m.length,U=ti(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return vn(u),Dn(u),"";u.h.i=new d.TextDecoder}for(let q=0;q<E;q++)u.h.h=!0,y+=u.h.i.decode(m[q],{stream:!(U&&q==E-1)});return m.length=0,u.h.g+=y,u.C=0,u.h.g}function tu(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function eu(u,m){var y=u.C,E=m.indexOf(`
`,y);return E==-1?qe:(y=Number(m.substring(y,E)),isNaN(y)?De:(E+=1,E+y>m.length?qe:(m=m.slice(E,E+y),u.C=E+y,m)))}Wn.prototype.cancel=function(){this.K=!0,vn(this)};function pi(u){u.T=Date.now()+u.H,na(u,u.H)}function na(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=di(_(u.aa,u),m)}function yi(u){u.D&&(d.clearTimeout(u.D),u.D=null)}Wn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(ds(this.i,this.B),this.M!=2&&(hi(),xe(17)),vn(this),this.m=2,Dn(this)):na(this,this.T-u)};function Dn(u){u.j.I==0||u.K||cu(u.j,u)}function vn(u){yi(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,Se(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function _i(u,m){try{var y=u.j;if(y.I!=0&&(y.g==u||Ti(y.h,u))){if(!u.L&&Ti(y.h,u)&&y.I==3){try{var E=y.Ba.g.parse(m)}catch{E=null}if(Array.isArray(E)&&E.length==3){var U=E;if(U[0]==0){t:if(!y.v){if(y.g)if(y.g.F+3e3<u.F)ca(y),Sr(y);else break t;Ss(y),xe(18)}}else y.xa=U[1],0<y.xa-y.K&&U[2]<37500&&y.F&&y.A==0&&!y.C&&(y.C=di(_(y.Va,y),6e3));vi(y.h)<=1&&y.ta&&(y.ta=void 0)}else Ri(y,11)}else if((u.L||y.g==u)&&ca(y),!R(m))for(U=y.Ba.g.parse(m),m=0;m<U.length;m++){let Qt=U[m];const me=Qt[0];if(!(me<=y.K))if(y.K=me,Qt=Qt[1],y.I==2)if(Qt[0]=="c"){y.M=Qt[1],y.ba=Qt[2];const Nn=Qt[3];Nn!=null&&(y.ka=Nn,y.j.info("VER="+y.ka));const Ci=Qt[4];Ci!=null&&(y.za=Ci,y.j.info("SVER="+y.za));const ei=Qt[5];ei!=null&&typeof ei=="number"&&ei>0&&(E=1.5*ei,y.O=E,y.j.info("backChannelRequestTimeoutMs_="+E)),E=y;const ni=u.g;if(ni){const As=ni.g?ni.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(As){var q=E.h;q.g||As.indexOf("spdy")==-1&&As.indexOf("quic")==-1&&As.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(po(q,q.h),q.h=null))}if(E.G){const ha=ni.g?ni.g.getResponseHeader("X-HTTP-Session-Id"):null;ha&&(E.wa=ha,Zt(E.J,E.G,ha))}}y.I=3,y.l&&y.l.ra(),y.aa&&(y.T=Date.now()-u.F,y.j.info("Handshake RTT: "+y.T+"ms")),E=y;var et=u;if(E.na=du(E,E.L?E.ba:null,E.W),et.L){yo(E.h,et);var Ct=et,we=E.O;we&&(Ct.H=we),Ct.D&&(yi(Ct),pi(Ct)),E.g=et}else lu(E);y.i.length>0&&wi(y)}else Qt[0]!="stop"&&Qt[0]!="close"||Ri(y,7);else y.I==3&&(Qt[0]=="stop"||Qt[0]=="close"?Qt[0]=="stop"?Ri(y,7):Ro(y):Qt[0]!="noop"&&y.l&&y.l.qa(Qt),y.A=0)}}hi(4)}catch{}}var Me=class{constructor(u,m){this.g=u,this.map=m}};function mo(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function go(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function vi(u){return u.h?1:u.g?u.g.size:0}function Ti(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function po(u,m){u.g?u.g.add(m):u.h=m}function yo(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}mo.prototype.cancel=function(){if(this.i=_o(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function _o(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const y of u.g.values())m=m.concat(y.G);return m}return X(u.i)}var nu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ia(u,m){if(u){u=u.split("&");for(let y=0;y<u.length;y++){const E=u[y].indexOf("=");let U,q=null;E>=0?(U=u[y].substring(0,E),q=u[y].substring(E+1)):U=u[y],m(U,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function Tn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof Tn?(this.l=u.l,He(this,u.j),this.o=u.o,this.g=u.g,pr(this,u.u),this.h=u.h,vo(this,au(u.i)),this.m=u.m):u&&(m=String(u).match(nu))?(this.l=!1,He(this,m[1]||"",!0),this.o=Ei(m[2]||""),this.g=Ei(m[3]||"",!0),pr(this,m[4]),this.h=Ei(m[5]||"",!0),vo(this,m[6]||"",!0),this.m=Ei(m[7]||"")):(this.l=!1,this.i=new _r(null,this.l))}Tn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(ys(m,ra,!0),":");var y=this.g;return(y||m=="file")&&(u.push("//"),(m=this.o)&&u.push(ys(m,ra,!0),"@"),u.push(qi(y).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.u,y!=null&&u.push(":",String(y))),(y=this.h)&&(this.g&&y.charAt(0)!="/"&&u.push("/"),u.push(ys(y,y.charAt(0)=="/"?To:iu,!0))),(y=this.i.toString())&&u.push("?",y),(y=this.m)&&u.push("#",ys(y,ru)),u.join("")},Tn.prototype.resolve=function(u){const m=Oe(this);let y=!!u.j;y?He(m,u.j):y=!!u.o,y?m.o=u.o:y=!!u.g,y?m.g=u.g:y=u.u!=null;var E=u.h;if(y)pr(m,u.u);else if(y=!!u.h){if(E.charAt(0)!="/")if(this.g&&!this.h)E="/"+E;else{var U=m.h.lastIndexOf("/");U!=-1&&(E=m.h.slice(0,U+1)+E)}if(U=E,U==".."||U==".")E="";else if(U.indexOf("./")!=-1||U.indexOf("/.")!=-1){E=U.lastIndexOf("/",0)==0,U=U.split("/");const q=[];for(let et=0;et<U.length;){const Ct=U[et++];Ct=="."?E&&et==U.length&&q.push(""):Ct==".."?((q.length>1||q.length==1&&q[0]!="")&&q.pop(),E&&et==U.length&&q.push("")):(q.push(Ct),E=!0)}E=q.join("/")}else E=U}return y?m.h=E:y=u.i.toString()!=="",y?vo(m,au(u.i)):y=!!u.m,y&&(m.m=u.m),m};function Oe(u){return new Tn(u)}function He(u,m,y){u.j=y?Ei(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function pr(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function vo(u,m,y){m instanceof _r?(u.i=m,aa(u.i,u.l)):(y||(m=ys(m,yr)),u.i=new _r(m,u.l))}function Zt(u,m,y){u.i.set(m,y)}function ps(u){return Zt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function Ei(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function ys(u,m,y){return typeof u=="string"?(u=encodeURI(u).replace(m,hn),y&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function hn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var ra=/[#\/\?@]/g,iu=/[#\?:]/g,To=/[#\?]/g,yr=/[#\?@]/g,ru=/#/g;function _r(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function fn(u){u.g||(u.g=new Map,u.h=0,u.i&&ia(u.i,function(m,y){u.add(decodeURIComponent(m.replace(/\+/g," ")),y)}))}s=_r.prototype,s.add=function(u,m){fn(this),this.i=null,u=vr(this,u);let y=this.g.get(u);return y||this.g.set(u,y=[]),y.push(m),this.h+=1,this};function su(u,m){fn(u),m=vr(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Eo(u,m){return fn(u),m=vr(u,m),u.g.has(m)}s.forEach=function(u,m){fn(this),this.g.forEach(function(y,E){y.forEach(function(U){u.call(m,U,E,this)},this)},this)};function bo(u,m){fn(u);let y=[];if(typeof m=="string")Eo(u,m)&&(y=y.concat(u.g.get(vr(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)y=y.concat(u[m]);return y}s.set=function(u,m){return fn(this),this.i=null,u=vr(this,u),Eo(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},s.get=function(u,m){return u?(u=bo(this,u),u.length>0?String(u[0]):m):m};function sa(u,m,y){su(u,m),y.length>0&&(u.i=null,u.g.set(vr(u,m),X(y)),u.h+=y.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let E=0;E<m.length;E++){var y=m[E];const U=qi(y);y=bo(this,y);for(let q=0;q<y.length;q++){let et=U;y[q]!==""&&(et+="="+qi(y[q])),u.push(et)}}return this.i=u.join("&")};function au(u){const m=new _r;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function vr(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function aa(u,m){m&&!u.j&&(fn(u),u.i=null,u.g.forEach(function(y,E){const U=E.toLowerCase();E!=U&&(su(this,E),sa(this,U,y))},u)),u.j=m}function Zn(u,m){const y=new Xn;if(d.Image){const E=new Image;E.onload=b(Mn,y,"TestLoadImage: loaded",!0,m,E),E.onerror=b(Mn,y,"TestLoadImage: error",!1,m,E),E.onabort=b(Mn,y,"TestLoadImage: abort",!1,m,E),E.ontimeout=b(Mn,y,"TestLoadImage: timeout",!1,m,E),d.setTimeout(function(){E.ontimeout&&E.ontimeout()},1e4),E.src=u}else m(!1)}function So(u,m){const y=new Xn,E=new AbortController,U=setTimeout(()=>{E.abort(),Mn(y,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:E.signal}).then(q=>{clearTimeout(U),q.ok?Mn(y,"TestPingServer: ok",!0,m):Mn(y,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(U),Mn(y,"TestPingServer: error",!1,m)})}function Mn(u,m,y,E,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),E(y)}catch{}}function Tr(){this.g=new Ql}function bi(u){this.i=u.Sb||null,this.h=u.ab||!1}w(bi,Yl),bi.prototype.g=function(){return new _s(this.i,this.h)};function _s(u,m){ve.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}w(_s,ve),s=_s.prototype,s.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,$n(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Er(this)),this.readyState=0},s.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,$n(this)),this.g&&(this.readyState=3,$n(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;oa(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function oa(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}s.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Er(this):$n(this),this.readyState==3&&oa(this)}},s.Oa=function(u){this.g&&(this.response=this.responseText=u,Er(this))},s.Na=function(u){this.g&&(this.response=u,Er(this))},s.ga=function(){this.g&&Er(this)};function Er(u){u.readyState=4,u.l=null,u.j=null,u.B=null,$n(u)}s.setRequestHeader=function(u,m){this.A.append(u,m)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var y=m.next();!y.done;)y=y.value,u.push(y[0]+": "+y[1]),y=m.next();return u.join(`\r
`)};function $n(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(_s.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function On(u){let m="";return zt(u,function(y,E){m+=E,m+=":",m+=y,m+=`\r
`}),m}function vs(u,m,y){t:{for(E in y){var E=!1;break t}E=!0}E||(y=On(y),typeof u=="string"?y!=null&&qi(y):Zt(u,m,y))}function ie(u){ve.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}w(ie,ve);var Si=/^https?$/i,Ao=["POST","PUT"];s=ie.prototype,s.Fa=function(u){this.H=u},s.ea=function(u,m,y,E){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():fo.g(),this.g.onreadystatechange=k(_(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(q){Ts(this,q);return}if(u=y||"",y=new Map(this.headers),E)if(Object.getPrototypeOf(E)===Object.prototype)for(var U in E)y.set(U,E[U]);else if(typeof E.keys=="function"&&typeof E.get=="function")for(const q of E.keys())y.set(q,E.get(q));else throw Error("Unknown input type for opt_headers: "+String(E));E=Array.from(y.keys()).find(q=>q.toLowerCase()=="content-type"),U=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Ao,m,void 0)>=0)||E||U||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,et]of y)this.g.setRequestHeader(q,et);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(q){Ts(this,q)}};function Ts(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,wo(u),Hi(u)}function wo(u){u.A||(u.A=!0,D(u,"complete"),D(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,D(this,"complete"),D(this,"abort"),Hi(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Hi(this,!0)),ie.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?Es(this):this.Xa())},s.Xa=function(){Es(this)};function Es(u){if(u.h&&typeof c<"u"){if(u.v&&ti(u)==4)setTimeout(u.Ca.bind(u),0);else if(D(u,"readystatechange"),ti(u)==4){u.h=!1;try{const q=u.ca();t:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var y;if(!(y=m)){var E;if(E=q===0){let et=String(u.D).match(nu)[1]||null;!et&&d.self&&d.self.location&&(et=d.self.location.protocol.slice(0,-1)),E=!Si.test(et?et.toLowerCase():"")}y=E}if(y)D(u,"complete"),D(u,"success");else{u.o=6;try{var U=ti(u)>2?u.g.statusText:""}catch{U=""}u.l=U+" ["+u.ca()+"]",wo(u)}}finally{Hi(u)}}}}function Hi(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const y=u.g;u.g=null,m||D(u,"ready");try{y.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function ti(u){return u.g?u.g.readyState:0}s.ca=function(){try{return ti(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Qn(m)}};function Ye(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Fi(u){const m={};u=(u.g&&ti(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let E=0;E<u.length;E++){if(R(u[E]))continue;var y=$l(u[E]);const U=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();const q=m[U]||[];m[U]=q,q.push(y)}Ft(m,function(E){return E.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ai(u,m,y){return y&&y.internalChannelParams&&y.internalChannelParams[u]||m}function br(u){this.za=0,this.i=[],this.j=new Xn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ai("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ai("baseRetryDelayMs",5e3,u),this.Za=Ai("retryDelaySeedMs",1e4,u),this.Ta=Ai("forwardChannelMaxRetries",2,u),this.va=Ai("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new mo(u&&u.concurrentRequestLimit),this.Ba=new Tr,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=br.prototype,s.ka=8,s.I=1,s.connect=function(u,m,y,E){xe(0),this.W=u,this.H=m||{},y&&E!==void 0&&(this.H.OSID=y,this.H.OAID=E),this.F=this.X,this.J=du(this,null,this.W),wi(this)};function Ro(u){if(la(u),u.I==3){var m=u.V++,y=Oe(u.J);if(Zt(y,"SID",u.M),Zt(y,"RID",m),Zt(y,"TYPE","terminate"),bs(u,y),m=new Wn(u,u.j,m),m.M=2,m.A=ps(Oe(y)),y=!1,d.navigator&&d.navigator.sendBeacon)try{y=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!y&&d.Image&&(new Image().src=m.A,y=!0),y||(m.g=mu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),pi(m)}fu(u)}function Sr(u){u.g&&(Io(u),u.g.cancel(),u.g=null)}function la(u){Sr(u),u.v&&(d.clearTimeout(u.v),u.v=null),ca(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function wi(u){if(!go(u.h)&&!u.m){u.m=!0;var m=u.Ea;Jt||A(),Rt||(Jt(),Rt=!0),I.add(m,u),u.D=0}}function ua(u,m){return vi(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=di(_(u.Ea,u,m),hu(u,u.D)),u.D++,!0)}s.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const U=new Wn(this,this.j,u);let q=this.o;if(this.U&&(q?(q=M(q),nt(q,this.U)):q=this.U),this.u!==null||this.R||(U.J=q,q=null),this.S)t:{for(var m=0,y=0;y<this.i.length;y++){e:{var E=this.i[y];if("__data__"in E.map&&(E=E.map.__data__,typeof E=="string")){E=E.length;break e}E=void 0}if(E===void 0)break;if(m+=E,m>4096){m=y;break t}if(m===4096||y===this.i.length-1){m=y+1;break t}}m=1e3}else m=1e3;m=ou(this,U,m),y=Oe(this.J),Zt(y,"RID",u),Zt(y,"CVER",22),this.G&&Zt(y,"X-HTTP-Session-Id",this.G),bs(this,y),q&&(this.R?m="headers="+qi(On(q))+"&"+m:this.u&&vs(y,this.u,q)),po(this.h,U),this.Ra&&Zt(y,"TYPE","init"),this.S?(Zt(y,"$req",m),Zt(y,"SID","null"),U.U=!0,gi(U,y,null)):gi(U,y,m),this.I=2}}else this.I==3&&(u?Co(this,u):this.i.length==0||go(this.h)||Co(this))};function Co(u,m){var y;m?y=m.l:y=u.V++;const E=Oe(u.J);Zt(E,"SID",u.M),Zt(E,"RID",y),Zt(E,"AID",u.K),bs(u,E),u.u&&u.o&&vs(E,u.u,u.o),y=new Wn(u,u.j,y,u.D+1),u.u===null&&(y.J=u.o),m&&(u.i=m.G.concat(u.i)),m=ou(u,y,1e3),y.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),po(u.h,y),gi(y,E,m)}function bs(u,m){u.H&&zt(u.H,function(y,E){Zt(m,E,y)}),u.l&&zt({},function(y,E){Zt(m,E,y)})}function ou(u,m,y){y=Math.min(u.i.length,y);const E=u.l?_(u.l.Ka,u.l,u):null;t:{var U=u.i;let Ct=-1;for(;;){const we=["count="+y];Ct==-1?y>0?(Ct=U[0].g,we.push("ofs="+Ct)):Ct=0:we.push("ofs="+Ct);let Qt=!0;for(let me=0;me<y;me++){var q=U[me].g;const Nn=U[me].map;if(q-=Ct,q<0)Ct=Math.max(0,U[me].g-100),Qt=!1;else try{q="req"+q+"_"||"";try{var et=Nn instanceof Map?Nn:Object.entries(Nn);for(const[Ci,ei]of et){let ni=ei;p(ei)&&(ni=Te(ei)),we.push(q+Ci+"="+encodeURIComponent(ni))}}catch(Ci){throw we.push(q+"type="+encodeURIComponent("_badmap")),Ci}}catch{E&&E(Nn)}}if(Qt){et=we.join("&");break t}}et=void 0}return u=u.i.splice(0,y),m.G=u,et}function lu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;Jt||A(),Rt||(Jt(),Rt=!0),I.add(m,u),u.A=0}}function Ss(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=di(_(u.Da,u),hu(u,u.A)),u.A++,!0)}s.Da=function(){if(this.v=null,uu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=di(_(this.Wa,this),u)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,xe(10),Sr(this),uu(this))};function Io(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function uu(u){u.g=new Wn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Oe(u.na);Zt(m,"RID","rpc"),Zt(m,"SID",u.M),Zt(m,"AID",u.K),Zt(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Zt(m,"TO",u.ia),Zt(m,"TYPE","xmlhttp"),bs(u,m),u.u&&u.o&&vs(m,u.u,u.o),u.O&&(u.g.H=u.O);var y=u.g;u=u.ba,y.M=1,y.A=ps(Oe(m)),y.u=null,y.R=!0,ea(y,u)}s.Va=function(){this.C!=null&&(this.C=null,Sr(this),Ss(this),xe(19))};function ca(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function cu(u,m){var y=null;if(u.g==m){ca(u),Io(u),u.g=null;var E=2}else if(Ti(u.h,m))y=m.G,yo(u.h,m),E=1;else return;if(u.I!=0){if(m.o)if(E==1){y=m.u?m.u.length:0,m=Date.now()-m.F;var U=u.D;E=ta(),D(E,new fi(E,y)),wi(u)}else lu(u);else if(U=m.m,U==3||U==0&&m.X>0||!(E==1&&ua(u,m)||E==2&&Ss(u)))switch(y&&y.length>0&&(m=u.h,m.i=m.i.concat(y)),U){case 1:Ri(u,5);break;case 4:Ri(u,10);break;case 3:Ri(u,6);break;default:Ri(u,2)}}}function hu(u,m){let y=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(y*=2),y*m}function Ri(u,m){if(u.j.info("Error code "+m),m==2){var y=_(u.bb,u),E=u.Ua;const U=!E;E=new Tn(E||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||He(E,"https"),ps(E),U?Zn(E.toString(),y):So(E.toString(),y)}else xe(2);u.I=0,u.l&&u.l.pa(m),fu(u),la(u)}s.bb=function(u){u?(this.j.info("Successfully pinged google.com"),xe(2)):(this.j.info("Failed to ping google.com"),xe(1))};function fu(u){if(u.I=0,u.ja=[],u.l){const m=_o(u.h);(m.length!=0||u.i.length!=0)&&(it(u.ja,m),it(u.ja,u.i),u.h.i.length=0,X(u.i),u.i.length=0),u.l.oa()}}function du(u,m,y){var E=y instanceof Tn?Oe(y):new Tn(y);if(E.g!="")m&&(E.g=m+"."+E.g),pr(E,E.u);else{var U=d.location;E=U.protocol,m=m?m+"."+U.hostname:U.hostname,U=+U.port;const q=new Tn(null);E&&He(q,E),m&&(q.g=m),U&&pr(q,U),y&&(q.h=y),E=q}return y=u.G,m=u.wa,y&&m&&Zt(E,y,m),Zt(E,"VER",u.ka),bs(u,E),E}function mu(u,m,y){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new ie(new bi({ab:y})):new ie(u.ma),m.Fa(u.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function gu(){}s=gu.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function Ar(){}Ar.prototype.g=function(u,m){return new un(u,m)};function un(u,m){ve.call(this),this.g=new br(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!R(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!R(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Gi(this)}w(un,ve),un.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},un.prototype.close=function(){Ro(this.g)},un.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var y={};y.__data__=u,u=y}else this.v&&(y={},y.__data__=Te(u),u=y);m.i.push(new Me(m.Ya++,u)),m.I==3&&wi(m)},un.prototype.N=function(){this.g.l=null,delete this.j,Ro(this.g),delete this.g,un.Z.N.call(this)};function pu(u){Qe.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const y in m){u=y;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}w(pu,Qe);function yu(){xn.call(this),this.status=1}w(yu,xn);function Gi(u){this.g=u}w(Gi,gu),Gi.prototype.ra=function(){D(this.g,"a")},Gi.prototype.qa=function(u){D(this.g,new pu(u))},Gi.prototype.pa=function(u){D(this.g,new yu)},Gi.prototype.oa=function(){D(this.g,"b")},Ar.prototype.createWebChannel=Ar.prototype.g,un.prototype.send=un.prototype.o,un.prototype.open=un.prototype.m,un.prototype.close=un.prototype.close,n1=function(){return new Ar},e1=function(){return ta()},t1=Ae,Wd={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ms.NO_ERROR=0,ms.TIMEOUT=8,ms.HTTP_ERROR=6,Uc=ms,ho.COMPLETE="complete",$v=ho,Xl.EventType=Yn,Yn.OPEN="a",Yn.CLOSE="b",Yn.ERROR="c",Yn.MESSAGE="d",ve.prototype.listen=ve.prototype.J,pl=Xl,ie.prototype.listenOnce=ie.prototype.K,ie.prototype.getLastError=ie.prototype.Ha,ie.prototype.getLastErrorCode=ie.prototype.ya,ie.prototype.getStatus=ie.prototype.ca,ie.prototype.getResponseJson=ie.prototype.La,ie.prototype.getResponseText=ie.prototype.la,ie.prototype.send=ie.prototype.ea,ie.prototype.setWithCredentials=ie.prototype.Fa,Zv=ie}).apply(typeof bc<"u"?bc:typeof self<"u"?self:typeof window<"u"?window:{});class sn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}sn.UNAUTHENTICATED=new sn(null),sn.GOOGLE_CREDENTIALS=new sn("google-credentials-uid"),sn.FIRST_PARTY=new sn("first-party-uid"),sn.MOCK_USER=new sn("mock-user");let oo="12.8.0";function J2(s){oo=s}const Ys=new dm("@firebase/firestore");function Ba(){return Ys.logLevel}function ot(s,...t){if(Ys.logLevel<=Lt.DEBUG){const i=t.map(Rm);Ys.debug(`Firestore (${oo}): ${s}`,...i)}}function dr(s,...t){if(Ys.logLevel<=Lt.ERROR){const i=t.map(Rm);Ys.error(`Firestore (${oo}): ${s}`,...i)}}function Za(s,...t){if(Ys.logLevel<=Lt.WARN){const i=t.map(Rm);Ys.warn(`Firestore (${oo}): ${s}`,...i)}}function Rm(s){if(typeof s=="string")return s;try{return(function(i){return JSON.stringify(i)})(s)}catch{return s}}function _t(s,t,i){let a="Unexpected state";typeof t=="string"?a=t:i=t,i1(s,a,i)}function i1(s,t,i){let a=`FIRESTORE (${oo}) INTERNAL ASSERTION FAILED: ${t} (ID: ${s.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw dr(a),new Error(a)}function Wt(s,t,i,a){let l="Unexpected state";typeof i=="string"?l=i:a=i,s||i1(t,l,a)}function At(s,t){return s}const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ht extends gr{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ns{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}class r1{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class Z2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i(sn.UNAUTHENTICATED)))}shutdown(){}}class $2{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class tw{constructor(t){this.t=t,this.currentUser=sn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){Wt(this.o===void 0,42304);let a=this.i;const l=v=>this.i!==a?(a=this.i,i(v)):Promise.resolve();let c=new ns;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new ns,t.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const v=c;t.enqueueRetryable((async()=>{await v.promise,await l(this.currentUser)}))},p=v=>{ot("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((v=>p(v))),setTimeout((()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?p(v):(ot("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new ns)}}),0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==t?(ot("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Wt(typeof a.accessToken=="string",31837,{l:a}),new r1(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Wt(t===null||typeof t=="string",2055,{h:t}),new sn(t)}}class ew{constructor(t,i,a){this.P=t,this.T=i,this.I=a,this.type="FirstParty",this.user=sn.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const t=this.A();return t&&this.R.set("Authorization",t),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class nw{constructor(t,i,a){this.P=t,this.T=i,this.I=a}getToken(){return Promise.resolve(new ew(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i(sn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class u0{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class iw{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ai(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){Wt(this.o===void 0,3512);const a=c=>{c.error!=null&&ot("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,ot("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable((()=>a(c)))};const l=c=>{ot("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):ot("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new u0(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(Wt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new u0(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function rw(s){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let a=0;a<s;a++)i[a]=Math.floor(256*Math.random());return i}class Cm{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const l=rw(40);for(let c=0;c<l.length;++c)a.length<20&&l[c]<i&&(a+=t.charAt(l[c]%62))}return a}}function Pt(s,t){return s<t?-1:s>t?1:0}function Jd(s,t){const i=Math.min(s.length,t.length);for(let a=0;a<i;a++){const l=s.charAt(a),c=t.charAt(a);if(l!==c)return Ld(l)===Ld(c)?Pt(l,c):Ld(l)?1:-1}return Pt(s.length,t.length)}const sw=55296,aw=57343;function Ld(s){const t=s.charCodeAt(0);return t>=sw&&t<=aw}function $a(s,t,i){return s.length===t.length&&s.every(((a,l)=>i(a,t[l])))}const c0="__name__";class Oi{constructor(t,i,a){i===void 0?i=0:i>t.length&&_t(637,{offset:i,range:t.length}),a===void 0?a=t.length-i:a>t.length-i&&_t(1746,{length:a,range:t.length-i}),this.segments=t,this.offset=i,this.len=a}get length(){return this.len}isEqual(t){return Oi.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof Oi?t.forEach((a=>{i.push(a)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,a=this.limit();i<a;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const a=Math.min(t.length,i.length);for(let l=0;l<a;l++){const c=Oi.compareSegments(t.get(l),i.get(l));if(c!==0)return c}return Pt(t.length,i.length)}static compareSegments(t,i){const a=Oi.isNumericId(t),l=Oi.isNumericId(i);return a&&!l?-1:!a&&l?1:a&&l?Oi.extractNumericId(t).compare(Oi.extractNumericId(i)):Jd(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return es.fromString(t.substring(4,t.length-2))}}class ye extends Oi{construct(t,i,a){return new ye(t,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const a of t){if(a.indexOf("//")>=0)throw new ht($.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((l=>l.length>0)))}return new ye(i)}static emptyPath(){return new ye([])}}const ow=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class tn extends Oi{construct(t,i,a){return new tn(t,i,a)}static isValidIdentifier(t){return ow.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),tn.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===c0}static keyField(){return new tn([c0])}static fromServerFormat(t){const i=[];let a="",l=0;const c=()=>{if(a.length===0)throw new ht($.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;l<t.length;){const p=t[l];if(p==="\\"){if(l+1===t.length)throw new ht($.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const v=t[l+1];if(v!=="\\"&&v!=="."&&v!=="`")throw new ht($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);a+=v,l+=2}else p==="`"?(d=!d,l++):p!=="."||d?(a+=p,l++):(c(),l++)}if(c(),d)throw new ht($.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new tn(i)}static emptyPath(){return new tn([])}}class pt{constructor(t){this.path=t}static fromPath(t){return new pt(ye.fromString(t))}static fromName(t){return new pt(ye.fromString(t).popFirst(5))}static empty(){return new pt(ye.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ye.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return ye.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new pt(new ye(t.slice()))}}function lw(s,t,i){if(!i)throw new ht($.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${t}.`)}function uw(s,t,i,a){if(t===!0&&a===!0)throw new ht($.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function h0(s){if(!pt.isDocumentKey(s))throw new ht($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function s1(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function Im(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const t=(function(a){return a.constructor?a.constructor.name:null})(s);return t?`a custom ${t} object`:"an object"}}return typeof s=="function"?"a function":_t(12329,{type:typeof s})}function xl(s,t){if("_delegate"in s&&(s=s._delegate),!(s instanceof t)){if(t.name===s.constructor.name)throw new ht($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Im(s);throw new ht($.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return s}function Ue(s,t){const i={typeString:s};return t&&(i.value=t),i}function ql(s,t){if(!s1(s))throw new ht($.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in t)if(t[a]){const l=t[a].typeString,c="value"in t[a]?{value:t[a].value}:void 0;if(!(a in s)){i=`JSON missing required field: '${a}'`;break}const d=s[a];if(l&&typeof d!==l){i=`JSON field '${a}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${a}' field to equal '${c.value}'`;break}}if(i)throw new ht($.INVALID_ARGUMENT,i);return!0}const f0=-62135596800,d0=1e6;class he{static now(){return he.fromMillis(Date.now())}static fromDate(t){return he.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),a=Math.floor((t-1e3*i)*d0);return new he(i,a)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new ht($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ht($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<f0)throw new ht($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ht($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/d0}_compareTo(t){return this.seconds===t.seconds?Pt(this.nanoseconds,t.nanoseconds):Pt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:he._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(ql(t,he._jsonSchema))return new he(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-f0;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}he._jsonSchemaVersion="firestore/timestamp/1.0",he._jsonSchema={type:Ue("string",he._jsonSchemaVersion),seconds:Ue("number"),nanoseconds:Ue("number")};class bt{static fromTimestamp(t){return new bt(t)}static min(){return new bt(new he(0,0))}static max(){return new bt(new he(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Dl=-1;function cw(s,t){const i=s.toTimestamp().seconds,a=s.toTimestamp().nanoseconds+1,l=bt.fromTimestamp(a===1e9?new he(i+1,0):new he(i,a));return new is(l,pt.empty(),t)}function hw(s){return new is(s.readTime,s.key,Dl)}class is{constructor(t,i,a){this.readTime=t,this.documentKey=i,this.largestBatchId=a}static min(){return new is(bt.min(),pt.empty(),Dl)}static max(){return new is(bt.max(),pt.empty(),Dl)}}function fw(s,t){let i=s.readTime.compareTo(t.readTime);return i!==0?i:(i=pt.comparator(s.documentKey,t.documentKey),i!==0?i:Pt(s.largestBatchId,t.largestBatchId))}const dw="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class mw{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function lo(s){if(s.code!==$.FAILED_PRECONDITION||s.message!==dw)throw s;ot("LocalStore","Unexpectedly lost primary lease")}class J{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&_t(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new J(((a,l)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(a,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,l)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof J?i:J.resolve(i)}catch(i){return J.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):J.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):J.reject(i)}static resolve(t){return new J(((i,a)=>{i(t)}))}static reject(t){return new J(((i,a)=>{a(t)}))}static waitFor(t){return new J(((i,a)=>{let l=0,c=0,d=!1;t.forEach((p=>{++l,p.next((()=>{++c,d&&c===l&&i()}),(v=>a(v)))})),d=!0,c===l&&i()}))}static or(t){let i=J.resolve(!1);for(const a of t)i=i.next((l=>l?J.resolve(l):a()));return i}static forEach(t,i){const a=[];return t.forEach(((l,c)=>{a.push(i.call(this,l,c))})),this.waitFor(a)}static mapArray(t,i){return new J(((a,l)=>{const c=t.length,d=new Array(c);let p=0;for(let v=0;v<c;v++){const _=v;i(t[_]).next((b=>{d[_]=b,++p,p===c&&a(d)}),(b=>l(b)))}}))}static doWhile(t,i){return new J(((a,l)=>{const c=()=>{t()===!0?i().next((()=>{c()}),l):a()};c()}))}}function gw(s){const t=s.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function uo(s){return s.name==="IndexedDbTransactionError"}class mh{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}mh.ce=-1;const xm=-1;function gh(s){return s==null}function Zc(s){return s===0&&1/s==-1/0}function pw(s){return typeof s=="number"&&Number.isInteger(s)&&!Zc(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const a1="";function yw(s){let t="";for(let i=0;i<s.length;i++)t.length>0&&(t=m0(t)),t=_w(s.get(i),t);return m0(t)}function _w(s,t){let i=t;const a=s.length;for(let l=0;l<a;l++){const c=s.charAt(l);switch(c){case"\0":i+="";break;case a1:i+="";break;default:i+=c}}return i}function m0(s){return s+a1+""}function g0(s){let t=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&t++;return t}function Ws(s,t){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&t(i,s[i])}function o1(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}class _e{constructor(t,i){this.comparator=t,this.root=i||$e.EMPTY}insert(t,i){return new _e(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,$e.BLACK,null,null))}remove(t){return new _e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,$e.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(t,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(t){let i=0,a=this.root;for(;!a.isEmpty();){const l=this.comparator(t,a.key);if(l===0)return i+a.left.size;l<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,a)=>(t(i,a),!1)))}toString(){const t=[];return this.inorderTraversal(((i,a)=>(t.push(`${i}:${a}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Sc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Sc(this.root,t,this.comparator,!1)}getReverseIterator(){return new Sc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Sc(this.root,t,this.comparator,!0)}}class Sc{constructor(t,i,a,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?a(t.key,i):1,i&&l&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class $e{constructor(t,i,a,l,c){this.key=t,this.value=i,this.color=a??$e.RED,this.left=l??$e.EMPTY,this.right=c??$e.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,a,l,c){return new $e(t??this.key,i??this.value,a??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,a){let l=this;const c=a(t,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(t,i,a),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(t,i,a)),l.fixUp()}removeMin(){if(this.left.isEmpty())return $e.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let a,l=this;if(i(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(t,l.key)===0){if(l.right.isEmpty())return $e.EMPTY;a=l.right.min(),l=l.copy(a.key,a.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,$e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,$e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw _t(43730,{key:this.key,value:this.value});if(this.right.isRed())throw _t(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw _t(27949);return t+(this.isRed()?0:1)}}$e.EMPTY=null,$e.RED=!0,$e.BLACK=!1;$e.EMPTY=new class{constructor(){this.size=0}get key(){throw _t(57766)}get value(){throw _t(16141)}get color(){throw _t(16727)}get left(){throw _t(29726)}get right(){throw _t(36894)}copy(t,i,a,l,c){return this}insert(t,i,a){return new $e(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Be{constructor(t){this.comparator=t,this.data=new _e(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,a)=>(t(i),!1)))}forEachInRange(t,i){const a=this.data.getIteratorFrom(t[0]);for(;a.hasNext();){const l=a.getNext();if(this.comparator(l.key,t[1])>=0)return;i(l.key)}}forEachWhile(t,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!t(a.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new p0(this.data.getIterator())}getIteratorFrom(t){return new p0(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((a=>{i=i.add(a)})),i}isEqual(t){if(!(t instanceof Be)||this.size!==t.size)return!1;const i=this.data.getIterator(),a=t.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new Be(this.comparator);return i.data=t,i}}class p0{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class li{constructor(t){this.fields=t,t.sort(tn.comparator)}static empty(){return new li([])}unionWith(t){let i=new Be(tn.comparator);for(const a of this.fields)i=i.add(a);for(const a of t)i=i.add(a);return new li(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return $a(this.fields,t.fields,((i,a)=>i.isEqual(a)))}}class l1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class en{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new l1("Invalid base64 string: "+c):c}})(t);return new en(i)}static fromUint8Array(t){const i=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(t);return new en(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let l=0;l<i.length;l++)a[l]=i.charCodeAt(l);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Pt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}en.EMPTY_BYTE_STRING=new en("");const vw=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function rs(s){if(Wt(!!s,39018),typeof s=="string"){let t=0;const i=vw.exec(s);if(Wt(!!i,46558,{timestamp:s}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),t=Number(l)}const a=new Date(s);return{seconds:Math.floor(a.getTime()/1e3),nanos:t}}return{seconds:Ie(s.seconds),nanos:Ie(s.nanos)}}function Ie(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function ss(s){return typeof s=="string"?en.fromBase64String(s):en.fromUint8Array(s)}const u1="server_timestamp",c1="__type__",h1="__previous_value__",f1="__local_write_time__";function Dm(s){return(s?.mapValue?.fields||{})[c1]?.stringValue===u1}function ph(s){const t=s.mapValue.fields[h1];return Dm(t)?ph(t):t}function Ml(s){const t=rs(s.mapValue.fields[f1].timestampValue);return new he(t.seconds,t.nanos)}class Tw{constructor(t,i,a,l,c,d,p,v,_,b,w){this.databaseId=t,this.appId=i,this.persistenceKey=a,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=v,this.useFetchStreams=_,this.isUsingEmulator=b,this.apiKey=w}}const $c="(default)";class Ol{constructor(t,i){this.projectId=t,this.database=i||$c}static empty(){return new Ol("","")}get isDefaultDatabase(){return this.database===$c}isEqual(t){return t instanceof Ol&&t.projectId===this.projectId&&t.database===this.database}}function Ew(s,t){if(!Object.prototype.hasOwnProperty.apply(s.options,["projectId"]))throw new ht($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ol(s.options.projectId,t)}const d1="__type__",bw="__max__",Ac={mapValue:{}},m1="__vector__",th="value";function as(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Dm(s)?4:Aw(s)?9007199254740991:Sw(s)?10:11:_t(28295,{value:s})}function Ui(s,t){if(s===t)return!0;const i=as(s);if(i!==as(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===t.booleanValue;case 4:return Ml(s).isEqual(Ml(t));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=rs(l.timestampValue),p=rs(c.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(s,t);case 5:return s.stringValue===t.stringValue;case 6:return(function(l,c){return ss(l.bytesValue).isEqual(ss(c.bytesValue))})(s,t);case 7:return s.referenceValue===t.referenceValue;case 8:return(function(l,c){return Ie(l.geoPointValue.latitude)===Ie(c.geoPointValue.latitude)&&Ie(l.geoPointValue.longitude)===Ie(c.geoPointValue.longitude)})(s,t);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return Ie(l.integerValue)===Ie(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=Ie(l.doubleValue),p=Ie(c.doubleValue);return d===p?Zc(d)===Zc(p):isNaN(d)&&isNaN(p)}return!1})(s,t);case 9:return $a(s.arrayValue.values||[],t.arrayValue.values||[],Ui);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},p=c.mapValue.fields||{};if(g0(d)!==g0(p))return!1;for(const v in d)if(d.hasOwnProperty(v)&&(p[v]===void 0||!Ui(d[v],p[v])))return!1;return!0})(s,t);default:return _t(52216,{left:s})}}function Nl(s,t){return(s.values||[]).find((i=>Ui(i,t)))!==void 0}function to(s,t){if(s===t)return 0;const i=as(s),a=as(t);if(i!==a)return Pt(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return Pt(s.booleanValue,t.booleanValue);case 2:return(function(c,d){const p=Ie(c.integerValue||c.doubleValue),v=Ie(d.integerValue||d.doubleValue);return p<v?-1:p>v?1:p===v?0:isNaN(p)?isNaN(v)?0:-1:1})(s,t);case 3:return y0(s.timestampValue,t.timestampValue);case 4:return y0(Ml(s),Ml(t));case 5:return Jd(s.stringValue,t.stringValue);case 6:return(function(c,d){const p=ss(c),v=ss(d);return p.compareTo(v)})(s.bytesValue,t.bytesValue);case 7:return(function(c,d){const p=c.split("/"),v=d.split("/");for(let _=0;_<p.length&&_<v.length;_++){const b=Pt(p[_],v[_]);if(b!==0)return b}return Pt(p.length,v.length)})(s.referenceValue,t.referenceValue);case 8:return(function(c,d){const p=Pt(Ie(c.latitude),Ie(d.latitude));return p!==0?p:Pt(Ie(c.longitude),Ie(d.longitude))})(s.geoPointValue,t.geoPointValue);case 9:return _0(s.arrayValue,t.arrayValue);case 10:return(function(c,d){const p=c.fields||{},v=d.fields||{},_=p[th]?.arrayValue,b=v[th]?.arrayValue,w=Pt(_?.values?.length||0,b?.values?.length||0);return w!==0?w:_0(_,b)})(s.mapValue,t.mapValue);case 11:return(function(c,d){if(c===Ac.mapValue&&d===Ac.mapValue)return 0;if(c===Ac.mapValue)return 1;if(d===Ac.mapValue)return-1;const p=c.fields||{},v=Object.keys(p),_=d.fields||{},b=Object.keys(_);v.sort(),b.sort();for(let w=0;w<v.length&&w<b.length;++w){const k=Jd(v[w],b[w]);if(k!==0)return k;const X=to(p[v[w]],_[b[w]]);if(X!==0)return X}return Pt(v.length,b.length)})(s.mapValue,t.mapValue);default:throw _t(23264,{he:i})}}function y0(s,t){if(typeof s=="string"&&typeof t=="string"&&s.length===t.length)return Pt(s,t);const i=rs(s),a=rs(t),l=Pt(i.seconds,a.seconds);return l!==0?l:Pt(i.nanos,a.nanos)}function _0(s,t){const i=s.values||[],a=t.values||[];for(let l=0;l<i.length&&l<a.length;++l){const c=to(i[l],a[l]);if(c)return c}return Pt(i.length,a.length)}function eo(s){return Zd(s)}function Zd(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(i){const a=rs(i);return`time(${a.seconds},${a.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(i){return ss(i).toBase64()})(s.bytesValue):"referenceValue"in s?(function(i){return pt.fromName(i).toString()})(s.referenceValue):"geoPointValue"in s?(function(i){return`geo(${i.latitude},${i.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(i){let a="[",l=!0;for(const c of i.values||[])l?l=!1:a+=",",a+=Zd(c);return a+"]"})(s.arrayValue):"mapValue"in s?(function(i){const a=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of a)c?c=!1:l+=",",l+=`${d}:${Zd(i.fields[d])}`;return l+"}"})(s.mapValue):_t(61005,{value:s})}function zc(s){switch(as(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=ph(s);return t?16+zc(t):16;case 5:return 2*s.stringValue.length;case 6:return ss(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((l,c)=>l+zc(c)),0)})(s.arrayValue);case 10:case 11:return(function(a){let l=0;return Ws(a.fields,((c,d)=>{l+=c.length+zc(d)})),l})(s.mapValue);default:throw _t(13486,{value:s})}}function $d(s){return!!s&&"integerValue"in s}function Mm(s){return!!s&&"arrayValue"in s}function v0(s){return!!s&&"nullValue"in s}function T0(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function jc(s){return!!s&&"mapValue"in s}function Sw(s){return(s?.mapValue?.fields||{})[d1]?.stringValue===m1}function bl(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const t={mapValue:{fields:{}}};return Ws(s.mapValue.fields,((i,a)=>t.mapValue.fields[i]=bl(a))),t}if(s.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=bl(s.arrayValue.values[i]);return t}return{...s}}function Aw(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===bw}class qn{constructor(t){this.value=t}static empty(){return new qn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let a=0;a<t.length-1;++a)if(i=(i.mapValue.fields||{})[t.get(a)],!jc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=bl(i)}setAll(t){let i=tn.emptyPath(),a={},l=[];t.forEach(((d,p)=>{if(!i.isImmediateParentOf(p)){const v=this.getFieldsMap(i);this.applyChanges(v,a,l),a={},l=[],i=p.popLast()}d?a[p.lastSegment()]=bl(d):l.push(p.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,a,l)}delete(t){const i=this.field(t.popLast());jc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return Ui(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<t.length;++a){let l=i.mapValue.fields[t.get(a)];jc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[t.get(a)]=l),i=l}return i.mapValue.fields}applyChanges(t,i,a){Ws(i,((l,c)=>t[l]=c));for(const l of a)delete t[l]}clone(){return new qn(bl(this.value))}}function g1(s){const t=[];return Ws(s.fields,((i,a)=>{const l=new tn([i]);if(jc(a)){const c=g1(a.mapValue).fields;if(c.length===0)t.push(l);else for(const d of c)t.push(l.child(d))}else t.push(l)})),new li(t)}class an{constructor(t,i,a,l,c,d,p){this.key=t,this.documentType=i,this.version=a,this.readTime=l,this.createTime=c,this.data=d,this.documentState=p}static newInvalidDocument(t){return new an(t,0,bt.min(),bt.min(),bt.min(),qn.empty(),0)}static newFoundDocument(t,i,a,l){return new an(t,1,i,bt.min(),a,l,0)}static newNoDocument(t,i){return new an(t,2,i,bt.min(),bt.min(),qn.empty(),0)}static newUnknownDocument(t,i){return new an(t,3,i,bt.min(),bt.min(),qn.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(bt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=qn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=qn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=bt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof an&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new an(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class eh{constructor(t,i){this.position=t,this.inclusive=i}}function E0(s,t,i){let a=0;for(let l=0;l<s.position.length;l++){const c=t[l],d=s.position[l];if(c.field.isKeyField()?a=pt.comparator(pt.fromName(d.referenceValue),i.key):a=to(d,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function b0(s,t){if(s===null)return t===null;if(t===null||s.inclusive!==t.inclusive||s.position.length!==t.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!Ui(s.position[i],t.position[i]))return!1;return!0}class nh{constructor(t,i="asc"){this.field=t,this.dir=i}}function ww(s,t){return s.dir===t.dir&&s.field.isEqual(t.field)}class p1{}class je extends p1{constructor(t,i,a){super(),this.field=t,this.op=i,this.value=a}static create(t,i,a){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,a):new Cw(t,i,a):i==="array-contains"?new Dw(t,a):i==="in"?new Mw(t,a):i==="not-in"?new Ow(t,a):i==="array-contains-any"?new Nw(t,a):new je(t,i,a)}static createKeyFieldInFilter(t,i,a){return i==="in"?new Iw(t,a):new xw(t,a)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(to(i,this.value)):i!==null&&as(this.value)===as(i)&&this.matchesComparison(to(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return _t(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class zi extends p1{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new zi(t,i)}matches(t){return y1(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function y1(s){return s.op==="and"}function _1(s){return Rw(s)&&y1(s)}function Rw(s){for(const t of s.filters)if(t instanceof zi)return!1;return!0}function tm(s){if(s instanceof je)return s.field.canonicalString()+s.op.toString()+eo(s.value);if(_1(s))return s.filters.map((t=>tm(t))).join(",");{const t=s.filters.map((i=>tm(i))).join(",");return`${s.op}(${t})`}}function v1(s,t){return s instanceof je?(function(a,l){return l instanceof je&&a.op===l.op&&a.field.isEqual(l.field)&&Ui(a.value,l.value)})(s,t):s instanceof zi?(function(a,l){return l instanceof zi&&a.op===l.op&&a.filters.length===l.filters.length?a.filters.reduce(((c,d,p)=>c&&v1(d,l.filters[p])),!0):!1})(s,t):void _t(19439)}function T1(s){return s instanceof je?(function(i){return`${i.field.canonicalString()} ${i.op} ${eo(i.value)}`})(s):s instanceof zi?(function(i){return i.op.toString()+" {"+i.getFilters().map(T1).join(" ,")+"}"})(s):"Filter"}class Cw extends je{constructor(t,i,a){super(t,i,a),this.key=pt.fromName(a.referenceValue)}matches(t){const i=pt.comparator(t.key,this.key);return this.matchesComparison(i)}}class Iw extends je{constructor(t,i){super(t,"in",i),this.keys=E1("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class xw extends je{constructor(t,i){super(t,"not-in",i),this.keys=E1("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function E1(s,t){return(t.arrayValue?.values||[]).map((i=>pt.fromName(i.referenceValue)))}class Dw extends je{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return Mm(i)&&Nl(i.arrayValue,this.value)}}class Mw extends je{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&Nl(this.value.arrayValue,i)}}class Ow extends je{constructor(t,i){super(t,"not-in",i)}matches(t){if(Nl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Nl(this.value.arrayValue,i)}}class Nw extends je{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!Mm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>Nl(this.value.arrayValue,a)))}}class Vw{constructor(t,i=null,a=[],l=[],c=null,d=null,p=null){this.path=t,this.collectionGroup=i,this.orderBy=a,this.filters=l,this.limit=c,this.startAt=d,this.endAt=p,this.Te=null}}function S0(s,t=null,i=[],a=[],l=null,c=null,d=null){return new Vw(s,t,i,a,l,c,d)}function Om(s){const t=At(s);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((a=>tm(a))).join(","),i+="|ob:",i+=t.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),gh(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((a=>eo(a))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((a=>eo(a))).join(",")),t.Te=i}return t.Te}function Nm(s,t){if(s.limit!==t.limit||s.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!ww(s.orderBy[i],t.orderBy[i]))return!1;if(s.filters.length!==t.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!v1(s.filters[i],t.filters[i]))return!1;return s.collectionGroup===t.collectionGroup&&!!s.path.isEqual(t.path)&&!!b0(s.startAt,t.startAt)&&b0(s.endAt,t.endAt)}function em(s){return pt.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class yh{constructor(t,i=null,a=[],l=[],c=null,d="F",p=null,v=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=l,this.limit=c,this.limitType=d,this.startAt=p,this.endAt=v,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function kw(s,t,i,a,l,c,d,p){return new yh(s,t,i,a,l,c,d,p)}function Vm(s){return new yh(s)}function A0(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function Lw(s){return pt.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}function Pw(s){return s.collectionGroup!==null}function Sl(s){const t=At(s);if(t.Ie===null){t.Ie=[];const i=new Set;for(const c of t.explicitOrderBy)t.Ie.push(c),i.add(c.field.canonicalString());const a=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new Be(tn.comparator);return d.filters.forEach((v=>{v.getFlattenedFilters().forEach((_=>{_.isInequality()&&(p=p.add(_.field))}))})),p})(t).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||t.Ie.push(new nh(c,a))})),i.has(tn.keyField().canonicalString())||t.Ie.push(new nh(tn.keyField(),a))}return t.Ie}function Vi(s){const t=At(s);return t.Ee||(t.Ee=Uw(t,Sl(s))),t.Ee}function Uw(s,t){if(s.limitType==="F")return S0(s.path,s.collectionGroup,t,s.filters,s.limit,s.startAt,s.endAt);{t=t.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new nh(l.field,c)}));const i=s.endAt?new eh(s.endAt.position,s.endAt.inclusive):null,a=s.startAt?new eh(s.startAt.position,s.startAt.inclusive):null;return S0(s.path,s.collectionGroup,t,s.filters,s.limit,i,a)}}function nm(s,t,i){return new yh(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),t,i,s.startAt,s.endAt)}function _h(s,t){return Nm(Vi(s),Vi(t))&&s.limitType===t.limitType}function b1(s){return`${Om(Vi(s))}|lt:${s.limitType}`}function qa(s){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((l=>T1(l))).join(", ")}]`),gh(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((l=>eo(l))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((l=>eo(l))).join(",")),`Target(${a})`})(Vi(s))}; limitType=${s.limitType})`}function vh(s,t){return t.isFoundDocument()&&(function(a,l){const c=l.key.path;return a.collectionGroup!==null?l.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):pt.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(s,t)&&(function(a,l){for(const c of Sl(a))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(s,t)&&(function(a,l){for(const c of a.filters)if(!c.matches(l))return!1;return!0})(s,t)&&(function(a,l){return!(a.startAt&&!(function(d,p,v){const _=E0(d,p,v);return d.inclusive?_<=0:_<0})(a.startAt,Sl(a),l)||a.endAt&&!(function(d,p,v){const _=E0(d,p,v);return d.inclusive?_>=0:_>0})(a.endAt,Sl(a),l))})(s,t)}function zw(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function S1(s){return(t,i)=>{let a=!1;for(const l of Sl(s)){const c=jw(l,t,i);if(c!==0)return c;a=a||l.field.isKeyField()}return 0}}function jw(s,t,i){const a=s.field.isKeyField()?pt.comparator(t.key,i.key):(function(c,d,p){const v=d.data.field(c),_=p.data.field(c);return v!==null&&_!==null?to(v,_):_t(42886)})(s.field,t,i);switch(s.dir){case"asc":return a;case"desc":return-1*a;default:return _t(19790,{direction:s.dir})}}class Js{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a!==void 0){for(const[l,c]of a)if(this.equalsFn(l,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const a=this.mapKeyFn(t),l=this.inner[a];if(l===void 0)return this.inner[a]=[[t,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],t))return void(l[c]=[t,i]);l.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a===void 0)return!1;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],t))return a.length===1?delete this.inner[i]:a.splice(l,1),this.innerSize--,!0;return!1}forEach(t){Ws(this.inner,((i,a)=>{for(const[l,c]of a)t(l,c)}))}isEmpty(){return o1(this.inner)}size(){return this.innerSize}}const Bw=new _e(pt.comparator);function mr(){return Bw}const A1=new _e(pt.comparator);function yl(...s){let t=A1;for(const i of s)t=t.insert(i.key,i);return t}function w1(s){let t=A1;return s.forEach(((i,a)=>t=t.insert(i,a.overlayedDocument))),t}function qs(){return Al()}function R1(){return Al()}function Al(){return new Js((s=>s.toString()),((s,t)=>s.isEqual(t)))}const qw=new _e(pt.comparator),Hw=new Be(pt.comparator);function Ut(...s){let t=Hw;for(const i of s)t=t.add(i);return t}const Fw=new Be(Pt);function Gw(){return Fw}function km(s,t){if(s.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Zc(t)?"-0":t}}function C1(s){return{integerValue:""+s}}function Kw(s,t){return pw(t)?C1(t):km(s,t)}class Th{constructor(){this._=void 0}}function Qw(s,t,i){return s instanceof ih?(function(l,c){const d={fields:{[c1]:{stringValue:u1},[f1]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&Dm(c)&&(c=ph(c)),c&&(d.fields[h1]=c),{mapValue:d}})(i,t):s instanceof Vl?x1(s,t):s instanceof kl?D1(s,t):(function(l,c){const d=I1(l,c),p=w0(d)+w0(l.Ae);return $d(d)&&$d(l.Ae)?C1(p):km(l.serializer,p)})(s,t)}function Yw(s,t,i){return s instanceof Vl?x1(s,t):s instanceof kl?D1(s,t):i}function I1(s,t){return s instanceof rh?(function(a){return $d(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(t)?t:{integerValue:0}:null}class ih extends Th{}class Vl extends Th{constructor(t){super(),this.elements=t}}function x1(s,t){const i=M1(t);for(const a of s.elements)i.some((l=>Ui(l,a)))||i.push(a);return{arrayValue:{values:i}}}class kl extends Th{constructor(t){super(),this.elements=t}}function D1(s,t){let i=M1(t);for(const a of s.elements)i=i.filter((l=>!Ui(l,a)));return{arrayValue:{values:i}}}class rh extends Th{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function w0(s){return Ie(s.integerValue||s.doubleValue)}function M1(s){return Mm(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function Xw(s,t){return s.field.isEqual(t.field)&&(function(a,l){return a instanceof Vl&&l instanceof Vl||a instanceof kl&&l instanceof kl?$a(a.elements,l.elements,Ui):a instanceof rh&&l instanceof rh?Ui(a.Ae,l.Ae):a instanceof ih&&l instanceof ih})(s.transform,t.transform)}class Ww{constructor(t,i){this.version=t,this.transformResults=i}}class cr{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new cr}static exists(t){return new cr(void 0,t)}static updateTime(t){return new cr(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Bc(s,t){return s.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(s.updateTime):s.exists===void 0||s.exists===t.isFoundDocument()}class Eh{}function O1(s,t){if(!s.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return s.isNoDocument()?new V1(s.key,cr.none()):new Hl(s.key,s.data,cr.none());{const i=s.data,a=qn.empty();let l=new Be(tn.comparator);for(let c of t.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?a.delete(c):a.set(c,d),l=l.add(c)}return new Zs(s.key,a,new li(l.toArray()),cr.none())}}function Jw(s,t,i){s instanceof Hl?(function(l,c,d){const p=l.value.clone(),v=C0(l.fieldTransforms,c,d.transformResults);p.setAll(v),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(s,t,i):s instanceof Zs?(function(l,c,d){if(!Bc(l.precondition,c))return void c.convertToUnknownDocument(d.version);const p=C0(l.fieldTransforms,c,d.transformResults),v=c.data;v.setAll(N1(l)),v.setAll(p),c.convertToFoundDocument(d.version,v).setHasCommittedMutations()})(s,t,i):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,i)}function wl(s,t,i,a){return s instanceof Hl?(function(c,d,p,v){if(!Bc(c.precondition,d))return p;const _=c.value.clone(),b=I0(c.fieldTransforms,v,d);return _.setAll(b),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(s,t,i,a):s instanceof Zs?(function(c,d,p,v){if(!Bc(c.precondition,d))return p;const _=I0(c.fieldTransforms,v,d),b=d.data;return b.setAll(N1(c)),b.setAll(_),d.convertToFoundDocument(d.version,b).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((w=>w.field)))})(s,t,i,a):(function(c,d,p){return Bc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(s,t,i)}function Zw(s,t){let i=null;for(const a of s.fieldTransforms){const l=t.data.field(a.field),c=I1(a.transform,l||null);c!=null&&(i===null&&(i=qn.empty()),i.set(a.field,c))}return i||null}function R0(s,t){return s.type===t.type&&!!s.key.isEqual(t.key)&&!!s.precondition.isEqual(t.precondition)&&!!(function(a,l){return a===void 0&&l===void 0||!(!a||!l)&&$a(a,l,((c,d)=>Xw(c,d)))})(s.fieldTransforms,t.fieldTransforms)&&(s.type===0?s.value.isEqual(t.value):s.type!==1||s.data.isEqual(t.data)&&s.fieldMask.isEqual(t.fieldMask))}class Hl extends Eh{constructor(t,i,a,l=[]){super(),this.key=t,this.value=i,this.precondition=a,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Zs extends Eh{constructor(t,i,a,l,c=[]){super(),this.key=t,this.data=i,this.fieldMask=a,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function N1(s){const t=new Map;return s.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=s.data.field(i);t.set(i,a)}})),t}function C0(s,t,i){const a=new Map;Wt(s.length===i.length,32656,{Ve:i.length,de:s.length});for(let l=0;l<i.length;l++){const c=s[l],d=c.transform,p=t.data.field(c.field);a.set(c.field,Yw(d,p,i[l]))}return a}function I0(s,t,i){const a=new Map;for(const l of s){const c=l.transform,d=i.data.field(l.field);a.set(l.field,Qw(c,d,t))}return a}class V1 extends Eh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class $w extends Eh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class tR{constructor(t,i,a,l){this.batchId=t,this.localWriteTime=i,this.baseMutations=a,this.mutations=l}applyToRemoteDocument(t,i){const a=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(t.key)&&Jw(c,t,a[l])}}applyToLocalView(t,i){for(const a of this.baseMutations)a.key.isEqual(t.key)&&(i=wl(a,t,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(t.key)&&(i=wl(a,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const a=R1();return this.mutations.forEach((l=>{const c=t.get(l.key),d=c.overlayedDocument;let p=this.applyToLocalView(d,c.mutatedFields);p=i.has(l.key)?null:p;const v=O1(d,p);v!==null&&a.set(l.key,v),d.isValidDocument()||d.convertToNoDocument(bt.min())})),a}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),Ut())}isEqual(t){return this.batchId===t.batchId&&$a(this.mutations,t.mutations,((i,a)=>R0(i,a)))&&$a(this.baseMutations,t.baseMutations,((i,a)=>R0(i,a)))}}class Lm{constructor(t,i,a,l){this.batch=t,this.commitVersion=i,this.mutationResults=a,this.docVersions=l}static from(t,i,a){Wt(t.mutations.length===a.length,58842,{me:t.mutations.length,fe:a.length});let l=(function(){return qw})();const c=t.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,a[d].version);return new Lm(t,i,a,l)}}class eR{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class nR{constructor(t,i){this.count=t,this.unchangedNames=i}}var Pe,Ht;function iR(s){switch(s){case $.OK:return _t(64938);case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0;default:return _t(15467,{code:s})}}function k1(s){if(s===void 0)return dr("GRPC error has no .code"),$.UNKNOWN;switch(s){case Pe.OK:return $.OK;case Pe.CANCELLED:return $.CANCELLED;case Pe.UNKNOWN:return $.UNKNOWN;case Pe.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case Pe.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case Pe.INTERNAL:return $.INTERNAL;case Pe.UNAVAILABLE:return $.UNAVAILABLE;case Pe.UNAUTHENTICATED:return $.UNAUTHENTICATED;case Pe.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case Pe.NOT_FOUND:return $.NOT_FOUND;case Pe.ALREADY_EXISTS:return $.ALREADY_EXISTS;case Pe.PERMISSION_DENIED:return $.PERMISSION_DENIED;case Pe.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case Pe.ABORTED:return $.ABORTED;case Pe.OUT_OF_RANGE:return $.OUT_OF_RANGE;case Pe.UNIMPLEMENTED:return $.UNIMPLEMENTED;case Pe.DATA_LOSS:return $.DATA_LOSS;default:return _t(39323,{code:s})}}(Ht=Pe||(Pe={}))[Ht.OK=0]="OK",Ht[Ht.CANCELLED=1]="CANCELLED",Ht[Ht.UNKNOWN=2]="UNKNOWN",Ht[Ht.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ht[Ht.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ht[Ht.NOT_FOUND=5]="NOT_FOUND",Ht[Ht.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ht[Ht.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ht[Ht.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ht[Ht.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ht[Ht.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ht[Ht.ABORTED=10]="ABORTED",Ht[Ht.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ht[Ht.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ht[Ht.INTERNAL=13]="INTERNAL",Ht[Ht.UNAVAILABLE=14]="UNAVAILABLE",Ht[Ht.DATA_LOSS=15]="DATA_LOSS";function rR(){return new TextEncoder}const sR=new es([4294967295,4294967295],0);function x0(s){const t=rR().encode(s),i=new Jv;return i.update(t),new Uint8Array(i.digest())}function D0(s){const t=new DataView(s.buffer),i=t.getUint32(0,!0),a=t.getUint32(4,!0),l=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new es([i,a],0),new es([l,c],0)]}class Pm{constructor(t,i,a){if(this.bitmap=t,this.padding=i,this.hashCount=a,i<0||i>=8)throw new _l(`Invalid padding: ${i}`);if(a<0)throw new _l(`Invalid hash count: ${a}`);if(t.length>0&&this.hashCount===0)throw new _l(`Invalid hash count: ${a}`);if(t.length===0&&i!==0)throw new _l(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=es.fromNumber(this.ge)}ye(t,i,a){let l=t.add(i.multiply(es.fromNumber(a)));return l.compare(sR)===1&&(l=new es([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=x0(t),[a,l]=D0(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);if(!this.we(d))return!1}return!0}static create(t,i,a){const l=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new Pm(c,l,i);return a.forEach((p=>d.insert(p))),d}insert(t){if(this.ge===0)return;const i=x0(t),[a,l]=D0(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);this.be(d)}}be(t){const i=Math.floor(t/8),a=t%8;this.bitmap[i]|=1<<a}}class _l extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class bh{constructor(t,i,a,l,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,a){const l=new Map;return l.set(t,Fl.createSynthesizedTargetChangeForCurrentChange(t,i,a)),new bh(bt.min(),l,new _e(Pt),mr(),Ut())}}class Fl{constructor(t,i,a,l,c){this.resumeToken=t,this.current=i,this.addedDocuments=a,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,a){return new Fl(a,i,Ut(),Ut(),Ut())}}class qc{constructor(t,i,a,l){this.Se=t,this.removedTargetIds=i,this.key=a,this.De=l}}class L1{constructor(t,i){this.targetId=t,this.Ce=i}}class P1{constructor(t,i,a=en.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=i,this.resumeToken=a,this.cause=l}}class M0{constructor(){this.ve=0,this.Fe=O0(),this.Me=en.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Ut(),i=Ut(),a=Ut();return this.Fe.forEach(((l,c)=>{switch(c){case 0:t=t.add(l);break;case 2:i=i.add(l);break;case 1:a=a.add(l);break;default:_t(38017,{changeType:c})}})),new Fl(this.Me,this.xe,t,i,a)}Ke(){this.Oe=!1,this.Fe=O0()}qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}Ue(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}$e(){this.ve+=1}We(){this.ve-=1,Wt(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class aR{constructor(t){this.Ge=t,this.ze=new Map,this.je=mr(),this.He=wc(),this.Je=wc(),this.Ze=new _e(Pt)}Xe(t){for(const i of t.Se)t.De&&t.De.isFoundDocument()?this.Ye(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const a=this.nt(i);switch(t.state){case 0:this.rt(i)&&a.Le(t.resumeToken);break;case 1:a.We(),a.Ne||a.Ke(),a.Le(t.resumeToken);break;case 2:a.We(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.Qe(),a.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(t.resumeToken));break;default:_t(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((a,l)=>{this.rt(l)&&i(l)}))}st(t){const i=t.targetId,a=t.Ce.count,l=this.ot(i);if(l){const c=l.target;if(em(c))if(a===0){const d=new pt(c.path);this.et(i,d,an.newNoDocument(d,bt.min()))}else Wt(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const p=this.ut(t),v=p?this.ct(p,t,d):1;if(v!==0){this.it(i);const _=v===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(i,_)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:l=0},hashCount:c=0}=i;let d,p;try{d=ss(a).toUint8Array()}catch(v){if(v instanceof l1)return Za("Decoding the base64 bloom filter in existence filter failed ("+v.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw v}try{p=new Pm(d,l,c)}catch(v){return Za(v instanceof _l?"BloomFilter error: ":"Applying bloom filter failed: ",v),null}return p.ge===0?null:p}ct(t,i,a){return i.Ce.count===a-this.Pt(t,i.targetId)?0:2}Pt(t,i){const a=this.Ge.getRemoteKeysForTarget(i);let l=0;return a.forEach((c=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(p)||(this.et(i,c,null),l++)})),l}Tt(t){const i=new Map;this.ze.forEach(((c,d)=>{const p=this.ot(d);if(p){if(c.current&&em(p.target)){const v=new pt(p.target.path);this.It(v).has(d)||this.Et(d,v)||this.et(d,v,an.newNoDocument(v,t))}c.Be&&(i.set(d,c.ke()),c.Ke())}}));let a=Ut();this.Je.forEach(((c,d)=>{let p=!0;d.forEachWhile((v=>{const _=this.ot(v);return!_||_.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(a=a.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(t)));const l=new bh(t,i,this.Ze,this.je,a);return this.je=mr(),this.He=wc(),this.Je=wc(),this.Ze=new _e(Pt),l}Ye(t,i){if(!this.rt(t))return;const a=this.Et(t,i.key)?2:0;this.nt(t).qe(i.key,a),this.je=this.je.insert(i.key,i),this.He=this.He.insert(i.key,this.It(i.key).add(t)),this.Je=this.Je.insert(i.key,this.Rt(i.key).add(t))}et(t,i,a){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,i)?l.qe(i,1):l.Ue(i),this.Je=this.Je.insert(i,this.Rt(i).delete(t)),this.Je=this.Je.insert(i,this.Rt(i).add(t)),a&&(this.je=this.je.insert(i,a))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}$e(t){this.nt(t).$e()}nt(t){let i=this.ze.get(t);return i||(i=new M0,this.ze.set(t,i)),i}Rt(t){let i=this.Je.get(t);return i||(i=new Be(Pt),this.Je=this.Je.insert(t,i)),i}It(t){let i=this.He.get(t);return i||(i=new Be(Pt),this.He=this.He.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||ot("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new M0),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function wc(){return new _e(pt.comparator)}function O0(){return new _e(pt.comparator)}const oR={asc:"ASCENDING",desc:"DESCENDING"},lR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},uR={and:"AND",or:"OR"};class cR{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function im(s,t){return s.useProto3Json||gh(t)?t:{value:t}}function sh(s,t){return s.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function U1(s,t){return s.useProto3Json?t.toBase64():t.toUint8Array()}function hR(s,t){return sh(s,t.toTimestamp())}function ki(s){return Wt(!!s,49232),bt.fromTimestamp((function(i){const a=rs(i);return new he(a.seconds,a.nanos)})(s))}function Um(s,t){return rm(s,t).canonicalString()}function rm(s,t){const i=(function(l){return new ye(["projects",l.projectId,"databases",l.database])})(s).child("documents");return t===void 0?i:i.child(t)}function z1(s){const t=ye.fromString(s);return Wt(F1(t),10190,{key:t.toString()}),t}function sm(s,t){return Um(s.databaseId,t.path)}function Pd(s,t){const i=z1(t);if(i.get(1)!==s.databaseId.projectId)throw new ht($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new ht($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new pt(B1(i))}function j1(s,t){return Um(s.databaseId,t)}function fR(s){const t=z1(s);return t.length===4?ye.emptyPath():B1(t)}function am(s){return new ye(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function B1(s){return Wt(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function N0(s,t,i){return{name:sm(s,t),fields:i.value.mapValue.fields}}function dR(s,t){let i;if("targetChange"in t){t.targetChange;const a=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:_t(39313,{state:_})})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],c=(function(_,b){return _.useProto3Json?(Wt(b===void 0||typeof b=="string",58123),en.fromBase64String(b||"")):(Wt(b===void 0||b instanceof Buffer||b instanceof Uint8Array,16193),en.fromUint8Array(b||new Uint8Array))})(s,t.targetChange.resumeToken),d=t.targetChange.cause,p=d&&(function(_){const b=_.code===void 0?$.UNKNOWN:k1(_.code);return new ht(b,_.message||"")})(d);i=new P1(a,l,c,p||null)}else if("documentChange"in t){t.documentChange;const a=t.documentChange;a.document,a.document.name,a.document.updateTime;const l=Pd(s,a.document.name),c=ki(a.document.updateTime),d=a.document.createTime?ki(a.document.createTime):bt.min(),p=new qn({mapValue:{fields:a.document.fields}}),v=an.newFoundDocument(l,c,d,p),_=a.targetIds||[],b=a.removedTargetIds||[];i=new qc(_,b,v.key,v)}else if("documentDelete"in t){t.documentDelete;const a=t.documentDelete;a.document;const l=Pd(s,a.document),c=a.readTime?ki(a.readTime):bt.min(),d=an.newNoDocument(l,c),p=a.removedTargetIds||[];i=new qc([],p,d.key,d)}else if("documentRemove"in t){t.documentRemove;const a=t.documentRemove;a.document;const l=Pd(s,a.document),c=a.removedTargetIds||[];i=new qc([],c,l,null)}else{if(!("filter"in t))return _t(11601,{Vt:t});{t.filter;const a=t.filter;a.targetId;const{count:l=0,unchangedNames:c}=a,d=new nR(l,c),p=a.targetId;i=new L1(p,d)}}return i}function mR(s,t){let i;if(t instanceof Hl)i={update:N0(s,t.key,t.value)};else if(t instanceof V1)i={delete:sm(s,t.key)};else if(t instanceof Zs)i={update:N0(s,t.key,t.data),updateMask:SR(t.fieldMask)};else{if(!(t instanceof $w))return _t(16599,{dt:t.type});i={verify:sm(s,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((a=>(function(c,d){const p=d.transform;if(p instanceof ih)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof Vl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof kl)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof rh)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw _t(20930,{transform:d.transform})})(0,a)))),t.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:hR(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:_t(27497)})(s,t.precondition)),i}function gR(s,t){return s&&s.length>0?(Wt(t!==void 0,14353),s.map((i=>(function(l,c){let d=l.updateTime?ki(l.updateTime):ki(c);return d.isEqual(bt.min())&&(d=ki(c)),new Ww(d,l.transformResults||[])})(i,t)))):[]}function pR(s,t){return{documents:[j1(s,t.path)]}}function yR(s,t){const i={structuredQuery:{}},a=t.path;let l;t.collectionGroup!==null?(l=a,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=j1(s,l);const c=(function(_){if(_.length!==0)return H1(zi.create(_,"and"))})(t.filters);c&&(i.structuredQuery.where=c);const d=(function(_){if(_.length!==0)return _.map((b=>(function(k){return{field:Ha(k.field),direction:TR(k.dir)}})(b)))})(t.orderBy);d&&(i.structuredQuery.orderBy=d);const p=im(s,t.limit);return p!==null&&(i.structuredQuery.limit=p),t.startAt&&(i.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(t.endAt)),{ft:i,parent:l}}function _R(s){let t=fR(s.parent);const i=s.structuredQuery,a=i.from?i.from.length:0;let l=null;if(a>0){Wt(a===1,65062);const b=i.from[0];b.allDescendants?l=b.collectionId:t=t.child(b.collectionId)}let c=[];i.where&&(c=(function(w){const k=q1(w);return k instanceof zi&&_1(k)?k.getFilters():[k]})(i.where));let d=[];i.orderBy&&(d=(function(w){return w.map((k=>(function(it){return new nh(Fa(it.field),(function(st){switch(st){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(it.direction))})(k)))})(i.orderBy));let p=null;i.limit&&(p=(function(w){let k;return k=typeof w=="object"?w.value:w,gh(k)?null:k})(i.limit));let v=null;i.startAt&&(v=(function(w){const k=!!w.before,X=w.values||[];return new eh(X,k)})(i.startAt));let _=null;return i.endAt&&(_=(function(w){const k=!w.before,X=w.values||[];return new eh(X,k)})(i.endAt)),kw(t,l,d,c,p,"F",v,_)}function vR(s,t){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return _t(28987,{purpose:l})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function q1(s){return s.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=Fa(i.unaryFilter.field);return je.create(a,"==",{doubleValue:NaN});case"IS_NULL":const l=Fa(i.unaryFilter.field);return je.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Fa(i.unaryFilter.field);return je.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Fa(i.unaryFilter.field);return je.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return _t(61313);default:return _t(60726)}})(s):s.fieldFilter!==void 0?(function(i){return je.create(Fa(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return _t(58110);default:return _t(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(i){return zi.create(i.compositeFilter.filters.map((a=>q1(a))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return _t(1026)}})(i.compositeFilter.op))})(s):_t(30097,{filter:s})}function TR(s){return oR[s]}function ER(s){return lR[s]}function bR(s){return uR[s]}function Ha(s){return{fieldPath:s.canonicalString()}}function Fa(s){return tn.fromServerFormat(s.fieldPath)}function H1(s){return s instanceof je?(function(i){if(i.op==="=="){if(T0(i.value))return{unaryFilter:{field:Ha(i.field),op:"IS_NAN"}};if(v0(i.value))return{unaryFilter:{field:Ha(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(T0(i.value))return{unaryFilter:{field:Ha(i.field),op:"IS_NOT_NAN"}};if(v0(i.value))return{unaryFilter:{field:Ha(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ha(i.field),op:ER(i.op),value:i.value}}})(s):s instanceof zi?(function(i){const a=i.getFilters().map((l=>H1(l)));return a.length===1?a[0]:{compositeFilter:{op:bR(i.op),filters:a}}})(s):_t(54877,{filter:s})}function SR(s){const t=[];return s.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function F1(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}function G1(s){return!!s&&typeof s._toProto=="function"&&s._protoValueType==="ProtoValue"}class Jr{constructor(t,i,a,l,c=bt.min(),d=bt.min(),p=en.EMPTY_BYTE_STRING,v=null){this.target=t,this.targetId=i,this.purpose=a,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=v}withSequenceNumber(t){return new Jr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new Jr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Jr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Jr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class AR{constructor(t){this.yt=t}}function wR(s){const t=_R({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?nm(t,t.limit,"L"):t}class RR{constructor(){this.Sn=new CR}addToCollectionParentIndex(t,i){return this.Sn.add(i),J.resolve()}getCollectionParents(t,i){return J.resolve(this.Sn.getEntries(i))}addFieldIndex(t,i){return J.resolve()}deleteFieldIndex(t,i){return J.resolve()}deleteAllFieldIndexes(t){return J.resolve()}createTargetIndexes(t,i){return J.resolve()}getDocumentsMatchingTarget(t,i){return J.resolve(null)}getIndexType(t,i){return J.resolve(0)}getFieldIndexes(t,i){return J.resolve([])}getNextCollectionGroupToUpdate(t){return J.resolve(null)}getMinOffset(t,i){return J.resolve(is.min())}getMinOffsetFromCollectionGroup(t,i){return J.resolve(is.min())}updateCollectionGroup(t,i,a){return J.resolve()}updateIndexEntries(t,i){return J.resolve()}}class CR{constructor(){this.index={}}add(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i]||new Be(ye.comparator),c=!l.has(a);return this.index[i]=l.add(a),c}has(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i];return l&&l.has(a)}getEntries(t){return(this.index[t]||new Be(ye.comparator)).toArray()}}const V0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},K1=41943040;class _n{static withCacheSize(t){return new _n(t,_n.DEFAULT_COLLECTION_PERCENTILE,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,a){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}_n.DEFAULT_COLLECTION_PERCENTILE=10,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,_n.DEFAULT=new _n(K1,_n.DEFAULT_COLLECTION_PERCENTILE,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),_n.DISABLED=new _n(-1,0,0);class no{constructor(t){this.sr=t}next(){return this.sr+=2,this.sr}static _r(){return new no(0)}static ar(){return new no(-1)}}const k0="LruGarbageCollector",IR=1048576;function L0([s,t],[i,a]){const l=Pt(s,i);return l===0?Pt(t,a):l}class xR{constructor(t){this.Pr=t,this.buffer=new Be(L0),this.Tr=0}Ir(){return++this.Tr}Er(t){const i=[t,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();L0(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class DR{constructor(t,i,a){this.garbageCollector=t,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(t){ot(k0,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){uo(i)?ot(k0,"Ignoring IndexedDB error during garbage collection: ",i):await lo(i)}await this.Ar(3e5)}))}}class MR{constructor(t,i){this.Vr=t,this.params=i}calculateTargetCount(t,i){return this.Vr.dr(t).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(t,i){if(i===0)return J.resolve(mh.ce);const a=new xR(i);return this.Vr.forEachTarget(t,(l=>a.Er(l.sequenceNumber))).next((()=>this.Vr.mr(t,(l=>a.Er(l))))).next((()=>a.maxValue))}removeTargets(t,i,a){return this.Vr.removeTargets(t,i,a)}removeOrphanedDocuments(t,i){return this.Vr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(ot("LruGarbageCollector","Garbage collection skipped; disabled"),J.resolve(V0)):this.getCacheSize(t).next((a=>a<this.params.cacheSizeCollectionThreshold?(ot("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),V0):this.gr(t,i)))}getCacheSize(t){return this.Vr.getCacheSize(t)}gr(t,i){let a,l,c,d,p,v,_;const b=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((w=>(w>this.params.maximumSequenceNumbersToCollect?(ot("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),l=this.params.maximumSequenceNumbersToCollect):l=w,d=Date.now(),this.nthSequenceNumber(t,l)))).next((w=>(a=w,p=Date.now(),this.removeTargets(t,a,i)))).next((w=>(c=w,v=Date.now(),this.removeOrphanedDocuments(t,a)))).next((w=>(_=Date.now(),Ba()<=Lt.DEBUG&&ot("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-b}ms
	Determined least recently used ${l} in `+(p-d)+`ms
	Removed ${c} targets in `+(v-p)+`ms
	Removed ${w} documents in `+(_-v)+`ms
Total Duration: ${_-b}ms`),J.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:w}))))}}function OR(s,t){return new MR(s,t)}class NR{constructor(){this.changes=new Js((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,an.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?J.resolve(a):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class VR{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}class kR{constructor(t,i,a,l){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=l}getDocument(t,i){let a=null;return this.documentOverlayCache.getOverlay(t,i).next((l=>(a=l,this.remoteDocumentCache.getEntry(t,i)))).next((l=>(a!==null&&wl(a.mutation,l,li.empty(),he.now()),l)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.getLocalViewOfDocuments(t,a,Ut()).next((()=>a))))}getLocalViewOfDocuments(t,i,a=Ut()){const l=qs();return this.populateOverlays(t,l,i).next((()=>this.computeViews(t,i,l,a).next((c=>{let d=yl();return c.forEach(((p,v)=>{d=d.insert(p,v.overlayedDocument)})),d}))))}getOverlayedDocuments(t,i){const a=qs();return this.populateOverlays(t,a,i).next((()=>this.computeViews(t,i,a,Ut())))}populateOverlays(t,i,a){const l=[];return a.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(t,l).next((c=>{c.forEach(((d,p)=>{i.set(d,p)}))}))}computeViews(t,i,a,l){let c=mr();const d=Al(),p=(function(){return Al()})();return i.forEach(((v,_)=>{const b=a.get(_.key);l.has(_.key)&&(b===void 0||b.mutation instanceof Zs)?c=c.insert(_.key,_):b!==void 0?(d.set(_.key,b.mutation.getFieldMask()),wl(b.mutation,_,b.mutation.getFieldMask(),he.now())):d.set(_.key,li.empty())})),this.recalculateAndSaveOverlays(t,c).next((v=>(v.forEach(((_,b)=>d.set(_,b))),i.forEach(((_,b)=>p.set(_,new VR(b,d.get(_)??null)))),p)))}recalculateAndSaveOverlays(t,i){const a=Al();let l=new _e(((d,p)=>d-p)),c=Ut();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((d=>{for(const p of d)p.keys().forEach((v=>{const _=i.get(v);if(_===null)return;let b=a.get(v)||li.empty();b=p.applyToLocalView(_,b),a.set(v,b);const w=(l.get(p.batchId)||Ut()).add(v);l=l.insert(p.batchId,w)}))})).next((()=>{const d=[],p=l.getReverseIterator();for(;p.hasNext();){const v=p.getNext(),_=v.key,b=v.value,w=R1();b.forEach((k=>{if(!c.has(k)){const X=O1(i.get(k),a.get(k));X!==null&&w.set(k,X),c=c.add(k)}})),d.push(this.documentOverlayCache.saveOverlays(t,_,w))}return J.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.recalculateAndSaveOverlays(t,a)))}getDocumentsMatchingQuery(t,i,a,l){return Lw(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):Pw(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,a,l):this.getDocumentsMatchingCollectionQuery(t,i,a,l)}getNextDocuments(t,i,a,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,a,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,a.largestBatchId,l-c.size):J.resolve(qs());let p=Dl,v=c;return d.next((_=>J.forEach(_,((b,w)=>(p<w.largestBatchId&&(p=w.largestBatchId),c.get(b)?J.resolve():this.remoteDocumentCache.getEntry(t,b).next((k=>{v=v.insert(b,k)}))))).next((()=>this.populateOverlays(t,_,c))).next((()=>this.computeViews(t,v,_,Ut()))).next((b=>({batchId:p,changes:w1(b)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new pt(i)).next((a=>{let l=yl();return a.isFoundDocument()&&(l=l.insert(a.key,a)),l}))}getDocumentsMatchingCollectionGroupQuery(t,i,a,l){const c=i.collectionGroup;let d=yl();return this.indexManager.getCollectionParents(t,c).next((p=>J.forEach(p,(v=>{const _=(function(w,k){return new yh(k,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)})(i,v.child(c));return this.getDocumentsMatchingCollectionQuery(t,_,a,l).next((b=>{b.forEach(((w,k)=>{d=d.insert(w,k)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,i,a,l){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,a.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,a,c,l)))).next((d=>{c.forEach(((v,_)=>{const b=_.getKey();d.get(b)===null&&(d=d.insert(b,an.newInvalidDocument(b)))}));let p=yl();return d.forEach(((v,_)=>{const b=c.get(v);b!==void 0&&wl(b.mutation,_,li.empty(),he.now()),vh(i,_)&&(p=p.insert(v,_))})),p}))}}class LR{constructor(t){this.serializer=t,this.Nr=new Map,this.Br=new Map}getBundleMetadata(t,i){return J.resolve(this.Nr.get(i))}saveBundleMetadata(t,i){return this.Nr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:ki(l.createTime)}})(i)),J.resolve()}getNamedQuery(t,i){return J.resolve(this.Br.get(i))}saveNamedQuery(t,i){return this.Br.set(i.name,(function(l){return{name:l.name,query:wR(l.bundledQuery),readTime:ki(l.readTime)}})(i)),J.resolve()}}class PR{constructor(){this.overlays=new _e(pt.comparator),this.Lr=new Map}getOverlay(t,i){return J.resolve(this.overlays.get(i))}getOverlays(t,i){const a=qs();return J.forEach(i,(l=>this.getOverlay(t,l).next((c=>{c!==null&&a.set(l,c)})))).next((()=>a))}saveOverlays(t,i,a){return a.forEach(((l,c)=>{this.bt(t,i,c)})),J.resolve()}removeOverlaysForBatchId(t,i,a){const l=this.Lr.get(a);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.Lr.delete(a)),J.resolve()}getOverlaysForCollection(t,i,a){const l=qs(),c=i.length+1,d=new pt(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const v=p.getNext().value,_=v.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===c&&v.largestBatchId>a&&l.set(v.getKey(),v)}return J.resolve(l)}getOverlaysForCollectionGroup(t,i,a,l){let c=new _e(((_,b)=>_-b));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>a){let b=c.get(_.largestBatchId);b===null&&(b=qs(),c=c.insert(_.largestBatchId,b)),b.set(_.getKey(),_)}}const p=qs(),v=c.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach(((_,b)=>p.set(_,b))),!(p.size()>=l)););return J.resolve(p)}bt(t,i,a){const l=this.overlays.get(a.key);if(l!==null){const d=this.Lr.get(l.largestBatchId).delete(a.key);this.Lr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new eR(i,a));let c=this.Lr.get(i);c===void 0&&(c=Ut(),this.Lr.set(i,c)),this.Lr.set(i,c.add(a.key))}}class UR{constructor(){this.sessionToken=en.EMPTY_BYTE_STRING}getSessionToken(t){return J.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,J.resolve()}}class zm{constructor(){this.kr=new Be(Ge.Kr),this.qr=new Be(Ge.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(t,i){const a=new Ge(t,i);this.kr=this.kr.add(a),this.qr=this.qr.add(a)}$r(t,i){t.forEach((a=>this.addReference(a,i)))}removeReference(t,i){this.Wr(new Ge(t,i))}Qr(t,i){t.forEach((a=>this.removeReference(a,i)))}Gr(t){const i=new pt(new ye([])),a=new Ge(i,t),l=new Ge(i,t+1),c=[];return this.qr.forEachInRange([a,l],(d=>{this.Wr(d),c.push(d.key)})),c}zr(){this.kr.forEach((t=>this.Wr(t)))}Wr(t){this.kr=this.kr.delete(t),this.qr=this.qr.delete(t)}jr(t){const i=new pt(new ye([])),a=new Ge(i,t),l=new Ge(i,t+1);let c=Ut();return this.qr.forEachInRange([a,l],(d=>{c=c.add(d.key)})),c}containsKey(t){const i=new Ge(t,0),a=this.kr.firstAfterOrEqual(i);return a!==null&&t.isEqual(a.key)}}class Ge{constructor(t,i){this.key=t,this.Hr=i}static Kr(t,i){return pt.comparator(t.key,i.key)||Pt(t.Hr,i.Hr)}static Ur(t,i){return Pt(t.Hr,i.Hr)||pt.comparator(t.key,i.key)}}class zR{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.Yn=1,this.Jr=new Be(Ge.Kr)}checkEmpty(t){return J.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,a,l){const c=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new tR(c,i,a,l);this.mutationQueue.push(d);for(const p of l)this.Jr=this.Jr.add(new Ge(p.key,c)),this.indexManager.addToCollectionParentIndex(t,p.key.path.popLast());return J.resolve(d)}lookupMutationBatch(t,i){return J.resolve(this.Zr(i))}getNextMutationBatchAfterBatchId(t,i){const a=i+1,l=this.Xr(a),c=l<0?0:l;return J.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return J.resolve(this.mutationQueue.length===0?xm:this.Yn-1)}getAllMutationBatches(t){return J.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const a=new Ge(i,0),l=new Ge(i,Number.POSITIVE_INFINITY),c=[];return this.Jr.forEachInRange([a,l],(d=>{const p=this.Zr(d.Hr);c.push(p)})),J.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let a=new Be(Pt);return i.forEach((l=>{const c=new Ge(l,0),d=new Ge(l,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([c,d],(p=>{a=a.add(p.Hr)}))})),J.resolve(this.Yr(a))}getAllMutationBatchesAffectingQuery(t,i){const a=i.path,l=a.length+1;let c=a;pt.isDocumentKey(c)||(c=c.child(""));const d=new Ge(new pt(c),0);let p=new Be(Pt);return this.Jr.forEachWhile((v=>{const _=v.key.path;return!!a.isPrefixOf(_)&&(_.length===l&&(p=p.add(v.Hr)),!0)}),d),J.resolve(this.Yr(p))}Yr(t){const i=[];return t.forEach((a=>{const l=this.Zr(a);l!==null&&i.push(l)})),i}removeMutationBatch(t,i){Wt(this.ei(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Jr;return J.forEach(i.mutations,(l=>{const c=new Ge(l.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.Jr=a}))}nr(t){}containsKey(t,i){const a=new Ge(i,0),l=this.Jr.firstAfterOrEqual(a);return J.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,J.resolve()}ei(t,i){return this.Xr(t)}Xr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Zr(t){const i=this.Xr(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class jR{constructor(t){this.ti=t,this.docs=(function(){return new _e(pt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const a=i.key,l=this.docs.get(a),c=l?l.size:0,d=this.ti(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,a.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const a=this.docs.get(i);return J.resolve(a?a.document.mutableCopy():an.newInvalidDocument(i))}getEntries(t,i){let a=mr();return i.forEach((l=>{const c=this.docs.get(l);a=a.insert(l,c?c.document.mutableCopy():an.newInvalidDocument(l))})),J.resolve(a)}getDocumentsMatchingQuery(t,i,a,l){let c=mr();const d=i.path,p=new pt(d.child("__id-9223372036854775808__")),v=this.docs.getIteratorFrom(p);for(;v.hasNext();){const{key:_,value:{document:b}}=v.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||fw(hw(b),a)<=0||(l.has(b.key)||vh(i,b))&&(c=c.insert(b.key,b.mutableCopy()))}return J.resolve(c)}getAllFromCollectionGroup(t,i,a,l){_t(9500)}ni(t,i){return J.forEach(this.docs,(a=>i(a)))}newChangeBuffer(t){return new BR(this)}getSize(t){return J.resolve(this.size)}}class BR extends NR{constructor(t){super(),this.Mr=t}applyChanges(t){const i=[];return this.changes.forEach(((a,l)=>{l.isValidDocument()?i.push(this.Mr.addEntry(t,l)):this.Mr.removeEntry(a)})),J.waitFor(i)}getFromCache(t,i){return this.Mr.getEntry(t,i)}getAllFromCache(t,i){return this.Mr.getEntries(t,i)}}class qR{constructor(t){this.persistence=t,this.ri=new Js((i=>Om(i)),Nm),this.lastRemoteSnapshotVersion=bt.min(),this.highestTargetId=0,this.ii=0,this.si=new zm,this.targetCount=0,this.oi=no._r()}forEachTarget(t,i){return this.ri.forEach(((a,l)=>i(l))),J.resolve()}getLastRemoteSnapshotVersion(t){return J.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return J.resolve(this.ii)}allocateTargetId(t){return this.highestTargetId=this.oi.next(),J.resolve(this.highestTargetId)}setTargetsMetadata(t,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.ii&&(this.ii=i),J.resolve()}lr(t){this.ri.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.oi=new no(i),this.highestTargetId=i),t.sequenceNumber>this.ii&&(this.ii=t.sequenceNumber)}addTargetData(t,i){return this.lr(i),this.targetCount+=1,J.resolve()}updateTargetData(t,i){return this.lr(i),J.resolve()}removeTargetData(t,i){return this.ri.delete(i.target),this.si.Gr(i.targetId),this.targetCount-=1,J.resolve()}removeTargets(t,i,a){let l=0;const c=[];return this.ri.forEach(((d,p)=>{p.sequenceNumber<=i&&a.get(p.targetId)===null&&(this.ri.delete(d),c.push(this.removeMatchingKeysForTargetId(t,p.targetId)),l++)})),J.waitFor(c).next((()=>l))}getTargetCount(t){return J.resolve(this.targetCount)}getTargetData(t,i){const a=this.ri.get(i)||null;return J.resolve(a)}addMatchingKeys(t,i,a){return this.si.$r(i,a),J.resolve()}removeMatchingKeys(t,i,a){this.si.Qr(i,a);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((d=>{c.push(l.markPotentiallyOrphaned(t,d))})),J.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this.si.Gr(i),J.resolve()}getMatchingKeysForTargetId(t,i){const a=this.si.jr(i);return J.resolve(a)}containsKey(t,i){return J.resolve(this.si.containsKey(i))}}class Q1{constructor(t,i){this._i={},this.overlays={},this.ai=new mh(0),this.ui=!1,this.ui=!0,this.ci=new UR,this.referenceDelegate=t(this),this.li=new qR(this),this.indexManager=new RR,this.remoteDocumentCache=(function(l){return new jR(l)})((a=>this.referenceDelegate.hi(a))),this.serializer=new AR(i),this.Pi=new LR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new PR,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let a=this._i[t.toKey()];return a||(a=new zR(i,this.referenceDelegate),this._i[t.toKey()]=a),a}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(t,i,a){ot("MemoryPersistence","Starting transaction:",t);const l=new HR(this.ai.next());return this.referenceDelegate.Ti(),a(l).next((c=>this.referenceDelegate.Ii(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ei(t,i){return J.or(Object.values(this._i).map((a=>()=>a.containsKey(t,i))))}}class HR extends mw{constructor(t){super(),this.currentSequenceNumber=t}}class jm{constructor(t){this.persistence=t,this.Ri=new zm,this.Ai=null}static Vi(t){return new jm(t)}get di(){if(this.Ai)return this.Ai;throw _t(60996)}addReference(t,i,a){return this.Ri.addReference(a,i),this.di.delete(a.toString()),J.resolve()}removeReference(t,i,a){return this.Ri.removeReference(a,i),this.di.add(a.toString()),J.resolve()}markPotentiallyOrphaned(t,i){return this.di.add(i.toString()),J.resolve()}removeTarget(t,i){this.Ri.Gr(i.targetId).forEach((l=>this.di.add(l.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(t,i.targetId).next((l=>{l.forEach((c=>this.di.add(c.toString())))})).next((()=>a.removeTargetData(t,i)))}Ti(){this.Ai=new Set}Ii(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return J.forEach(this.di,(a=>{const l=pt.fromPath(a);return this.mi(t,l).next((c=>{c||i.removeEntry(l,bt.min())}))})).next((()=>(this.Ai=null,i.apply(t))))}updateLimboDocument(t,i){return this.mi(t,i).next((a=>{a?this.di.delete(i.toString()):this.di.add(i.toString())}))}hi(t){return 0}mi(t,i){return J.or([()=>J.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ei(t,i)])}}class ah{constructor(t,i){this.persistence=t,this.fi=new Js((a=>yw(a.path)),((a,l)=>a.isEqual(l))),this.garbageCollector=OR(this,i)}static Vi(t,i){return new ah(t,i)}Ti(){}Ii(t){return J.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}dr(t){const i=this.pr(t);return this.persistence.getTargetCache().getTargetCount(t).next((a=>i.next((l=>a+l))))}pr(t){let i=0;return this.mr(t,(a=>{i++})).next((()=>i))}mr(t,i){return J.forEach(this.fi,((a,l)=>this.wr(t,a,l).next((c=>c?J.resolve():i(l)))))}removeTargets(t,i,a){return this.persistence.getTargetCache().removeTargets(t,i,a)}removeOrphanedDocuments(t,i){let a=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ni(t,(d=>this.wr(t,d,i).next((p=>{p||(a++,c.removeEntry(d,bt.min()))})))).next((()=>c.apply(t))).next((()=>a))}markPotentiallyOrphaned(t,i){return this.fi.set(i,t.currentSequenceNumber),J.resolve()}removeTarget(t,i){const a=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,a)}addReference(t,i,a){return this.fi.set(a,t.currentSequenceNumber),J.resolve()}removeReference(t,i,a){return this.fi.set(a,t.currentSequenceNumber),J.resolve()}updateLimboDocument(t,i){return this.fi.set(i,t.currentSequenceNumber),J.resolve()}hi(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=zc(t.data.value)),i}wr(t,i,a){return J.or([()=>this.persistence.Ei(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const l=this.fi.get(i);return J.resolve(l!==void 0&&l>a)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class Bm{constructor(t,i,a,l){this.targetId=t,this.fromCache=i,this.Ts=a,this.Is=l}static Es(t,i){let a=Ut(),l=Ut();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new Bm(t,i.fromCache,a,l)}}class FR{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class GR{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return Ob()?8:gw(on())>0?6:4})()}initialize(t,i){this.fs=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,a,l){const c={result:null};return this.gs(t,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ps(t,i,l,a).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new FR;return this.ys(t,i,d).next((p=>{if(c.result=p,this.As)return this.ws(t,i,d,p.size)}))})).next((()=>c.result))}ws(t,i,a,l){return a.documentReadCount<this.Vs?(Ba()<=Lt.DEBUG&&ot("QueryEngine","SDK will not create cache indexes for query:",qa(i),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),J.resolve()):(Ba()<=Lt.DEBUG&&ot("QueryEngine","Query:",qa(i),"scans",a.documentReadCount,"local documents and returns",l,"documents as results."),a.documentReadCount>this.ds*l?(Ba()<=Lt.DEBUG&&ot("QueryEngine","The SDK decides to create cache indexes for query:",qa(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Vi(i))):J.resolve())}gs(t,i){if(A0(i))return J.resolve(null);let a=Vi(i);return this.indexManager.getIndexType(t,a).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=nm(i,null,"F"),a=Vi(i)),this.indexManager.getDocumentsMatchingTarget(t,a).next((c=>{const d=Ut(...c);return this.fs.getDocuments(t,d).next((p=>this.indexManager.getMinOffset(t,a).next((v=>{const _=this.bs(i,p);return this.Ss(i,_,d,v.readTime)?this.gs(t,nm(i,null,"F")):this.Ds(t,_,i,v)}))))})))))}ps(t,i,a,l){return A0(i)||l.isEqual(bt.min())?J.resolve(null):this.fs.getDocuments(t,a).next((c=>{const d=this.bs(i,c);return this.Ss(i,d,a,l)?J.resolve(null):(Ba()<=Lt.DEBUG&&ot("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),qa(i)),this.Ds(t,d,i,cw(l,Dl)).next((p=>p)))}))}bs(t,i){let a=new Be(S1(t));return i.forEach(((l,c)=>{vh(t,c)&&(a=a.add(c))})),a}Ss(t,i,a,l){if(t.limit===null)return!1;if(a.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}ys(t,i,a){return Ba()<=Lt.DEBUG&&ot("QueryEngine","Using full collection scan to execute query:",qa(i)),this.fs.getDocumentsMatchingQuery(t,i,is.min(),a)}Ds(t,i,a,l){return this.fs.getDocumentsMatchingQuery(t,a,l).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const qm="LocalStore",KR=3e8;class QR{constructor(t,i,a,l){this.persistence=t,this.Cs=i,this.serializer=l,this.vs=new _e(Pt),this.Fs=new Js((c=>Om(c)),Nm),this.Ms=new Map,this.xs=t.getRemoteDocumentCache(),this.li=t.getTargetCache(),this.Pi=t.getBundleCache(),this.Os(a)}Os(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new kR(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.vs)))}}function YR(s,t,i,a){return new QR(s,t,i,a)}async function Y1(s,t){const i=At(s);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let l;return i.mutationQueue.getAllMutationBatches(a).next((c=>(l=c,i.Os(t),i.mutationQueue.getAllMutationBatches(a)))).next((c=>{const d=[],p=[];let v=Ut();for(const _ of l){d.push(_.batchId);for(const b of _.mutations)v=v.add(b.key)}for(const _ of c){p.push(_.batchId);for(const b of _.mutations)v=v.add(b.key)}return i.localDocuments.getDocuments(a,v).next((_=>({Ns:_,removedBatchIds:d,addedBatchIds:p})))}))}))}function XR(s,t){const i=At(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const l=t.batch.keys(),c=i.xs.newChangeBuffer({trackRemovals:!0});return(function(p,v,_,b){const w=_.batch,k=w.keys();let X=J.resolve();return k.forEach((it=>{X=X.next((()=>b.getEntry(v,it))).next((rt=>{const st=_.docVersions.get(it);Wt(st!==null,48541),rt.version.compareTo(st)<0&&(w.applyToRemoteDocument(rt,_),rt.isValidDocument()&&(rt.setReadTime(_.commitVersion),b.addEntry(rt)))}))})),X.next((()=>p.mutationQueue.removeMutationBatch(v,w)))})(i,a,t,c).next((()=>c.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,l,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(p){let v=Ut();for(let _=0;_<p.mutationResults.length;++_)p.mutationResults[_].transformResults.length>0&&(v=v.add(p.batch.mutations[_].key));return v})(t)))).next((()=>i.localDocuments.getDocuments(a,l)))}))}function X1(s){const t=At(s);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.li.getLastRemoteSnapshotVersion(i)))}function WR(s,t){const i=At(s),a=t.snapshotVersion;let l=i.vs;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.xs.newChangeBuffer({trackRemovals:!0});l=i.vs;const p=[];t.targetChanges.forEach(((b,w)=>{const k=l.get(w);if(!k)return;p.push(i.li.removeMatchingKeys(c,b.removedDocuments,w).next((()=>i.li.addMatchingKeys(c,b.addedDocuments,w))));let X=k.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(w)!==null?X=X.withResumeToken(en.EMPTY_BYTE_STRING,bt.min()).withLastLimboFreeSnapshotVersion(bt.min()):b.resumeToken.approximateByteSize()>0&&(X=X.withResumeToken(b.resumeToken,a)),l=l.insert(w,X),(function(rt,st,ft){return rt.resumeToken.approximateByteSize()===0||st.snapshotVersion.toMicroseconds()-rt.snapshotVersion.toMicroseconds()>=KR?!0:ft.addedDocuments.size+ft.modifiedDocuments.size+ft.removedDocuments.size>0})(k,X,b)&&p.push(i.li.updateTargetData(c,X))}));let v=mr(),_=Ut();if(t.documentUpdates.forEach((b=>{t.resolvedLimboDocuments.has(b)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(c,b))})),p.push(JR(c,d,t.documentUpdates).next((b=>{v=b.Bs,_=b.Ls}))),!a.isEqual(bt.min())){const b=i.li.getLastRemoteSnapshotVersion(c).next((w=>i.li.setTargetsMetadata(c,c.currentSequenceNumber,a)));p.push(b)}return J.waitFor(p).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,v,_))).next((()=>v))})).then((c=>(i.vs=l,c)))}function JR(s,t,i){let a=Ut(),l=Ut();return i.forEach((c=>a=a.add(c))),t.getEntries(s,a).next((c=>{let d=mr();return i.forEach(((p,v)=>{const _=c.get(p);v.isFoundDocument()!==_.isFoundDocument()&&(l=l.add(p)),v.isNoDocument()&&v.version.isEqual(bt.min())?(t.removeEntry(p,v.readTime),d=d.insert(p,v)):!_.isValidDocument()||v.version.compareTo(_.version)>0||v.version.compareTo(_.version)===0&&_.hasPendingWrites?(t.addEntry(v),d=d.insert(p,v)):ot(qm,"Ignoring outdated watch update for ",p,". Current version:",_.version," Watch version:",v.version)})),{Bs:d,Ls:l}}))}function ZR(s,t){const i=At(s);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(t===void 0&&(t=xm),i.mutationQueue.getNextMutationBatchAfterBatchId(a,t))))}function $R(s,t){const i=At(s);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let l;return i.li.getTargetData(a,t).next((c=>c?(l=c,J.resolve(l)):i.li.allocateTargetId(a).next((d=>(l=new Jr(t,d,"TargetPurposeListen",a.currentSequenceNumber),i.li.addTargetData(a,l).next((()=>l)))))))})).then((a=>{const l=i.vs.get(a.targetId);return(l===null||a.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.vs=i.vs.insert(a.targetId,a),i.Fs.set(t,a.targetId)),a}))}async function om(s,t,i){const a=At(s),l=a.vs.get(t),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,(d=>a.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!uo(d))throw d;ot(qm,`Failed to update sequence numbers for target ${t}: ${d}`)}a.vs=a.vs.remove(t),a.Fs.delete(l.target)}function P0(s,t,i){const a=At(s);let l=bt.min(),c=Ut();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(v,_,b){const w=At(v),k=w.Fs.get(b);return k!==void 0?J.resolve(w.vs.get(k)):w.li.getTargetData(_,b)})(a,d,Vi(t)).next((p=>{if(p)return l=p.lastLimboFreeSnapshotVersion,a.li.getMatchingKeysForTargetId(d,p.targetId).next((v=>{c=v}))})).next((()=>a.Cs.getDocumentsMatchingQuery(d,t,i?l:bt.min(),i?c:Ut()))).next((p=>(tC(a,zw(t),p),{documents:p,ks:c})))))}function tC(s,t,i){let a=s.Ms.get(t)||bt.min();i.forEach(((l,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),s.Ms.set(t,a)}class U0{constructor(){this.activeTargetIds=Gw()}Qs(t){this.activeTargetIds=this.activeTargetIds.add(t)}Gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ws(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class eC{constructor(){this.vo=new U0,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,a){}addLocalQueryTarget(t,i=!0){return i&&this.vo.Qs(t),this.Fo[t]||"not-current"}updateQueryState(t,i,a){this.Fo[t]=i}removeLocalQueryTarget(t){this.vo.Gs(t)}isLocalQueryTarget(t){return this.vo.activeTargetIds.has(t)}clearQueryState(t){delete this.Fo[t]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(t){return this.vo.activeTargetIds.has(t)}start(){return this.vo=new U0,Promise.resolve()}handleUserChange(t,i,a){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class nC{Mo(t){}shutdown(){}}const z0="ConnectivityMonitor";class j0{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(t){this.Lo.push(t)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){ot(z0,"Network connectivity changed: AVAILABLE");for(const t of this.Lo)t(0)}Bo(){ot(z0,"Network connectivity changed: UNAVAILABLE");for(const t of this.Lo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Rc=null;function lm(){return Rc===null?Rc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Rc++,"0x"+Rc.toString(16)}const Ud="RestConnection",iC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class rC{get Ko(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.qo=i+"://"+t.host,this.Uo=`projects/${a}/databases/${l}`,this.$o=this.databaseId.database===$c?`project_id=${a}`:`project_id=${a}&database_id=${l}`}Wo(t,i,a,l,c){const d=lm(),p=this.Qo(t,i.toUriEncodedString());ot(Ud,`Sending RPC '${t}' ${d}:`,p,a);const v={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(v,l,c);const{host:_}=new URL(p),b=ro(_);return this.zo(t,p,v,a,b).then((w=>(ot(Ud,`Received RPC '${t}' ${d}: `,w),w)),(w=>{throw Za(Ud,`RPC '${t}' ${d} failed with error: `,w,"url: ",p,"request:",a),w}))}jo(t,i,a,l,c,d){return this.Wo(t,i,a,l,c)}Go(t,i,a){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+oo})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>t[c]=l)),a&&a.headers.forEach(((l,c)=>t[c]=l))}Qo(t,i){const a=iC[t];let l=`${this.qo}/v1/${i}:${a}`;return this.databaseInfo.apiKey&&(l=`${l}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),l}terminate(){}}class sC{constructor(t){this.Ho=t.Ho,this.Jo=t.Jo}Zo(t){this.Xo=t}Yo(t){this.e_=t}t_(t){this.n_=t}onMessage(t){this.r_=t}close(){this.Jo()}send(t){this.Ho(t)}i_(){this.Xo()}s_(){this.e_()}o_(t){this.n_(t)}__(t){this.r_(t)}}const rn="WebChannelConnection",dl=(s,t,i)=>{s.listen(t,(a=>{try{i(a)}catch(l){setTimeout((()=>{throw l}),0)}}))};class Ya extends rC{constructor(t){super(t),this.a_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}static u_(){if(!Ya.c_){const t=e1();dl(t,t1.STAT_EVENT,(i=>{i.stat===Wd.PROXY?ot(rn,"STAT_EVENT: detected buffering proxy"):i.stat===Wd.NOPROXY&&ot(rn,"STAT_EVENT: detected no buffering proxy")})),Ya.c_=!0}}zo(t,i,a,l,c){const d=lm();return new Promise(((p,v)=>{const _=new Zv;_.setWithCredentials(!0),_.listenOnce($v.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case Uc.NO_ERROR:const w=_.getResponseJson();ot(rn,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(w)),p(w);break;case Uc.TIMEOUT:ot(rn,`RPC '${t}' ${d} timed out`),v(new ht($.DEADLINE_EXCEEDED,"Request time out"));break;case Uc.HTTP_ERROR:const k=_.getStatus();if(ot(rn,`RPC '${t}' ${d} failed with status:`,k,"response text:",_.getResponseText()),k>0){let X=_.getResponseJson();Array.isArray(X)&&(X=X[0]);const it=X?.error;if(it&&it.status&&it.message){const rt=(function(ft){const Et=ft.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(Et)>=0?Et:$.UNKNOWN})(it.status);v(new ht(rt,it.message))}else v(new ht($.UNKNOWN,"Server responded with status "+_.getStatus()))}else v(new ht($.UNAVAILABLE,"Connection failed."));break;default:_t(9055,{l_:t,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{ot(rn,`RPC '${t}' ${d} completed.`)}}));const b=JSON.stringify(l);ot(rn,`RPC '${t}' ${d} sending request:`,l),_.send(i,"POST",b,a,15)}))}T_(t,i,a){const l=lm(),c=[this.qo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=this.createWebChannelTransport(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(p.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Go(p.initMessageHeaders,i,a),p.encodeInitMessageHeaders=!0;const _=c.join("");ot(rn,`Creating RPC '${t}' stream ${l}: ${_}`,p);const b=d.createWebChannel(_,p);this.I_(b);let w=!1,k=!1;const X=new sC({Ho:it=>{k?ot(rn,`Not sending because RPC '${t}' stream ${l} is closed:`,it):(w||(ot(rn,`Opening RPC '${t}' stream ${l} transport.`),b.open(),w=!0),ot(rn,`RPC '${t}' stream ${l} sending:`,it),b.send(it))},Jo:()=>b.close()});return dl(b,pl.EventType.OPEN,(()=>{k||(ot(rn,`RPC '${t}' stream ${l} transport opened.`),X.i_())})),dl(b,pl.EventType.CLOSE,(()=>{k||(k=!0,ot(rn,`RPC '${t}' stream ${l} transport closed`),X.o_(),this.E_(b))})),dl(b,pl.EventType.ERROR,(it=>{k||(k=!0,Za(rn,`RPC '${t}' stream ${l} transport errored. Name:`,it.name,"Message:",it.message),X.o_(new ht($.UNAVAILABLE,"The operation could not be completed")))})),dl(b,pl.EventType.MESSAGE,(it=>{if(!k){const rt=it.data[0];Wt(!!rt,16349);const st=rt,ft=st?.error||st[0]?.error;if(ft){ot(rn,`RPC '${t}' stream ${l} received error:`,ft);const Et=ft.status;let gt=(function(Rt){const I=Pe[Rt];if(I!==void 0)return k1(I)})(Et),Bt=ft.message;gt===void 0&&(gt=$.INTERNAL,Bt="Unknown error status: "+Et+" with message "+ft.message),k=!0,X.o_(new ht(gt,Bt)),b.close()}else ot(rn,`RPC '${t}' stream ${l} received:`,rt),X.__(rt)}})),Ya.u_(),setTimeout((()=>{X.s_()}),0),X}terminate(){this.a_.forEach((t=>t.close())),this.a_=[]}I_(t){this.a_.push(t)}E_(t){this.a_=this.a_.filter((i=>i===t))}Go(t,i,a){super.Go(t,i,a),this.databaseInfo.apiKey&&(t["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return n1()}}function aC(s){return new Ya(s)}function zd(){return typeof document<"u"?document:null}function Sh(s){return new cR(s,!0)}Ya.c_=!1;class W1{constructor(t,i,a=1e3,l=1.5,c=6e4){this.Ci=t,this.timerId=i,this.R_=a,this.A_=l,this.V_=c,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(t){this.cancel();const i=Math.floor(this.d_+this.y_()),a=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-a);l>0&&ot("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.d_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),t()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const B0="PersistentStream";class J1{constructor(t,i,a,l,c,d,p,v){this.Ci=t,this.b_=a,this.S_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=v,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new W1(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(t){this.q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===$.RESOURCE_EXHAUSTED?(dr(i.toString()),dr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.t_(i)}W_(){}auth(){this.state=1;const t=this.Q_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,l])=>{this.D_===i&&this.G_(a,l)}),(a=>{t((()=>{const l=new ht($.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(l)}))}))}G_(t,i){const a=this.Q_(this.D_);this.stream=this.j_(t,i),this.stream.Zo((()=>{a((()=>this.listener.Zo()))})),this.stream.Yo((()=>{a((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((l=>{a((()=>this.z_(l)))})),this.stream.onMessage((l=>{a((()=>++this.F_==1?this.H_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return ot(B0,`close with error: ${t}`),this.stream=null,this.close(4,t)}Q_(t){return i=>{this.Ci.enqueueAndForget((()=>this.D_===t?i():(ot(B0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class oC extends J1{constructor(t,i,a,l,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}j_(t,i){return this.connection.T_("Listen",t,i)}H_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=dR(this.serializer,t),a=(function(c){if(!("targetChange"in c))return bt.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?bt.min():d.readTime?ki(d.readTime):bt.min()})(t);return this.listener.J_(i,a)}Z_(t){const i={};i.database=am(this.serializer),i.addTarget=(function(c,d){let p;const v=d.target;if(p=em(v)?{documents:pR(c,v)}:{query:yR(c,v).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=U1(c,d.resumeToken);const _=im(c,d.expectedCount);_!==null&&(p.expectedCount=_)}else if(d.snapshotVersion.compareTo(bt.min())>0){p.readTime=sh(c,d.snapshotVersion.toTimestamp());const _=im(c,d.expectedCount);_!==null&&(p.expectedCount=_)}return p})(this.serializer,t);const a=vR(this.serializer,t);a&&(i.labels=a),this.K_(i)}X_(t){const i={};i.database=am(this.serializer),i.removeTarget=t,this.K_(i)}}class lC extends J1{constructor(t,i,a,l,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}H_(t){return Wt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Wt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Wt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=gR(t.writeResults,t.commitTime),a=ki(t.commitTime);return this.listener.na(a,i)}ra(){const t={};t.database=am(this.serializer),this.K_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((a=>mR(this.serializer,a)))};this.K_(i)}}class uC{}class cC extends uC{constructor(t,i,a,l){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=a,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new ht($.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(t,i,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Wo(t,rm(i,a),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ht($.UNKNOWN,c.toString())}))}jo(t,i,a,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.jo(t,rm(i,a),l,d,p,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ht($.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function hC(s,t,i,a){return new cC(s,t,i,a)}class fC{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(dr(i),this.aa=!1):ot("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Xs="RemoteStore";class dC{constructor(t,i,a,l,c){this.localStore=t,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=c,this.Aa.Mo((d=>{a.enqueueAndForget((async()=>{$s(this)&&(ot(Xs,"Restarting streams for network reachability change."),await(async function(v){const _=At(v);_.Ea.add(4),await Gl(_),_.Va.set("Unknown"),_.Ea.delete(4),await Ah(_)})(this))}))})),this.Va=new fC(a,l)}}async function Ah(s){if($s(s))for(const t of s.Ra)await t(!0)}async function Gl(s){for(const t of s.Ra)await t(!1)}function Z1(s,t){const i=At(s);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),Km(i)?Gm(i):co(i).O_()&&Fm(i,t))}function Hm(s,t){const i=At(s),a=co(i);i.Ia.delete(t),a.O_()&&$1(i,t),i.Ia.size===0&&(a.O_()?a.L_():$s(i)&&i.Va.set("Unknown"))}function Fm(s,t){if(s.da.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(bt.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}co(s).Z_(t)}function $1(s,t){s.da.$e(t),co(s).X_(t)}function Gm(s){s.da=new aR({getRemoteKeysForTarget:t=>s.remoteSyncer.getRemoteKeysForTarget(t),At:t=>s.Ia.get(t)||null,ht:()=>s.datastore.serializer.databaseId}),co(s).start(),s.Va.ua()}function Km(s){return $s(s)&&!co(s).x_()&&s.Ia.size>0}function $s(s){return At(s).Ea.size===0}function tT(s){s.da=void 0}async function mC(s){s.Va.set("Online")}async function gC(s){s.Ia.forEach(((t,i)=>{Fm(s,t)}))}async function pC(s,t){tT(s),Km(s)?(s.Va.ha(t),Gm(s)):s.Va.set("Unknown")}async function yC(s,t,i){if(s.Va.set("Online"),t instanceof P1&&t.state===2&&t.cause)try{await(async function(l,c){const d=c.cause;for(const p of c.targetIds)l.Ia.has(p)&&(await l.remoteSyncer.rejectListen(p,d),l.Ia.delete(p),l.da.removeTarget(p))})(s,t)}catch(a){ot(Xs,"Failed to remove targets %s: %s ",t.targetIds.join(","),a),await oh(s,a)}else if(t instanceof qc?s.da.Xe(t):t instanceof L1?s.da.st(t):s.da.tt(t),!i.isEqual(bt.min()))try{const a=await X1(s.localStore);i.compareTo(a)>=0&&await(function(c,d){const p=c.da.Tt(d);return p.targetChanges.forEach(((v,_)=>{if(v.resumeToken.approximateByteSize()>0){const b=c.Ia.get(_);b&&c.Ia.set(_,b.withResumeToken(v.resumeToken,d))}})),p.targetMismatches.forEach(((v,_)=>{const b=c.Ia.get(v);if(!b)return;c.Ia.set(v,b.withResumeToken(en.EMPTY_BYTE_STRING,b.snapshotVersion)),$1(c,v);const w=new Jr(b.target,v,_,b.sequenceNumber);Fm(c,w)})),c.remoteSyncer.applyRemoteEvent(p)})(s,i)}catch(a){ot(Xs,"Failed to raise snapshot:",a),await oh(s,a)}}async function oh(s,t,i){if(!uo(t))throw t;s.Ea.add(1),await Gl(s),s.Va.set("Offline"),i||(i=()=>X1(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{ot(Xs,"Retrying IndexedDB access"),await i(),s.Ea.delete(1),await Ah(s)}))}function eT(s,t){return t().catch((i=>oh(s,i,t)))}async function wh(s){const t=At(s),i=os(t);let a=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:xm;for(;_C(t);)try{const l=await ZR(t.localStore,a);if(l===null){t.Ta.length===0&&i.L_();break}a=l.batchId,vC(t,l)}catch(l){await oh(t,l)}nT(t)&&iT(t)}function _C(s){return $s(s)&&s.Ta.length<10}function vC(s,t){s.Ta.push(t);const i=os(s);i.O_()&&i.Y_&&i.ea(t.mutations)}function nT(s){return $s(s)&&!os(s).x_()&&s.Ta.length>0}function iT(s){os(s).start()}async function TC(s){os(s).ra()}async function EC(s){const t=os(s);for(const i of s.Ta)t.ea(i.mutations)}async function bC(s,t,i){const a=s.Ta.shift(),l=Lm.from(a,t,i);await eT(s,(()=>s.remoteSyncer.applySuccessfulWrite(l))),await wh(s)}async function SC(s,t){t&&os(s).Y_&&await(async function(a,l){if((function(d){return iR(d)&&d!==$.ABORTED})(l.code)){const c=a.Ta.shift();os(a).B_(),await eT(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,l))),await wh(a)}})(s,t),nT(s)&&iT(s)}async function q0(s,t){const i=At(s);i.asyncQueue.verifyOperationInProgress(),ot(Xs,"RemoteStore received new credentials");const a=$s(i);i.Ea.add(3),await Gl(i),a&&i.Va.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await Ah(i)}async function AC(s,t){const i=At(s);t?(i.Ea.delete(2),await Ah(i)):t||(i.Ea.add(2),await Gl(i),i.Va.set("Unknown"))}function co(s){return s.ma||(s.ma=(function(i,a,l){const c=At(i);return c.sa(),new oC(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Zo:mC.bind(null,s),Yo:gC.bind(null,s),t_:pC.bind(null,s),J_:yC.bind(null,s)}),s.Ra.push((async t=>{t?(s.ma.B_(),Km(s)?Gm(s):s.Va.set("Unknown")):(await s.ma.stop(),tT(s))}))),s.ma}function os(s){return s.fa||(s.fa=(function(i,a,l){const c=At(i);return c.sa(),new lC(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Zo:()=>Promise.resolve(),Yo:TC.bind(null,s),t_:SC.bind(null,s),ta:EC.bind(null,s),na:bC.bind(null,s)}),s.Ra.push((async t=>{t?(s.fa.B_(),await wh(s)):(await s.fa.stop(),s.Ta.length>0&&(ot(Xs,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class Qm{constructor(t,i,a,l,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=a,this.op=l,this.removalCallback=c,this.deferred=new ns,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,a,l,c){const d=Date.now()+a,p=new Qm(t,i,d,l,c);return p.start(a),p}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ht($.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ym(s,t){if(dr("AsyncQueue",`${t}: ${s}`),uo(s))return new ht($.UNAVAILABLE,`${t}: ${s}`);throw s}class Xa{static emptySet(t){return new Xa(t.comparator)}constructor(t){this.comparator=t?(i,a)=>t(i,a)||pt.comparator(i.key,a.key):(i,a)=>pt.comparator(i.key,a.key),this.keyedMap=yl(),this.sortedSet=new _e(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,a)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof Xa)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),a=t.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const a=new Xa;return a.comparator=this.comparator,a.keyedMap=t,a.sortedSet=i,a}}class H0{constructor(){this.ga=new _e(pt.comparator)}track(t){const i=t.doc.key,a=this.ga.get(i);a?t.type!==0&&a.type===3?this.ga=this.ga.insert(i,t):t.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:t.doc}):t.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&a.type===0?this.ga=this.ga.remove(i):t.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):t.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):_t(63341,{Vt:t,pa:a}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,a)=>{t.push(a)})),t}}class io{constructor(t,i,a,l,c,d,p,v,_){this.query=t,this.docs=i,this.oldDocs=a,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=v,this.hasCachedResults=_}static fromInitialDocuments(t,i,a,l,c){const d=[];return i.forEach((p=>{d.push({type:0,doc:p})})),new io(t,i,Xa.emptySet(i),d,a,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&_h(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,a=t.docChanges;if(i.length!==a.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==a[l].type||!i[l].doc.isEqual(a[l].doc))return!1;return!0}}class wC{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((t=>t.Da()))}}class RC{constructor(){this.queries=F0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const l=At(i),c=l.queries;l.queries=F0(),c.forEach(((d,p)=>{for(const v of p.ba)v.onError(a)}))})(this,new ht($.ABORTED,"Firestore shutting down"))}}function F0(){return new Js((s=>b1(s)),_h)}async function CC(s,t){const i=At(s);let a=3;const l=t.query;let c=i.queries.get(l);c?!c.Sa()&&t.Da()&&(a=2):(c=new wC,a=t.Da()?0:1);try{switch(a){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const p=Ym(d,`Initialization of query '${qa(t.query)}' failed`);return void t.onError(p)}i.queries.set(l,c),c.ba.push(t),t.va(i.onlineState),c.wa&&t.Fa(c.wa)&&Xm(i)}async function IC(s,t){const i=At(s),a=t.query;let l=3;const c=i.queries.get(a);if(c){const d=c.ba.indexOf(t);d>=0&&(c.ba.splice(d,1),c.ba.length===0?l=t.Da()?0:1:!c.Sa()&&t.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function xC(s,t){const i=At(s);let a=!1;for(const l of t){const c=l.query,d=i.queries.get(c);if(d){for(const p of d.ba)p.Fa(l)&&(a=!0);d.wa=l}}a&&Xm(i)}function DC(s,t,i){const a=At(s),l=a.queries.get(t);if(l)for(const c of l.ba)c.onError(i);a.queries.delete(t)}function Xm(s){s.Ca.forEach((t=>{t.next()}))}var um,G0;(G0=um||(um={})).Ma="default",G0.Cache="cache";class MC{constructor(t,i,a){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(t){if(!this.options.includeMetadataChanges){const a=[];for(const l of t.docChanges)l.type!==3&&a.push(l);t=new io(t.query,t.docs,t.oldDocs,a,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.Ka||!a)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=io.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==um.Cache}}class rT{constructor(t){this.key=t}}class sT{constructor(t){this.key=t}}class OC{constructor(t,i){this.query=t,this.Za=i,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Ut(),this.mutatedKeys=Ut(),this.eu=S1(t),this.tu=new Xa(this.eu)}get nu(){return this.Za}ru(t,i){const a=i?i.iu:new H0,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,p=!1;const v=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,_=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((b,w)=>{const k=l.get(b),X=vh(this.query,w)?w:null,it=!!k&&this.mutatedKeys.has(k.key),rt=!!X&&(X.hasLocalMutations||this.mutatedKeys.has(X.key)&&X.hasCommittedMutations);let st=!1;k&&X?k.data.isEqual(X.data)?it!==rt&&(a.track({type:3,doc:X}),st=!0):this.su(k,X)||(a.track({type:2,doc:X}),st=!0,(v&&this.eu(X,v)>0||_&&this.eu(X,_)<0)&&(p=!0)):!k&&X?(a.track({type:0,doc:X}),st=!0):k&&!X&&(a.track({type:1,doc:k}),st=!0,(v||_)&&(p=!0)),st&&(X?(d=d.add(X),c=rt?c.add(b):c.delete(b)):(d=d.delete(b),c=c.delete(b)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const b=this.query.limitType==="F"?d.last():d.first();d=d.delete(b.key),c=c.delete(b.key),a.track({type:1,doc:b})}return{tu:d,iu:a,Ss:p,mutatedKeys:c}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,a,l){const c=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((b,w)=>(function(X,it){const rt=st=>{switch(st){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _t(20277,{Vt:st})}};return rt(X)-rt(it)})(b.type,w.type)||this.eu(b.doc,w.doc))),this.ou(a),l=l??!1;const p=i&&!l?this._u():[],v=this.Ya.size===0&&this.current&&!l?1:0,_=v!==this.Xa;return this.Xa=v,d.length!==0||_?{snapshot:new io(this.query,t.tu,c,d,t.mutatedKeys,v===0,_,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new H0,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(t){return!this.Za.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Za=this.Za.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Za=this.Za.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Ya;this.Ya=Ut(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Ya=this.Ya.add(a.key))}));const i=[];return t.forEach((a=>{this.Ya.has(a)||i.push(new sT(a))})),this.Ya.forEach((a=>{t.has(a)||i.push(new rT(a))})),i}cu(t){this.Za=t.ks,this.Ya=Ut();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return io.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const Wm="SyncEngine";class NC{constructor(t,i,a){this.query=t,this.targetId=i,this.view=a}}class VC{constructor(t){this.key=t,this.hu=!1}}class kC{constructor(t,i,a,l,c,d){this.localStore=t,this.remoteStore=i,this.eventManager=a,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Js((p=>b1(p)),_h),this.Iu=new Map,this.Eu=new Set,this.Ru=new _e(pt.comparator),this.Au=new Map,this.Vu=new zm,this.du={},this.mu=new Map,this.fu=no.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function LC(s,t,i=!0){const a=hT(s);let l;const c=a.Tu.get(t);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await aT(a,t,i,!0),l}async function PC(s,t){const i=hT(s);await aT(i,t,!0,!1)}async function aT(s,t,i,a){const l=await $R(s.localStore,Vi(t)),c=l.targetId,d=s.sharedClientState.addLocalQueryTarget(c,i);let p;return a&&(p=await UC(s,t,c,d==="current",l.resumeToken)),s.isPrimaryClient&&i&&Z1(s.remoteStore,l),p}async function UC(s,t,i,a,l){s.pu=(w,k,X)=>(async function(rt,st,ft,Et){let gt=st.view.ru(ft);gt.Ss&&(gt=await P0(rt.localStore,st.query,!1).then((({documents:I})=>st.view.ru(I,gt))));const Bt=Et&&Et.targetChanges.get(st.targetId),Jt=Et&&Et.targetMismatches.get(st.targetId)!=null,Rt=st.view.applyChanges(gt,rt.isPrimaryClient,Bt,Jt);return Q0(rt,st.targetId,Rt.au),Rt.snapshot})(s,w,k,X);const c=await P0(s.localStore,t,!0),d=new OC(t,c.ks),p=d.ru(c.documents),v=Fl.createSynthesizedTargetChangeForCurrentChange(i,a&&s.onlineState!=="Offline",l),_=d.applyChanges(p,s.isPrimaryClient,v);Q0(s,i,_.au);const b=new NC(t,i,d);return s.Tu.set(t,b),s.Iu.has(i)?s.Iu.get(i).push(t):s.Iu.set(i,[t]),_.snapshot}async function zC(s,t,i){const a=At(s),l=a.Tu.get(t),c=a.Iu.get(l.targetId);if(c.length>1)return a.Iu.set(l.targetId,c.filter((d=>!_h(d,t)))),void a.Tu.delete(t);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(l.targetId),a.sharedClientState.isActiveQueryTarget(l.targetId)||await om(a.localStore,l.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(l.targetId),i&&Hm(a.remoteStore,l.targetId),cm(a,l.targetId)})).catch(lo)):(cm(a,l.targetId),await om(a.localStore,l.targetId,!0))}async function jC(s,t){const i=At(s),a=i.Tu.get(t),l=i.Iu.get(a.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),Hm(i.remoteStore,a.targetId))}async function BC(s,t,i){const a=YC(s);try{const l=await(function(d,p){const v=At(d),_=he.now(),b=p.reduce(((X,it)=>X.add(it.key)),Ut());let w,k;return v.persistence.runTransaction("Locally write mutations","readwrite",(X=>{let it=mr(),rt=Ut();return v.xs.getEntries(X,b).next((st=>{it=st,it.forEach(((ft,Et)=>{Et.isValidDocument()||(rt=rt.add(ft))}))})).next((()=>v.localDocuments.getOverlayedDocuments(X,it))).next((st=>{w=st;const ft=[];for(const Et of p){const gt=Zw(Et,w.get(Et.key).overlayedDocument);gt!=null&&ft.push(new Zs(Et.key,gt,g1(gt.value.mapValue),cr.exists(!0)))}return v.mutationQueue.addMutationBatch(X,_,ft,p)})).next((st=>{k=st;const ft=st.applyToLocalDocumentSet(w,rt);return v.documentOverlayCache.saveOverlays(X,st.batchId,ft)}))})).then((()=>({batchId:k.batchId,changes:w1(w)})))})(a.localStore,t);a.sharedClientState.addPendingMutation(l.batchId),(function(d,p,v){let _=d.du[d.currentUser.toKey()];_||(_=new _e(Pt)),_=_.insert(p,v),d.du[d.currentUser.toKey()]=_})(a,l.batchId,i),await Kl(a,l.changes),await wh(a.remoteStore)}catch(l){const c=Ym(l,"Failed to persist write");i.reject(c)}}async function oT(s,t){const i=At(s);try{const a=await WR(i.localStore,t);t.targetChanges.forEach(((l,c)=>{const d=i.Au.get(c);d&&(Wt(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?Wt(d.hu,14607):l.removedDocuments.size>0&&(Wt(d.hu,42227),d.hu=!1))})),await Kl(i,a,t)}catch(a){await lo(a)}}function K0(s,t,i){const a=At(s);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const l=[];a.Tu.forEach(((c,d)=>{const p=d.view.va(t);p.snapshot&&l.push(p.snapshot)})),(function(d,p){const v=At(d);v.onlineState=p;let _=!1;v.queries.forEach(((b,w)=>{for(const k of w.ba)k.va(p)&&(_=!0)})),_&&Xm(v)})(a.eventManager,t),l.length&&a.Pu.J_(l),a.onlineState=t,a.isPrimaryClient&&a.sharedClientState.setOnlineState(t)}}async function qC(s,t,i){const a=At(s);a.sharedClientState.updateQueryState(t,"rejected",i);const l=a.Au.get(t),c=l&&l.key;if(c){let d=new _e(pt.comparator);d=d.insert(c,an.newNoDocument(c,bt.min()));const p=Ut().add(c),v=new bh(bt.min(),new Map,new _e(Pt),d,p);await oT(a,v),a.Ru=a.Ru.remove(c),a.Au.delete(t),Jm(a)}else await om(a.localStore,t,!1).then((()=>cm(a,t,i))).catch(lo)}async function HC(s,t){const i=At(s),a=t.batch.batchId;try{const l=await XR(i.localStore,t);uT(i,a,null),lT(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await Kl(i,l)}catch(l){await lo(l)}}async function FC(s,t,i){const a=At(s);try{const l=await(function(d,p){const v=At(d);return v.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let b;return v.mutationQueue.lookupMutationBatch(_,p).next((w=>(Wt(w!==null,37113),b=w.keys(),v.mutationQueue.removeMutationBatch(_,w)))).next((()=>v.mutationQueue.performConsistencyCheck(_))).next((()=>v.documentOverlayCache.removeOverlaysForBatchId(_,b,p))).next((()=>v.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,b))).next((()=>v.localDocuments.getDocuments(_,b)))}))})(a.localStore,t);uT(a,t,i),lT(a,t),a.sharedClientState.updateMutationState(t,"rejected",i),await Kl(a,l)}catch(l){await lo(l)}}function lT(s,t){(s.mu.get(t)||[]).forEach((i=>{i.resolve()})),s.mu.delete(t)}function uT(s,t,i){const a=At(s);let l=a.du[a.currentUser.toKey()];if(l){const c=l.get(t);c&&(i?c.reject(i):c.resolve(),l=l.remove(t)),a.du[a.currentUser.toKey()]=l}}function cm(s,t,i=null){s.sharedClientState.removeLocalQueryTarget(t);for(const a of s.Iu.get(t))s.Tu.delete(a),i&&s.Pu.yu(a,i);s.Iu.delete(t),s.isPrimaryClient&&s.Vu.Gr(t).forEach((a=>{s.Vu.containsKey(a)||cT(s,a)}))}function cT(s,t){s.Eu.delete(t.path.canonicalString());const i=s.Ru.get(t);i!==null&&(Hm(s.remoteStore,i),s.Ru=s.Ru.remove(t),s.Au.delete(i),Jm(s))}function Q0(s,t,i){for(const a of i)a instanceof rT?(s.Vu.addReference(a.key,t),GC(s,a)):a instanceof sT?(ot(Wm,"Document no longer in limbo: "+a.key),s.Vu.removeReference(a.key,t),s.Vu.containsKey(a.key)||cT(s,a.key)):_t(19791,{wu:a})}function GC(s,t){const i=t.key,a=i.path.canonicalString();s.Ru.get(i)||s.Eu.has(a)||(ot(Wm,"New document in limbo: "+i),s.Eu.add(a),Jm(s))}function Jm(s){for(;s.Eu.size>0&&s.Ru.size<s.maxConcurrentLimboResolutions;){const t=s.Eu.values().next().value;s.Eu.delete(t);const i=new pt(ye.fromString(t)),a=s.fu.next();s.Au.set(a,new VC(i)),s.Ru=s.Ru.insert(i,a),Z1(s.remoteStore,new Jr(Vi(Vm(i.path)),a,"TargetPurposeLimboResolution",mh.ce))}}async function Kl(s,t,i){const a=At(s),l=[],c=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((p,v)=>{d.push(a.pu(v,t,i).then((_=>{if((_||i)&&a.isPrimaryClient){const b=_?!_.fromCache:i?.targetChanges.get(v.targetId)?.current;a.sharedClientState.updateQueryState(v.targetId,b?"current":"not-current")}if(_){l.push(_);const b=Bm.Es(v.targetId,_);c.push(b)}})))})),await Promise.all(d),a.Pu.J_(l),await(async function(v,_){const b=At(v);try{await b.persistence.runTransaction("notifyLocalViewChanges","readwrite",(w=>J.forEach(_,(k=>J.forEach(k.Ts,(X=>b.persistence.referenceDelegate.addReference(w,k.targetId,X))).next((()=>J.forEach(k.Is,(X=>b.persistence.referenceDelegate.removeReference(w,k.targetId,X)))))))))}catch(w){if(!uo(w))throw w;ot(qm,"Failed to update sequence numbers: "+w)}for(const w of _){const k=w.targetId;if(!w.fromCache){const X=b.vs.get(k),it=X.snapshotVersion,rt=X.withLastLimboFreeSnapshotVersion(it);b.vs=b.vs.insert(k,rt)}}})(a.localStore,c))}async function KC(s,t){const i=At(s);if(!i.currentUser.isEqual(t)){ot(Wm,"User change. New user:",t.toKey());const a=await Y1(i.localStore,t);i.currentUser=t,(function(c,d){c.mu.forEach((p=>{p.forEach((v=>{v.reject(new ht($.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,a.removedBatchIds,a.addedBatchIds),await Kl(i,a.Ns)}}function QC(s,t){const i=At(s),a=i.Au.get(t);if(a&&a.hu)return Ut().add(a.key);{let l=Ut();const c=i.Iu.get(t);if(!c)return l;for(const d of c){const p=i.Tu.get(d);l=l.unionWith(p.view.nu)}return l}}function hT(s){const t=At(s);return t.remoteStore.remoteSyncer.applyRemoteEvent=oT.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=QC.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=qC.bind(null,t),t.Pu.J_=xC.bind(null,t.eventManager),t.Pu.yu=DC.bind(null,t.eventManager),t}function YC(s){const t=At(s);return t.remoteStore.remoteSyncer.applySuccessfulWrite=HC.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=FC.bind(null,t),t}class lh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Sh(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return YR(this.persistence,new GR,t.initialUser,this.serializer)}Cu(t){return new Q1(jm.Vi,this.serializer)}Du(t){return new eC}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}lh.provider={build:()=>new lh};class XC extends lh{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){Wt(this.persistence.referenceDelegate instanceof ah,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new DR(a,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?_n.withCacheSize(this.cacheSizeBytes):_n.DEFAULT;return new Q1((a=>ah.Vi(a,i)),this.serializer)}}class hm{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>K0(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=KC.bind(null,this.syncEngine),await AC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new RC})()}createDatastore(t){const i=Sh(t.databaseInfo.databaseId),a=aC(t.databaseInfo);return hC(t.authCredentials,t.appCheckCredentials,a,i)}createRemoteStore(t){return(function(a,l,c,d,p){return new dC(a,l,c,d,p)})(this.localStore,this.datastore,t.asyncQueue,(i=>K0(this.syncEngine,i,0)),(function(){return j0.v()?new j0:new nC})())}createSyncEngine(t,i){return(function(l,c,d,p,v,_,b){const w=new kC(l,c,d,p,v,_);return b&&(w.gu=!0),w})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=At(i);ot(Xs,"RemoteStore shutting down."),a.Ea.add(5),await Gl(a),a.Aa.shutdown(),a.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}hm.provider={build:()=>new hm};class WC{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):dr("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}const ls="FirestoreClient";class JC{constructor(t,i,a,l,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=a,this._databaseInfo=l,this.user=sn.UNAUTHENTICATED,this.clientId=Cm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async d=>{ot(ls,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(ot(ls,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new ns;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const a=Ym(i,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}async function jd(s,t){s.asyncQueue.verifyOperationInProgress(),ot(ls,"Initializing OfflineComponentProvider");const i=s.configuration;await t.initialize(i);let a=i.initialUser;s.setCredentialChangeListener((async l=>{a.isEqual(l)||(await Y1(t.localStore,l),a=l)})),t.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=t}async function Y0(s,t){s.asyncQueue.verifyOperationInProgress();const i=await ZC(s);ot(ls,"Initializing OnlineComponentProvider"),await t.initialize(i,s.configuration),s.setCredentialChangeListener((a=>q0(t.remoteStore,a))),s.setAppCheckTokenChangeListener(((a,l)=>q0(t.remoteStore,l))),s._onlineComponents=t}async function ZC(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){ot(ls,"Using user provided OfflineComponentProvider");try{await jd(s,s._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(l){return l.name==="FirebaseError"?l.code===$.FAILED_PRECONDITION||l.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;Za("Error using user provided cache. Falling back to memory cache: "+i),await jd(s,new lh)}}else ot(ls,"Using default OfflineComponentProvider"),await jd(s,new XC(void 0));return s._offlineComponents}async function fT(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(ot(ls,"Using user provided OnlineComponentProvider"),await Y0(s,s._uninitializedComponentsProvider._online)):(ot(ls,"Using default OnlineComponentProvider"),await Y0(s,new hm))),s._onlineComponents}function $C(s){return fT(s).then((t=>t.syncEngine))}async function t5(s){const t=await fT(s),i=t.eventManager;return i.onListen=LC.bind(null,t.syncEngine),i.onUnlisten=zC.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=PC.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=jC.bind(null,t.syncEngine),i}function e5(s,t,i={}){const a=new ns;return s.asyncQueue.enqueueAndForget((async()=>(function(c,d,p,v,_){const b=new WC({next:k=>{b.Nu(),d.enqueueAndForget((()=>IC(c,w)));const X=k.docs.has(p);!X&&k.fromCache?_.reject(new ht($.UNAVAILABLE,"Failed to get document because the client is offline.")):X&&k.fromCache&&v&&v.source==="server"?_.reject(new ht($.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(k)},error:k=>_.reject(k)}),w=new MC(Vm(p.path),b,{includeMetadataChanges:!0,Ka:!0});return CC(c,w)})(await t5(s),s.asyncQueue,t,i,a))),a.promise}function n5(s,t){const i=new ns;return s.asyncQueue.enqueueAndForget((async()=>BC(await $C(s),t,i))),i.promise}function dT(s){const t={};return s.timeoutSeconds!==void 0&&(t.timeoutSeconds=s.timeoutSeconds),t}const i5="ComponentProvider",X0=new Map;function r5(s,t,i,a,l){return new Tw(s,t,i,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,dT(l.experimentalLongPollingOptions),l.useFetchStreams,l.isUsingEmulator,a)}const mT="firestore.googleapis.com",W0=!0;class J0{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new ht($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=mT,this.ssl=W0}else this.host=t.host,this.ssl=t.ssl??W0;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=K1;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<IR)throw new ht($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}uw("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=dT(t.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new ht($.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new ht($.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new ht($.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(a,l){return a.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Zm{constructor(t,i,a,l){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=a,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new J0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ht($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ht($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new J0(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new Z2;switch(a.type){case"firstParty":return new nw(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new ht($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=X0.get(i);a&&(ot(i5,"Removing Datastore"),X0.delete(i),a.terminate())})(this),Promise.resolve()}}function s5(s,t,i,a={}){s=xl(s,Zm);const l=ro(t),c=s._getSettings(),d={...c,emulatorOptions:s._getEmulatorOptions()},p=`${t}:${i}`;l&&(dv(`https://${p}`),mv("Firestore",!0)),c.host!==mT&&c.host!==p&&Za("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const v={...c,host:p,ssl:l,emulatorOptions:a};if(!Gs(v,d)&&(s._setSettings(v),a.mockUserToken)){let _,b;if(typeof a.mockUserToken=="string")_=a.mockUserToken,b=sn.MOCK_USER;else{_=Sb(a.mockUserToken,s._app?.options.projectId);const w=a.mockUserToken.sub||a.mockUserToken.user_id;if(!w)throw new ht($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new sn(w)}s._authCredentials=new $2(new r1(_,b))}}class $m{constructor(t,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=t}withConverter(t){return new $m(this.firestore,t,this._query)}}class Ke{constructor(t,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ll(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Ke(this.firestore,t,this._key)}toJSON(){return{type:Ke._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,a){if(ql(i,Ke._jsonSchema))return new Ke(t,a||null,new pt(ye.fromString(i.referencePath)))}}Ke._jsonSchemaVersion="firestore/documentReference/1.0",Ke._jsonSchema={type:Ue("string",Ke._jsonSchemaVersion),referencePath:Ue("string")};class Ll extends $m{constructor(t,i,a){super(t,i,Vm(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Ke(this.firestore,null,new pt(t))}withConverter(t){return new Ll(this.firestore,t,this._path)}}function gT(s,t,...i){if(s=Fn(s),arguments.length===1&&(t=Cm.newId()),lw("doc","path",t),s instanceof Zm){const a=ye.fromString(t,...i);return h0(a),new Ke(s,null,new pt(a))}{if(!(s instanceof Ke||s instanceof Ll))throw new ht($.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(ye.fromString(t,...i));return h0(a),new Ke(s.firestore,s instanceof Ll?s.converter:null,new pt(a))}}const Z0="AsyncQueue";class $0{constructor(t=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new W1(this,"async_queue_retry"),this._c=()=>{const a=zd();a&&ot(Z0,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=t;const i=zd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=zd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new ns;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Yu.push(t),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(t){if(!uo(t))throw t;ot(Z0,"Operation failed with retryable error: "+t)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((a=>{throw this.nc=a,this.rc=!1,dr("INTERNAL UNHANDLED ERROR: ",tv(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(t,i,a){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const l=Qm.createAndSchedule(this,t,i,a,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&_t(47125,{Pc:tv(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}Rc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function tv(s){let t=s.message||"";return s.stack&&(t=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),t}class tg extends Zm{constructor(t,i,a,l){super(t,i,a,l),this.type="firestore",this._queue=new $0,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new $0(t),this._firestoreClient=void 0,await t}}}function a5(s,t){const i=typeof s=="object"?s:_v(),a=typeof s=="string"?s:$c,l=gm(i,"firestore").getImmediate({identifier:a});if(!l._initialized){const c=Eb("firestore");c&&s5(l,...c)}return l}function pT(s){if(s._terminated)throw new ht($.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||o5(s),s._firestoreClient}function o5(s){const t=s._freezeSettings(),i=r5(s._databaseId,s._app?.options.appId||"",s._persistenceKey,s._app?.options.apiKey,t);s._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),s._firestoreClient=new JC(s._authCredentials,s._appCheckCredentials,s._queue,i,s._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(s._componentsProvider))}class Hn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Hn(en.fromBase64String(t))}catch(i){throw new ht($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new Hn(en.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Hn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(ql(t,Hn._jsonSchema))return Hn.fromBase64String(t.bytes)}}Hn._jsonSchemaVersion="firestore/bytes/1.0",Hn._jsonSchema={type:Ue("string",Hn._jsonSchemaVersion),bytes:Ue("string")};class yT{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new ht($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new tn(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class _T{constructor(t){this._methodName=t}}class Li{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new ht($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new ht($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Pt(this._lat,t._lat)||Pt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Li._jsonSchemaVersion}}static fromJSON(t){if(ql(t,Li._jsonSchema))return new Li(t.latitude,t.longitude)}}Li._jsonSchemaVersion="firestore/geoPoint/1.0",Li._jsonSchema={type:Ue("string",Li._jsonSchemaVersion),latitude:Ue("number"),longitude:Ue("number")};class ci{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(a,l){if(a.length!==l.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==l[c])return!1;return!0})(this._values,t._values)}toJSON(){return{type:ci._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(ql(t,ci._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new ci(t.vectorValues);throw new ht($.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ci._jsonSchemaVersion="firestore/vectorValue/1.0",ci._jsonSchema={type:Ue("string",ci._jsonSchemaVersion),vectorValues:Ue("object")};const l5=/^__.*__$/;class u5{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return this.fieldMask!==null?new Zs(t,this.data,this.fieldMask,i,this.fieldTransforms):new Hl(t,this.data,i,this.fieldTransforms)}}function vT(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _t(40011,{dataSource:s})}}class eg{constructor(t,i,a,l,c,d){this.settings=t,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=l,c===void 0&&this.validatePath(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(t){return new eg({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(t){const i=this.path?.child(t),a=this.contextWith({path:i,arrayElement:!1});return a.validatePathSegment(t),a}childContextForFieldPath(t){const i=this.path?.child(t),a=this.contextWith({path:i,arrayElement:!1});return a.validatePath(),a}childContextForArray(t){return this.contextWith({path:void 0,arrayElement:!0})}createError(t){return uh(t,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}validatePath(){if(this.path)for(let t=0;t<this.path.length;t++)this.validatePathSegment(this.path.get(t))}validatePathSegment(t){if(t.length===0)throw this.createError("Document fields must not be empty");if(vT(this.dataSource)&&l5.test(t))throw this.createError('Document fields cannot begin and end with "__"')}}class c5{constructor(t,i,a){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=a||Sh(t)}createContext(t,i,a,l=!1){return new eg({dataSource:t,methodName:i,targetDoc:a,path:tn.emptyPath(),arrayElement:!1,hasConverter:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function h5(s){const t=s._freezeSettings(),i=Sh(s._databaseId);return new c5(s._databaseId,!!t.ignoreUndefinedProperties,i)}function f5(s,t,i,a,l,c={}){const d=s.createContext(c.merge||c.mergeFields?2:0,t,i,l);ST("Data must be an object, but it was:",d,a);const p=ET(a,d);let v,_;if(c.merge)v=new li(d.fieldMask),_=d.fieldTransforms;else if(c.mergeFields){const b=[];for(const w of c.mergeFields){const k=ng(t,w,i);if(!d.contains(k))throw new ht($.INVALID_ARGUMENT,`Field '${k}' is specified in your field mask but missing from your input data.`);g5(b,k)||b.push(k)}v=new li(b),_=d.fieldTransforms.filter((w=>v.covers(w.field)))}else v=null,_=d.fieldTransforms;return new u5(new qn(p),v,_)}function TT(s,t){if(bT(s=Fn(s)))return ST("Unsupported field value:",t,s),ET(s,t);if(s instanceof _T)return(function(a,l){if(!vT(l.dataSource))throw l.createError(`${a._methodName}() can only be used with update() and set()`);if(!l.path)throw l.createError(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(s,t),null;if(s===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),s instanceof Array){if(t.settings.arrayElement&&t.dataSource!==4)throw t.createError("Nested arrays are not supported");return(function(a,l){const c=[];let d=0;for(const p of a){let v=TT(p,l.childContextForArray(d));v==null&&(v={nullValue:"NULL_VALUE"}),c.push(v),d++}return{arrayValue:{values:c}}})(s,t)}return(function(a,l){if((a=Fn(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return Kw(l.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=he.fromDate(a);return{timestampValue:sh(l.serializer,c)}}if(a instanceof he){const c=new he(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:sh(l.serializer,c)}}if(a instanceof Li)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Hn)return{bytesValue:U1(l.serializer,a._byteString)};if(a instanceof Ke){const c=l.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw l.createError(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Um(a.firestore._databaseId||l.databaseId,a._key.path)}}if(a instanceof ci)return(function(d,p){const v=d instanceof ci?d.toArray():d;return{mapValue:{fields:{[d1]:{stringValue:m1},[th]:{arrayValue:{values:v.map((b=>{if(typeof b!="number")throw p.createError("VectorValues must only contain numeric values.");return km(p.serializer,b)}))}}}}}})(a,l);if(G1(a))return a._toProto(l.serializer);throw l.createError(`Unsupported field value: ${Im(a)}`)})(s,t)}function ET(s,t){const i={};return o1(s)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Ws(s,((a,l)=>{const c=TT(l,t.childContextForField(a));c!=null&&(i[a]=c)})),{mapValue:{fields:i}}}function bT(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof he||s instanceof Li||s instanceof Hn||s instanceof Ke||s instanceof _T||s instanceof ci||G1(s))}function ST(s,t,i){if(!bT(i)||!s1(i)){const a=Im(i);throw a==="an object"?t.createError(s+" a custom object"):t.createError(s+" "+a)}}function ng(s,t,i){if((t=Fn(t))instanceof yT)return t._internalPath;if(typeof t=="string")return m5(s,t);throw uh("Field path arguments must be of type string or ",s,!1,void 0,i)}const d5=new RegExp("[~\\*/\\[\\]]");function m5(s,t,i){if(t.search(d5)>=0)throw uh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new yT(...t.split("."))._internalPath}catch{throw uh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function uh(s,t,i,a,l){const c=a&&!a.isEmpty(),d=l!==void 0;let p=`Function ${t}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let v="";return(c||d)&&(v+=" (found",c&&(v+=` in field ${a}`),d&&(v+=` in document ${l}`),v+=")"),new ht($.INVALID_ARGUMENT,p+s+v)}function g5(s,t){return s.some((i=>i.isEqual(t)))}class p5{convertValue(t,i="none"){switch(as(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Ie(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(ss(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw _t(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const a={};return Ws(t,((l,c)=>{a[l]=this.convertValue(c,i)})),a}convertVectorValue(t){const i=t.fields?.[th].arrayValue?.values?.map((a=>Ie(a.doubleValue)));return new ci(i)}convertGeoPoint(t){return new Li(Ie(t.latitude),Ie(t.longitude))}convertArray(t,i){return(t.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const a=ph(t);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(Ml(t));default:return null}}convertTimestamp(t){const i=rs(t);return new he(i.seconds,i.nanos)}convertDocumentKey(t,i){const a=ye.fromString(t);Wt(F1(a),9688,{name:t});const l=new Ol(a.get(1),a.get(3)),c=new pt(a.popFirst(5));return l.isEqual(i)||dr(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}class y5 extends p5{constructor(t){super(),this.firestore=t}convertBytes(t){return new Hn(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new Ke(this.firestore,null,i)}}const ev="@firebase/firestore",nv="4.10.0";class AT{constructor(t,i,a,l,c){this._firestore=t,this._userDataWriter=i,this._key=a,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Ke(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new _5(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(t){if(this._document){const i=this._document.data.field(ng("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class _5 extends AT{data(){return super.data()}}function v5(s,t,i){let a;return a=s?s.toFirestore(t):t,a}class vl{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Fs extends AT{constructor(t,i,a,l,c,d){super(t,i,a,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new Hc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const a=this._document.data.field(ng("DocumentSnapshot.get",t));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ht($.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=Fs._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Fs._jsonSchemaVersion="firestore/documentSnapshot/1.0",Fs._jsonSchema={type:Ue("string",Fs._jsonSchemaVersion),bundleSource:Ue("string","DocumentSnapshot"),bundleName:Ue("string"),bundle:Ue("string")};class Hc extends Fs{data(t={}){return super.data(t)}}class Rl{constructor(t,i,a,l){this._firestore=t,this._userDataWriter=i,this._snapshot=l,this.metadata=new vl(l.hasPendingWrites,l.fromCache),this.query=a}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((a=>{t.call(i,new Hc(this._firestore,this._userDataWriter,a.key,a,new vl(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ht($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((p=>{const v=new Hc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new vl(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);return p.doc,{type:"added",doc:v,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((p=>c||p.type!==3)).map((p=>{const v=new Hc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new vl(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);let _=-1,b=-1;return p.type!==0&&(_=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),b=d.indexOf(p.doc.key)),{type:T5(p.type),doc:v,oldIndex:_,newIndex:b}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ht($.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Rl._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Cm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function T5(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _t(61501,{type:s})}}Rl._jsonSchemaVersion="firestore/querySnapshot/1.0",Rl._jsonSchema={type:Ue("string",Rl._jsonSchemaVersion),bundleSource:Ue("string","QuerySnapshot"),bundleName:Ue("string"),bundle:Ue("string")};function E5(s){s=xl(s,Ke);const t=xl(s.firestore,tg),i=pT(t);return e5(i,s._key).then((a=>A5(t,s,a)))}function b5(s,t,i){s=xl(s,Ke);const a=xl(s.firestore,tg),l=v5(s.converter,t),c=h5(a);return S5(a,[f5(c,"setDoc",s._key,l,s.converter!==null,i).toMutation(s._key,cr.none())])}function S5(s,t){const i=pT(s);return n5(i,t)}function A5(s,t,i){const a=i.docs.get(t._key),l=new y5(s);return new Fs(s,l,t._key,a,new vl(i.hasPendingWrites,i.fromCache),t.converter)}(function(t,i=!0){J2(so),Wa(new Ks("firestore",((a,{instanceIdentifier:l,options:c})=>{const d=a.getProvider("app").getImmediate(),p=new tg(new tw(a.getProvider("auth-internal")),new iw(d,a.getProvider("app-check-internal")),Ew(d,l),d);return c={useFetchStreams:i,...c},p._setSettings(c),p}),"PUBLIC").setMultipleInstances(!0)),ts(ev,nv,t),ts(ev,nv,"esm2020")})();var w5="firebase",R5="12.8.0";ts(w5,R5,"app");const C5={apiKey:"AIzaSyBh-YtTlh01-3rbv5ROFl23zPH2kcNpMCM",authDomain:"performance-platform-766bd.firebaseapp.com",projectId:"performance-platform-766bd",storageBucket:"performance-platform-766bd.firebasestorage.app",messagingSenderId:"816080210349",appId:"1:816080210349:web:5f98fcbc556a2f4ffd7924",measurementId:"G-C0N03Y0JYV"},wT=yv(C5),Bd=X2(wT),I5=new or,RT=a5(wT),Cc={name:"Sonny Nguyen",age:"29M",dob:"09/21/1996",height:`5'11"`,weight:"210",bmi:"29.3",service:"USMC  CPL, Honorable",vaPcp:"Dr. Nayyar Masood",psychiatrist:"Dr. Daolong Zhang",goalWeight:"185190",goalWaist:'~32"',dailyCal:"~2,450",protein:"~172g",training:"3x/wk + 1 bonus",steps:"10,000/day",program:"Kinobody Movie Star Body"},Ic=[{name:"Sertraline 100mg",timing:"Every morning",purpose:"Depression",notes:"Take with breakfast."},{name:"Allopurinol 300mg",timing:"Once daily",purpose:"Gout prevention",notes:"Take with food. Stay hydrated."},{name:"Colchicine 0.6mg",timing:"Once daily",purpose:"Gout prevention",notes:"Take with food. Avoid grapefruit."},{name:"Melatonin 10mg",timing:"Bedtime",purpose:"Sleep",notes:"Take 3060 min before sleep."}],xc=[{name:"Vitamin D3",dose:"5,000 IU",when:"Breakfast (with fat)",why:"Clinically deficient at 16.7. Target 40+."},{name:"Methylfolate",dose:"800 mcg",when:"Morning w/ Sertraline",why:"Folate at 5.1 deficient. Enhances SSRI."},{name:"Omega-3 Fish Oil",dose:"23g EPA/DHA",when:"With dinner",why:"HDL borderline. Anti-inflammatory."},{name:"Magnesium Glycinate",dose:"400mg",when:"Bedtime",why:"Sleep quality + muscle recovery."},{name:"Tart Cherry Extract",dose:"500mg",when:"Evening",why:"Gout prevention + anti-inflammatory."}],Dc=[{condition:"Depression NOS, Moderate",date:"Oct 2023",impact:"On Sertraline 100mg. Sleep + exercise are top tools."},{condition:"Polycythemia",date:"Oct 2024",impact:"Elevated RBC/HCT. Stay hydrated 100oz+/day."},{condition:"Gout",date:"Aug 2023",impact:"On Allopurinol + Colchicine. Limit red meat, alcohol."},{condition:"Low Back Pain",date:"Jun 2023",impact:"Avoid loaded spinal flexion. Front squats > back squats."},{condition:"Left Shoulder Pain",date:"Jun 2023",impact:"Full warmup before pressing. Landmine if overhead flares."},{condition:"Migraine with Aura",date:"Apr 2023",impact:"Sleep consistency #1 prevention. Don't skip meals."}],Mc=[{test:"Glucose (fasting)",result:"103",unit:"mg/dL",ref:"74100",status:"Borderline",action:"Cut simple sugars, protein-first meals."},{test:"ALT (liver)",result:"74",unit:"U/L",ref:"044",status:"HIGH",action:"Zero alcohol 30 days. Minimize acetaminophen."},{test:"AST (liver)",result:"40",unit:"U/L",ref:"1134",status:"High",action:"Monitor alongside ALT."},{test:"HDL",result:"41",unit:"mg/dL",ref:">40",status:"Borderline",action:"Omega-3s + cardio/walking 10k steps."},{test:"Testosterone",result:"321",unit:"ng/dL",ref:"2501100",status:"Low-Normal",action:"Fix Vitamin D, sleep 8-9 hrs, heavy compounds."},{test:"Free Testosterone",result:"69.7",unit:"pg/mL",ref:"46224",status:"Low-Normal",action:"Will improve with T optimization."},{test:"Vitamin D",result:"16.7",unit:"ng/mL",ref:"3040",status:"DEFICIENT",action:"5,000 IU D3 daily. Non-negotiable."},{test:"Folate",result:"5.1",unit:"ng/mL",ref:"7.031.4",status:"DEFICIENT",action:"Methylfolate 800mcg + dark leafy greens."},{test:"Hemoglobin",result:"16.8",unit:"g/dL",ref:"1417",status:"Normal",action:"Upper normal. Consistent with polycythemia."},{test:"Hematocrit",result:"50.9",unit:"%",ref:"3951%",status:"Watch",action:"Upper edge. Hydration critical."},{test:"Ferritin",result:"358.6",unit:"ng/mL",ref:"22350",status:"High",action:"Slightly high. Could be inflammatory."},{test:"HbA1c",result:"5.1",unit:"%",ref:"<5.6%",status:"Normal",action:"Good long-term glucose control."},{test:"Uric Acid",result:"5.5",unit:"mg/dL",ref:"3.77.7",status:"Normal",action:"Allopurinol working. Hydration up."},{test:"TSH",result:"2.62",unit:"uIU/mL",ref:"0.45.0",status:"Normal",action:"Thyroid function normal."}],ml=[{metric:"Weight",current:"210 lbs",target:"200 lbs",how:"~1 lb/week with strength training + calorie control."},{metric:"Waist",current:"TBD",target:'~34"',how:'Track weekly. Goal is 32" long-term.'},{metric:"Vitamin D",current:"16.7 ng/mL",target:"40+ ng/mL",how:"5,000 IU D3 daily. Retest at 3-month labs."},{metric:"Folate",current:"5.1 ng/mL",target:"10+ ng/mL",how:"Methylfolate + leafy greens daily."},{metric:"ALT (liver)",current:"74 U/L",target:"<44 U/L",how:"Zero alcohol, monitor."},{metric:"Fasting Glucose",current:"103 mg/dL",target:"<100 mg/dL",how:"Carb timing + weight loss."},{metric:"HDL",current:"41 mg/dL",target:"50+ mg/dL",how:"Walking 10k steps + omega-3s."},{metric:"PHQ-9",current:"12",target:"<10",how:"Training + sleep + D + folate."},{metric:"Testosterone",current:"321 ng/dL",target:"400+ ng/dL",how:"Fix D, sleep, train heavy. Retest 6 mo."},{metric:"Training",current:"Inconsistent",target:"3x/wk + bonus",how:"Mon/Wed/Fri + Sat. Log every session."},{metric:"Steps",current:"TBD",target:"10,000/day",how:"Fasting morning walks + throughout day."},{metric:"Sleep",current:"Variable",target:"89 hrs/night",how:"10:30 PM  8:00 AM minimum."}],Oc={proteins:[{item:"Chicken breast/thighs",qty:"4 lbs",notes:"~8oz/day cooked",have:!1},{item:"Ground turkey",qty:"1.5 lbs",notes:"Burgers, bowls",have:!1},{item:"Salmon fillets",qty:"1.5 lbs",notes:"2-3 dinners",have:!1},{item:"Smoked salmon",qty:"8 oz",notes:"Breakfast 1-2x",have:!1},{item:"White fish (cod/tilapia)",qty:"1 lb",notes:"Fish tacos",have:!1},{item:"Eggs",qty:"2 dozen",notes:"2-3/day",have:!1},{item:"Greek yogurt",qty:"32 oz tub",notes:"Meal 1 option",have:!1},{item:"Cottage cheese",qty:"16 oz",notes:"Late night",have:!1},{item:"Protein powder",qty:"",notes:"Post-workout",have:!1}],carbs:[{item:"Brown rice",qty:"2 lbs dry",notes:"~1 cup cooked/day",have:!1},{item:"Sweet potatoes",qty:"4-5 medium",notes:"Dinners",have:!1},{item:"Russet potatoes",qty:"2 lbs",notes:"Roasting",have:!1},{item:"Quinoa",qty:"1 lb dry",notes:"2-3 dinners",have:!1},{item:"Oats",qty:"1 lb",notes:"Overnight oats",have:!1},{item:"Whole grain bread",qty:"1 loaf",notes:"Toast/breakfast",have:!1},{item:"Black beans",qty:"2 cans",notes:"Bowls, tacos",have:!1},{item:"Lentils",qty:"1 lb dry",notes:"Folate boost",have:!1},{item:"Granola",qty:"12 oz",notes:"With yogurt",have:!1}],vegetables:[{item:"Spinach",qty:"2 containers",notes:"Daily greens (folate)",have:!1},{item:"Broccoli",qty:"2 lbs",notes:"Cruciferous daily (liver)",have:!1},{item:"Brussels sprouts",qty:"1.5 lbs",notes:"2-3 dinners",have:!1},{item:"Asparagus",qty:"1 bunch",notes:"Folate source",have:!1},{item:"Bok choy",qty:"1 bunch",notes:"Stir-fry",have:!1},{item:"Mixed salad greens",qty:"1 container",notes:"Salads",have:!1},{item:"Cauliflower",qty:"1 head",notes:"Liver support",have:!1}],fats:[{item:"Avocados",qty:"5-6",notes:"~1/day",have:!1},{item:"Walnuts",qty:"8 oz bag",notes:"Snacks, yogurt",have:!1},{item:"Olive oil",qty:"",notes:"Cooking (have on hand)",have:!1},{item:"Cream cheese",qty:"8 oz",notes:"Smoked salmon",have:!1}],fruits:[{item:"Berries (mixed)",qty:"2 pints",notes:"Oats, snacks",have:!1},{item:"Bananas",qty:"1 bunch",notes:"Pre-workout",have:!1}],other:[{item:"Dark chocolate (70%+)",qty:"1 bar",notes:"Late night treat",have:!1},{item:"Corn tortillas",qty:"1 pack",notes:"Fish tacos",have:!1},{item:"Coffee",qty:"",notes:"Black only",have:!1}]},x5=new Date("2026-02-04"),D5=12;function iv(s){if(!s)return null;const t=String(s).match(/[\d.]+/);return t?parseFloat(t[0]):null}function M5(){const s=new Date,t=new Date(x5);t.setDate(t.getDate()+D5*7);const i=(t-s)/(1e3*60*60*24*7);return Math.max(1,Math.round(i*10)/10)}function O5(s,t,i){const a=iv(t),l=iv(i),c=(s||"").toLowerCase(),d=M5();if(a===null||l===null)return null;const p=Math.abs(a-l),v=a>l?"lose":"gain",_=Math.round(p/d*100)/100;if(c.includes("weight"))return p===0?" At target. Maintain with current training + diet.":`${v==="lose"?"Lose":"Gain"} ${p} lbs in ${d} wks  ~${_} lbs/wk. ${v==="lose"?"500 cal deficit/day = ~1 lb/wk. Strength train to preserve muscle.":"300500 cal surplus + progressive overload."}`;if(c.includes("waist"))return p===0?" At target. Maintain current routine.":`Lose ${p}" in ${d} wks  ~${Math.round(p/d*100)/100}"/wk. Core work + calorie deficit. Measure weekly same time.`;if(c.includes("vitamin d")||c.includes("vit d")){const b=l-a;return b<=0?" At or above target. Maintain 2,000 IU D3 daily.":`Raise ${b.toFixed(1)} ng/mL in ${d} wks. 5,000 IU D3 daily. Expect ~10 ng/mL rise per month at this dose. Retest at 3 months.`}if(c.includes("folate")){const b=l-a;return b<=0?" At target. Maintain methylfolate + greens.":`Raise ${b.toFixed(1)} ng/mL. Methylfolate 800mcg daily + dark leafy greens. Enhances Sertraline response. Retest at 3 months.`}if(c.includes("alt")||c.includes("liver"))return a<=l?" At or below target. Keep monitoring.":`Drop ${p} U/L in ${d} wks. Zero alcohol, reduce processed food, add NAC 600mg. Weight loss helps significantly. Retest at 3 months.`;if(c.includes("glucose")||c.includes("fasting"))return a<=l?" At or below target. Maintain current approach.":`Drop ${p} mg/dL. Limit carbs at dinner, walk after meals, target weight loss. Each 5 lbs lost  23 mg/dL drop.`;if(c.includes("hdl")){const b=l-a;return b<=0?" At or above target. Maintain activity + omega-3s.":`Raise ${b} mg/dL in ${d} wks. 10k steps daily + omega-3 fish oil 2g/day. Heavy training helps. Each 10 lbs lost  12 mg/dL HDL gain.`}if(c.includes("phq")||c.includes("depression"))return a<=l?" Below target score. Keep up current approach.":`Reduce score by ${p} pts. 3x/wk training = proven antidepressant effect. Fix Vitamin D + folate deficiency. Target: 10:30 PM sleep.`;if(c.includes("testosterone")||c.includes("test")){const b=l-a;return b<=0?" At or above target. Maintain lifestyle factors.":`Raise ${b} ng/dL. Fix Vitamin D (direct link), sleep 8-9 hrs, heavy compound lifts, reduce body fat. Retest at 6 months.`}return c.includes("step")?a>=l?" Hitting step target. Stay consistent.":`Build to ${i} with fasting AM walks + post-meal walks. Add 1,000 steps/wk until target.`:c.includes("sleep")?`Target ${i}. Bedtime stack: melatonin + magnesium + tart cherry at 10 PM. No screens after 9:30. Protect 9+ hrs before early days.`:c.includes("training")||c.includes("workout")?`Target ${i}. Mon/Wed/Fri lifting + Sat bonus. Log every session in Training tab. No skipping  consistency > perfection.`:p===0?" At target. Maintain current approach.":a>l?`Decrease by ${p} over ${d} wks  ~${_}/wk.`:`Increase by ${p} over ${d} wks  ~${_}/wk.`}const Nc={Monday:{title:"SJSU + Motus + Workout #1 (Chest & Arms)",blocks:[{time:"8:30 AM",activity:"Wake  Sertraline + Vitamin D + Methylfolate. Black coffee.",tag:"routine"},{time:"9:0010:00 AM",activity:"SJSU Class",tag:"school"},{time:"10:0011:30 AM",activity:"Take mom to work",tag:"personal"},{time:"11:30 AM",activity:"Break fast: Meal 1 (~500600 cal). Eggs + fruit + light carb.",tag:"meal"},{time:"12:004:00 PM",activity:"Motus  client calls, credit reviews, funding pipeline.",tag:"work"},{time:"4:004:30 PM",activity:"Transition: light snack, prep for class.",tag:"routine"},{time:"4:305:45 PM",activity:"SJSU Zoom Class (online).",tag:"school"},{time:"6:007:00 PM",activity:"WORKOUT #1: Chest & Arms",tag:"gym"},{time:"7:15 PM",activity:"Dinner Feast: Meal 2 (~1,3001,500 cal). Salmon/chicken + rice + broccoli.",tag:"meal"},{time:"8:0010:00 PM",activity:"Peak energy block: Motus tasks, client follow-ups. Meal 3 at 9:30.",tag:"work"},{time:"10:00 PM",activity:"Wind down  Melatonin + Magnesium + Tart Cherry.",tag:"routine"},{time:"10:30 PM",activity:"Lights out.",tag:"sleep"}]},Tuesday:{title:"SJSU + Motus + Team Meeting (12 PM)",blocks:[{time:"8:30 AM",activity:"Wake  Meds + Supplements. Black coffee.",tag:"routine"},{time:"9:0010:00 AM",activity:"Fasting morning: 10k steps walk, light admin.",tag:"cardio"},{time:"10:0011:30 AM",activity:"Take mom to work",tag:"personal"},{time:"11:30 AM",activity:"Break fast: Meal 1. Greek yogurt + granola + walnuts.",tag:"meal"},{time:"12:00 PM",activity:"MOTUS TEAM MEETING",tag:"work"},{time:"12:304:30 PM",activity:"Motus  action items, pipeline, credit reports.",tag:"work"},{time:"4:305:30 PM",activity:"REST DAY. Walk for steps. Eat dinner early before class.",tag:"rest"},{time:"5:30 PM",activity:"Dinner Feast: Meal 2. Chicken thighs + sweet potato + spinach.",tag:"meal"},{time:"6:007:45 PM",activity:"SJSU Zoom Class (online).",tag:"school"},{time:"8:0010:00 PM",activity:"Peak energy: Motus strategy. Meal 3 at 9:30.",tag:"work"},{time:"10:00 PM",activity:"Wind down.",tag:"routine"},{time:"10:30 PM",activity:"Sleep.",tag:"sleep"}]},Wednesday:{title:"SJSU + Motus + Workout #2 (Legs & Traps)",blocks:[{time:"8:30 AM",activity:"Wake  Meds + Supplements. Black coffee.",tag:"routine"},{time:"9:0010:00 AM",activity:"Fasting morning: walk, light study, school assignments.",tag:"cardio"},{time:"10:0011:30 AM",activity:"Take mom to work",tag:"personal"},{time:"11:30 AM",activity:"Break fast: Meal 1. Turkey + black bean bowl.",tag:"meal"},{time:"12:004:00 PM",activity:"Motus  deep work block, client calls.",tag:"work"},{time:"4:004:30 PM",activity:"Transition: light snack, hydrate extra, prep for class.",tag:"routine"},{time:"4:305:45 PM",activity:"SJSU Zoom Class (online).",tag:"school"},{time:"6:007:00 PM",activity:"WORKOUT #2: Legs & Traps. Hydrate extra (polycythemia).",tag:"gym"},{time:"7:15 PM",activity:"Dinner Feast: Meal 2. Stir-fry chicken + brown rice + bok choy.",tag:"meal"},{time:"8:0010:00 PM",activity:"Peak energy block. Meal 3 at 9:30.",tag:"work"},{time:"10:00 PM",activity:"Wind down.",tag:"routine"},{time:"10:30 PM",activity:"Sleep.",tag:"sleep"}]},Thursday:{title:"Motus + Rest Day",blocks:[{time:"8:30 AM",activity:"Wake  Meds + Supplements. Black coffee.",tag:"routine"},{time:"9:0010:00 AM",activity:"Fasting morning: walk, admin, school prep.",tag:"cardio"},{time:"10:0011:30 AM",activity:"Take mom to work",tag:"personal"},{time:"11:30 AM",activity:"Break fast: Meal 1. Eggs + avocado toast + mixed greens.",tag:"meal"},{time:"12:004:30 PM",activity:"Motus  client calls, pipeline, credit work.",tag:"work"},{time:"4:305:30 PM",activity:"REST DAY. Walk for steps. Foam roll if sore.",tag:"rest"},{time:"6:00 PM",activity:"Dinner Feast: Meal 2. Beef (1/2x wk) + roasted potatoes + asparagus.",tag:"meal"},{time:"7:0010:00 PM",activity:"Peak energy: Motus strategy, school assignments. Meal 3 at 9:30.",tag:"work"},{time:"10:00 PM",activity:"Wind down.",tag:"routine"},{time:"10:30 PM",activity:"Sleep.",tag:"sleep"}]},Friday:{title:"Motus + Weekly Sync (3 PM) + Workout #3 (Shoulders & Back)",blocks:[{time:"8:30 AM",activity:"Wake  Meds + Supplements. Black coffee.",tag:"routine"},{time:"9:0010:00 AM",activity:"Fasting morning: walk, prep for sync.",tag:"cardio"},{time:"10:0011:30 AM",activity:"Take mom to work",tag:"personal"},{time:"11:30 AM",activity:"Break fast: Meal 1. Smoked salmon + cream cheese + toast.",tag:"meal"},{time:"12:002:45 PM",activity:"Motus  wrap-up tasks, prep sync agenda.",tag:"work"},{time:"3:00 PM",activity:"MOTUS WEEKLY SYNC MEETING",tag:"work"},{time:"3:305:00 PM",activity:"Post-sync wrap-up, planning next week.",tag:"work"},{time:"5:306:30 PM",activity:"WORKOUT #3: Shoulders & Back",tag:"gym"},{time:"6:45 PM",activity:"Dinner Feast: Meal 2. Fish tacos + avocado + black beans.",tag:"meal"},{time:"7:3010:00 PM",activity:"Flex: lighter work or social time. Meal 3 at 9:30.",tag:"work"},{time:"10:00 PM",activity:"Wind down.",tag:"routine"},{time:"10:30 PM",activity:"Sleep.",tag:"sleep"}]},Saturday:{title:"Workout #4 (Bonus) + Recovery + Life",blocks:[{time:"9:00 AM",activity:"Wake (sleep in  9+ hrs). Meds + Supplements.",tag:"routine"},{time:"9:30 AM",activity:"Black coffee. Fasting holds if comfortable.",tag:"routine"},{time:"10:0011:30 AM",activity:"Take mom to work",tag:"personal"},{time:"11:30 AM",activity:"Break fast: Meal 1. Loaded breakfast  eggs, veggies, avocado.",tag:"meal"},{time:"12:001:00 PM",activity:"WORKOUT #4: Bonus (core + neck + posterior chain)",tag:"gym"},{time:"1:30 PM",activity:"Post-workout shake or Meal 2.",tag:"meal"},{time:"2:005:00 PM",activity:"Meal prep, errands, pho restaurant, personal time.",tag:"personal"},{time:"6:00 PM",activity:"Dinner Feast. Grilled chicken + quinoa + Brussels sprouts.",tag:"meal"},{time:"7:0010:00 PM",activity:"Social time, relaxation, no heavy work.",tag:"personal"},{time:"10:00 PM",activity:"Wind down.",tag:"routine"},{time:"10:30 PM",activity:"Sleep.",tag:"sleep"}]},Sunday:{title:"Full Rest + Prep + Reset",blocks:[{time:"9:00 AM",activity:"Wake  Meds + Supplements.",tag:"routine"},{time:"9:30 AM",activity:"Black coffee. Fasting morning.",tag:"routine"},{time:"10:0011:30 AM",activity:"Take mom to work",tag:"personal"},{time:"11:30 AM",activity:"Break fast: Meal 1. Overnight oats + protein + berries.",tag:"meal"},{time:"12:001:00 PM",activity:"Active recovery: walk, light stretching, foam roll.",tag:"rest"},{time:"1:003:00 PM",activity:"Meal prep for the week + grocery run.",tag:"personal"},{time:"3:005:00 PM",activity:"Week planning: calendar, Motus priorities, school prep.",tag:"work"},{time:"5:30 PM",activity:"Dinner Feast. Turkey burger + sweet potato fries + salad.",tag:"meal"},{time:"7:009:00 PM",activity:"Personal time, wind down mode. Meal 3 at 9:00.",tag:"personal"},{time:"10:00 PM",activity:"Melatonin + Magnesium + Tart Cherry.",tag:"routine"},{time:"10:30 PM",activity:"Sleep  protect 9+ hrs before Monday class.",tag:"sleep"}]}},gl={"Workout #1  Chest & Arms":{day:"Monday",note:"Shoulder-specific warmup: Band pull-aparts, face pulls, external rotations BEFORE pressing.",phases:{"Version A (Strength  12 Weeks)":[{exercise:"Incline Bench Press",sets:"3 RPT (4-6, 6-8, 8-10)",method:"RPT",rest:"3 min",notes:"WARMUP: 60%6, 75%4, 90%1-2"},{exercise:"Flat Bench / Weighted Dips",sets:"2 RPT (6-8, 8-10)",method:"RPT",rest:"3 min",notes:"Skip dips if shoulder flares."},{exercise:"Bicep Curls",sets:"3 RPT (4-6, 6-8, 6-8)",method:"RPT",rest:"2 min",notes:"Heaviest set first, drop 10%."},{exercise:"Triceps (Skull Crushers)",sets:"3 RPT (6-8, 8-10, 8-10)",method:"RPT",rest:"2 min",notes:""},{exercise:"Face Pulls / Bent Over Flyes",sets:"12-15 + 3(4-6)",method:"Rest Pause",rest:"10-15s",notes:"Rear delt health."}],"Version B (Shrink Wrap  4 Weeks)":[{exercise:"Incline DB Bench",sets:"3 RPT (6-8, 8-10, 8-10)",method:"RPT",rest:"3 min",notes:"Same warmup."},{exercise:"Machine Bench / Pushups",sets:"4  8-12",method:"Straight",rest:"45 sec",notes:"Pump focus."},{exercise:"Machine / Concentration Curls",sets:"5  6-8",method:"Straight",rest:"45 sec",notes:"High volume."},{exercise:"Tricep Pushdowns",sets:"5  8-10",method:"Straight",rest:"1 min",notes:""},{exercise:"Bent Over Flyes",sets:"12-15 + 3(4-6)",method:"Rest Pause",rest:"10-15s",notes:""}]}},"Workout #2  Legs & Traps":{day:"Wednesday",note:"Front Squats & Bulgarian Splits safer for low back. RDLs fine  don't round. Skip if gout flares.",phases:{"Version A (Strength  12 Weeks)":[{exercise:"Front Squats / BSS",sets:"4  6-8",method:"Kino Rep",rest:"2 min (3 last)",notes:"Start light, add each set."},{exercise:"RDLs / Nordic Curls",sets:"3  10-12",method:"Straight",rest:"2 min",notes:"Hinge > pull from floor."},{exercise:"Leg Extensions / Sissy Squats",sets:"3  8-12",method:"Straight",rest:"2 min",notes:"Same weight."},{exercise:"Calf Raises",sets:"3  12-15",method:"Straight",rest:"2 min",notes:"Full ROM, pause at bottom."},{exercise:"Trap Bar Shrugs",sets:"3  10-12",method:"Kino Rep",rest:"2 min",notes:"Start light, increase."}],"Version B (Shrink Wrap  4 Weeks)":[{exercise:"Step Ups",sets:"4  8-12",method:"Kino Rep",rest:"2 min",notes:""},{exercise:"RDLs",sets:"4  8-12",method:"Kino Rep",rest:"2 min",notes:""},{exercise:"ATG Split Squats",sets:"4  8-12",method:"Kino Rep",rest:"2 min",notes:""},{exercise:"Seated Calf Raises",sets:"4  12-15",method:"Straight",rest:"2 min",notes:""},{exercise:"Cable Shrugs",sets:"4  10-12",method:"Kino Rep",rest:"2 min",notes:""}]}},"Workout #3  Shoulders & Back":{day:"Friday",note:"If overhead pressing causes shoulder pain, sub landmine press or high incline DB press.",phases:{"Version A (Strength  12 Weeks)":[{exercise:"Standing Press / DB Press",sets:"3 RPT (4-6, 6-8, 8-10)",method:"RPT",rest:"3 min",notes:"WARMUP: 60%6, 75%4, 90%1-2"},{exercise:"Weighted Pull-ups / Rows",sets:"2 RPT (5, 6) or 48-10",method:"RPT/Kino",rest:"3 min",notes:"Rows if pull-ups not tolerated."},{exercise:"Side-to-Side Push Ups / Flyes",sets:"3  6-8/side",method:"Straight",rest:"2 min",notes:""},{exercise:"Hammer / Rope Curls",sets:"3  8-12",method:"Straight",rest:"2 min",notes:""},{exercise:"Lateral Raises",sets:"12-15 + 3(4-6)",method:"Rest Pause",rest:"10-15s",notes:"Key for shoulder width."}],"Version B (Shrink Wrap  4 Weeks)":[{exercise:"DB Shoulder Press",sets:"2 RPT (6-8, 8-10)",method:"RPT",rest:"3 min",notes:"Superset w/ Arnold Press."},{exercise:"Weighted Pull-ups",sets:"2 RPT (6, 8)",method:"RPT",rest:"3 min",notes:"Superset w/ Sternum Pull-ups."},{exercise:"Incline Press Flye",sets:"4  8-10",method:"Straight",rest:"45 sec",notes:""},{exercise:"Hammer Rope Curls",sets:"4  8-12",method:"Straight",rest:"45 sec",notes:""},{exercise:"Lateral Raises",sets:"12-15 + 3(4-6)",method:"Rest Pause",rest:"10-15s",notes:""}]}},"Workout #4  Bonus (Saturday)":{day:"Saturday",note:"Core, neck, posterior chain. 1-Leg Back Extension critical for low back health.",phases:{"All Phases":[{exercise:"Hanging Knee Raises",sets:"3  8-12",method:"Straight",rest:"2 min",notes:"Add weight when easy."},{exercise:"Ab Wheel Rollout",sets:"3  10-15",method:"Straight",rest:"2 min",notes:"Core stability."},{exercise:"1-Leg Back Ext / Hip Thrust",sets:"3  10-15",method:"Straight",rest:"2 min",notes:"Key for low back."},{exercise:"Neck Curls",sets:"3  15-20",method:"Straight",rest:"1 min",notes:"Add weight slowly."},{exercise:"Reverse Neck Curls",sets:"3  15-20",method:"Straight",rest:"1 min",notes:""}]}}},rv=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],sv={routine:{bg:"#1a1a2e",border:"#334155",text:"#94a3b8"},school:{bg:"#172554",border:"#1d4ed8",text:"#60a5fa"},personal:{bg:"#1c1917",border:"#78716c",text:"#a8a29e"},meal:{bg:"#052e16",border:"#15803d",text:"#4ade80"},work:{bg:"#2a1800",border:"#c2410c",text:"#fb923c"},gym:{bg:"#3b0764",border:"#9333ea",text:"#c084fc"},cardio:{bg:"#042f2e",border:"#0d9488",text:"#2dd4bf"},rest:{bg:"#1e1b4b",border:"#6366f1",text:"#a5b4fc"},sleep:{bg:"#0c0a09",border:"#44403c",text:"#78716c"}},ig="sonny_plan_v3";function av(){try{const s=localStorage.getItem(ig);if(s)return JSON.parse(s)}catch{}return null}function N5(s){try{localStorage.setItem(ig,JSON.stringify(s))}catch{}}async function V5(s){try{const t=gT(RT,"users",s),i=await E5(t);if(i.exists())return i.data()}catch(t){console.error("Error loading cloud data:",t)}return null}async function k5(s,t){try{const i=gT(RT,"users",s);await b5(i,{...t,updatedAt:new Date().toISOString()})}catch(i){console.error("Error saving cloud data:",i)}}function pe({value:s,onChange:t,multiline:i,className:a=""}){const[l,c]=oe.useState(!1),[d,p]=oe.useState(s),v=oe.useRef(null);if(oe.useEffect(()=>{p(s)},[s]),oe.useEffect(()=>{l&&v.current&&v.current.focus()},[l]),l){const _=i?"textarea":"input";return S.jsx(_,{ref:v,value:d,onChange:b=>p(b.target.value),onBlur:()=>{c(!1),d!==s&&t(d)},onKeyDown:b=>{b.key==="Enter"&&!i&&(c(!1),d!==s&&t(d)),b.key==="Escape"&&(c(!1),p(s))},className:a,style:{background:"rgba(255,255,255,0.06)",border:"1px solid rgba(255,255,255,0.15)",borderRadius:4,color:"#e2e8f0",padding:"4px 8px",fontSize:"inherit",fontFamily:"inherit",width:"100%",resize:i?"vertical":"none",minHeight:i?60:"auto",outline:"none"}})}return S.jsx("span",{onClick:()=>c(!0),style:{cursor:"pointer",borderBottom:"1px dashed rgba(255,255,255,0.1)",transition:"border-color 0.2s"},onMouseEnter:_=>_.target.style.borderBottomColor="rgba(255,255,255,0.3)",onMouseLeave:_=>_.target.style.borderBottomColor="rgba(255,255,255,0.1)",title:"Click to edit",children:s||""})}function L5({status:s}){const t=(s||"").toUpperCase();let i="#4ade80";return t.includes("HIGH")||t.includes("DEFICIENT")?i="#ef4444":(t.includes("BORDERLINE")||t.includes("WATCH")||t.includes("LOW"))&&(i="#f59e0b"),S.jsx("span",{style:{display:"inline-block",padding:"2px 10px",borderRadius:999,fontSize:11,fontWeight:700,letterSpacing:"0.5px",background:i+"18",color:i,border:`1px solid ${i}44`},children:s})}function P5({tag:s}){const t=sv[s]||sv.routine;return S.jsx("span",{style:{display:"inline-block",padding:"1px 8px",borderRadius:4,fontSize:10,fontWeight:600,letterSpacing:"0.5px",textTransform:"uppercase",background:t.bg,color:t.text,border:`1px solid ${t.border}`},children:s})}function U5(){const[s,t]=oe.useState(null),[i,a]=oe.useState(!0),[l,c]=oe.useState(!1),[d,p]=oe.useState("schedule"),[v,_]=oe.useState(Cc),[b,w]=oe.useState(Ic),[k,X]=oe.useState(xc),[it,rt]=oe.useState(Dc),[st,ft]=oe.useState(Mc),[Et,gt]=oe.useState(ml),[Bt,Jt]=oe.useState(Nc),[Rt,I]=oe.useState(gl),[A,x]=oe.useState(()=>rv[new Date().getDay()===0?6:new Date().getDay()-1]),[V,N]=oe.useState(Object.keys(gl)[0]),[P,R]=oe.useState("Version A (Strength  12 Weeks)"),[ee,fe]=oe.useState({}),[G,tt]=oe.useState(Oc),[ct,zt]=oe.useState(!1),[Ft,M]=oe.useState(""),[Q,nt]=oe.useState([]);oe.useEffect(()=>{const D=PA(Bd,async Z=>{if(t(Z),Z){c(!0);const F=await V5(Z.uid);if(F)_(F.profile||Cc),w(F.meds||Ic),X(F.supps||xc),rt(F.conditions||Dc),ft(F.labs||Mc),gt(F.targets||ml),Jt(F.schedule||Nc),I(F.workouts||gl),fe(F.workoutLogs||{}),tt(F.groceries||Oc),M(F.notes||"");else{const xt=av();xt&&(_(xt.profile||Cc),w(xt.meds||Ic),X(xt.supps||xc),rt(xt.conditions||Dc),ft(xt.labs||Mc),gt(xt.targets||ml),Jt(xt.schedule||Nc),I(xt.workouts||gl),fe(xt.workoutLogs||{}),tt(xt.groceries||Oc),M(xt.notes||""))}c(!1)}else{const F=av();F&&(_(F.profile||Cc),w(F.meds||Ic),X(F.supps||xc),rt(F.conditions||Dc),ft(F.labs||Mc),gt(F.targets||ml),Jt(F.schedule||Nc),I(F.workouts||gl),fe(F.workoutLogs||{}),M(F.notes||""))}a(!1)});return()=>D()},[]),oe.useEffect(()=>{if(i)return;const D={profile:v,meds:b,supps:k,conditions:it,labs:st,targets:Et,schedule:Bt,workouts:Rt,workoutLogs:ee,groceries:G,notes:Ft},Z=setTimeout(()=>{N5(D),s&&k5(s.uid,D)},500);return()=>clearTimeout(Z)},[v,b,k,it,st,Et,Bt,Rt,ee,G,Ft,s,i]);const at=async()=>{try{await r2(Bd,I5)}catch(D){console.error("Sign in error:",D)}},vt=async()=>{try{await UA(Bd)}catch(D){console.error("Sign out error:",D)}},wt=(D,Z)=>_(F=>({...F,[D]:Z})),Mt=(D,Z,F)=>w(xt=>xt.map((mt,Xt)=>Xt===D?{...mt,[Z]:F}:mt)),de=(D,Z,F)=>X(xt=>xt.map((mt,Xt)=>Xt===D?{...mt,[Z]:F}:mt)),ne=(D,Z,F)=>rt(xt=>xt.map((mt,Xt)=>Xt===D?{...mt,[Z]:F}:mt)),Gn=(D,Z,F)=>ft(xt=>xt.map((mt,Xt)=>Xt===D?{...mt,[Z]:F}:mt)),Kn=(D,Z,F)=>{gt(xt=>xt.map((mt,Xt)=>{if(Xt!==D)return mt;const qt={...mt,[Z]:F};if(Z==="current"||Z==="target"||Z==="metric"){const Se=O5(qt.metric,qt.current,qt.target);Se&&(qt.how=Se,qt._autoHow=!0)}return Z==="how"&&(qt._autoHow=!1),qt}))},ji=(D,Z,F,xt)=>{Jt(mt=>({...mt,[D]:{...mt[D],blocks:mt[D].blocks.map((Xt,qt)=>qt===Z?{...Xt,[F]:xt}:Xt)}}))},In=(D,Z)=>D(F=>[...F,Z]),ln=(D,Z)=>D(F=>F.filter((xt,mt)=>mt!==Z)),us=D=>{nt(Z=>[...Z,{type:"remove",index:D,item:Et[D]}]),gt(Z=>Z.filter((F,xt)=>xt!==D))},Bi=()=>{if(Q.length===0)return;const D=Q[Q.length-1];nt(Z=>Z.slice(0,-1)),D.type==="remove"?gt(Z=>{const F=[...Z];return F.splice(D.index,0,D.item),F}):D.type==="reset"&&gt(D.previous)},cs=()=>{nt(D=>[...D,{type:"reset",previous:[...Et]}]),gt(ml)},hs=[{id:"schedule",label:"Schedule",icon:""},{id:"workouts",label:"Training",icon:""},{id:"health",label:"Health",icon:""},{id:"nutrition",label:"Nutrition",icon:""},{id:"groceries",label:"Groceries",icon:""},{id:"targets",label:"90-Day",icon:""}],ve=new Date().getDay()===0?6:new Date().getDay()-1;return i?S.jsx("div",{style:{minHeight:"100vh",background:"#09090b",color:"#e2e8f0",display:"flex",alignItems:"center",justifyContent:"center",fontFamily:"'DM Sans', 'Helvetica Neue', sans-serif"},children:S.jsxs("div",{style:{textAlign:"center"},children:[S.jsx("div",{style:{fontSize:24,fontWeight:700,marginBottom:8},children:"Performance Platform"}),S.jsx("div",{style:{fontSize:14,color:"#64748b"},children:"Loading..."})]})}):S.jsxs("div",{style:{minHeight:"100vh",background:"#09090b",color:"#e2e8f0",fontFamily:"'DM Sans', 'Helvetica Neue', sans-serif"},children:[S.jsx("link",{href:"https://fonts.googleapis.com/css2?family=DM+Sans:wght@300;400;500;600;700&family=JetBrains+Mono:wght@400;500;600&display=swap",rel:"stylesheet"}),S.jsx("div",{style:{background:"linear-gradient(180deg, #0f0f13 0%, #09090b 100%)",borderBottom:"1px solid rgba(255,255,255,0.06)",padding:"20px 24px 0",position:"sticky",top:0,zIndex:100},children:S.jsxs("div",{style:{maxWidth:1100,margin:"0 auto"},children:[S.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:16},children:[S.jsxs("div",{children:[S.jsxs("div",{style:{display:"flex",alignItems:"center",gap:10},children:[S.jsx("div",{style:{width:8,height:8,borderRadius:"50%",background:"#4ade80",boxShadow:"0 0 8px #4ade8066"}}),S.jsx("h1",{style:{margin:0,fontSize:20,fontWeight:700,letterSpacing:"-0.5px",fontFamily:"'JetBrains Mono', monospace"},children:v.name})]}),S.jsxs("p",{style:{margin:"4px 0 0 18px",fontSize:12,color:"#64748b",fontWeight:500},children:["Weekly Performance Plan v3.0  ",v.program]})]}),S.jsxs("div",{style:{display:"flex",gap:8,alignItems:"center"},children:[l&&S.jsx("span",{style:{fontSize:11,color:"#60a5fa"},children:"Syncing..."}),s?S.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8},children:[S.jsxs("div",{style:{display:"flex",alignItems:"center",gap:6,background:"rgba(74,222,128,0.1)",border:"1px solid rgba(74,222,128,0.2)",borderRadius:8,padding:"4px 10px"},children:[S.jsx("div",{style:{width:6,height:6,borderRadius:"50%",background:"#4ade80"}}),S.jsx("span",{style:{fontSize:11,color:"#4ade80",fontWeight:500},children:"Synced"})]}),S.jsx("button",{onClick:vt,style:{background:"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.08)",color:"#94a3b8",borderRadius:8,padding:"6px 12px",fontSize:12,cursor:"pointer",fontWeight:500},children:"Sign Out"})]}):S.jsx("button",{onClick:at,style:{background:"rgba(96,165,250,0.15)",border:"1px solid rgba(96,165,250,0.3)",color:"#60a5fa",borderRadius:8,padding:"6px 12px",fontSize:12,cursor:"pointer",fontWeight:600},children:"Sign In to Sync"}),S.jsx("button",{onClick:()=>zt(!ct),style:{background:ct?"rgba(251,191,36,0.15)":"rgba(255,255,255,0.05)",border:`1px solid ${ct?"#fbbf2444":"rgba(255,255,255,0.08)"}`,color:ct?"#fbbf24":"#94a3b8",borderRadius:8,padding:"6px 12px",fontSize:12,cursor:"pointer",fontWeight:600,transition:"all 0.2s"},children:" Notes"}),S.jsx("button",{onClick:()=>{confirm("Reset all data to defaults?")&&(localStorage.removeItem(ig),location.reload())},style:{background:"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.08)",color:"#64748b",borderRadius:8,padding:"6px 12px",fontSize:12,cursor:"pointer",fontWeight:500},children:" Reset"})]})]}),S.jsx("div",{style:{display:"flex",gap:2},children:hs.map(D=>S.jsxs("button",{onClick:()=>p(D.id),style:{padding:"10px 18px",background:d===D.id?"rgba(255,255,255,0.06)":"transparent",border:"none",borderBottom:d===D.id?"2px solid #e2e8f0":"2px solid transparent",color:d===D.id?"#e2e8f0":"#64748b",fontSize:13,fontWeight:d===D.id?600:500,cursor:"pointer",transition:"all 0.2s",borderRadius:"8px 8px 0 0"},children:[S.jsx("span",{style:{marginRight:6},children:D.icon}),D.label]},D.id))})]})}),ct&&S.jsx("div",{style:{maxWidth:1100,margin:"16px auto",padding:"0 24px"},children:S.jsxs("div",{style:{background:"rgba(251,191,36,0.05)",border:"1px solid rgba(251,191,36,0.15)",borderRadius:12,padding:16},children:[S.jsx("div",{style:{fontSize:12,fontWeight:600,color:"#fbbf24",marginBottom:8},children:" Quick Notes"}),S.jsx("textarea",{value:Ft,onChange:D=>M(D.target.value),placeholder:"Jot down anything  thoughts, adjustments, reminders...",style:{width:"100%",minHeight:80,background:"rgba(0,0,0,0.3)",border:"1px solid rgba(255,255,255,0.08)",borderRadius:8,color:"#e2e8f0",padding:12,fontSize:13,fontFamily:"inherit",resize:"vertical",outline:"none"}})]})}),S.jsxs("div",{style:{maxWidth:1100,margin:"0 auto",padding:"20px 24px 60px"},children:[d==="schedule"&&S.jsxs("div",{children:[S.jsx("div",{style:{display:"flex",gap:6,marginBottom:20,flexWrap:"wrap"},children:rv.map((D,Z)=>{const F=Z===ve,xt=D===A,mt=Bt[D]?.blocks?.some(qt=>qt.tag==="gym"),Xt=Bt[D]?.blocks?.some(qt=>qt.tag==="school");return S.jsxs("button",{onClick:()=>x(D),style:{flex:1,minWidth:90,padding:"10px 8px",background:xt?"rgba(255,255,255,0.08)":"rgba(255,255,255,0.02)",border:xt?"1px solid rgba(255,255,255,0.2)":"1px solid rgba(255,255,255,0.05)",borderRadius:10,cursor:"pointer",transition:"all 0.2s",position:"relative"},children:[S.jsx("div",{style:{fontSize:12,fontWeight:700,color:xt?"#e2e8f0":"#64748b",letterSpacing:"0.5px"},children:D.slice(0,3).toUpperCase()}),S.jsxs("div",{style:{display:"flex",gap:3,justifyContent:"center",marginTop:4},children:[mt&&S.jsx("span",{style:{width:6,height:6,borderRadius:"50%",background:"#c084fc"}}),Xt&&S.jsx("span",{style:{width:6,height:6,borderRadius:"50%",background:"#60a5fa"}})]}),F&&S.jsx("div",{style:{position:"absolute",top:-4,right:-4,width:8,height:8,borderRadius:"50%",background:"#4ade80",boxShadow:"0 0 6px #4ade8066"}})]},D)})}),S.jsxs("div",{style:{background:"rgba(255,255,255,0.02)",border:"1px solid rgba(255,255,255,0.06)",borderRadius:14,overflow:"hidden"},children:[S.jsxs("div",{style:{padding:"16px 20px",borderBottom:"1px solid rgba(255,255,255,0.06)",background:"rgba(255,255,255,0.02)"},children:[S.jsx("div",{style:{fontSize:11,color:"#64748b",fontWeight:600,letterSpacing:"1px",textTransform:"uppercase"},children:A}),S.jsx("div",{style:{fontSize:15,fontWeight:600,marginTop:4},children:Bt[A]?.title})]}),S.jsx("div",{style:{padding:"8px 0"},children:Bt[A]?.blocks?.map((D,Z)=>S.jsxs("div",{style:{display:"grid",gridTemplateColumns:"130px 1fr 70px 28px",alignItems:"center",gap:12,padding:"10px 20px",borderBottom:Z<Bt[A].blocks.length-1?"1px solid rgba(255,255,255,0.03)":"none",transition:"background 0.15s"},onMouseEnter:F=>F.currentTarget.style.background="rgba(255,255,255,0.02)",onMouseLeave:F=>F.currentTarget.style.background="transparent",children:[S.jsx("div",{style:{fontFamily:"'JetBrains Mono', monospace",fontSize:12,color:"#94a3b8",fontWeight:500},children:S.jsx(pe,{value:D.time,onChange:F=>ji(A,Z,"time",F)})}),S.jsx("div",{style:{fontSize:13},children:S.jsx(pe,{value:D.activity,onChange:F=>ji(A,Z,"activity",F)})}),S.jsx(P5,{tag:D.tag}),S.jsx("button",{onClick:()=>{Jt(F=>({...F,[A]:{...F[A],blocks:F[A].blocks.filter((xt,mt)=>mt!==Z)}}))},style:{background:"none",border:"none",color:"#ef444466",cursor:"pointer",fontSize:14,padding:0,lineHeight:1,opacity:.4,transition:"opacity 0.2s"},onMouseEnter:F=>F.target.style.opacity=1,onMouseLeave:F=>F.target.style.opacity=.4,title:"Remove block",children:""})]},Z))}),S.jsx("div",{style:{padding:"12px 20px",borderTop:"1px solid rgba(255,255,255,0.04)"},children:S.jsx("button",{onClick:()=>{Jt(D=>({...D,[A]:{...D[A],blocks:[...D[A].blocks,{time:"",activity:"New block",tag:"routine"}]}}))},style:{background:"rgba(255,255,255,0.04)",border:"1px dashed rgba(255,255,255,0.1)",color:"#64748b",borderRadius:8,padding:"8px 16px",fontSize:12,cursor:"pointer",fontWeight:500,width:"100%",transition:"all 0.2s"},children:"+ Add block"})})]})]}),d==="workouts"&&S.jsxs("div",{children:[S.jsx("div",{style:{display:"flex",gap:6,marginBottom:16,flexWrap:"wrap"},children:Object.keys(Rt).map(D=>S.jsx("button",{onClick:()=>{N(D),R(Object.keys(Rt[D].phases)[0])},style:{padding:"8px 14px",background:D===V?"#c084fc18":"rgba(255,255,255,0.02)",border:D===V?"1px solid #9333ea44":"1px solid rgba(255,255,255,0.05)",color:D===V?"#c084fc":"#64748b",borderRadius:8,fontSize:12,fontWeight:600,cursor:"pointer",transition:"all 0.2s"},children:D},D))}),Rt[V]&&S.jsxs("div",{style:{background:"rgba(255,255,255,0.02)",border:"1px solid rgba(255,255,255,0.06)",borderRadius:14,overflow:"hidden"},children:[S.jsxs("div",{style:{padding:"16px 20px",borderBottom:"1px solid rgba(255,255,255,0.06)",background:"rgba(147,51,234,0.04)"},children:[S.jsx("div",{style:{fontSize:15,fontWeight:700},children:V}),S.jsxs("div",{style:{fontSize:12,color:"#94a3b8",marginTop:4},children:[Rt[V].day,"  ",Rt[V].note]})]}),S.jsx("div",{style:{display:"flex",gap:4,padding:"12px 20px",borderBottom:"1px solid rgba(255,255,255,0.04)"},children:Object.keys(Rt[V].phases).map(D=>S.jsx("button",{onClick:()=>R(D),style:{padding:"6px 12px",background:D===P?"rgba(255,255,255,0.08)":"transparent",border:D===P?"1px solid rgba(255,255,255,0.15)":"1px solid transparent",color:D===P?"#e2e8f0":"#64748b",borderRadius:6,fontSize:11,fontWeight:600,cursor:"pointer"},children:D},D))}),S.jsx("div",{style:{overflowX:"auto"},children:S.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[S.jsx("thead",{children:S.jsx("tr",{style:{borderBottom:"1px solid rgba(255,255,255,0.06)"},children:["Exercise","Sets  Reps","Method","Rest","Notes","Weight Log"].map(D=>S.jsx("th",{style:{padding:"10px 16px",textAlign:"left",fontSize:10,fontWeight:700,letterSpacing:"1px",color:"#64748b",textTransform:"uppercase"},children:D},D))})}),S.jsx("tbody",{children:(Rt[V].phases[P]||[]).map((D,Z)=>{const F=`${V}|${P}|${D.exercise}`;return S.jsxs("tr",{style:{borderBottom:"1px solid rgba(255,255,255,0.03)"},children:[S.jsx("td",{style:{padding:"10px 16px",fontSize:13,fontWeight:500},children:D.exercise}),S.jsx("td",{style:{padding:"10px 16px",fontSize:13,fontFamily:"'JetBrains Mono', monospace",color:"#94a3b8"},children:D.sets}),S.jsx("td",{style:{padding:"10px 16px"},children:S.jsx("span",{style:{display:"inline-block",padding:"2px 8px",borderRadius:4,fontSize:10,fontWeight:700,letterSpacing:"0.5px",background:D.method==="RPT"?"#c084fc18":D.method==="Kino Rep"?"#4ade8018":"#f59e0b18",color:D.method==="RPT"?"#c084fc":D.method==="Kino Rep"?"#4ade80":"#f59e0b",border:`1px solid ${D.method==="RPT"?"#9333ea44":D.method==="Kino Rep"?"#15803d44":"#d9770644"}`},children:D.method})}),S.jsx("td",{style:{padding:"10px 16px",fontSize:12,color:"#64748b"},children:D.rest}),S.jsx("td",{style:{padding:"10px 16px",fontSize:12,color:"#94a3b8"},children:D.notes}),S.jsx("td",{style:{padding:"10px 16px"},children:S.jsx("input",{value:ee[F]||"",onChange:xt=>fe(mt=>({...mt,[F]:xt.target.value})),placeholder:"e.g. 1856",style:{background:"rgba(255,255,255,0.04)",border:"1px solid rgba(255,255,255,0.08)",borderRadius:6,padding:"4px 8px",color:"#4ade80",fontSize:12,fontFamily:"'JetBrains Mono', monospace",width:90,outline:"none"}})})]},Z)})})]})}),S.jsxs("div",{style:{padding:"16px 20px",borderTop:"1px solid rgba(255,255,255,0.06)",background:"rgba(255,255,255,0.015)"},children:[S.jsx("div",{style:{fontSize:11,fontWeight:700,color:"#64748b",letterSpacing:"1px",marginBottom:8},children:"PROGRESSION"}),S.jsxs("div",{style:{fontSize:12,color:"#94a3b8",lineHeight:1.6},children:[S.jsx("strong",{style:{color:"#c084fc"},children:"RPT:"})," Hit top of rep range on heaviest set  add weight next session."," ",S.jsx("strong",{style:{color:"#4ade80"},children:"Kino Rep:"})," Hit top reps on LAST set  increase that set's weight."," ",S.jsx("strong",{style:{color:"#f59e0b"},children:"Rest Pause:"})," Total reps exceed target  add 5 lbs."]})]})]})]}),d==="health"&&S.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:20},children:[S.jsxs("div",{style:{background:"rgba(255,255,255,0.02)",border:"1px solid rgba(255,255,255,0.06)",borderRadius:14,overflow:"hidden"},children:[S.jsx("div",{style:{padding:"14px 20px",borderBottom:"1px solid rgba(255,255,255,0.06)",background:"rgba(255,255,255,0.02)"},children:S.jsx("span",{style:{fontSize:13,fontWeight:700,letterSpacing:"0.5px"},children:"Profile"})}),S.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(220px, 1fr))",gap:0},children:Object.entries(v).map(([D,Z])=>S.jsxs("div",{style:{padding:"10px 20px",borderBottom:"1px solid rgba(255,255,255,0.03)"},children:[S.jsx("div",{style:{fontSize:10,fontWeight:600,color:"#64748b",letterSpacing:"0.5px",textTransform:"uppercase",marginBottom:2},children:D.replace(/([A-Z])/g," $1")}),S.jsx(pe,{value:Z,onChange:F=>wt(D,F)})]},D))})]}),S.jsxs("div",{style:{background:"rgba(255,255,255,0.02)",border:"1px solid rgba(255,255,255,0.06)",borderRadius:14,overflow:"hidden"},children:[S.jsxs("div",{style:{padding:"14px 20px",borderBottom:"1px solid rgba(255,255,255,0.06)",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[S.jsx("span",{style:{fontSize:13,fontWeight:700},children:"Health Conditions"}),S.jsx("button",{onClick:()=>In(rt,{condition:"New",date:"",impact:""}),style:{background:"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.1)",borderRadius:6,color:"#94a3b8",fontSize:11,padding:"4px 10px",cursor:"pointer"},children:"+ Add"})]}),it.map((D,Z)=>S.jsxs("div",{style:{display:"grid",gridTemplateColumns:"180px 80px 1fr 28px",gap:12,padding:"10px 20px",alignItems:"center",borderBottom:"1px solid rgba(255,255,255,0.03)"},children:[S.jsx("div",{style:{fontSize:13,fontWeight:500},children:S.jsx(pe,{value:D.condition,onChange:F=>ne(Z,"condition",F)})}),S.jsx("div",{style:{fontSize:12,color:"#64748b"},children:S.jsx(pe,{value:D.date,onChange:F=>ne(Z,"date",F)})}),S.jsx("div",{style:{fontSize:12,color:"#94a3b8"},children:S.jsx(pe,{value:D.impact,onChange:F=>ne(Z,"impact",F)})}),S.jsx("button",{onClick:()=>ln(rt,Z),style:{background:"none",border:"none",color:"#ef444466",cursor:"pointer",fontSize:14,opacity:.4},onMouseEnter:F=>F.target.style.opacity=1,onMouseLeave:F=>F.target.style.opacity=.4,children:""})]},Z))]}),S.jsxs("div",{style:{background:"rgba(255,255,255,0.02)",border:"1px solid rgba(255,255,255,0.06)",borderRadius:14,overflow:"hidden"},children:[S.jsxs("div",{style:{padding:"14px 20px",borderBottom:"1px solid rgba(255,255,255,0.06)",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[S.jsx("span",{style:{fontSize:13,fontWeight:700},children:"Lab Results (Oct 24, 2025)"}),S.jsx("button",{onClick:()=>In(ft,{test:"New",result:"",unit:"",ref:"",status:"",action:""}),style:{background:"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.1)",borderRadius:6,color:"#94a3b8",fontSize:11,padding:"4px 10px",cursor:"pointer"},children:"+ Add"})]}),S.jsx("div",{style:{overflowX:"auto"},children:S.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[S.jsx("thead",{children:S.jsx("tr",{style:{borderBottom:"1px solid rgba(255,255,255,0.06)"},children:["Test","Result","Ref Range","Status","Action",""].map(D=>S.jsx("th",{style:{padding:"10px 16px",textAlign:"left",fontSize:10,fontWeight:700,letterSpacing:"1px",color:"#64748b",textTransform:"uppercase"},children:D},D))})}),S.jsx("tbody",{children:st.map((D,Z)=>S.jsxs("tr",{style:{borderBottom:"1px solid rgba(255,255,255,0.03)"},children:[S.jsx("td",{style:{padding:"8px 16px",fontSize:13,fontWeight:500},children:S.jsx(pe,{value:D.test,onChange:F=>Gn(Z,"test",F)})}),S.jsxs("td",{style:{padding:"8px 16px",fontFamily:"'JetBrains Mono', monospace",fontSize:13},children:[S.jsx(pe,{value:D.result,onChange:F=>Gn(Z,"result",F)}),S.jsx("span",{style:{color:"#64748b",fontSize:11,marginLeft:4},children:D.unit})]}),S.jsx("td",{style:{padding:"8px 16px",fontSize:12,color:"#64748b"},children:D.ref}),S.jsx("td",{style:{padding:"8px 16px"},children:S.jsx(L5,{status:D.status})}),S.jsx("td",{style:{padding:"8px 16px",fontSize:12,color:"#94a3b8"},children:S.jsx(pe,{value:D.action,onChange:F=>Gn(Z,"action",F)})}),S.jsx("td",{style:{padding:"8px 16px"},children:S.jsx("button",{onClick:()=>ln(ft,Z),style:{background:"none",border:"none",color:"#ef444466",cursor:"pointer",fontSize:14,opacity:.4},onMouseEnter:F=>F.target.style.opacity=1,onMouseLeave:F=>F.target.style.opacity=.4,children:""})})]},Z))})]})})]}),S.jsxs("div",{style:{background:"rgba(255,255,255,0.02)",border:"1px solid rgba(255,255,255,0.06)",borderRadius:14,overflow:"hidden"},children:[S.jsxs("div",{style:{padding:"14px 20px",borderBottom:"1px solid rgba(255,255,255,0.06)",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[S.jsx("span",{style:{fontSize:13,fontWeight:700},children:"Medications"}),S.jsx("button",{onClick:()=>In(w,{name:"New",timing:"",purpose:"",notes:""}),style:{background:"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.1)",borderRadius:6,color:"#94a3b8",fontSize:11,padding:"4px 10px",cursor:"pointer"},children:"+ Add"})]}),b.map((D,Z)=>S.jsxs("div",{style:{display:"grid",gridTemplateColumns:"160px 120px 120px 1fr 28px",gap:12,padding:"10px 20px",alignItems:"center",borderBottom:"1px solid rgba(255,255,255,0.03)"},children:[S.jsx("div",{style:{fontSize:13,fontWeight:600},children:S.jsx(pe,{value:D.name,onChange:F=>Mt(Z,"name",F)})}),S.jsx("div",{style:{fontSize:12,color:"#64748b"},children:S.jsx(pe,{value:D.timing,onChange:F=>Mt(Z,"timing",F)})}),S.jsx("div",{style:{fontSize:12,color:"#94a3b8"},children:S.jsx(pe,{value:D.purpose,onChange:F=>Mt(Z,"purpose",F)})}),S.jsx("div",{style:{fontSize:12,color:"#78716c"},children:S.jsx(pe,{value:D.notes,onChange:F=>Mt(Z,"notes",F)})}),S.jsx("button",{onClick:()=>ln(w,Z),style:{background:"none",border:"none",color:"#ef444466",cursor:"pointer",fontSize:14,opacity:.4},onMouseEnter:F=>F.target.style.opacity=1,onMouseLeave:F=>F.target.style.opacity=.4,children:""})]},Z))]}),S.jsxs("div",{style:{background:"rgba(255,255,255,0.02)",border:"1px solid rgba(255,255,255,0.06)",borderRadius:14,overflow:"hidden"},children:[S.jsxs("div",{style:{padding:"14px 20px",borderBottom:"1px solid rgba(255,255,255,0.06)",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[S.jsx("span",{style:{fontSize:13,fontWeight:700},children:"Supplement Stack"}),S.jsx("button",{onClick:()=>In(X,{name:"New",dose:"",when:"",why:""}),style:{background:"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.1)",borderRadius:6,color:"#94a3b8",fontSize:11,padding:"4px 10px",cursor:"pointer"},children:"+ Add"})]}),k.map((D,Z)=>S.jsxs("div",{style:{display:"grid",gridTemplateColumns:"160px 100px 140px 1fr 28px",gap:12,padding:"10px 20px",alignItems:"center",borderBottom:"1px solid rgba(255,255,255,0.03)"},children:[S.jsx("div",{style:{fontSize:13,fontWeight:600},children:S.jsx(pe,{value:D.name,onChange:F=>de(Z,"name",F)})}),S.jsx("div",{style:{fontSize:12,fontFamily:"'JetBrains Mono', monospace",color:"#4ade80"},children:S.jsx(pe,{value:D.dose,onChange:F=>de(Z,"dose",F)})}),S.jsx("div",{style:{fontSize:12,color:"#64748b"},children:S.jsx(pe,{value:D.when,onChange:F=>de(Z,"when",F)})}),S.jsx("div",{style:{fontSize:12,color:"#94a3b8"},children:S.jsx(pe,{value:D.why,onChange:F=>de(Z,"why",F)})}),S.jsx("button",{onClick:()=>ln(X,Z),style:{background:"none",border:"none",color:"#ef444466",cursor:"pointer",fontSize:14,opacity:.4},onMouseEnter:F=>F.target.style.opacity=1,onMouseLeave:F=>F.target.style.opacity=.4,children:""})]},Z))]})]}),d==="nutrition"&&S.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:20},children:[S.jsxs("div",{style:{background:"rgba(255,255,255,0.02)",border:"1px solid rgba(255,255,255,0.06)",borderRadius:14,overflow:"hidden"},children:[S.jsxs("div",{style:{padding:"14px 20px",borderBottom:"1px solid rgba(255,255,255,0.06)"},children:[S.jsx("span",{style:{fontSize:13,fontWeight:700},children:"Calorie Framework"}),S.jsx("span",{style:{fontSize:11,color:"#64748b",marginLeft:12},children:"Based on goal weight 185190 lbs"})]}),S.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)"},children:[{phase:"Aggressive Cut",formula:"Goal BW  15  600",cal:"~2,150/day",when:"Rapid fat loss only",accent:"#ef4444"},{phase:"Standard Cut",formula:"Goal BW  15  400",cal:"~2,350/day",when:"Primary fat loss (start here)",accent:"#f59e0b"},{phase:"Recomposition",formula:"Goal BW  15  200",cal:"~2,550/day",when:"Body recomp + muscle",accent:"#4ade80"}].map((D,Z)=>S.jsxs("div",{style:{padding:20,borderRight:Z<2?"1px solid rgba(255,255,255,0.04)":"none",textAlign:"center"},children:[S.jsx("div",{style:{fontSize:11,fontWeight:700,color:D.accent,letterSpacing:"0.5px",marginBottom:8},children:D.phase}),S.jsx("div",{style:{fontSize:24,fontWeight:700,fontFamily:"'JetBrains Mono', monospace",color:"#e2e8f0"},children:D.cal}),S.jsx("div",{style:{fontSize:11,color:"#64748b",marginTop:4},children:D.formula}),S.jsx("div",{style:{fontSize:11,color:"#94a3b8",marginTop:8,fontStyle:"italic"},children:D.when})]},Z))})]}),S.jsxs("div",{style:{background:"rgba(255,255,255,0.02)",border:"1px solid rgba(255,255,255,0.06)",borderRadius:14,padding:20},children:[S.jsx("div",{style:{fontSize:13,fontWeight:700,marginBottom:16},children:"Daily Macro Targets"}),S.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:16},children:[{macro:"Protein",target:"~172g",note:"0.82g/lb. Prioritize at every meal.",color:"#ef4444"},{macro:"Carbs",target:"~250300g",note:"Save majority for dinner + post-workout.",color:"#f59e0b"},{macro:"Fats",target:"~7080g",note:"Olive oil, avocado, nuts, fish.",color:"#4ade80"}].map((D,Z)=>S.jsxs("div",{style:{background:`${D.color}08`,border:`1px solid ${D.color}22`,borderRadius:10,padding:16,textAlign:"center"},children:[S.jsx("div",{style:{fontSize:11,fontWeight:700,color:D.color,letterSpacing:"1px"},children:D.macro.toUpperCase()}),S.jsx("div",{style:{fontSize:22,fontWeight:700,fontFamily:"'JetBrains Mono', monospace",margin:"8px 0",color:"#e2e8f0"},children:D.target}),S.jsx("div",{style:{fontSize:11,color:"#94a3b8"},children:D.note})]},Z))})]}),S.jsxs("div",{style:{background:"rgba(255,255,255,0.02)",border:"1px solid rgba(255,255,255,0.06)",borderRadius:14,overflow:"hidden"},children:[S.jsxs("div",{style:{padding:"14px 20px",borderBottom:"1px solid rgba(255,255,255,0.06)"},children:[S.jsx("span",{style:{fontSize:13,fontWeight:700},children:"Meal Structure (Intermittent Fasting)"}),S.jsx("span",{style:{fontSize:11,color:"#64748b",marginLeft:12},children:"46 hour fasting window in morning"})]}),[{meal:"Meal 1 (Break Fast)",pct:"2025%",time:"~12:001:00 PM",what:"Light: protein + fruit + small carb. Greek yogurt, eggs, lean meat."},{meal:"Meal 2 (Dinner Feast)",pct:"5060%",time:"~6:307:30 PM",what:"Big meal: protein + carbs + veggies + fats. Main fuel."},{meal:"Meal 3 (Late Night)",pct:"1520%",time:"~9:009:30 PM",what:"Light: cottage cheese, protein shake, fruit, dark chocolate."}].map((D,Z)=>S.jsxs("div",{style:{display:"grid",gridTemplateColumns:"180px 70px 120px 1fr",gap:12,padding:"12px 20px",alignItems:"center",borderBottom:"1px solid rgba(255,255,255,0.03)"},children:[S.jsx("div",{style:{fontSize:13,fontWeight:600},children:D.meal}),S.jsx("div",{style:{fontFamily:"'JetBrains Mono', monospace",fontSize:13,color:D.pct.startsWith("50")?"#4ade80":"#94a3b8",fontWeight:600},children:D.pct}),S.jsx("div",{style:{fontSize:12,color:"#64748b"},children:D.time}),S.jsx("div",{style:{fontSize:12,color:"#94a3b8"},children:D.what})]},Z))]}),S.jsxs("div",{style:{background:"rgba(255,255,255,0.02)",border:"1px solid rgba(255,255,255,0.06)",borderRadius:14,padding:20},children:[S.jsx("div",{style:{fontSize:13,fontWeight:700,marginBottom:16},children:"VA-Specific Nutrition Mods"}),S.jsx("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:12},children:[{label:"Gout",text:"Red meat max 2x/week. No organ meats, shellfish. Zero beer. Replace with chicken, turkey, salmon, eggs.",color:"#ef4444"},{label:"Liver",text:"Zero alcohol 30 days. Cruciferous veggies daily (broccoli, cauliflower). Minimize processed foods.",color:"#f59e0b"},{label:"Glucose",text:"Protein + fat first at every meal, carbs last. Walk 1015 min after dinner. No juice, soda, candy.",color:"#fb923c"},{label:"Folate",text:"Spinach, asparagus, Brussels sprouts, lentils, avocado. 2+ servings dark leafy greens daily.",color:"#4ade80"},{label:"Hydration",text:"100oz+ water daily. Non-negotiable (gout + polycythemia). 40oz bottle, refill 3x. Extra during training.",color:"#60a5fa"}].map((D,Z)=>S.jsxs("div",{style:{background:`${D.color}08`,border:`1px solid ${D.color}18`,borderRadius:10,padding:"12px 16px"},children:[S.jsx("div",{style:{fontSize:11,fontWeight:700,color:D.color,letterSpacing:"0.5px",marginBottom:6},children:D.label.toUpperCase()}),S.jsx("div",{style:{fontSize:12,color:"#94a3b8",lineHeight:1.5},children:D.text})]},Z))})]})]}),d==="groceries"&&S.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:20},children:[S.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[S.jsxs("div",{children:[S.jsx("div",{style:{fontSize:15,fontWeight:700},children:"Weekly Grocery List"}),S.jsx("div",{style:{fontSize:12,color:"#64748b",marginTop:2},children:"Based on your nutrition targets  check off items as you shop"})]}),S.jsxs("div",{style:{display:"flex",gap:8},children:[S.jsx("button",{onClick:()=>{const D={};Object.keys(G).forEach(Z=>{D[Z]=G[Z].map(F=>({...F,have:!1}))}),tt(D)},style:{background:"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.1)",borderRadius:6,color:"#94a3b8",fontSize:11,padding:"6px 12px",cursor:"pointer"},children:"Clear All"}),S.jsx("button",{onClick:()=>tt(Oc),style:{background:"rgba(96,165,250,0.08)",border:"1px solid rgba(96,165,250,0.2)",borderRadius:6,color:"#60a5fa",fontSize:11,padding:"6px 12px",cursor:"pointer"},children:"Reset Defaults"})]})]}),S.jsxs("div",{style:{background:"rgba(239,68,68,0.06)",border:"1px solid rgba(239,68,68,0.15)",borderRadius:10,padding:"12px 16px"},children:[S.jsx("div",{style:{fontSize:11,fontWeight:700,color:"#ef4444",letterSpacing:"0.5px",marginBottom:6},children:"AVOID (VA MODS)"}),S.jsx("div",{style:{fontSize:12,color:"#94a3b8"},children:"Red meat (max 2x/wk)  Shellfish & organ meats (gout)  Alcohol (liver)  Juice, soda, candy (glucose)  Processed foods"})]}),[{key:"proteins",label:"Proteins",color:"#ef4444",icon:""},{key:"carbs",label:"Carbs",color:"#f59e0b",icon:""},{key:"vegetables",label:"Vegetables",color:"#4ade80",icon:""},{key:"fats",label:"Healthy Fats",color:"#60a5fa",icon:""},{key:"fruits",label:"Fruits",color:"#c084fc",icon:""},{key:"other",label:"Other",color:"#94a3b8",icon:""}].map(({key:D,label:Z,color:F,icon:xt})=>S.jsxs("div",{style:{background:"rgba(255,255,255,0.02)",border:"1px solid rgba(255,255,255,0.06)",borderRadius:14,overflow:"hidden"},children:[S.jsxs("div",{style:{padding:"12px 20px",borderBottom:"1px solid rgba(255,255,255,0.06)",background:`${F}08`,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[S.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8},children:[S.jsx("span",{children:xt}),S.jsx("span",{style:{fontSize:13,fontWeight:700,color:F},children:Z}),S.jsxs("span",{style:{fontSize:11,color:"#64748b"},children:["(",G[D]?.filter(mt=>mt.have).length,"/",G[D]?.length,")"]})]}),S.jsx("button",{onClick:()=>{tt(mt=>({...mt,[D]:[...mt[D],{item:"New item",qty:"",notes:"",have:!1}]}))},style:{background:"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.1)",borderRadius:6,color:"#94a3b8",fontSize:11,padding:"4px 10px",cursor:"pointer"},children:"+ Add"})]}),S.jsx("div",{children:G[D]?.map((mt,Xt)=>S.jsxs("div",{style:{display:"grid",gridTemplateColumns:"32px 1fr 100px 1fr 28px",alignItems:"center",gap:12,padding:"10px 20px",borderBottom:Xt<G[D].length-1?"1px solid rgba(255,255,255,0.03)":"none",opacity:mt.have?.5:1,transition:"opacity 0.2s"},children:[S.jsx("input",{type:"checkbox",checked:mt.have,onChange:qt=>{tt(Se=>({...Se,[D]:Se[D].map((Te,Qn)=>Qn===Xt?{...Te,have:qt.target.checked}:Te)}))},style:{width:18,height:18,cursor:"pointer",accentColor:F}}),S.jsx("div",{style:{fontSize:13,fontWeight:500,textDecoration:mt.have?"line-through":"none"},children:S.jsx(pe,{value:mt.item,onChange:qt=>{tt(Se=>({...Se,[D]:Se[D].map((Te,Qn)=>Qn===Xt?{...Te,item:qt}:Te)}))}})}),S.jsx("div",{style:{fontSize:12,fontFamily:"'JetBrains Mono', monospace",color:"#64748b"},children:S.jsx(pe,{value:mt.qty,onChange:qt=>{tt(Se=>({...Se,[D]:Se[D].map((Te,Qn)=>Qn===Xt?{...Te,qty:qt}:Te)}))}})}),S.jsx("div",{style:{fontSize:12,color:"#94a3b8"},children:S.jsx(pe,{value:mt.notes,onChange:qt=>{tt(Se=>({...Se,[D]:Se[D].map((Te,Qn)=>Qn===Xt?{...Te,notes:qt}:Te)}))}})}),S.jsx("button",{onClick:()=>{tt(qt=>({...qt,[D]:qt[D].filter((Se,Te)=>Te!==Xt)}))},style:{background:"none",border:"none",color:"#ef444466",cursor:"pointer",fontSize:14,opacity:.4},onMouseEnter:qt=>qt.target.style.opacity=1,onMouseLeave:qt=>qt.target.style.opacity=.4,children:""})]},Xt))})]},D)),S.jsxs("div",{style:{background:"rgba(74,222,128,0.06)",border:"1px solid rgba(74,222,128,0.15)",borderRadius:10,padding:"12px 16px"},children:[S.jsx("div",{style:{fontSize:11,fontWeight:700,color:"#4ade80",letterSpacing:"0.5px",marginBottom:6},children:"SUNDAY MEAL PREP"}),S.jsx("div",{style:{fontSize:12,color:"#94a3b8",lineHeight:1.6},children:"1. Cook 4 lbs chicken (season half differently)  2. Make big batch rice + quinoa  3. Roast sweet potatoes + Brussels sprouts  4. Prep overnight oats (3-4 jars)  5. Wash/portion greens"})]})]}),d==="targets"&&S.jsxs("div",{children:[S.jsxs("div",{style:{background:"rgba(255,255,255,0.02)",border:"1px solid rgba(255,255,255,0.06)",borderRadius:14,overflow:"hidden"},children:[S.jsxs("div",{style:{padding:"14px 20px",borderBottom:"1px solid rgba(255,255,255,0.06)",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[S.jsx("span",{style:{fontSize:13,fontWeight:700},children:"90-Day Targets"}),S.jsxs("div",{style:{display:"flex",gap:8,alignItems:"center"},children:[Q.length>0&&S.jsxs("button",{onClick:Bi,style:{background:"rgba(250,204,21,0.1)",border:"1px solid rgba(250,204,21,0.25)",borderRadius:6,color:"#facc15",fontSize:11,padding:"4px 10px",cursor:"pointer",display:"flex",alignItems:"center",gap:4},children:[" Undo ",Q.length>1?`(${Q.length})`:""]}),S.jsx("button",{onClick:cs,style:{background:"rgba(96,165,250,0.08)",border:"1px solid rgba(96,165,250,0.2)",borderRadius:6,color:"#60a5fa",fontSize:11,padding:"4px 10px",cursor:"pointer"},children:" Reset Defaults"}),S.jsx("button",{onClick:()=>In(gt,{metric:"New",current:"",target:"",how:""}),style:{background:"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.1)",borderRadius:6,color:"#94a3b8",fontSize:11,padding:"4px 10px",cursor:"pointer"},children:"+ Add Target"})]})]}),S.jsx("div",{style:{overflowX:"auto"},children:S.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[S.jsx("thead",{children:S.jsx("tr",{style:{borderBottom:"1px solid rgba(255,255,255,0.06)"},children:["Metric","Current","Target","How",""].map(D=>S.jsx("th",{style:{padding:"10px 16px",textAlign:"left",fontSize:10,fontWeight:700,letterSpacing:"1px",color:"#64748b",textTransform:"uppercase"},children:D},D))})}),S.jsx("tbody",{children:Et.map((D,Z)=>S.jsxs("tr",{style:{borderBottom:"1px solid rgba(255,255,255,0.03)"},children:[S.jsx("td",{style:{padding:"10px 16px",fontSize:13,fontWeight:600},children:S.jsx(pe,{value:D.metric,onChange:F=>Kn(Z,"metric",F)})}),S.jsx("td",{style:{padding:"10px 16px",fontFamily:"'JetBrains Mono', monospace",fontSize:13,color:"#ef4444"},children:S.jsx(pe,{value:D.current,onChange:F=>Kn(Z,"current",F)})}),S.jsx("td",{style:{padding:"10px 16px",fontFamily:"'JetBrains Mono', monospace",fontSize:13,color:"#4ade80"},children:S.jsx(pe,{value:D.target,onChange:F=>Kn(Z,"target",F)})}),S.jsx("td",{style:{padding:"10px 16px",fontSize:12,color:"#94a3b8"},children:S.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:4},children:[D._autoHow!==!1&&S.jsx("span",{title:"Auto-generated",style:{fontSize:10,opacity:.5,flexShrink:0,marginTop:2},children:""}),S.jsx(pe,{value:D.how,onChange:F=>Kn(Z,"how",F)})]})}),S.jsx("td",{style:{padding:"10px 16px"},children:S.jsx("button",{onClick:()=>us(Z),style:{background:"none",border:"none",color:"#ef444466",cursor:"pointer",fontSize:14,opacity:.4},onMouseEnter:F=>F.target.style.opacity=1,onMouseLeave:F=>F.target.style.opacity=.4,children:""})})]},Z))})]})})]}),S.jsxs("div",{style:{marginTop:20,background:"rgba(96,165,250,0.04)",border:"1px solid rgba(96,165,250,0.12)",borderRadius:14,padding:20},children:[S.jsx("div",{style:{fontSize:13,fontWeight:700,marginBottom:12},children:"Mental Health Integration"}),S.jsx("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:12},children:[{title:"PHQ-9 Trend",text:"18  15  12. Heading right. Target: below 10."},{title:"Exercise as Antidepressant",text:"3x/week heavy training = as effective as adding a second med."},{title:"Vitamin D + Depression",text:"At 16.7, deficiency directly contributes to symptoms. Getting above 40 improves mood."},{title:"Folate + SSRIs",text:"Low folate reduces Sertraline effectiveness. Methylfolate enhances SSRI response."}].map((D,Z)=>S.jsxs("div",{style:{padding:"12px 16px",background:"rgba(0,0,0,0.2)",borderRadius:8},children:[S.jsx("div",{style:{fontSize:11,fontWeight:700,color:"#60a5fa",marginBottom:4},children:D.title}),S.jsx("div",{style:{fontSize:12,color:"#94a3b8",lineHeight:1.5},children:D.text})]},Z))})]})]})]}),S.jsx("div",{style:{textAlign:"center",padding:"20px 24px",borderTop:"1px solid rgba(255,255,255,0.04)",fontSize:11,color:"#334155"},children:"Weekly Performance Plan v3.0  Kinobody Movie Star Integration + VA Medical Data  Feb 2026"})]})}fb.createRoot(document.getElementById("root")).render(S.jsx(oe.StrictMode,{children:S.jsx(U5,{})}));
